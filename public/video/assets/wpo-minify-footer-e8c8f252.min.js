!function(e){"object"==typeof exports&&"undefined"!=typeof module||"function"!=typeof define||!define.amd?e():define("inert",e)}((function(){"use strict";var e,t,n,i,o,r,s=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){d(this,u),this._inertManager=t,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}function h(e,t){d(this,h),this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([t]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}function l(e){if(d(this,l),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),_(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}function c(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var i=e;if(s=(t&&t(i),i.shadowRoot))return void c(s,t,s);if("content"==i.localName){for(var o=(s=i).getDistributedNodes?s.getDistributedNodes():[],r=0;r<o.length;r++)c(o[r],t,n);return}if("slot"==i.localName){for(var s,a=(s=i).assignedNodes?s.assignedNodes({flatten:!0}):[],d=0;d<a.length;d++)c(a[d],t,n);return}}for(var u=e.firstChild;null!=u;)c(u,t,n),u=u.nextSibling}function _(e){var t;e.querySelector("style#inert-style, link#inert-style")||((t=document.createElement("style")).setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t))}"undefined"!=typeof window&&(e=Array.prototype.slice,t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),s(u,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this,n=(c(e,(function(e){return t._visitNode(e)})),document.activeElement);if(!document.body.contains(e)){for(var i=e,o=void 0;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){o=i;break}i=i.parentNode}o&&(n=o.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){e.nodeType===Node.ELEMENT_NODE&&(e!==this._rootElement&&e.hasAttribute("inert")&&this._adoptInertRoot(e),(t.call(e,n)||e.hasAttribute("tabindex"))&&this._manageNode(e))}},{key:"_manageNode",value:function(e){e=this._inertManager.register(e,this),this._managedNodes.add(e)}},{key:"_unmanageNode",value:function(e){(e=this._inertManager.deregister(e,this))&&this._managedNodes.delete(e)}},{key:"_unmanageSubtree",value:function(e){var t=this;c(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(t,n){t.forEach((function(t){var n,i=t.target;"childList"===t.type?(e.call(t.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),e.call(t.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this)):"attributes"===t.type&&("tabindex"===t.attributeName?this._manageNode(i):i!==this._rootElement&&"inert"===t.attributeName&&i.hasAttribute("inert")&&(this._adoptInertRoot(i),n=this._inertManager.getInertRoot(i),this._managedNodes.forEach((function(e){i.contains(e.node)&&n._manageNode(e.node)}))))}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),i=u,s(h,[{key:"destructor",value:function(){var e;this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE&&(e=this._node,null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus),this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){var e;this.node.nodeType===Node.ELEMENT_NODE&&(e=this.node,t.call(e,n)?-1===e.tabIndex&&this.hasSavedTabIndex||(e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)):e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex")))}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),o=h,s(l,[{key:"setInert",value:function(e,t){if(t){if(!this._inertRoots.has(e)&&(t=new i(e,this),e.setAttribute("inert",""),this._inertRoots.set(e,t),!this._document.body.contains(e)))for(var n=e.parentNode;n;)11===n.nodeType&&_(n),n=n.parentNode}else this._inertRoots.has(e)&&(this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert"))}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new o(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){e.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(n,i){var o=this;n.forEach((function(n){switch(n.type){case"childList":e.call(n.addedNodes).forEach((function(n){var i;n.nodeType===Node.ELEMENT_NODE&&(i=e.call(n.querySelectorAll("[inert]")),t.call(n,"[inert]")&&i.unshift(n),i.forEach((function(e){this.setInert(e,!0)}),o))}),o);break;case"attributes":if("inert"!==n.attributeName)return;var i=n.target,r=i.hasAttribute("inert");o.setInert(i,r)}}),this)}}]),s=l,HTMLElement.prototype.hasOwnProperty("inert")||(r=new s(document),Object.defineProperty(HTMLElement.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){r.setInert(this,e)}})))}));
var runtime=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,r,e){t[r]=e.value},i=(w="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=w.asyncIterator||"@@asyncIterator",c=w.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(e){u=function(t,r,e){return t[r]=e}}function h(t,e,n,i){var a,c,u,h;e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),i=new O(i||[]);return o(e,"_invoke",{value:(a=t,c=n,u=i,h=f,function(t,e){if(h===p)throw new Error("Generator is already running");if(h===y){if("throw"===t)throw e;return G()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n&&(n=function t(e,n){var o=n.method,i=e.iterator[o];return i===r?(n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=r,t(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g):"throw"===(o=l(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=o.arg,n.delegate=null,g):(i=o.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,u),n)){if(n===g)continue;return n}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(h===f)throw h=y,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);if(h=p,"normal"===(n=l(a,c,u)).type){if(h=u.done?y:s,n.arg!==g)return{value:n.arg,done:u.done}}else"throw"===n.type&&(h=y,u.method="throw",u.arg=n.arg)}})}),e}function l(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var f="suspendedStart",s="suspendedYield",p="executing",y="completed",g={};function v(){}function d(){}function m(){}var w,b,L=((b=(b=(u(w={},i,(function(){return this})),Object.getPrototypeOf))&&b(b(k([]))))&&b!==e&&n.call(b,i)&&(w=b),m.prototype=v.prototype=Object.create(w));function x(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function E(t,r){var e;o(this,"_invoke",{value:function(o,i){function a(){return new r((function(e,a){!function e(o,i,a,c){var u;if("throw"!==(o=l(t[o],t,i)).type)return(i=(u=o.arg).value)&&"object"==typeof i&&n.call(i,"__await")?r.resolve(i.__await).then((function(t){e("next",t,a,c)}),(function(t){e("throw",t,a,c)})):r.resolve(i).then((function(t){u.value=t,a(u)}),(function(t){return e("throw",t,a,c)}));c(o.arg)}(o,i,e,a)}))}return e=e?e.then(a,a):a()}})}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function _(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e,o=t[i];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(o=function o(){for(;++e<t.length;)if(n.call(t,e))return o.value=t[e],o.done=!1,o;return o.value=r,o.done=!0,o}).next=o}return{next:G}}function G(){return{value:r,done:!0}}return o(L,"constructor",{value:d.prototype=m,configurable:!0}),o(m,"constructor",{value:d,configurable:!0}),d.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(L),t},t.awrap=function(t){return{__await:t}},x(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new E(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(L),u(L,c,"Generator"),u(L,i,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var r,e=Object(t),n=[];for(r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var a=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc?null:i)?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),_(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;0<=r;--r){var e,n,o=this.tryEntries[r];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(n=e.arg,_(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)};
!function(t){"use strict";var r,n,e;n={},(e=function(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return r[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}).m=r=[function(t,r,n){n(1),n(67),n(68),t.exports=n(72)},function(r,n,e){var o=e(2),i=e(36),u=e(57),c=e(56);e=e(62);o({target:"Array",proto:!0},{at:function(r){var n=i(this),e=u(n);return(r=0<=(r=c(r))?r:e+r)<0||e<=r?t:n[r]}}),e("at")},function(r,n,e){var o=e(3),i=e(4).f,u=e(40),c=e(43),f=e(34),a=e(50),p=e(61);r.exports=function(r,n){var e,s,y,l=r.target,v=r.global,b=r.stat,g=v?o:b?o[l]||f(l,{}):(o[l]||{}).prototype;if(g)for(e in n){if(s=n[e],y=r.noTargetGet?(y=i(g,e))&&y.value:g[e],!p(v?e:l+(b?".":"#")+e,r.forced)&&y!==t){if(typeof s==typeof y)continue;a(s,y)}(r.sham||y&&y.sham)&&u(s,"sham",!0),c(g,e,s,r)}}},function(t,r){function n(t){return t&&t.Math==Math&&t}t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(t,r,n){var e=n(5),o=n(7),i=n(8),u=n(9),c=n(10),f=n(15),a=n(35),p=n(38),s=Object.getOwnPropertyDescriptor;r.f=e?s:function(t,r){if(t=c(t),r=f(r),p)try{return s(t,r)}catch(t){}if(a(t,r))return u(!o(i.f,t,r),t[r])}},function(t,r,n){n=n(6),t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,r){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,r){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,r,n){var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!e.call({1:2},1);r.f=i?function(t){return!!(t=o(this,t))&&t.enumerable}:e},function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(t,r,n){var e=n(11),o=n(14);t.exports=function(t){return e(o(t))}},function(t,r,n){var e=n(3),o=n(12),i=n(6),u=n(13),c=e.Object,f=o("".split);t.exports=i((function(){return!c("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?f(t,""):c(t)}:c},function(t,r){var n=Function.prototype,e=n.bind,o=n.call,i=e&&e.bind(o);t.exports=e?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,r,n){var e=(n=n(12))({}.toString),o=n("".slice);t.exports=function(t){return o(e(t),8,-1)}},function(r,n,e){var o=e(3).TypeError;r.exports=function(r){if(r==t)throw o("Can't call method on "+r);return r}},function(t,r,n){var e=n(16),o=n(19);t.exports=function(t){return t=e(t,"string"),o(t)?t:t+""}},function(r,n,e){var o=e(3),i=e(7),u=e(17),c=e(19),f=e(26),a=e(29),p=(e=e(30),o.TypeError),s=e("toPrimitive");r.exports=function(r,n){if(!u(r)||c(r))return r;var e=f(r,s);if(e){if(e=i(e,r,n=n===t?"default":n),!u(e)||c(e))return e;throw p("Can't convert object to primitive value")}return a(r,n=n===t?"number":n)}},function(t,r,n){var e=n(18);t.exports=function(t){return"object"==typeof t?null!==t:e(t)}},function(t,r){t.exports=function(t){return"function"==typeof t}},function(t,r,n){var e=n(3),o=n(20),i=n(18),u=n(21),c=(n=n(22),e.Object);t.exports=n?function(t){return"symbol"==typeof t}:function(t){var r=o("Symbol");return i(r)&&u(r.prototype,c(t))}},function(r,n,e){var o=e(3),i=e(18);r.exports=function(r,n){return arguments.length<2?(e=o[r],i(e)?e:t):o[r]&&o[r][n];var e}},function(t,r,n){n=n(12),t.exports=n({}.isPrototypeOf)},function(t,r,n){n=n(23),t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,r,n){var e=n(24);n=n(6);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))},function(t,r,n){var e,o,i=n(3),u=n(25);n=i.process,i=i.Deno;!(o=(i=(i=n&&n.versions||i&&i.version)&&i.v8)?0<(e=i.split("."))[0]&&e[0]<4?1:+(e[0]+e[1]):o)&&u&&(!(e=u.match(/Edge\/(\d+)/))||74<=e[1])&&(e=u.match(/Chrome\/(\d+)/))&&(o=+e[1]),t.exports=o},function(t,r,n){n=n(20),t.exports=n("navigator","userAgent")||""},function(r,n,e){var o=e(27);r.exports=function(r,n){return null==(n=r[n])?t:o(n)}},function(t,r,n){var e=n(3),o=n(18),i=n(28),u=e.TypeError;t.exports=function(t){if(o(t))return t;throw u(i(t)+" is not a function")}},function(t,r,n){var e=n(3).String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},function(t,r,n){var e=n(3),o=n(7),i=n(18),u=n(17),c=e.TypeError;t.exports=function(t,r){var n,e;if("string"===r&&i(n=t.toString)&&!u(e=o(n,t)))return e;if(i(n=t.valueOf)&&!u(e=o(n,t)))return e;if("string"!==r&&i(n=t.toString)&&!u(e=o(n,t)))return e;throw c("Can't convert object to primitive value")}},function(t,r,n){var e=n(3),o=n(31),i=n(35),u=n(37),c=n(23),f=n(22),a=o("wks"),p=e.Symbol,s=p&&p.for,y=f?p:p&&p.withoutSetter||u;t.exports=function(t){var r;return i(a,t)&&(c||"string"==typeof a[t])||(r="Symbol."+t,c&&i(p,t)?a[t]=p[t]:a[t]=(f&&s?s:y)(r)),a[t]}},function(r,n,e){var o=e(32),i=e(33);(r.exports=function(r,n){return i[r]||(i[r]=n!==t?n:{})})("versions",[]).push({version:"3.19.1",mode:o?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,r){t.exports=!1},function(t,r,n){var e=n(3),o=n(34);n=e[n="__core-js_shared__"]||o(n,{});t.exports=n},function(t,r,n){var e=n(3),o=Object.defineProperty;t.exports=function(t,r){try{o(e,t,{value:r,configurable:!0,writable:!0})}catch(n){e[t]=r}return r}},function(t,r,n){var e=n(12),o=n(36),i=e({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,r){return i(o(t),r)}},function(t,r,n){var e=n(3),o=n(14),i=e.Object;t.exports=function(t){return i(o(t))}},function(r,n,e){e=e(12);var o=0,i=Math.random(),u=e(1..toString);r.exports=function(r){return"Symbol("+(r===t?"":r)+")_"+u(++o+i,36)}},function(t,r,n){var e=n(5),o=n(6),i=n(39);t.exports=!e&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,r,n){var e=n(3),o=(n=n(17),e.document),i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,r,n){var e=n(5),o=n(41),i=n(9);t.exports=e?function(t,r,n){return o.f(t,r,i(1,n))}:function(t,r,n){return t[r]=n,t}},function(t,r,n){var e=n(3),o=n(5),i=n(38),u=n(42),c=n(15),f=e.TypeError,a=Object.defineProperty;r.f=o?a:function(t,r,n){if(u(t),r=c(r),u(n),i)try{return a(t,r,n)}catch(t){}if("get"in n||"set"in n)throw f("Accessors not supported");return"value"in n&&(t[r]=n.value),t}},function(t,r,n){var e=n(3),o=n(17),i=e.String,u=e.TypeError;t.exports=function(t){if(o(t))return t;throw u(i(t)+" is not an object")}},function(r,n,e){var o=e(3),i=e(18),u=e(35),c=e(40),f=e(34),a=e(44),p=e(45),s=e(49).CONFIGURABLE,y=p.get,l=p.enforce,v=String(String).split("String");(r.exports=function(r,n,e,a){var p=!!a&&!!a.unsafe,y=!!a&&!!a.enumerable,b=!!a&&!!a.noTargetGet,g=a&&a.name!==t?a.name:n;i(e)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(e,"name")||s&&e.name!==g)&&c(e,"name",g),(a=l(e)).source||(a.source=v.join("string"==typeof g?g:""))),r!==o?(p?!b&&r[n]&&(y=!0):delete r[n],y?r[n]=e:c(r,n,e)):y?r[n]=e:f(n,e)})(Function.prototype,"toString",(function(){return i(this)&&y(this).source||a(this)}))},function(t,r,n){var e=n(12),o=n(18),i=(n=n(33),e(Function.toString));o(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),t.exports=n.inspectSource},function(t,r,n){var e,o,i,u,c,f,a,p,s=n(46),y=n(3),l=n(12),v=n(17),b=n(40),g=n(35),d=n(33),h=n(47),x=(n=n(48),"Object already initialized"),m=y.TypeError;y=y.WeakMap;a=s||d.state?(e=d.state||(d.state=new y),o=l(e.get),i=l(e.has),u=l(e.set),c=function(t,r){if(i(e,t))throw new m(x);return r.facade=t,u(e,t,r),r},f=function(t){return o(e,t)||{}},function(t){return i(e,t)}):(n[p=h("state")]=!0,c=function(t,r){if(g(t,p))throw new m(x);return r.facade=t,b(t,p,r),r},f=function(t){return g(t,p)?t[p]:{}},function(t){return g(t,p)}),t.exports={set:c,get:f,has:a,enforce:function(t){return a(t)?f(t):c(t,{})},getterFor:function(t){return function(r){var n;if(!v(r)||(n=f(r)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},function(t,r,n){var e=n(3),o=n(18);n=n(44),e=e.WeakMap;t.exports=o(e)&&/native code/.test(n(e))},function(t,r,n){var e=n(31),o=n(37),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,r){t.exports={}},function(t,r,n){var e=n(5),o=n(35),i=Function.prototype,u=e&&Object.getOwnPropertyDescriptor;o=(n=o(i,"name"))&&"something"===function(){}.name,i=n&&(!e||e&&u(i,"name").configurable);t.exports={EXISTS:n,PROPER:o,CONFIGURABLE:i}},function(t,r,n){var e=n(35),o=n(51),i=n(4),u=n(41);t.exports=function(t,r){for(var n=o(r),c=u.f,f=i.f,a=0;a<n.length;a++){var p=n[a];e(t,p)||c(t,p,f(r,p))}}},function(t,r,n){var e=n(20),o=n(12),i=n(52),u=n(60),c=n(42),f=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var r=i.f(c(t)),n=u.f;return n?f(r,n(t)):r}},function(t,r,n){var e=n(53),o=n(59).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,r,n){var e=n(12),o=n(35),i=n(10),u=n(54).indexOf,c=n(48),f=e([].push);t.exports=function(t,r){var n,e=i(t),a=0,p=[];for(n in e)!o(c,n)&&o(e,n)&&f(p,n);for(;r.length>a;)o(e,n=r[a++])&&(~u(p,n)||f(p,n));return p}},function(t,r,n){var e=n(10),o=n(55),i=n(57);n=function(t){return function(r,n,u){var c,f=e(r),a=i(f),p=o(u,a);if(t&&n!=n){for(;p<a;)if((c=f[p++])!=c)return!0}else for(;p<a;p++)if((t||p in f)&&f[p]===n)return t||p||0;return!t&&-1}};t.exports={includes:n(!0),indexOf:n(!1)}},function(t,r,n){var e=n(56),o=Math.max,i=Math.min;t.exports=function(t,r){return(t=e(t))<0?o(t+r,0):i(t,r)}},function(t,r){var n=Math.ceil,e=Math.floor;t.exports=function(t){return(t=+t)!=t||0==t?0:(0<t?e:n)(t)}},function(t,r,n){var e=n(58);t.exports=function(t){return e(t.length)}},function(t,r,n){var e=n(56),o=Math.min;t.exports=function(t){return 0<t?o(e(t),9007199254740991):0}},function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,n){var e=n(6),o=n(18),i=/#|\.prototype\./,u=(n=function(t,r){return(t=c[u(t)])==a||t!=f&&(o(r)?e(r):!!r)},n.normalize=function(t){return String(t).replace(i,".").toLowerCase()}),c=n.data={},f=n.NATIVE="N",a=n.POLYFILL="P";t.exports=n},function(r,n,e){var o=e(30),i=e(63),u=(e=e(41),o("unscopables")),c=Array.prototype;c[u]==t&&e.f(c,u,{configurable:!0,value:i(null)}),r.exports=function(t){c[u][t]=!0}},function(r,n,e){function o(){}function i(t){return"<script>"+t+"</"+v+">"}var u,c=e(42),f=e(64),a=e(59),p=e(48),s=e(66),y=e(39),l=(e=e(47),"prototype"),v="script",b=e("IE_PROTO"),g=function(){try{u=new ActiveXObject("htmlfile")}catch(t){}var t;g="undefined"==typeof document||document.domain&&u?function(t){t.write(i("")),t.close();var r=t.parentWindow.Object;return t=null,r}(u):((t=y("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete g[l][a[r]];return g()};p[b]=!0,r.exports=Object.create||function(r,n){var e;return null!==r?(o[l]=c(r),e=new o,o[l]=null,e[b]=r):e=g(),n===t?e:f(e,n)}},function(t,r,n){var e=n(5),o=n(41),i=n(42),u=n(10),c=n(65);t.exports=e?Object.defineProperties:function(t,r){i(t);for(var n,e=u(r),f=c(r),a=f.length,p=0;p<a;)o.f(t,n=f[p++],e[n]);return t}},function(t,r,n){var e=n(53),o=n(59);t.exports=Object.keys||function(t){return e(t,o)}},function(t,r,n){n=n(20),t.exports=n("document","documentElement")},function(t,r,n){n(2)({target:"Object",stat:!0},{hasOwn:n(35)})},function(r,n,e){var o=e(2),i=e(12),u=e(14),c=e(56),f=e(69),a=(e=e(6),i("".charAt));o({target:"String",proto:!0,forced:e((function(){return"\ud842"!=="𠮷".at(0)}))},{at:function(r){var n=f(u(this)),e=n.length;return(r=0<=(r=c(r))?r:e+r)<0||e<=r?t:a(n,r)}})},function(t,r,n){var e=n(3),o=n(70),i=e.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(r,n,e){var o=e(3),i=e(71),u=e(18),c=e(13),f=e(30)("toStringTag"),a=o.Object,p="Arguments"==c(function(){return arguments}());r.exports=i?c:function(r){var n;return r===t?"Undefined":null===r?"Null":"string"==typeof(r=function(t,r){try{return t[r]}catch(t){}}(n=a(r),f))?r:p?c(n):"Object"==(r=c(n))&&u(n.callee)?"Arguments":r}},function(t,r,n){var e={};e[n(30)("toStringTag")]="z",t.exports="[object z]"===String(e)},function(r,n,e){var o=e(73),i=e(57),u=e(56),c=o.aTypedArray;(0,o.exportTypedArrayMethod)("at",(function(r){var n=c(this),e=i(n);return(r=0<=(r=u(r))?r:e+r)<0||e<=r?t:n[r]}))},function(r,n,e){function o(t){return!!y(t)&&(t=v(t),l(C,t)||l(F,t))}var i,u,c,f=e(74),a=e(5),p=e(3),s=e(18),y=e(17),l=e(35),v=e(70),b=e(28),g=e(40),d=e(43),h=e(41).f,x=e(21),m=e(75),O=e(77),S=e(30),j=e(37),w=(P=p.Int8Array)&&P.prototype,A=(e=(e=p.Uint8ClampedArray)&&e.prototype,P&&m(P)),T=w&&m(w),P=Object.prototype,_=p.TypeError,E=(S=S("toStringTag"),j("TYPED_ARRAY_TAG")),R=j("TYPED_ARRAY_CONSTRUCTOR"),I=f&&!!O&&"Opera"!==v(p.opera),C=(f=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),F={BigInt64Array:8,BigUint64Array:8};for(i in C)(c=(u=p[i])&&u.prototype)?g(c,R,u):I=!1;for(i in F)(c=(u=p[i])&&u.prototype)&&g(c,R,u);if((!I||!s(A)||A===Function.prototype)&&(A=function(){throw _("Incorrect invocation")},I))for(i in C)p[i]&&O(p[i],A);if((!I||!T||T===P)&&(T=A.prototype,I))for(i in C)p[i]&&O(p[i].prototype,T);if(I&&m(e)!==T&&O(e,T),a&&!l(T,S))for(i in f=!0,h(T,S,{get:function(){return y(this)?this[E]:t}}),C)p[i]&&g(p[i],E,i);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:f&&E,aTypedArray:function(t){if(o(t))return t;throw _("Target is not a typed array")},aTypedArrayConstructor:function(t){if(s(t)&&(!O||x(A,t)))return t;throw _(b(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,r,n){if(a){if(n)for(var e in C)if((e=p[e])&&l(e.prototype,t))try{delete e.prototype[t]}catch(t){}T[t]&&!n||d(T,t,!n&&I&&w[t]||r)}},exportTypedArrayStaticMethod:function(t,r,n){var e,o;if(a){if(O){if(n)for(e in C)if((o=p[e])&&l(o,t))try{delete o[t]}catch(t){}if(A[t]&&!n)return;try{return d(A,t,!n&&I&&A[t]||r)}catch(t){}}for(e in C)!(o=p[e])||o[t]&&!n||d(o,t,r)}},isView:function(t){return!!y(t)&&("DataView"===(t=v(t))||l(C,t)||l(F,t))},isTypedArray:o,TypedArray:A,TypedArrayPrototype:T}},function(t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,r,n){var e=n(3),o=n(35),i=n(18),u=n(36),c=n(47),f=(n=n(76),c("IE_PROTO")),a=e.Object,p=a.prototype;t.exports=n?a.getPrototypeOf:function(t){var r=u(t);return o(r,f)?r[f]:(t=r.constructor,i(t)&&r instanceof t?t.prototype:r instanceof a?p:null)}},function(t,r,n){n=n(6),t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(r,n,e){var o=e(12),i=e(42),u=e(78);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,n={};try{(t=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),r=n instanceof Array}catch(n){}return function(n,e){return i(n),u(e),r?t(n,e):n.__proto__=e,n}}():t)},function(t,r,n){var e=n(3),o=n(18),i=e.String,u=e.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw u("Can't set "+i(t)+" as a prototype")}}],e.c=n,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}();
/*! This file is auto-generated */
!function(){"use strict";var n={d:function(t,r){for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};n.r(t),n.d(t,{actions:function(){return S},addAction:function(){return m},addFilter:function(){return p},applyFilters:function(){return k},createHooks:function(){return f},currentAction:function(){return w},currentFilter:function(){return I},defaultHooks:function(){return h},didAction:function(){return O},didFilter:function(){return j},doAction:function(){return b},doingAction:function(){return x},doingFilter:function(){return T},filters:function(){return z},hasAction:function(){return _},hasFilter:function(){return y},removeAction:function(){return A},removeAllActions:function(){return F},removeAllFilters:function(){return g},removeFilter:function(){return v}});var r=function(n){return"string"!=typeof n||""===n?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(n)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};var e=function(n){return"string"!=typeof n||""===n?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(n)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(n)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};var o=function(n,t){return function(o,i,c,s=10){const u=n[t];if(!e(o))return;if(!r(i))return;if("function"!=typeof c)return void console.error("The hook callback must be a function.");if("number"!=typeof s)return void console.error("If specified, the hook priority must be a number.");const l={callback:c,priority:s,namespace:i};if(u[o]){const n=u[o].handlers;let t;for(t=n.length;t>0&&!(s>=n[t-1].priority);t--);t===n.length?n[t]=l:n.splice(t,0,l),u.__current.forEach((n=>{n.name===o&&n.currentIndex>=t&&n.currentIndex++}))}else u[o]={handlers:[l],runs:0};"hookAdded"!==o&&n.doAction("hookAdded",o,i,c,s)}};var i=function(n,t,o=!1){return function(i,c){const s=n[t];if(!e(i))return;if(!o&&!r(c))return;if(!s[i])return 0;let u=0;if(o)u=s[i].handlers.length,s[i]={runs:s[i].runs,handlers:[]};else{const n=s[i].handlers;for(let t=n.length-1;t>=0;t--)n[t].namespace===c&&(n.splice(t,1),u++,s.__current.forEach((n=>{n.name===i&&n.currentIndex>=t&&n.currentIndex--})))}return"hookRemoved"!==i&&n.doAction("hookRemoved",i,c),u}};var c=function(n,t){return function(r,e){const o=n[t];return void 0!==e?r in o&&o[r].handlers.some((n=>n.namespace===e)):r in o}};var s=function(n,t,r=!1){return function(e,...o){const i=n[t];i[e]||(i[e]={handlers:[],runs:0}),i[e].runs++;const c=i[e].handlers;if(!c||!c.length)return r?o[0]:void 0;const s={name:e,currentIndex:0};for(i.__current.push(s);s.currentIndex<c.length;){const n=c[s.currentIndex].callback.apply(null,o);r&&(o[0]=n),s.currentIndex++}return i.__current.pop(),r?o[0]:void 0}};var u=function(n,t){return function(){var r;const e=n[t];return null!==(r=e.__current[e.__current.length-1]?.name)&&void 0!==r?r:null}};var l=function(n,t){return function(r){const e=n[t];return void 0===r?void 0!==e.__current[0]:!!e.__current[0]&&r===e.__current[0].name}};var a=function(n,t){return function(r){const o=n[t];if(e(r))return o[r]&&o[r].runs?o[r].runs:0}};class d{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=o(this,"actions"),this.addFilter=o(this,"filters"),this.removeAction=i(this,"actions"),this.removeFilter=i(this,"filters"),this.hasAction=c(this,"actions"),this.hasFilter=c(this,"filters"),this.removeAllActions=i(this,"actions",!0),this.removeAllFilters=i(this,"filters",!0),this.doAction=s(this,"actions"),this.applyFilters=s(this,"filters",!0),this.currentAction=u(this,"actions"),this.currentFilter=u(this,"filters"),this.doingAction=l(this,"actions"),this.doingFilter=l(this,"filters"),this.didAction=a(this,"actions"),this.didFilter=a(this,"filters")}}var f=function(){return new d};const h=f(),{addAction:m,addFilter:p,removeAction:A,removeFilter:v,hasAction:_,hasFilter:y,removeAllActions:F,removeAllFilters:g,doAction:b,applyFilters:k,currentAction:w,currentFilter:I,doingAction:x,doingFilter:T,didAction:O,didFilter:j,actions:S,filters:z}=h;(window.wp=window.wp||{}).hooks=t}();
/*! This file is auto-generated */
!function(f,w){w.wp=w.wp||{},w.wp.heartbeat=new function(){var e,t,n,a,i=f(document),r={suspend:!1,suspendEnabled:!0,screenId:"",url:"",lastTick:0,queue:{},mainInterval:60,tempInterval:0,originalInterval:0,minimalInterval:0,countdown:0,connecting:!1,connectionError:!1,errorcount:0,hasConnected:!1,hasFocus:!0,userActivity:0,userActivityEvents:!1,checkFocusTimer:0,beatTimer:0};function o(){return(new Date).getTime()}function c(e){var t,n=e.src;if(!n||!/^https?:\/\//.test(n)||(t=w.location.origin||w.location.protocol+"//"+w.location.host,0===n.indexOf(t)))try{if(e.contentWindow.document)return 1}catch(e){}}function s(){r.hasFocus&&!document.hasFocus()?d():!r.hasFocus&&document.hasFocus()&&v()}function u(e,t){var n;if(e){switch(e){case"abort":break;case"timeout":n=!0;break;case"error":if(503===t&&r.hasConnected){n=!0;break}case"parsererror":case"empty":case"unknown":r.errorcount++,2<r.errorcount&&r.hasConnected&&(n=!0)}n&&!b()&&(r.connectionError=!0,i.trigger("heartbeat-connection-lost",[e,t]),wp.hooks.doAction("heartbeat.connection-lost",e,t))}}function l(){var e;r.connecting||r.suspend||(r.lastTick=o(),e=f.extend({},r.queue),r.queue={},i.trigger("heartbeat-send",[e]),wp.hooks.doAction("heartbeat.send",e),e={data:e,interval:r.tempInterval?r.tempInterval/1e3:r.mainInterval/1e3,_nonce:"object"==typeof w.heartbeatSettings?w.heartbeatSettings.nonce:"",action:"heartbeat",screen_id:r.screenId,has_focus:r.hasFocus},"customize"===r.screenId&&(e.wp_customize="on"),r.connecting=!0,r.xhr=f.ajax({url:r.url,type:"post",timeout:3e4,data:e,dataType:"json"}).always(function(){r.connecting=!1,m()}).done(function(e,t,n){var a;e?(r.hasConnected=!0,b()&&(r.errorcount=0,r.connectionError=!1,i.trigger("heartbeat-connection-restored"),wp.hooks.doAction("heartbeat.connection-restored")),e.nonces_expired&&(i.trigger("heartbeat-nonces-expired"),wp.hooks.doAction("heartbeat.nonces-expired")),e.heartbeat_interval&&(a=e.heartbeat_interval,delete e.heartbeat_interval),e.heartbeat_nonce&&"object"==typeof w.heartbeatSettings&&(w.heartbeatSettings.nonce=e.heartbeat_nonce,delete e.heartbeat_nonce),e.rest_nonce&&"object"==typeof w.wpApiSettings&&(w.wpApiSettings.nonce=e.rest_nonce),i.trigger("heartbeat-tick",[e,t,n]),wp.hooks.doAction("heartbeat.tick",e,t,n),a&&I(a)):u("empty")}).fail(function(e,t,n){u(t||"unknown",e.status),i.trigger("heartbeat-error",[e,t,n]),wp.hooks.doAction("heartbeat.error",e,t,n)}))}function m(){var e=o()-r.lastTick,t=r.mainInterval;r.suspend||(r.hasFocus?0<r.countdown&&r.tempInterval&&(t=r.tempInterval,r.countdown--,r.countdown<1)&&(r.tempInterval=0):t=12e4,r.minimalInterval&&t<r.minimalInterval&&(t=r.minimalInterval),w.clearTimeout(r.beatTimer),e<t?r.beatTimer=w.setTimeout(function(){l()},t-e):l())}function d(){r.hasFocus=!1}function v(){r.userActivity=o(),r.suspend=!1,r.hasFocus||(r.hasFocus=!0,m())}function h(){r.userActivityEvents=!1,i.off(".wp-heartbeat-active"),f("iframe").each(function(e,t){c(t)&&f(t.contentWindow).off(".wp-heartbeat-active")}),v()}function p(){var e=r.userActivity?o()-r.userActivity:0;3e5<e&&r.hasFocus&&d(),(r.suspendEnabled&&6e5<e||36e5<e)&&(r.suspend=!0),r.userActivityEvents||(i.on("mouseover.wp-heartbeat-active keyup.wp-heartbeat-active touchend.wp-heartbeat-active",function(){h()}),f("iframe").each(function(e,t){c(t)&&f(t.contentWindow).on("mouseover.wp-heartbeat-active keyup.wp-heartbeat-active touchend.wp-heartbeat-active",function(){h()})}),r.userActivityEvents=!0)}function b(){return r.connectionError}function I(e,t){var n,a=r.tempInterval||r.mainInterval;if(e){switch(e){case"fast":case 5:n=5e3;break;case 15:n=15e3;break;case 30:n=3e4;break;case 60:n=6e4;break;case 120:n=12e4;break;case"long-polling":return r.mainInterval=0;default:n=r.originalInterval}5e3===(n=r.minimalInterval&&n<r.minimalInterval?r.minimalInterval:n)?(t=parseInt(t,10)||30,r.countdown=t=t<1||30<t?30:t,r.tempInterval=n):(r.countdown=0,r.tempInterval=0,r.mainInterval=n),n!==a&&m()}return r.tempInterval?r.tempInterval/1e3:r.mainInterval/1e3}return"string"==typeof w.pagenow&&(r.screenId=w.pagenow),"string"==typeof w.ajaxurl&&(r.url=w.ajaxurl),"object"==typeof w.heartbeatSettings&&(e=w.heartbeatSettings,!r.url&&e.ajaxurl&&(r.url=e.ajaxurl),e.interval&&(r.mainInterval=e.interval,r.mainInterval<15?r.mainInterval=15:120<r.mainInterval&&(r.mainInterval=120)),e.minimalInterval&&(e.minimalInterval=parseInt(e.minimalInterval,10),r.minimalInterval=0<e.minimalInterval&&e.minimalInterval<=600?e.minimalInterval:0),r.minimalInterval&&r.mainInterval<r.minimalInterval&&(r.mainInterval=r.minimalInterval),r.screenId||(r.screenId=e.screenId||"front"),"disable"===e.suspension)&&(r.suspendEnabled=!1),r.mainInterval=1e3*r.mainInterval,r.originalInterval=r.mainInterval,r.minimalInterval&&(r.minimalInterval=1e3*r.minimalInterval),void 0!==document.hidden?(t="hidden",a="visibilitychange",n="visibilityState"):void 0!==document.msHidden?(t="msHidden",a="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(t="webkitHidden",a="webkitvisibilitychange",n="webkitVisibilityState"),t&&(document[t]&&(r.hasFocus=!1),i.on(a+".wp-heartbeat",function(){"hidden"===document[n]?(d(),w.clearInterval(r.checkFocusTimer)):(v(),document.hasFocus&&(r.checkFocusTimer=w.setInterval(s,1e4)))})),document.hasFocus&&(r.checkFocusTimer=w.setInterval(s,1e4)),f(w).on("unload.wp-heartbeat",function(){r.suspend=!0,r.xhr&&4!==r.xhr.readyState&&r.xhr.abort()}),w.setInterval(p,3e4),f(function(){r.lastTick=o(),m()}),{hasFocus:function(){return r.hasFocus},connectNow:function(){r.lastTick=0,m()},disableSuspend:function(){r.suspendEnabled=!1},interval:I,hasConnectionError:b,enqueue:function(e,t,n){return!!e&&!(n&&this.isQueued(e)||(r.queue[e]=t,0))},dequeue:function(e){e&&delete r.queue[e]},isQueued:function(e){if(e)return r.queue.hasOwnProperty(e)},getQueuedItem:function(e){return e&&this.isQueued(e)?r.queue[e]:void 0}}}}(jQuery,window);
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});
(function($){var selectors=[];var checkBound=!1;var checkLock=!1;var extraOffsetTop=0;var extraOffsetLeft=0;var optionsAttribute='scrolling-options';var defaults={interval:250,checkScrolling:!1,offsetTop:0,offsetLeft:0,offsetTopAttribute:'offset-top',offsetLeftAttribute:'offset-left',window:null}
var $window;var $wasInView;$.fn._init=$.fn.init
$.fn.init=function(selector,context,root){return(typeof selector==='string')?new $.fn._init(selector,context,root).data('selector',selector):new $.fn._init(selector,context,root)};$.fn.getSelector=function(){return $(this).data('selector')};function process(){checkLock=!1;for(var index in selectors){var $inView=$(selectors.join(", ")).filter(function(){return $(this).is(':scrollin')})}
$inView.trigger('scrollin',[$inView]);if($wasInView){var $notInView=$wasInView.not($inView);$notInView.trigger('scrollout',[$notInView])}
$wasInView=$inView}
$.expr[':'].scrollin=function(element){var $element=$(element);if(!$element){return!1}
var opts=$element.data(optionsAttribute);if(typeof opts==='undefined'){return!1}
var windowTop=$window.scrollTop();var windowLeft=$window.scrollLeft();var offset=$element.offset();var top=offset.top+extraOffsetTop;var left=offset.left+extraOffsetLeft;if(top+$element.height()>=windowTop&&top-($element.data(opts.offsetTopAttribute)||opts.offsetTop)<=windowTop+$window.height()&&left+$element.width()>=windowLeft&&left-($element.data(opts.offsetLeftAttribute)||opts.offsetLeft)<=windowLeft+$window.width()){return!0}else{return!1}}
$.fn.extend({scrolling:function(options){var opts=$.extend({},defaults,options||{});var selector=this.getSelector();if(!selector){return}
if(!checkBound){checkBound=!0;var onCheck=function(){if(checkLock){return}
checkLock=!0;setTimeout(process,opts.interval)};$window=$(opts.window||window);if($window.get(0)!=top){var $b=$($window.get(0).document.body);if($b){extraOffsetTop=$b.scrollTop();extraOffsetLeft=$b.scrollLeft()}}
$window.scroll(onCheck).resize(onCheck)}
var $el=$(selector);$el.data(optionsAttribute,opts);if(opts.checkScrolling){setTimeout(process,opts.interval)}
selectors.push(selector);return $el}});$.extend({checkScrolling:function(){if(checkBound){process();return!0};return!1}})})(jQuery);
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.autosize=n.exports}}(this,function(e,t){"use strict";var n,o,p="function"==typeof Map?new Map:(n=[],o=[],{has:function(e){return-1<n.indexOf(e)},get:function(e){return o[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),o.push(t))},delete:function(e){var t=n.indexOf(e);-1<t&&(n.splice(t,1),o.splice(t,1))}}),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(r){if(r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!p.has(r)){var e,n=null,o=null,i=null,d=function(){r.clientWidth!==o&&a()},l=function(t){window.removeEventListener("resize",d,!1),r.removeEventListener("input",a,!1),r.removeEventListener("keyup",a,!1),r.removeEventListener("autosize:destroy",l,!1),r.removeEventListener("autosize:update",a,!1),Object.keys(t).forEach(function(e){r.style[e]=t[e]}),p.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",l,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",a,!1),window.addEventListener("resize",d,!1),r.addEventListener("input",a,!1),r.addEventListener("autosize:update",a,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",p.set(r,{destroy:l,update:a}),"vertical"===(e=window.getComputedStyle(r,null)).resize?r.style.resize="none":"both"===e.resize&&(r.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),a()}function s(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e}function u(){if(0!==r.scrollHeight){var e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(r),t=document.documentElement&&document.documentElement.scrollTop;r.style.height="",r.style.height=r.scrollHeight+n+"px",o=r.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function a(){u();var e=Math.round(parseFloat(r.style.height)),t=window.getComputedStyle(r,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):r.offsetHeight;if(n<e?"hidden"===t.overflowY&&(s("scroll"),u(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):"hidden"!==t.overflowY&&(s("hidden"),u(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),i!==n){i=n;var o=c("autosize:resized");try{r.dispatchEvent(o)}catch(e){}}}}function i(e){var t=p.get(e);t&&t.destroy()}function d(e){var t=p.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return r(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],d),e}),t.default=l,e.exports=t.default});
/*!
  * Bootstrap v5.0.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,(function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o,r,s=function(t){do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},a=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e},l=function(t){var e=a(t);return e&&document.querySelector(e)?e:null},c=function(t){var e=a(t);return e?document.querySelector(e):null},u=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,i=e.transitionDelay,o=Number.parseFloat(n),r=Number.parseFloat(i);return o||r?(n=n.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(i))):0},f=function(t){t.dispatchEvent(new Event("transitionend"))},d=function(t){return(t[0]||t).nodeType},h=function(t,e){var n=!1,i=e+5;t.addEventListener("transitionend",(function e(){n=!0,t.removeEventListener("transitionend",e)})),setTimeout((function(){n||f(t)}),i)},p=function(t,e,n){Object.keys(n).forEach((function(i){var o,r=n[i],s=e[i],a=s&&d(s)?"element":null==(o=s)?""+o:{}.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}))},g=function(t){if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){var e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==n.display&&"hidden"!==e.visibility}return!1},m=function(){return function(){}},v=function(t){return t.offsetHeight},_=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},b=function(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()},y="rtl"===document.documentElement.dir,w=(o={},r=1,{set:function(t,e,n){void 0===t.bsKey&&(t.bsKey={key:e,id:r},r++),o[t.bsKey.id]=n},get:function(t,e){if(!t||void 0===t.bsKey)return null;var n=t.bsKey;return n.key===e?o[n.id]:null},delete:function(t,e){if(void 0!==t.bsKey){var n=t.bsKey;n.key===e&&(delete o[n.id],delete t.bsKey)}}}),E=function(t,e,n){w.set(t,e,n)},T=function(t,e){return w.get(t,e)},k=function(t,e){w.delete(t,e)},O=/[^.]*(?=\..*)\.|.*/,L=/\..*/,A=/::\d+$/,C={},D=1,x={mouseenter:"mouseover",mouseleave:"mouseout"},S=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(t,e){return e&&e+"::"+D++||t.uidEvent||D++}function N(t){var e=j(t);return t.uidEvent=e,C[e]=C[e]||{},C[e]}function I(t,e,n){void 0===n&&(n=null);for(var i=Object.keys(t),o=0,r=i.length;o<r;o++){var s=t[i[o]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function P(t,e,n){var i="string"==typeof e,o=i?n:e,r=t.replace(L,""),s=x[r];return s&&(r=s),S.has(r)||(r=t),[i,o,r]}function M(t,e,n,i,o){if("string"==typeof e&&t){n||(n=i,i=null);var r=P(e,n,i),s=r[0],a=r[1],l=r[2],c=N(t),u=c[l]||(c[l]={}),f=I(u,a,s?n:null);if(f)f.oneOff=f.oneOff&&o;else{var d=j(a,e.replace(O,"")),h=s?function(t,e,n){return function i(o){for(var r=t.querySelectorAll(e),s=o.target;s&&s!==this;s=s.parentNode)for(var a=r.length;a--;)if(r[a]===s)return o.delegateTarget=s,i.oneOff&&H.off(t,o.type,n),n.apply(s,[o]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&H.off(t,i.type,e),e.apply(t,[i])}}(t,n);h.delegationSelector=s?n:null,h.originalHandler=a,h.oneOff=o,h.uidEvent=d,u[d]=h,t.addEventListener(l,h,s)}}}function B(t,e,n,i,o){var r=I(e[n],i,o);r&&(t.removeEventListener(n,r,Boolean(o)),delete e[n][r.uidEvent])}var H={on:function(t,e,n,i){M(t,e,n,i,!1)},one:function(t,e,n,i){M(t,e,n,i,!0)},off:function(t,e,n,i){if("string"==typeof e&&t){var o=P(e,n,i),r=o[0],s=o[1],a=o[2],l=a!==e,c=N(t),u=e.startsWith(".");if(void 0===s){u&&Object.keys(c).forEach((function(n){!function(t,e,n,i){var o=e[n]||{};Object.keys(o).forEach((function(r){if(r.includes(i)){var s=o[r];B(t,e,n,s.originalHandler,s.delegationSelector)}}))}(t,c,n,e.slice(1))}));var f=c[a]||{};Object.keys(f).forEach((function(n){var i=n.replace(A,"");if(!l||e.includes(i)){var o=f[n];B(t,c,a,o.originalHandler,o.delegationSelector)}}))}else{if(!c||!c[a])return;B(t,c,a,s,r?n:null)}}},trigger:function(t,e,n){if("string"!=typeof e||!t)return null;var i,o=_(),r=e.replace(L,""),s=e!==r,a=S.has(r),l=!0,c=!0,u=!1,f=null;return s&&o&&(i=o.Event(e,n),o(t).trigger(i),l=!i.isPropagationStopped(),c=!i.isImmediatePropagationStopped(),u=i.isDefaultPrevented()),a?(f=document.createEvent("HTMLEvents")).initEvent(r,l,!0):f=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(t){Object.defineProperty(f,t,{get:function(){return n[t]}})})),u&&f.preventDefault(),c&&t.dispatchEvent(f),f.defaultPrevented&&void 0!==i&&i.preventDefault(),f}},R=function(){function t(t){t&&(this._element=t,E(t,this.constructor.DATA_KEY,this))}return t.prototype.dispose=function(){k(this._element,this.constructor.DATA_KEY),this._element=null},t.getInstance=function(t){return T(t,this.DATA_KEY)},e(t,null,[{key:"VERSION",get:function(){return"5.0.0-beta1"}}]),t}(),W="alert",K=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var o=n.prototype;return o.close=function(t){var e=t?this._getRootElement(t):this._element,n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)},o._getRootElement=function(t){return c(t)||t.closest(".alert")},o._triggerCloseEvent=function(t){return H.trigger(t,"close.bs.alert")},o._removeElement=function(t){var e=this;if(t.classList.remove("show"),t.classList.contains("fade")){var n=u(t);H.one(t,"transitionend",(function(){return e._destroyElement(t)})),h(t,n)}else this._destroyElement(t)},o._destroyElement=function(t){t.parentNode&&t.parentNode.removeChild(t),H.trigger(t,"closed.bs.alert")},n.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.alert");e||(e=new n(this)),"close"===t&&e[t](this)}))},n.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},e(n,null,[{key:"DATA_KEY",get:function(){return"bs.alert"}}]),n}(R);H.on(document,"click.bs.alert.data-api",'[data-bs-dismiss="alert"]',K.handleDismiss(new K)),b((function(){var t=_();if(t){var e=t.fn[W];t.fn[W]=K.jQueryInterface,t.fn[W].Constructor=K,t.fn[W].noConflict=function(){return t.fn[W]=e,K.jQueryInterface}}}));var Q=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))},n.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.button");e||(e=new n(this)),"toggle"===t&&e[t]()}))},e(n,null,[{key:"DATA_KEY",get:function(){return"bs.button"}}]),n}(R);function U(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function F(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}H.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',(function(t){t.preventDefault();var e=t.target.closest('[data-bs-toggle="button"]'),n=T(e,"bs.button");n||(n=new Q(e)),n.toggle()})),b((function(){var t=_();if(t){var e=t.fn.button;t.fn.button=Q.jQueryInterface,t.fn.button.Constructor=Q,t.fn.button.noConflict=function(){return t.fn.button=e,Q.jQueryInterface}}}));var Y={setDataAttribute:function(t,e,n){t.setAttribute("data-bs-"+F(e),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-bs-"+F(e))},getDataAttributes:function(t){if(!t)return{};var e={};return Object.keys(t.dataset).filter((function(t){return t.startsWith("bs")})).forEach((function(n){var i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=U(t.dataset[n])})),e},getDataAttribute:function(t,e){return U(t.getAttribute("data-bs-"+F(e)))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}}},q={matches:function(t,e){return t.matches(e)},find:function(t,e){var n;return void 0===e&&(e=document.documentElement),(n=[]).concat.apply(n,Element.prototype.querySelectorAll.call(e,t))},findOne:function(t,e){return void 0===e&&(e=document.documentElement),Element.prototype.querySelector.call(e,t)},children:function(t,e){var n,i=(n=[]).concat.apply(n,t.children);return i.filter((function(t){return t.matches(e)}))},parents:function(t,e){for(var n=[],i=t.parentNode;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)this.matches(i,e)&&n.push(i),i=i.parentNode;return n},prev:function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next:function(t,e){for(var n=t.nextElementSibling;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]}},z="carousel",V=".bs.carousel",X={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},$={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},G={TOUCH:"touch",PEN:"pen"},Z=function(t){function o(e,n){var i;return(i=t.call(this,e)||this)._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(n),i._indicatorsElement=q.findOne(".carousel-indicators",i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}i(o,t);var r=o.prototype;return r.next=function(){this._isSliding||this._slide("next")},r.nextWhenVisible=function(){!document.hidden&&g(this._element)&&this.next()},r.prev=function(){this._isSliding||this._slide("prev")},r.pause=function(t){t||(this._isPaused=!0),q.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(f(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},r.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},r.to=function(t){var e=this;this._activeElement=q.findOne(".active.carousel-item",this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)H.one(this._element,"slid.bs.carousel",(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var i=t>n?"next":"prev";this._slide(i,this._items[t])}},r.dispose=function(){t.prototype.dispose.call(this),H.off(this._element,V),this._items=null,this._config=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},r._getConfig=function(t){return t=n({},X,t),p(z,t,$),t},r._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},r._addEventListeners=function(){var t=this;this._config.keyboard&&H.on(this._element,"keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(H.on(this._element,"mouseenter.bs.carousel",(function(e){return t.pause(e)})),H.on(this._element,"mouseleave.bs.carousel",(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},r._addTouchEventListeners=function(){var t=this,e=function(e){t._pointerEvent&&G[e.pointerType.toUpperCase()]?t.touchStartX=e.clientX:t._pointerEvent||(t.touchStartX=e.touches[0].clientX)},n=function(e){t._pointerEvent&&G[e.pointerType.toUpperCase()]&&(t.touchDeltaX=e.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};q.find(".carousel-item img",this._element).forEach((function(t){H.on(t,"dragstart.bs.carousel",(function(t){return t.preventDefault()}))})),this._pointerEvent?(H.on(this._element,"pointerdown.bs.carousel",(function(t){return e(t)})),H.on(this._element,"pointerup.bs.carousel",(function(t){return n(t)})),this._element.classList.add("pointer-event")):(H.on(this._element,"touchstart.bs.carousel",(function(t){return e(t)})),H.on(this._element,"touchmove.bs.carousel",(function(e){return function(e){e.touches&&e.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.touches[0].clientX-t.touchStartX}(e)})),H.on(this._element,"touchend.bs.carousel",(function(t){return n(t)})))},r._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.key){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}},r._getItemIndex=function(t){return this._items=t&&t.parentNode?q.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)},r._getItemByDirection=function(t,e){var n="next"===t,i="prev"===t,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var s=(o+("prev"===t?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},r._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(q.findOne(".active.carousel-item",this._element));return H.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n})},r._setActiveIndicatorElement=function(t){if(this._indicatorsElement){for(var e=q.find(".active",this._indicatorsElement),n=0;n<e.length;n++)e[n].classList.remove("active");var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&i.classList.add("active")}},r._updateInterval=function(){var t=this._activeElement||q.findOne(".active.carousel-item",this._element);if(t){var e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},r._slide=function(t,e){var n,i,o,r=this,s=q.findOne(".active.carousel-item",this._element),a=this._getItemIndex(s),l=e||s&&this._getItemByDirection(t,s),c=this._getItemIndex(l),f=Boolean(this._interval);if("next"===t?(n="carousel-item-start",i="carousel-item-next",o="left"):(n="carousel-item-end",i="carousel-item-prev",o="right"),l&&l.classList.contains("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).defaultPrevented&&s&&l){if(this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l,this._element.classList.contains("slide")){l.classList.add(i),v(l),s.classList.add(n),l.classList.add(n);var d=u(s);H.one(s,"transitionend",(function(){l.classList.remove(n,i),l.classList.add("active"),s.classList.remove("active",i,n),r._isSliding=!1,setTimeout((function(){H.trigger(r._element,"slid.bs.carousel",{relatedTarget:l,direction:o,from:a,to:c})}),0)})),h(s,d)}else s.classList.remove("active"),l.classList.add("active"),this._isSliding=!1,H.trigger(this._element,"slid.bs.carousel",{relatedTarget:l,direction:o,from:a,to:c});f&&this.cycle()}},o.carouselInterface=function(t,e){var i=T(t,"bs.carousel"),r=n({},X,Y.getDataAttributes(t));"object"==typeof e&&(r=n({},r,e));var s="string"==typeof e?e:r.slide;if(i||(i=new o(t,r)),"number"==typeof e)i.to(e);else if("string"==typeof s){if(void 0===i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else r.interval&&r.ride&&(i.pause(),i.cycle())},o.jQueryInterface=function(t){return this.each((function(){o.carouselInterface(this,t)}))},o.dataApiClickHandler=function(t){var e=c(this);if(e&&e.classList.contains("carousel")){var i=n({},Y.getDataAttributes(e),Y.getDataAttributes(this)),r=this.getAttribute("data-bs-slide-to");r&&(i.interval=!1),o.carouselInterface(e,i),r&&T(e,"bs.carousel").to(r),t.preventDefault()}},e(o,null,[{key:"Default",get:function(){return X}},{key:"DATA_KEY",get:function(){return"bs.carousel"}}]),o}(R);H.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Z.dataApiClickHandler),H.on(window,"load.bs.carousel.data-api",(function(){for(var t=q.find('[data-bs-ride="carousel"]'),e=0,n=t.length;e<n;e++)Z.carouselInterface(t[e],T(t[e],"bs.carousel"))})),b((function(){var t=_();if(t){var e=t.fn[z];t.fn[z]=Z.jQueryInterface,t.fn[z].Constructor=Z,t.fn[z].noConflict=function(){return t.fn[z]=e,Z.jQueryInterface}}}));var J="collapse",tt={toggle:!0,parent:""},et={toggle:"boolean",parent:"(string|element)"},nt=function(t){function o(e,n){var i;(i=t.call(this,e)||this)._isTransitioning=!1,i._config=i._getConfig(n),i._triggerArray=q.find('[data-bs-toggle="collapse"][href="#'+e.id+'"],[data-bs-toggle="collapse"][data-bs-target="#'+e.id+'"]');for(var o=q.find('[data-bs-toggle="collapse"]'),r=0,s=o.length;r<s;r++){var a=o[r],c=l(a),u=q.find(c).filter((function(t){return t===e}));null!==c&&u.length&&(i._selector=c,i._triggerArray.push(a))}return i._parent=i._config.parent?i._getParent():null,i._config.parent||i._addAriaAndCollapsedClass(i._element,i._triggerArray),i._config.toggle&&i.toggle(),i}i(o,t);var r=o.prototype;return r.toggle=function(){this._element.classList.contains("show")?this.hide():this.show()},r.show=function(){var t=this;if(!this._isTransitioning&&!this._element.classList.contains("show")){var e,n;this._parent&&0===(e=q.find(".show, .collapsing",this._parent).filter((function(e){return"string"==typeof t._config.parent?e.getAttribute("data-bs-parent")===t._config.parent:e.classList.contains("collapse")}))).length&&(e=null);var i=q.findOne(this._selector);if(e){var r=e.find((function(t){return i!==t}));if((n=r?T(r,"bs.collapse"):null)&&n._isTransitioning)return}if(!H.trigger(this._element,"show.bs.collapse").defaultPrevented){e&&e.forEach((function(t){i!==t&&o.collapseInterface(t,"hide"),n||E(t,"bs.collapse",null)}));var s=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[s]=0,this._triggerArray.length&&this._triggerArray.forEach((function(t){t.classList.remove("collapsed"),t.setAttribute("aria-expanded",!0)})),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),l=u(this._element);H.one(this._element,"transitionend",(function(){t._element.classList.remove("collapsing"),t._element.classList.add("collapse","show"),t._element.style[s]="",t.setTransitioning(!1),H.trigger(t._element,"shown.bs.collapse")})),h(this._element,l),this._element.style[s]=this._element[a]+"px"}}},r.hide=function(){var t=this;if(!this._isTransitioning&&this._element.classList.contains("show")&&!H.trigger(this._element,"hide.bs.collapse").defaultPrevented){var e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",v(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");var n=this._triggerArray.length;if(n>0)for(var i=0;i<n;i++){var o=this._triggerArray[i],r=c(o);r&&!r.classList.contains("show")&&(o.classList.add("collapsed"),o.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";var s=u(this._element);H.one(this._element,"transitionend",(function(){t.setTransitioning(!1),t._element.classList.remove("collapsing"),t._element.classList.add("collapse"),H.trigger(t._element,"hidden.bs.collapse")})),h(this._element,s)}},r.setTransitioning=function(t){this._isTransitioning=t},r.dispose=function(){t.prototype.dispose.call(this),this._config=null,this._parent=null,this._triggerArray=null,this._isTransitioning=null},r._getConfig=function(t){return(t=n({},tt,t)).toggle=Boolean(t.toggle),p(J,t,et),t},r._getDimension=function(){return this._element.classList.contains("width")?"width":"height"},r._getParent=function(){var t=this,e=this._config.parent;d(e)?void 0===e.jquery&&void 0===e[0]||(e=e[0]):e=q.findOne(e);var n='[data-bs-toggle="collapse"][data-bs-parent="'+e+'"]';return q.find(n,e).forEach((function(e){var n=c(e);t._addAriaAndCollapsedClass(n,[e])})),e},r._addAriaAndCollapsedClass=function(t,e){if(t&&e.length){var n=t.classList.contains("show");e.forEach((function(t){n?t.classList.remove("collapsed"):t.classList.add("collapsed"),t.setAttribute("aria-expanded",n)}))}},o.collapseInterface=function(t,e){var i=T(t,"bs.collapse"),r=n({},tt,Y.getDataAttributes(t),"object"==typeof e&&e?e:{});if(!i&&r.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(r.toggle=!1),i||(i=new o(t,r)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}},o.jQueryInterface=function(t){return this.each((function(){o.collapseInterface(this,t)}))},e(o,null,[{key:"Default",get:function(){return tt}},{key:"DATA_KEY",get:function(){return"bs.collapse"}}]),o}(R);H.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',(function(t){"A"===t.target.tagName&&t.preventDefault();var e=Y.getDataAttributes(this),n=l(this);q.find(n).forEach((function(t){var n,i=T(t,"bs.collapse");i?(null===i._parent&&"string"==typeof e.parent&&(i._config.parent=e.parent,i._parent=i._getParent()),n="toggle"):n=e,nt.collapseInterface(t,n)}))})),b((function(){var t=_();if(t){var e=t.fn[J];t.fn[J]=nt.jQueryInterface,t.fn[J].Constructor=nt,t.fn[J].noConflict=function(){return t.fn[J]=e,nt.jQueryInterface}}}));var it="top",ot="bottom",rt="right",st="left",at=[it,ot,rt,st],lt=at.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),ct=[].concat(at,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),ut=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ft(t){return t?(t.nodeName||"").toLowerCase():null}function dt(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ht(t){return t instanceof dt(t).Element||t instanceof Element}function pt(t){return t instanceof dt(t).HTMLElement||t instanceof HTMLElement}var gt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];pt(o)&&ft(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});pt(i)&&ft(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]};function mt(t){return t.split("-")[0]}function vt(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function _t(t,e){var n,i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&((n=i)instanceof dt(n).ShadowRoot||n instanceof ShadowRoot)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function bt(t){return dt(t).getComputedStyle(t)}function yt(t){return["table","td","th"].indexOf(ft(t))>=0}function wt(t){return((ht(t)?t.ownerDocument:t.document)||window.document).documentElement}function Et(t){return"html"===ft(t)?t:t.assignedSlot||t.parentNode||t.host||wt(t)}function Tt(t){if(!pt(t)||"fixed"===bt(t).position)return null;var e=t.offsetParent;if(e){var n=wt(e);if("body"===ft(e)&&"static"===bt(e).position&&"static"!==bt(n).position)return n}return e}function kt(t){for(var e=dt(t),n=Tt(t);n&&yt(n)&&"static"===bt(n).position;)n=Tt(n);return n&&"body"===ft(n)&&"static"===bt(n).position?e:n||function(t){for(var e=Et(t);pt(e)&&["html","body"].indexOf(ft(e))<0;){var n=bt(e);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return e;e=e.parentNode}return null}(t)||e}function Ot(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Lt(t,e,n){return Math.max(t,Math.min(e,n))}function At(t){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),t)}function Ct(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var Dt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,o=n.elements.arrow,r=n.modifiersData.popperOffsets,s=mt(n.placement),a=Ot(s),l=[st,rt].indexOf(s)>=0?"height":"width";if(o&&r){var c=n.modifiersData[i+"#persistent"].padding,u=vt(o),f="y"===a?it:st,d="y"===a?ot:rt,h=n.rects.reference[l]+n.rects.reference[a]-r[a]-n.rects.popper[l],p=r[a]-n.rects.reference[a],g=kt(o),m=g?"y"===a?g.clientHeight||0:g.clientWidth||0:0,v=h/2-p/2,_=c[f],b=m-u[l]-c[d],y=m/2-u[l]/2+v,w=Lt(_,y,b),E=a;n.modifiersData[i]=((e={})[E]=w,e.centerOffset=w-y,e)}},effect:function(t){var e=t.state,n=t.options,i=t.name,o=n.element,r=void 0===o?"[data-popper-arrow]":o,s=n.padding,a=void 0===s?0:s;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&_t(e.elements.popper,r)&&(e.elements.arrow=r,e.modifiersData[i+"#persistent"]={padding:At("number"!=typeof a?a:Ct(a,at))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},xt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function St(t){var e,n=t.popper,i=t.popperRect,o=t.placement,r=t.offsets,s=t.position,a=t.gpuAcceleration,l=t.adaptive,c=function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(n*i)/i||0}}(r),u=c.x,f=c.y,d=r.hasOwnProperty("x"),h=r.hasOwnProperty("y"),p=st,g=it,m=window;if(l){var v=kt(n);v===dt(n)&&(v=wt(n)),o===it&&(g=ot,f-=v.clientHeight-i.height,f*=a?1:-1),o===st&&(p=rt,u-=v.clientWidth-i.width,u*=a?1:-1)}var _,b=Object.assign({position:s},l&&xt);return a?Object.assign(Object.assign({},b),{},((_={})[g]=h?"0":"",_[p]=d?"0":"",_.transform=(m.devicePixelRatio||1)<2?"translate("+u+"px, "+f+"px)":"translate3d("+u+"px, "+f+"px, 0)",_)):Object.assign(Object.assign({},b),{},((e={})[g]=h?f+"px":"",e[p]=d?u+"px":"",e.transform="",e))}var jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a={placement:mt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign(Object.assign({},e.styles.popper),St(Object.assign(Object.assign({},a),{},{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign(Object.assign({},e.styles.arrow),St(Object.assign(Object.assign({},a),{},{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{"data-popper-placement":e.placement})},data:{}},Nt={passive:!0};var It={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,r=void 0===o||o,s=i.resize,a=void 0===s||s,l=dt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach((function(t){t.addEventListener("scroll",n.update,Nt)})),a&&l.addEventListener("resize",n.update,Nt),function(){r&&c.forEach((function(t){t.removeEventListener("scroll",n.update,Nt)})),a&&l.removeEventListener("resize",n.update,Nt)}},data:{}},Pt={left:"right",right:"left",bottom:"top",top:"bottom"};function Mt(t){return t.replace(/left|right|bottom|top/g,(function(t){return Pt[t]}))}var Bt={start:"end",end:"start"};function Ht(t){return t.replace(/start|end/g,(function(t){return Bt[t]}))}function Rt(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function Wt(t){var e=dt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Kt(t){return Rt(wt(t)).left+Wt(t).scrollLeft}function Qt(t){var e=bt(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function Ut(t,e){void 0===e&&(e=[]);var n=function t(e){return["html","body","#document"].indexOf(ft(e))>=0?e.ownerDocument.body:pt(e)&&Qt(e)?e:t(Et(e))}(t),i="body"===ft(n),o=dt(n),r=i?[o].concat(o.visualViewport||[],Qt(n)?n:[]):n,s=e.concat(r);return i?s:s.concat(Ut(Et(r)))}function Ft(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Yt(t,e){return"viewport"===e?Ft(function(t){var e=dt(t),n=wt(t),i=e.visualViewport,o=n.clientWidth,r=n.clientHeight,s=0,a=0;return i&&(o=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:o,height:r,x:s+Kt(t),y:a}}(t)):pt(e)?function(t){var e=Rt(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Ft(function(t){var e=wt(t),n=Wt(t),i=t.ownerDocument.body,o=Math.max(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Math.max(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Kt(t),a=-n.scrollTop;return"rtl"===bt(i||e).direction&&(s+=Math.max(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:s,y:a}}(wt(t)))}function qt(t,e,n){var i="clippingParents"===e?function(t){var e=Ut(Et(t)),n=["absolute","fixed"].indexOf(bt(t).position)>=0&&pt(t)?kt(t):t;return ht(n)?e.filter((function(t){return ht(t)&&_t(t,n)&&"body"!==ft(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),r=o[0],s=o.reduce((function(e,n){var i=Yt(t,n);return e.top=Math.max(i.top,e.top),e.right=Math.min(i.right,e.right),e.bottom=Math.min(i.bottom,e.bottom),e.left=Math.max(i.left,e.left),e}),Yt(t,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function zt(t){return t.split("-")[1]}function Vt(t){var e,n=t.reference,i=t.element,o=t.placement,r=o?mt(o):null,s=o?zt(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case it:e={x:a,y:n.y-i.height};break;case ot:e={x:a,y:n.y+n.height};break;case rt:e={x:n.x+n.width,y:l};break;case st:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=r?Ot(r):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case"start":e[c]=Math.floor(e[c])-Math.floor(n[u]/2-i[u]/2);break;case"end":e[c]=Math.floor(e[c])+Math.ceil(n[u]/2-i[u]/2)}}return e}function Xt(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,r=n.boundary,s=void 0===r?"clippingParents":r,a=n.rootBoundary,l=void 0===a?"viewport":a,c=n.elementContext,u=void 0===c?"popper":c,f=n.altBoundary,d=void 0!==f&&f,h=n.padding,p=void 0===h?0:h,g=At("number"!=typeof p?p:Ct(p,at)),m="popper"===u?"reference":"popper",v=t.elements.reference,_=t.rects.popper,b=t.elements[d?m:u],y=qt(ht(b)?b:b.contextElement||wt(t.elements.popper),s,l),w=Rt(v),E=Vt({reference:w,element:_,strategy:"absolute",placement:o}),T=Ft(Object.assign(Object.assign({},_),E)),k="popper"===u?T:w,O={top:y.top-k.top+g.top,bottom:k.bottom-y.bottom+g.bottom,left:y.left-k.left+g.left,right:k.right-y.right+g.right},L=t.modifiersData.offset;if("popper"===u&&L){var A=L[o];Object.keys(O).forEach((function(t){var e=[rt,ot].indexOf(t)>=0?1:-1,n=[it,ot].indexOf(t)>=0?"y":"x";O[t]+=A[n]*e}))}return O}function $t(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ct:l,u=zt(i),f=u?a?lt:lt.filter((function(t){return zt(t)===u})):at,d=f.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=f);var h=d.reduce((function(e,n){return e[n]=Xt(t,{placement:n,boundary:o,rootBoundary:r,padding:s})[mt(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}var Gt={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,g=n.allowedAutoPlacements,m=e.options.placement,v=mt(m),_=l||(v===m||!p?[Mt(m)]:function(t){if("auto"===mt(t))return[];var e=Mt(t);return[Ht(t),e,Ht(e)]}(m)),b=[m].concat(_).reduce((function(t,n){return t.concat("auto"===mt(n)?$t(e,{placement:n,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),y=e.rects.reference,w=e.rects.popper,E=new Map,T=!0,k=b[0],O=0;O<b.length;O++){var L=b[O],A=mt(L),C="start"===zt(L),D=[it,ot].indexOf(A)>=0,x=D?"width":"height",S=Xt(e,{placement:L,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),j=D?C?rt:st:C?ot:it;y[x]>w[x]&&(j=Mt(j));var N=Mt(j),I=[];if(r&&I.push(S[A]<=0),a&&I.push(S[j]<=0,S[N]<=0),I.every((function(t){return t}))){k=L,T=!1;break}E.set(L,I)}if(T)for(var P=function(t){var e=b.find((function(e){var n=E.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return k=e,"break"},M=p?3:1;M>0;M--){if("break"===P(M))break}e.placement!==k&&(e.modifiersData[i]._skip=!0,e.placement=k,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Zt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Jt(t){return[it,rt,ot,st].some((function(e){return t[e]>=0}))}var te={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,s=Xt(e,{elementContext:"reference"}),a=Xt(e,{altBoundary:!0}),l=Zt(s,i),c=Zt(a,o,r),u=Jt(l),f=Jt(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{"data-popper-reference-hidden":u,"data-popper-escaped":f})}};var ee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,o=n.offset,r=void 0===o?[0,0]:o,s=ct.reduce((function(t,n){return t[n]=function(t,e,n){var i=mt(t),o=[st,it].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign(Object.assign({},e),{},{placement:t})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[st,rt].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,r),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}};var ne={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Vt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var ie={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,m=Xt(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=mt(e.placement),_=zt(e.placement),b=!_,y=Ot(v),w="x"===y?"y":"x",E=e.modifiersData.popperOffsets,T=e.rects.reference,k=e.rects.popper,O="function"==typeof g?g(Object.assign(Object.assign({},e.rects),{},{placement:e.placement})):g,L={x:0,y:0};if(E){if(r){var A="y"===y?it:st,C="y"===y?ot:rt,D="y"===y?"height":"width",x=E[y],S=E[y]+m[A],j=E[y]-m[C],N=h?-k[D]/2:0,I="start"===_?T[D]:k[D],P="start"===_?-k[D]:-T[D],M=e.elements.arrow,B=h&&M?vt(M):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},R=H[A],W=H[C],K=Lt(0,T[D],B[D]),Q=b?T[D]/2-N-K-R-O:I-K-R-O,U=b?-T[D]/2+N+K+W+O:P+K+W+O,F=e.elements.arrow&&kt(e.elements.arrow),Y=F?"y"===y?F.clientTop||0:F.clientLeft||0:0,q=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,z=E[y]+Q-q-Y,V=E[y]+U-q,X=Lt(h?Math.min(S,z):S,x,h?Math.max(j,V):j);E[y]=X,L[y]=X-x}if(a){var $="x"===y?it:st,G="x"===y?ot:rt,Z=E[w],J=Lt(Z+m[$],Z,Z-m[G]);E[w]=J,L[w]=J-Z}e.modifiersData[i]=L}},requiresIfExists:["offset"]};function oe(t,e,n){void 0===n&&(n=!1);var i,o,r=wt(e),s=Rt(t),a=pt(e),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&(("body"!==ft(e)||Qt(r))&&(l=(i=e)!==dt(i)&&pt(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:Wt(i)),pt(e)?((c=Rt(e)).x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=Kt(r))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function re(t){var e=new Map,n=new Set,i=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var o=e.get(i);o&&t(o)}})),i.push(o)}(t)})),i}var se={placement:"bottom",modifiers:[],strategy:"absolute"};function ae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function le(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,r=void 0===o?se:o;return function(t,e,n){void 0===n&&(n=r);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},se),r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){f(),a.options=Object.assign(Object.assign(Object.assign({},r),a.options),n),a.scrollParents={reference:ht(t)?Ut(t):t.contextElement?Ut(t.contextElement):[],popper:Ut(e)};var o,s,c=function(t){var e=re(t);return ut.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((o=[].concat(i,a.options.modifiers),s=o.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign(Object.assign(Object.assign({},n),e),{},{options:Object.assign(Object.assign({},n.options),e.options),data:Object.assign(Object.assign({},n.data),e.data)}):e,t}),{}),Object.keys(s).map((function(t){return s[t]}))));return a.orderedModifiers=c.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var r=o({state:a,name:e,instance:u,options:i}),s=function(){};l.push(r||s)}})),u.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,n=t.popper;if(ae(e,n)){a.rects={reference:oe(e,kt(n),"fixed"===a.options.strategy),popper:vt(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var o=a.orderedModifiers[i],r=o.fn,s=o.options,l=void 0===s?{}:s,f=o.name;"function"==typeof r&&(a=r({state:a,options:l,name:f,instance:u})||a)}else a.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(t){u.forceUpdate(),t(a)}))},function(){return s||(s=new Promise((function(t){Promise.resolve().then((function(){s=void 0,t(o())}))}))),s}),destroy:function(){f(),c=!0}};if(!ae(t,e))return u;function f(){l.forEach((function(t){return t()})),l=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var ce=le(),ue=le({defaultModifiers:[It,ne,jt,gt]}),fe=le({defaultModifiers:[It,ne,jt,gt,ee,Gt,ie,Dt,te]}),de=Object.freeze({__proto__:null,popperGenerator:le,detectOverflow:Xt,createPopperBase:ce,createPopper:fe,createPopperLite:ue,top:it,bottom:ot,right:rt,left:st,auto:"auto",basePlacements:at,start:"start",end:"end",clippingParents:"clippingParents",viewport:"viewport",popper:"popper",reference:"reference",variationPlacements:lt,placements:ct,beforeRead:"beforeRead",read:"read",afterRead:"afterRead",beforeMain:"beforeMain",main:"main",afterMain:"afterMain",beforeWrite:"beforeWrite",write:"write",afterWrite:"afterWrite",modifierPhases:ut,applyStyles:gt,arrow:Dt,computeStyles:jt,eventListeners:It,flip:Gt,hide:te,offset:ee,popperOffsets:ne,preventOverflow:ie}),he="dropdown",pe=new RegExp("ArrowUp|ArrowDown|Escape"),ge=y?"top-end":"top-start",me=y?"top-start":"top-end",ve=y?"bottom-end":"bottom-start",_e=y?"bottom-start":"bottom-end",be=y?"left-start":"right-start",ye=y?"right-start":"left-start",we={offset:0,flip:!0,boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null},Ee={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Te=function(t){function o(e,n){var i;return(i=t.call(this,e)||this)._popper=null,i._config=i._getConfig(n),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i._addEventListeners(),i}i(o,t);var r=o.prototype;return r.toggle=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")){var t=this._element.classList.contains("show");o.clearMenus(),t||this.show()}},r.show=function(){if(!(this._element.disabled||this._element.classList.contains("disabled")||this._menu.classList.contains("show"))){var t=o.getParentFromElement(this._element),e={relatedTarget:this._element};if(!H.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(!this._inNavbar){if(void 0===de)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var n=this._element;"parent"===this._config.reference?n=t:d(this._config.reference)&&(n=this._config.reference,void 0!==this._config.reference.jquery&&(n=this._config.reference[0])),this._popper=fe(n,this._menu,this._getPopperConfig())}var i;if("ontouchstart"in document.documentElement&&!t.closest(".navbar-nav"))(i=[]).concat.apply(i,document.body.children).forEach((function(t){return H.on(t,"mouseover",null,(function(){}))}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),H.trigger(t,"shown.bs.dropdown",e)}}},r.hide=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")&&this._menu.classList.contains("show")){var t=o.getParentFromElement(this._element),e={relatedTarget:this._element};H.trigger(t,"hide.bs.dropdown",e).defaultPrevented||(this._popper&&this._popper.destroy(),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),H.trigger(t,"hidden.bs.dropdown",e))}},r.dispose=function(){t.prototype.dispose.call(this),H.off(this._element,".bs.dropdown"),this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},r.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()},r._addEventListeners=function(){var t=this;H.on(this._element,"click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},r._getConfig=function(t){return t=n({},this.constructor.Default,Y.getDataAttributes(this._element),t),p(he,t,this.constructor.DefaultType),t},r._getMenuElement=function(){return q.next(this._element,".dropdown-menu")[0]},r._getPlacement=function(){var t=this._element.parentNode;if(t.classList.contains("dropend"))return be;if(t.classList.contains("dropstart"))return ye;var e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?me:ge:e?_e:ve},r._detectNavbar=function(){return null!==this._element.closest(".navbar")},r._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{altBoundary:this._config.flip,rootBoundary:this._config.boundary}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),n({},t,this._config.popperConfig)},o.dropdownInterface=function(t,e){var n=T(t,"bs.dropdown");if(n||(n=new o(t,"object"==typeof e?e:null)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}},o.jQueryInterface=function(t){return this.each((function(){o.dropdownInterface(this,t)}))},o.clearMenus=function(t){if(!t||2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(var e=q.find('[data-bs-toggle="dropdown"]'),n=0,i=e.length;n<i;n++){var r=o.getParentFromElement(e[n]),s=T(e[n],"bs.dropdown"),a={relatedTarget:e[n]};if(t&&"click"===t.type&&(a.clickEvent=t),s){var l=s._menu;if(e[n].classList.contains("show"))if(!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&"Tab"===t.key)&&l.contains(t.target)))if(!H.trigger(r,"hide.bs.dropdown",a).defaultPrevented){var c;if("ontouchstart"in document.documentElement)(c=[]).concat.apply(c,document.body.children).forEach((function(t){return H.off(t,"mouseover",null,(function(){}))}));e[n].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),l.classList.remove("show"),e[n].classList.remove("show"),H.trigger(r,"hidden.bs.dropdown",a)}}}},o.getParentFromElement=function(t){return c(t)||t.parentNode},o.dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||"Escape"!==t.key&&("ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.target.closest(".dropdown-menu")):!pe.test(t.key))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!this.classList.contains("disabled"))){var e=o.getParentFromElement(this),n=this.classList.contains("show");if("Escape"===t.key)return(this.matches('[data-bs-toggle="dropdown"]')?this:q.prev(this,'[data-bs-toggle="dropdown"]')[0]).focus(),void o.clearMenus();if(n&&"Space"!==t.key){var i=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",e).filter(g);if(i.length){var r=i.indexOf(t.target);"ArrowUp"===t.key&&r>0&&r--,"ArrowDown"===t.key&&r<i.length-1&&r++,i[r=-1===r?0:r].focus()}}else o.clearMenus()}},e(o,null,[{key:"Default",get:function(){return we}},{key:"DefaultType",get:function(){return Ee}},{key:"DATA_KEY",get:function(){return"bs.dropdown"}}]),o}(R);H.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',Te.dataApiKeydownHandler),H.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Te.dataApiKeydownHandler),H.on(document,"click.bs.dropdown.data-api",Te.clearMenus),H.on(document,"keyup.bs.dropdown.data-api",Te.clearMenus),H.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),Te.dropdownInterface(this,"toggle")})),H.on(document,"click.bs.dropdown.data-api",".dropdown form",(function(t){return t.stopPropagation()})),b((function(){var t=_();if(t){var e=t.fn[he];t.fn[he]=Te.jQueryInterface,t.fn[he].Constructor=Te,t.fn[he].noConflict=function(){return t.fn[he]=e,Te.jQueryInterface}}}));var ke={backdrop:!0,keyboard:!0,focus:!0},Oe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Le=function(t){function o(e,n){var i;return(i=t.call(this,e)||this)._config=i._getConfig(n),i._dialog=q.findOne(".modal-dialog",e),i._backdrop=null,i._isShown=!1,i._isBodyOverflowing=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollbarWidth=0,i}i(o,t);var r=o.prototype;return r.toggle=function(t){return this._isShown?this.hide():this.show(t)},r.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains("fade")&&(this._isTransitioning=!0);var n=H.trigger(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||n.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),H.on(this._element,"click.dismiss.bs.modal",'[data-bs-dismiss="modal"]',(function(t){return e.hide(t)})),H.on(this._dialog,"mousedown.dismiss.bs.modal",(function(){H.one(e._element,"mouseup.dismiss.bs.modal",(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},r.hide=function(t){var e=this;if((t&&t.preventDefault(),this._isShown&&!this._isTransitioning)&&!H.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var n=this._element.classList.contains("fade");if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),H.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),H.off(this._element,"click.dismiss.bs.modal"),H.off(this._dialog,"mousedown.dismiss.bs.modal"),n){var i=u(this._element);H.one(this._element,"transitionend",(function(t){return e._hideModal(t)})),h(this._element,i)}else this._hideModal()}},r.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return H.off(t,".bs.modal")})),t.prototype.dispose.call(this),H.off(document,"focusin.bs.modal"),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},r.handleUpdate=function(){this._adjustDialog()},r._getConfig=function(t){return t=n({},ke,t),p("modal",t,Oe),t},r._showElement=function(t){var e=this,n=this._element.classList.contains("fade"),i=q.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),n&&v(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();var o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,H.trigger(e._element,"shown.bs.modal",{relatedTarget:t})};if(n){var r=u(this._dialog);H.one(this._dialog,"transitionend",o),h(this._dialog,r)}else o()},r._enforceFocus=function(){var t=this;H.off(document,"focusin.bs.modal"),H.on(document,"focusin.bs.modal",(function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()}))},r._setEscapeEvent=function(){var t=this;this._isShown?H.on(this._element,"keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&"Escape"===e.key?(e.preventDefault(),t.hide()):t._config.keyboard||"Escape"!==e.key||t._triggerBackdropTransition()})):H.off(this._element,"keydown.dismiss.bs.modal")},r._setResizeEvent=function(){var t=this;this._isShown?H.on(window,"resize.bs.modal",(function(){return t._adjustDialog()})):H.off(window,"resize.bs.modal")},r._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){document.body.classList.remove("modal-open"),t._resetAdjustments(),t._resetScrollbar(),H.trigger(t._element,"hidden.bs.modal")}))},r._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},r._showBackdrop=function(t){var e=this,n=this._element.classList.contains("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),document.body.appendChild(this._backdrop),H.on(this._element,"click.dismiss.bs.modal",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),n&&v(this._backdrop),this._backdrop.classList.add("show"),!n)return void t();var i=u(this._backdrop);H.one(this._backdrop,"transitionend",t),h(this._backdrop,i)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove("show");var o=function(){e._removeBackdrop(),t()};if(this._element.classList.contains("fade")){var r=u(this._backdrop);H.one(this._backdrop,"transitionend",o),h(this._backdrop,r)}else o()}else t()},r._triggerBackdropTransition=function(){var t=this;if(!H.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var n=u(this._dialog);H.off(this._element,"transitionend"),H.one(this._element,"transitionend",(function(){t._element.classList.remove("modal-static"),e||(H.one(t._element,"transitionend",(function(){t._element.style.overflowY=""})),h(t._element,n))})),h(this._element,n),this._element.focus()}},r._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&t&&!y||this._isBodyOverflowing&&!t&&y)&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!t&&!y||!this._isBodyOverflowing&&t&&y)&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},r._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},r._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},r._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){q.find(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top").forEach((function(e){var n=e.style.paddingRight,i=window.getComputedStyle(e)["padding-right"];Y.setDataAttribute(e,"padding-right",n),e.style.paddingRight=Number.parseFloat(i)+t._scrollbarWidth+"px"})),q.find(".sticky-top").forEach((function(e){var n=e.style.marginRight,i=window.getComputedStyle(e)["margin-right"];Y.setDataAttribute(e,"margin-right",n),e.style.marginRight=Number.parseFloat(i)-t._scrollbarWidth+"px"}));var e=document.body.style.paddingRight,n=window.getComputedStyle(document.body)["padding-right"];Y.setDataAttribute(document.body,"padding-right",e),document.body.style.paddingRight=Number.parseFloat(n)+this._scrollbarWidth+"px"}document.body.classList.add("modal-open")},r._resetScrollbar=function(){q.find(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top").forEach((function(t){var e=Y.getDataAttribute(t,"padding-right");void 0!==e&&(Y.removeDataAttribute(t,"padding-right"),t.style.paddingRight=e)})),q.find(".sticky-top").forEach((function(t){var e=Y.getDataAttribute(t,"margin-right");void 0!==e&&(Y.removeDataAttribute(t,"margin-right"),t.style.marginRight=e)}));var t=Y.getDataAttribute(document.body,"padding-right");void 0===t?document.body.style.paddingRight="":(Y.removeDataAttribute(document.body,"padding-right"),document.body.style.paddingRight=t)},r._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},o.jQueryInterface=function(t,e){return this.each((function(){var i=T(this,"bs.modal"),r=n({},ke,Y.getDataAttributes(this),"object"==typeof t&&t?t:{});if(i||(i=new o(this,r)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](e)}}))},e(o,null,[{key:"Default",get:function(){return ke}},{key:"DATA_KEY",get:function(){return"bs.modal"}}]),o}(R);H.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){var e=this,i=c(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),H.one(i,"show.bs.modal",(function(t){t.defaultPrevented||H.one(i,"hidden.bs.modal",(function(){g(e)&&e.focus()}))}));var o=T(i,"bs.modal");if(!o){var r=n({},Y.getDataAttributes(i),Y.getDataAttributes(this));o=new Le(i,r)}o.show(this)})),b((function(){var t=_();if(t){var e=t.fn.modal;t.fn.modal=Le.jQueryInterface,t.fn.modal.Constructor=Le,t.fn.modal.noConflict=function(){return t.fn.modal=e,Le.jQueryInterface}}}));var Ae=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ce=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,De=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,xe={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Se(t,e,n){var i;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var o=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),s=(i=[]).concat.apply(i,o.body.querySelectorAll("*")),a=function(t,n){var i,o=s[t],a=o.nodeName.toLowerCase();if(!r.includes(a))return o.parentNode.removeChild(o),"continue";var l=(i=[]).concat.apply(i,o.attributes),c=[].concat(e["*"]||[],e[a]||[]);l.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(e.includes(n))return!Ae.has(n)||Boolean(t.nodeValue.match(Ce)||t.nodeValue.match(De));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1})(t,c)||o.removeAttribute(t.nodeName)}))},l=0,c=s.length;l<c;l++)a(l);return o.body.innerHTML}var je="tooltip",Ne=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ie=new Set(["sanitize","allowList","sanitizeFn"]),Pe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",container:"(string|element|boolean)",fallbackPlacements:"(null|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object)"},Me={AUTO:"auto",TOP:"top",RIGHT:y?"left":"right",BOTTOM:"bottom",LEFT:y?"right":"left"},Be={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",container:!1,fallbackPlacements:null,boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:xe,popperConfig:null},He={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Re=function(t){function o(e,n){var i;if(void 0===de)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e)||this)._isEnabled=!0,i._timeout=0,i._hoverState="",i._activeTrigger={},i._popper=null,i.config=i._getConfig(n),i.tip=null,i._setListeners(),i}i(o,t);var r=o.prototype;return r.enable=function(){this._isEnabled=!0},r.disable=function(){this._isEnabled=!1},r.toggleEnabled=function(){this._isEnabled=!this._isEnabled},r.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=T(t.delegateTarget,e);n||(n=new this.constructor(t.delegateTarget,this._getDelegateConfig()),E(t.delegateTarget,e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}},r.dispose=function(){clearTimeout(this._timeout),H.off(this._element,this.constructor.EVENT_KEY),H.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.config=null,this.tip=null,t.prototype.dispose.call(this)},r.show=function(){var t=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var e=H.trigger(this._element,this.constructor.Event.SHOW),n=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null}(this._element),i=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(e.defaultPrevented||!i)return;var o=this.getTipElement(),r=s(this.constructor.NAME);o.setAttribute("id",r),this._element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&o.classList.add("fade");var a="function"==typeof this.config.placement?this.config.placement.call(this,o,this._element):this.config.placement,l=this._getAttachment(a);this._addAttachmentClass(l);var c=this._getContainer();E(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||c.appendChild(o),H.trigger(this._element,this.constructor.Event.INSERTED),this._popper=fe(this._element,o,this._getPopperConfig(l)),o.classList.add("show");var f,d,p="function"==typeof this.config.customClass?this.config.customClass():this.config.customClass;if(p)(f=o.classList).add.apply(f,p.split(" "));if("ontouchstart"in document.documentElement)(d=[]).concat.apply(d,document.body.children).forEach((function(t){H.on(t,"mouseover",(function(){}))}));var g=function(){var e=t._hoverState;t._hoverState=null,H.trigger(t._element,t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(this.tip.classList.contains("fade")){var m=u(this.tip);H.one(this.tip,"transitionend",g),h(this.tip,m)}else g()}},r.hide=function(){var t=this;if(this._popper){var e=this.getTipElement(),n=function(){"show"!==t._hoverState&&e.parentNode&&e.parentNode.removeChild(e),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),H.trigger(t._element,t.constructor.Event.HIDDEN),t._popper&&(t._popper.destroy(),t._popper=null)};if(!H.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var i;if(e.classList.remove("show"),"ontouchstart"in document.documentElement)(i=[]).concat.apply(i,document.body.children).forEach((function(t){return H.off(t,"mouseover",m)}));if(this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this.tip.classList.contains("fade")){var o=u(e);H.one(e,"transitionend",n),h(e,o)}else n();this._hoverState=""}}},r.update=function(){null!==this._popper&&this._popper.update()},r.isWithContent=function(){return Boolean(this.getTitle())},r.getTipElement=function(){if(this.tip)return this.tip;var t=document.createElement("div");return t.innerHTML=this.config.template,this.tip=t.children[0],this.tip},r.setContent=function(){var t=this.getTipElement();this.setElementContent(q.findOne(".tooltip-inner",t),this.getTitle()),t.classList.remove("fade","show")},r.setElementContent=function(t,e){if(null!==t)return"object"==typeof e&&d(e)?(e.jquery&&(e=e[0]),void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent)):void(this.config.html?(this.config.sanitize&&(e=Se(e,this.config.allowList,this.config.sanitizeFn)),t.innerHTML=e):t.textContent=e)},r.getTitle=function(){var t=this._element.getAttribute("data-bs-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this._element):this.config.title),t},r.updateAttachment=function(t){return"right"===t?"end":"left"===t?"start":t},r._getPopperConfig=function(t){var e=this,i={name:"flip",options:{altBoundary:!0}};return this.config.fallbackPlacements&&(i.options.fallbackPlacements=this.config.fallbackPlacements),n({},{placement:t,modifiers:[i,{name:"preventOverflow",options:{rootBoundary:this.config.boundary}},{name:"arrow",options:{element:"."+this.constructor.NAME+"-arrow"}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(t){return e._handlePopperPlacementChange(t)}}],onFirstUpdate:function(t){t.options.placement!==t.placement&&e._handlePopperPlacementChange(t)}},this.config.popperConfig)},r._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-tooltip-"+this.updateAttachment(t))},r._getContainer=function(){return!1===this.config.container?document.body:d(this.config.container)?this.config.container:q.findOne(this.config.container)},r._getAttachment=function(t){return Me[t.toUpperCase()]},r._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)H.on(t._element,t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n="hover"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i="hover"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;H.on(t._element,n,t.config.selector,(function(e){return t._enter(e)})),H.on(t._element,i,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t._element&&t.hide()},H.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=n({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},r._fixTitle=function(){var t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))},r._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||T(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),E(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e.getTipElement().classList.contains("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){"show"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},r._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||T(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),E(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){"out"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},r._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},r._getConfig=function(t){var e=Y.getDataAttributes(this._element);return Object.keys(e).forEach((function(t){Ie.has(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=n({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p(je,t,this.constructor.DefaultType),t.sanitize&&(t.template=Se(t.template,t.allowList,t.sanitizeFn)),t},r._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},r._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ne);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},r._handlePopperPlacementChange=function(t){var e=t.state;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))},o.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.tooltip"),n="object"==typeof t&&t;if((e||!/dispose|hide/.test(t))&&(e||(e=new o(this,n)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},e(o,null,[{key:"Default",get:function(){return Be}},{key:"NAME",get:function(){return je}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return He}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Pe}}]),o}(R);b((function(){var t=_();if(t){var e=t.fn[je];t.fn[je]=Re.jQueryInterface,t.fn[je].Constructor=Re,t.fn[je].noConflict=function(){return t.fn[je]=e,Re.jQueryInterface}}}));var We="popover",Ke=new RegExp("(^|\\s)bs-popover\\S+","g"),Qe=n({},Re.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ue=n({},Re.DefaultType,{content:"(string|element|function)"}),Fe={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ye=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var o=n.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.setContent=function(){var t=this.getTipElement();this.setElementContent(q.findOne(".popover-header",t),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this._element)),this.setElementContent(q.findOne(".popover-body",t),e),t.classList.remove("fade","show")},o._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-popover-"+this.updateAttachment(t))},o._getContent=function(){return this._element.getAttribute("data-bs-content")||this.config.content},o._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ke);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},n.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.popover"),i="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new n(this,i),E(this,"bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},e(n,null,[{key:"Default",get:function(){return Qe}},{key:"NAME",get:function(){return We}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Fe}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Ue}}]),n}(Re);b((function(){var t=_();if(t){var e=t.fn[We];t.fn[We]=Ye.jQueryInterface,t.fn[We].Constructor=Ye,t.fn[We].noConflict=function(){return t.fn[We]=e,Ye.jQueryInterface}}}));var qe="scrollspy",ze={offset:10,method:"auto",target:""},Ve={offset:"number",method:"string",target:"(string|element)"},Xe=function(t){function o(e,n){var i;return(i=t.call(this,e)||this)._scrollElement="BODY"===e.tagName?window:e,i._config=i._getConfig(n),i._selector=i._config.target+" .nav-link, "+i._config.target+" .list-group-item, "+i._config.target+" .dropdown-item",i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,H.on(i._scrollElement,"scroll.bs.scrollspy",(function(t){return i._process(t)})),i.refresh(),i._process(),i}i(o,t);var r=o.prototype;return r.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",n="auto"===this._config.method?e:this._config.method,i="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),q.find(this._selector).map((function(t){var e=l(t),o=e?q.findOne(e):null;if(o){var r=o.getBoundingClientRect();if(r.width||r.height)return[Y[n](o).top+i,e]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},r.dispose=function(){t.prototype.dispose.call(this),H.off(this._scrollElement,".bs.scrollspy"),this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},r._getConfig=function(t){if("string"!=typeof(t=n({},ze,"object"==typeof t&&t?t:{})).target&&d(t.target)){var e=t.target.id;e||(e=s(qe),t.target.id=e),t.target="#"+e}return p(qe,t,Ve),t},r._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},r._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},r._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},r._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}}},r._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-bs-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=q.findOne(e.join(","));n.classList.contains("dropdown-item")?(q.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"),n.classList.add("active")):(n.classList.add("active"),q.parents(n,".nav, .list-group").forEach((function(t){q.prev(t,".nav-link, .list-group-item").forEach((function(t){return t.classList.add("active")})),q.prev(t,".nav-item").forEach((function(t){q.children(t,".nav-link").forEach((function(t){return t.classList.add("active")}))}))}))),H.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})},r._clear=function(){q.find(this._selector).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},o.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.scrollspy");if(e||(e=new o(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},e(o,null,[{key:"Default",get:function(){return ze}},{key:"DATA_KEY",get:function(){return"bs.scrollspy"}}]),o}(R);H.on(window,"load.bs.scrollspy.data-api",(function(){q.find('[data-bs-spy="scroll"]').forEach((function(t){return new Xe(t,Y.getDataAttributes(t))}))})),b((function(){var t=_();if(t){var e=t.fn[qe];t.fn[qe]=Xe.jQueryInterface,t.fn[qe].Constructor=Xe,t.fn[qe].noConflict=function(){return t.fn[qe]=e,Xe.jQueryInterface}}}));var $e=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var o=n.prototype;return o.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))){var e,n=c(this._element),i=this._element.closest(".nav, .list-group");if(i){var o="UL"===i.nodeName||"OL"===i.nodeName?":scope > li > .active":".active";e=(e=q.find(o,i))[e.length-1]}var r=null;if(e&&(r=H.trigger(e,"hide.bs.tab",{relatedTarget:this._element})),!(H.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==r&&r.defaultPrevented)){this._activate(this._element,i);var s=function(){H.trigger(e,"hidden.bs.tab",{relatedTarget:t._element}),H.trigger(t._element,"shown.bs.tab",{relatedTarget:e})};n?this._activate(n,n.parentNode,s):s()}}},o._activate=function(t,e,n){var i=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?q.children(e,".active"):q.find(":scope > li > .active",e))[0],r=n&&o&&o.classList.contains("fade"),s=function(){return i._transitionComplete(t,o,n)};if(o&&r){var a=u(o);o.classList.remove("show"),H.one(o,"transitionend",s),h(o,a)}else s()},o._transitionComplete=function(t,e,n){if(e){e.classList.remove("active");var i=q.findOne(":scope > .dropdown-menu .active",e.parentNode);i&&i.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}(t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),v(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu"))&&(t.closest(".dropdown")&&q.find(".dropdown-toggle").forEach((function(t){return t.classList.add("active")})),t.setAttribute("aria-expanded",!0));n&&n()},n.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.tab")||new n(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},e(n,null,[{key:"DATA_KEY",get:function(){return"bs.tab"}}]),n}(R);H.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){t.preventDefault(),(T(this,"bs.tab")||new $e(this)).show()})),b((function(){var t=_();if(t){var e=t.fn.tab;t.fn.tab=$e.jQueryInterface,t.fn.tab.Constructor=$e,t.fn.tab.noConflict=function(){return t.fn.tab=e,$e.jQueryInterface}}}));var Ge={animation:"boolean",autohide:"boolean",delay:"number"},Ze={animation:!0,autohide:!0,delay:5e3},Je=function(t){function o(e,n){var i;return(i=t.call(this,e)||this)._config=i._getConfig(n),i._timeout=null,i._setListeners(),i}i(o,t);var r=o.prototype;return r.show=function(){var t=this;if(!H.trigger(this._element,"show.bs.toast").defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var e=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),H.trigger(t._element,"shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),v(this._element),this._element.classList.add("showing"),this._config.animation){var n=u(this._element);H.one(this._element,"transitionend",e),h(this._element,n)}else e()}},r.hide=function(){var t=this;if(this._element.classList.contains("show")&&!H.trigger(this._element,"hide.bs.toast").defaultPrevented){var e=function(){t._element.classList.add("hide"),H.trigger(t._element,"hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var n=u(this._element);H.one(this._element,"transitionend",e),h(this._element,n)}else e()}},r.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),H.off(this._element,"click.dismiss.bs.toast"),t.prototype.dispose.call(this),this._config=null},r._getConfig=function(t){return t=n({},Ze,Y.getDataAttributes(this._element),"object"==typeof t&&t?t:{}),p("toast",t,this.constructor.DefaultType),t},r._setListeners=function(){var t=this;H.on(this._element,"click.dismiss.bs.toast",'[data-bs-dismiss="toast"]',(function(){return t.hide()}))},r._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},o.jQueryInterface=function(t){return this.each((function(){var e=T(this,"bs.toast");if(e||(e=new o(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t](this)}}))},e(o,null,[{key:"DefaultType",get:function(){return Ge}},{key:"Default",get:function(){return Ze}},{key:"DATA_KEY",get:function(){return"bs.toast"}}]),o}(R);return b((function(){var t=_();if(t){var e=t.fn.toast;t.fn.toast=Je.jQueryInterface,t.fn.toast.Constructor=Je,t.fn.toast.noConflict=function(){return t.fn.toast=e,Je.jQueryInterface}}})),{Alert:K,Button:Q,Carousel:Z,Collapse:nt,Dropdown:Te,Modal:Le,Popover:Ye,ScrollSpy:Xe,Tab:$e,Toast:Je,Tooltip:Re}}));
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(root,factory){if(typeof define==="function"&&define.amd){define("bloodhound",["jquery"],function(a0){return root.Bloodhound=factory(a0)})}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{root.Bloodhound=factory(jQuery)}})(this,function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj==="string"},isNumber:function(obj){return typeof obj==="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj==="undefined"},isElement:function(obj){return!!(obj&&obj.nodeType===1)},isJQuery:function(obj){return obj instanceof $},toStr:function toStr(s){return _.isUndefined(s)||s===null?"":s+""},bind:$.proxy,each:function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;if(!obj){return result}
$.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj))){return!1}});return!!result},some:function(obj,test){var result=!1;if(!obj){return result}
$.each(obj,function(key,val){if(result=test.call(null,val,key,obj)){return!1}});return!!result},mixin:$.extend,identity:function(x){return x},clone:function(obj){return $.extend(!0,{},obj)},getIdGenerator:function(){var counter=0;return function(){return counter++}},templatify:function templatify(obj){return $.isFunction(obj)?obj:template;function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}
return result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;previous=0;later=function(){previous=new Date();timeout=null;result=func.apply(context,args)};return function(){var now=new Date(),remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}
return result}},stringify:function(val){return _.isString(val)?val:JSON.stringify(val)},noop:function(){}}}();var VERSION="0.11.1";var tokenizers=function(){"use strict";return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}};function whitespace(str){str=_.toStr(str);return str?str.split(/\s+/):[]}
function nonword(str){str=_.toStr(str);return str?str.split(/\W+/):[]}
function getObjTokenizer(tokenizer){return function setKey(keys){keys=_.isArray(keys)?keys:[].slice.call(arguments,0);return function tokenize(o){var tokens=[];_.each(keys,function(k){tokens=tokens.concat(tokenizer(_.toStr(o[k])))});return tokens}}}}();var LruCache=function(){"use strict";function LruCache(maxSize){this.maxSize=_.isNumber(maxSize)?maxSize:100;this.reset();if(this.maxSize<=0){this.set=this.get=$.noop}}
_.mixin(LruCache.prototype,{set:function set(key,val){var tailItem=this.list.tail,node;if(this.size>=this.maxSize){this.list.remove(tailItem);delete this.hash[tailItem.key];this.size--}
if(node=this.hash[key]){node.val=val;this.list.moveToFront(node)}else{node=new Node(key,val);this.list.add(node);this.hash[key]=node;this.size++}},get:function get(key){var node=this.hash[key];if(node){this.list.moveToFront(node);return node.val}},reset:function reset(){this.size=0;this.hash={};this.list=new List()}});function List(){this.head=this.tail=null}
_.mixin(List.prototype,{add:function add(node){if(this.head){node.next=this.head;this.head.prev=node}
this.head=node;this.tail=this.tail||node},remove:function remove(node){node.prev?node.prev.next=node.next:this.head=node.next;node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node);this.add(node)}});function Node(key,val){this.key=key;this.val=val;this.prev=this.next=null}
return LruCache}();var PersistentStorage=function(){"use strict";var LOCAL_STORAGE;try{LOCAL_STORAGE=window.localStorage;LOCAL_STORAGE.setItem("~~~","!");LOCAL_STORAGE.removeItem("~~~")}catch(err){LOCAL_STORAGE=null}
function PersistentStorage(namespace,override){this.prefix=["__",namespace,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+_.escapeRegExChars(this.prefix));this.ls=override||LOCAL_STORAGE;!this.ls&&this._noop()}
_.mixin(PersistentStorage.prototype,{_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=_.noop},_safeSet:function(key,val){try{this.ls.setItem(key,val)}catch(err){if(err.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(key){if(this.isExpired(key)){this.remove(key)}
return decode(this.ls.getItem(this._prefix(key)))},set:function(key,val,ttl){if(_.isNumber(ttl)){this._safeSet(this._ttlKey(key),encode(now()+ttl))}else{this.ls.removeItem(this._ttlKey(key))}
return this._safeSet(this._prefix(key),encode(val))},remove:function(key){this.ls.removeItem(this._ttlKey(key));this.ls.removeItem(this._prefix(key));return this},clear:function(){var i,keys=gatherMatchingKeys(this.keyMatcher);for(i=keys.length;i--;){this.remove(keys[i])}
return this},isExpired:function(key){var ttl=decode(this.ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?!0:!1}});return PersistentStorage;function now(){return new Date().getTime()}
function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}
function decode(val){return $.parseJSON(val)}
function gatherMatchingKeys(keyMatcher){var i,key,keys=[],len=LOCAL_STORAGE.length;for(i=0;i<len;i++){if((key=LOCAL_STORAGE.key(i)).match(keyMatcher)){keys.push(key.replace(keyMatcher,""))}}
return keys}}();var Transport=function(){"use strict";var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,sharedCache=new LruCache(10);function Transport(o){o=o||{};this.cancelled=!1;this.lastReq=null;this._send=o.transport;this._get=o.limiter?o.limiter(this._get):this._get;this._cache=o.cache===!1?new LruCache(0):sharedCache}
Transport.setMaxPendingRequests=function setMaxPendingRequests(num){maxPendingRequests=num};Transport.resetCache=function resetCache(){sharedCache.reset()};_.mixin(Transport.prototype,{_fingerprint:function fingerprint(o){o=o||{};return o.url+o.type+$.param(o.data||{})},_get:function(o,cb){var that=this,fingerprint,jqXhr;fingerprint=this._fingerprint(o);if(this.cancelled||fingerprint!==this.lastReq){return}
if(jqXhr=pendingRequests[fingerprint]){jqXhr.done(done).fail(fail)}else if(pendingRequestsCount<maxPendingRequests){pendingRequestsCount++;pendingRequests[fingerprint]=this._send(o).done(done).fail(fail).always(always)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}
function done(resp){cb(null,resp);that._cache.set(fingerprint,resp)}
function fail(){cb(!0)}
function always(){pendingRequestsCount--;delete pendingRequests[fingerprint];if(that.onDeckRequestArgs){that._get.apply(that,that.onDeckRequestArgs);that.onDeckRequestArgs=null}}},get:function(o,cb){var resp,fingerprint;cb=cb||$.noop;o=_.isString(o)?{url:o}:o||{};fingerprint=this._fingerprint(o);this.cancelled=!1;this.lastReq=fingerprint;if(resp=this._cache.get(fingerprint)){cb(null,resp)}else{this._get(o,cb)}},cancel:function(){this.cancelled=!0}});return Transport}();var SearchIndex=window.SearchIndex=function(){"use strict";var CHILDREN="c",IDS="i";function SearchIndex(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){$.error("datumTokenizer and queryTokenizer are both required")}
this.identify=o.identify||_.stringify;this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}
_.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(o){this.datums=o.datums;this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data];_.each(data,function(datum){var id,tokens;that.datums[id=that.identify(datum)]=datum;tokens=normalizeTokens(that.datumTokenizer(datum));_.each(tokens,function(token){var node,chars,ch;node=that.trie;chars=token.split("");while(ch=chars.shift()){node=node[CHILDREN][ch]||(node[CHILDREN][ch]=newNode());node[IDS].push(id)}})})},get:function get(ids){var that=this;return _.map(ids,function(id){return that.datums[id]})},search:function search(query){var that=this,tokens,matches;tokens=normalizeTokens(this.queryTokenizer(query));_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&matches.length===0){return!1}
node=that.trie;chars=token.split("");while(node&&(ch=chars.shift())){node=node[CHILDREN][ch]}
if(node&&chars.length===0){ids=node[IDS].slice(0);matches=matches?getIntersection(matches,ids):ids}else{matches=[];return!1}});return matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},all:function all(){var values=[];for(var key in this.datums){values.push(this.datums[key])}
return values},reset:function reset(){this.datums={};this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}});return SearchIndex;function normalizeTokens(tokens){tokens=_.filter(tokens,function(token){return!!token});tokens=_.map(tokens,function(token){return token.toLowerCase()});return tokens}
function newNode(){var node={};node[IDS]=[];node[CHILDREN]={};return node}
function unique(array){var seen={},uniques=[];for(var i=0,len=array.length;i<len;i++){if(!seen[array[i]]){seen[array[i]]=!0;uniques.push(array[i])}}
return uniques}
function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort();arrayB=arrayB.sort();var lenArrayA=arrayA.length,lenArrayB=arrayB.length;while(ai<lenArrayA&&bi<lenArrayB){if(arrayA[ai]<arrayB[bi]){ai++}else if(arrayA[ai]>arrayB[bi]){bi++}else{intersection.push(arrayA[ai]);ai++;bi++}}
return intersection}}();var Prefetch=function(){"use strict";var keys;keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function Prefetch(o){this.url=o.url;this.ttl=o.ttl;this.cache=o.cache;this.prepare=o.prepare;this.transform=o.transform;this.transport=o.transport;this.thumbprint=o.thumbprint;this.storage=new PersistentStorage(o.cacheKey)}
_.mixin(Prefetch.prototype,{_settings:function settings(){return{url:this.url,type:"GET",dataType:"json"}},store:function store(data){if(!this.cache){return}
this.storage.set(keys.data,data,this.ttl);this.storage.set(keys.protocol,location.protocol,this.ttl);this.storage.set(keys.thumbprint,this.thumbprint,this.ttl)},fromCache:function fromCache(){var stored={},isExpired;if(!this.cache){return null}
stored.data=this.storage.get(keys.data);stored.protocol=this.storage.get(keys.protocol);stored.thumbprint=this.storage.get(keys.thumbprint);isExpired=stored.thumbprint!==this.thumbprint||stored.protocol!==location.protocol;return stored.data&&!isExpired?stored.data:null},fromNetwork:function(cb){var that=this,settings;if(!cb){return}
settings=this.prepare(this._settings());this.transport(settings).fail(onError).done(onResponse);function onError(){cb(!0)}
function onResponse(resp){cb(null,that.transform(resp))}},clear:function clear(){this.storage.clear();return this}});return Prefetch}();var Remote=function(){"use strict";function Remote(o){this.url=o.url;this.prepare=o.prepare;this.transform=o.transform;this.transport=new Transport({cache:o.cache,limiter:o.limiter,transport:o.transport})}
_.mixin(Remote.prototype,{_settings:function settings(){return{url:this.url,type:"GET",dataType:"json"}},get:function get(query,cb){var that=this,settings;if(!cb){return}
query=query||"";settings=this.prepare(query,this._settings());return this.transport.get(settings,onResponse);function onResponse(err,resp){err?cb([]):cb(that.transform(resp))}},cancelLastRequest:function cancelLastRequest(){this.transport.cancel()}});return Remote}();var oParser=function(){"use strict";return function parse(o){var defaults,sorter;defaults={initialize:!0,identify:_.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null};o=_.mixin(defaults,o||{});!o.datumTokenizer&&$.error("datumTokenizer is required");!o.queryTokenizer&&$.error("queryTokenizer is required");sorter=o.sorter;o.sorter=sorter?function(x){return x.sort(sorter)}:_.identity;o.local=_.isFunction(o.local)?o.local():o.local;o.prefetch=parsePrefetch(o.prefetch);o.remote=parseRemote(o.remote);return o};function parsePrefetch(o){var defaults;if(!o){return null}
defaults={url:null,ttl:24*60*60*1e3,cache:!0,cacheKey:null,thumbprint:"",prepare:_.identity,transform:_.identity,transport:null};o=_.isString(o)?{url:o}:o;o=_.mixin(defaults,o);!o.url&&$.error("prefetch requires url to be set");o.transform=o.filter||o.transform;o.cacheKey=o.cacheKey||o.url;o.thumbprint=VERSION+o.thumbprint;o.transport=o.transport?callbackToDeferred(o.transport):$.ajax;return o}
function parseRemote(o){var defaults;if(!o){return}
defaults={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:_.identity,transport:null};o=_.isString(o)?{url:o}:o;o=_.mixin(defaults,o);!o.url&&$.error("remote requires url to be set");o.transform=o.filter||o.transform;o.prepare=toRemotePrepare(o);o.limiter=toLimiter(o);o.transport=o.transport?callbackToDeferred(o.transport):$.ajax;delete o.replace;delete o.wildcard;delete o.rateLimitBy;delete o.rateLimitWait;return o}
function toRemotePrepare(o){var prepare,replace,wildcard;prepare=o.prepare;replace=o.replace;wildcard=o.wildcard;if(prepare){return prepare}
if(replace){prepare=prepareByReplace}else if(o.wildcard){prepare=prepareByWildcard}else{prepare=idenityPrepare}
return prepare;function prepareByReplace(query,settings){settings.url=replace(settings.url,query);return settings}
function prepareByWildcard(query,settings){settings.url=settings.url.replace(wildcard,encodeURIComponent(query));return settings}
function idenityPrepare(query,settings){return settings}}
function toLimiter(o){var limiter,method,wait;limiter=o.limiter;method=o.rateLimitBy;wait=o.rateLimitWait;if(!limiter){limiter=/^throttle$/i.test(method)?throttle(wait):debounce(wait)}
return limiter;function debounce(wait){return function debounce(fn){return _.debounce(fn,wait)}}
function throttle(wait){return function throttle(fn){return _.throttle(fn,wait)}}}
function callbackToDeferred(fn){return function wrapper(o){var deferred=$.Deferred();fn(o,onSuccess,onError);return deferred;function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}
function onError(err){_.defer(function(){deferred.reject(err)})}}}}();var Bloodhound=function(){"use strict";var old;old=window&&window.Bloodhound;function Bloodhound(o){o=oParser(o);this.sorter=o.sorter;this.identify=o.identify;this.sufficient=o.sufficient;this.local=o.local;this.remote=o.remote?new Remote(o.remote):null;this.prefetch=o.prefetch?new Prefetch(o.prefetch):null;this.index=new SearchIndex({identify:this.identify,datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer});o.initialize!==!1&&this.initialize()}
Bloodhound.noConflict=function noConflict(){window&&(window.Bloodhound=old);return Bloodhound};Bloodhound.tokenizers=tokenizers;_.mixin(Bloodhound.prototype,{__ttAdapter:function ttAdapter(){var that=this;return this.remote?withAsync:withoutAsync;function withAsync(query,sync,async){return that.search(query,sync,async)}
function withoutAsync(query,sync){return that.search(query,sync)}},_loadPrefetch:function loadPrefetch(){var that=this,deferred,serialized;deferred=$.Deferred();if(!this.prefetch){deferred.resolve()}else if(serialized=this.prefetch.fromCache()){this.index.bootstrap(serialized);deferred.resolve()}else{this.prefetch.fromNetwork(done)}
return deferred.promise();function done(err,data){if(err){return deferred.reject()}
that.add(data);that.prefetch.store(that.index.serialize());deferred.resolve()}},_initialize:function initialize(){var that=this,deferred;this.clear();(this.initPromise=this._loadPrefetch()).done(addLocalToIndex);return this.initPromise;function addLocalToIndex(){that.add(that.local)}},initialize:function initialize(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function add(data){this.index.add(data);return this},get:function get(ids){ids=_.isArray(ids)?ids:[].slice.call(arguments);return this.index.get(ids)},search:function search(query,sync,async){var that=this,local;local=this.sorter(this.index.search(query));sync(this.remote?local.slice():local);if(this.remote&&local.length<this.sufficient){this.remote.get(query,processRemote)}else if(this.remote){this.remote.cancelLastRequest()}
return this;function processRemote(remote){var nonDuplicates=[];_.each(remote,function(r){!_.some(local,function(l){return that.identify(r)===that.identify(l)})&&nonDuplicates.push(r)});async&&async(nonDuplicates)}},all:function all(){return this.index.all()},clear:function clear(){this.index.reset();return this},clearPrefetchCache:function clearPrefetchCache(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function clearRemoteCache(){Transport.resetCache();return this},ttAdapter:function ttAdapter(){return this.__ttAdapter()}});return Bloodhound}();return Bloodhound});(function(root,factory){if(typeof define==="function"&&define.amd){define("typeahead.js",["jquery"],function(a0){return factory(a0)})}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(this,function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj==="string"},isNumber:function(obj){return typeof obj==="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj==="undefined"},isElement:function(obj){return!!(obj&&obj.nodeType===1)},isJQuery:function(obj){return obj instanceof $},toStr:function toStr(s){return _.isUndefined(s)||s===null?"":s+""},bind:$.proxy,each:function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;if(!obj){return result}
$.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj))){return!1}});return!!result},some:function(obj,test){var result=!1;if(!obj){return result}
$.each(obj,function(key,val){if(result=test.call(null,val,key,obj)){return!1}});return!!result},mixin:$.extend,identity:function(x){return x},clone:function(obj){return $.extend(!0,{},obj)},getIdGenerator:function(){var counter=0;return function(){return counter++}},templatify:function templatify(obj){return $.isFunction(obj)?obj:template;function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}
return result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;previous=0;later=function(){previous=new Date();timeout=null;result=func.apply(context,args)};return function(){var now=new Date(),remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}
return result}},stringify:function(val){return _.isString(val)?val:JSON.stringify(val)},noop:function(){}}}();var WWW=function(){"use strict";var defaultClassNames={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return build;function build(o){var www,classes;classes=_.mixin({},defaultClassNames,o);www={css:buildCss(),classes:classes,html:buildHtml(classes),selectors:buildSelectors(classes)};return{css:www.css,html:www.html,classes:www.classes,selectors:www.selectors,mixin:function(o){_.mixin(o,www)}}}
function buildHtml(c){return{wrapper:'<span class="'+c.wrapper+'"></span>',menu:'<div class="'+c.menu+'"></div>'}}
function buildSelectors(classes){var selectors={};_.each(classes,function(v,k){selectors[k]="."+v});return selectors}
function buildCss(){var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}
return css}}();var EventBus=function(){"use strict";var namespace,deprecationMap;namespace="typeahead:";deprecationMap={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function EventBus(o){if(!o||!o.el){$.error("EventBus initialized without el")}
this.$el=$(o.el)}
_.mixin(EventBus.prototype,{_trigger:function(type,args){var $e;$e=$.Event(namespace+type);(args=args||[]).unshift($e);this.$el.trigger.apply(this.$el,args);return $e},before:function(type){var args,$e;args=[].slice.call(arguments,1);$e=this._trigger("before"+type,args);return $e.isDefaultPrevented()},trigger:function(type){var deprecatedType;this._trigger(type,[].slice.call(arguments,1));if(deprecatedType=deprecationMap[type]){this._trigger(deprecatedType,[].slice.call(arguments,1))}}});return EventBus}();var EventEmitter=function(){"use strict";var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}
types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}
return this}
function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}
function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}
function off(types){var type;if(!this._callbacks){return this}
types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}
return this}
function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks){return this}
types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));syncFlush()&&nextTick(asyncFlush)}
return this}
function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0,len=callbacks.length;!cancelled&&i<len;i+=1){cancelled=callbacks[i].apply(context,args)===!1}
return!cancelled}}
function getNextTick(){var nextTickFn;if(window.setImmediate){nextTickFn=function nextTickSetImmediate(fn){setImmediate(function(){fn()})}}else{nextTickFn=function nextTickSetTimeout(fn){setTimeout(function(){fn()},0)}}
return nextTickFn}
function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}}();var highlight=function(doc){"use strict";var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function hightlight(o){var regex;o=_.mixin({},defaults,o);if(!o.node||!o.pattern){return}
o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern];regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly);traverse(o.node,hightlightTextNode);function hightlightTextNode(textNode){var match,patternNode,wrapperNode;if(match=regex.exec(textNode.data)){wrapperNode=doc.createElement(o.tagName);o.className&&(wrapperNode.className=o.className);patternNode=textNode.splitText(match.index);patternNode.splitText(match[0].length);wrapperNode.appendChild(patternNode.cloneNode(!0));textNode.parentNode.replaceChild(wrapperNode,patternNode)}
return!!match}
function traverse(el,hightlightTextNode){var childNode,TEXT_NODE_TYPE=3;for(var i=0;i<el.childNodes.length;i++){childNode=el.childNodes[i];if(childNode.nodeType===TEXT_NODE_TYPE){i+=hightlightTextNode(childNode)?1:0}else{traverse(childNode,hightlightTextNode)}}}};function getRegex(patterns,caseSensitive,wordsOnly){var escapedPatterns=[],regexStr;for(var i=0,len=patterns.length;i<len;i++){escapedPatterns.push(_.escapeRegExChars(patterns[i]))}
regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")";return caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}}(window.document);var Input=function(){"use strict";var specialKeyCodeMap;specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function Input(o,www){o=o||{};if(!o.input){$.error("input is missing")}
www.mixin(this);this.$hint=$(o.hint);this.$input=$(o.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=buildOverflowHelper(this.$input);this._checkLanguageDirection();if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}}
Input.normalizeQuery=function(str){return _.toStr(str).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.trigger("blurred")},_onFocus:function onFocus(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+"Keyed",$e)}},_onInput:function onInput(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault;switch(keyName){case "up":case "down":preventDefault=!withModifier($e);break;default:preventDefault=!1}
preventDefault&&$e.preventDefault()},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case "tab":trigger=!withModifier($e);break;default:trigger=!0}
return trigger},_checkLanguageDirection:function checkLanguageDirection(){var dir=(this.$input.css("direction")||"ltr").toLowerCase();if(this.dir!==dir){this.dir=dir;this.$hint.attr("dir",dir);this.trigger("langDirChanged",dir)}},_setQuery:function setQuery(val,silent){var areEquivalent,hasDifferentWhitespace;areEquivalent=areQueriesEquivalent(val,this.query);hasDifferentWhitespace=areEquivalent?this.query.length!==val.length:!1;this.query=val;if(!silent&&!areEquivalent){this.trigger("queryChanged",this.query)}else if(!silent&&hasDifferentWhitespace){this.trigger("whitespaceChanged",this.query)}},bind:function(){var that=this,onBlur,onFocus,onKeydown,onInput;onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$input.on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown);if(!_.isMsie()||_.isMsie()>9){this.$input.on("input.tt",onInput)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}
_.defer(_.bind(that._onInput,that,$e))})}
return this},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getLangDir:function getLangDir(){return this.dir},getQuery:function getQuery(){return this.query||""},setQuery:function setQuery(val,silent){this.setInputValue(val);this._setQuery(val,silent)},hasQueryChangedSinceLastFocus:function hasQueryChangedSinceLastFocus(){return this.query!==this.queryWhenFocused},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value){this.$input.val(value);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function resetInputValue(){this.setInputValue(this.query)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow();!isValid&&this.clearHint()},hasFocus:function hasFocus(){return this.$input.is(":focus")},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart("character",-valueLength);return valueLength===range.text.length}
return!0},destroy:function destroy(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=$("<div>")}});return Input;function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:$input.css("font-family"),fontSize:$input.css("font-size"),fontStyle:$input.css("font-style"),fontVariant:$input.css("font-variant"),fontWeight:$input.css("font-weight"),wordSpacing:$input.css("word-spacing"),letterSpacing:$input.css("letter-spacing"),textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}
function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}
function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}}();var Dataset=function(){"use strict";var keys,nameGenerator;keys={val:"tt-selectable-display",obj:"tt-selectable-object"};nameGenerator=_.getIdGenerator();function Dataset(o,www){o=o||{};o.templates=o.templates||{};o.templates.notFound=o.templates.notFound||o.templates.empty;if(!o.source){$.error("missing source")}
if(!o.node){$.error("missing node")}
if(o.name&&!isValidName(o.name)){$.error("invalid dataset name: "+o.name)}
www.mixin(this);this.highlight=!!o.highlight;this.name=o.name||nameGenerator();this.limit=o.limit||5;this.displayFn=getDisplayFn(o.display||o.displayKey);this.templates=getTemplates(o.templates,this.displayFn);this.source=o.source.__ttAdapter?o.source.__ttAdapter():o.source;this.async=_.isUndefined(o.async)?this.source.length>2:!!o.async;this._resetLastSuggestion();this.$el=$(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}
Dataset.extractData=function extractData(el){var $el=$(el);if($el.data(keys.obj)){return{val:$el.data(keys.val)||"",obj:$el.data(keys.obj)||null}}
return null};_.mixin(Dataset.prototype,EventEmitter,{_overwrite:function overwrite(query,suggestions){suggestions=suggestions||[];if(suggestions.length){this._renderSuggestions(query,suggestions)}else if(this.async&&this.templates.pending){this._renderPending(query)}else if(!this.async&&this.templates.notFound){this._renderNotFound(query)}else{this._empty()}
this.trigger("rendered",this.name,suggestions,!1)},_append:function append(query,suggestions){suggestions=suggestions||[];if(suggestions.length&&this.$lastSuggestion.length){this._appendSuggestions(query,suggestions)}else if(suggestions.length){this._renderSuggestions(query,suggestions)}else if(!this.$lastSuggestion.length&&this.templates.notFound){this._renderNotFound(query)}
this.trigger("rendered",this.name,suggestions,!0)},_renderSuggestions:function renderSuggestions(query,suggestions){var $fragment;$fragment=this._getSuggestionsFragment(query,suggestions);this.$lastSuggestion=$fragment.children().last();this.$el.html($fragment).prepend(this._getHeader(query,suggestions)).append(this._getFooter(query,suggestions))},_appendSuggestions:function appendSuggestions(query,suggestions){var $fragment,$lastSuggestion;$fragment=this._getSuggestionsFragment(query,suggestions);$lastSuggestion=$fragment.children().last();this.$lastSuggestion.after($fragment);this.$lastSuggestion=$lastSuggestion},_renderPending:function renderPending(query){var template=this.templates.pending;this._resetLastSuggestion();template&&this.$el.html(template({query:query,dataset:this.name}))},_renderNotFound:function renderNotFound(query){var template=this.templates.notFound;this._resetLastSuggestion();template&&this.$el.html(template({query:query,dataset:this.name}))},_empty:function empty(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function getSuggestionsFragment(query,suggestions){var that=this,fragment;fragment=document.createDocumentFragment();_.each(suggestions,function getSuggestionNode(suggestion){var $el,context;context=that._injectQuery(query,suggestion);$el=$(that.templates.suggestion(context)).data(keys.obj,suggestion).data(keys.val,that.displayFn(suggestion)).addClass(that.classes.suggestion+" "+that.classes.selectable);fragment.appendChild($el[0])});this.highlight&&highlight({className:this.classes.highlight,node:fragment,pattern:query});return $(fragment)},_getFooter:function getFooter(query,suggestions){return this.templates.footer?this.templates.footer({query:query,suggestions:suggestions,dataset:this.name}):null},_getHeader:function getHeader(query,suggestions){return this.templates.header?this.templates.header({query:query,suggestions:suggestions,dataset:this.name}):null},_resetLastSuggestion:function resetLastSuggestion(){this.$lastSuggestion=$()},_injectQuery:function injectQuery(query,obj){return _.isObject(obj)?_.mixin({_query:query},obj):obj},update:function update(query){var that=this,canceled=!1,syncCalled=!1,rendered=0;this.cancel();this.cancel=function cancel(){canceled=!0;that.cancel=$.noop;that.async&&that.trigger("asyncCanceled",query)};this.source(query,sync,async);!syncCalled&&sync([]);function sync(suggestions){if(syncCalled){return}
syncCalled=!0;suggestions=(suggestions||[]).slice(0,that.limit);rendered=suggestions.length;that._overwrite(query,suggestions);if(rendered<that.limit&&that.async){that.trigger("asyncRequested",query)}}
function async(suggestions){suggestions=suggestions||[];if(!canceled&&rendered<that.limit){that.cancel=$.noop;rendered+=suggestions.length;that._append(query,suggestions.slice(0,that.limit-rendered));that.async&&that.trigger("asyncReceived",query)}}},cancel:$.noop,clear:function clear(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=$("<div>")}});return Dataset;function getDisplayFn(display){display=display||_.stringify;return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}
function getTemplates(templates,displayFn){return{notFound:templates.notFound&&_.templatify(templates.notFound),pending:templates.pending&&_.templatify(templates.pending),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return $("<div>").text(displayFn(context))}}
function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}}();var Menu=function(){"use strict";function Menu(o,www){var that=this;o=o||{};if(!o.node){$.error("node is required")}
www.mixin(this);this.$node=$(o.node);this.query=null;this.datasets=_.map(o.datasets,initializeDataset);function initializeDataset(oDataset){var node=that.$node.find(oDataset.node).first();oDataset.node=node.length?node:$("<div>").appendTo(that.$node);return new Dataset(oDataset,www)}}
_.mixin(Menu.prototype,EventEmitter,{_onSelectableClick:function onSelectableClick($e){this.trigger("selectableClicked",$($e.currentTarget))},_onRendered:function onRendered(type,dataset,suggestions,async){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",dataset,suggestions,async)},_onCleared:function onCleared(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function propagate(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function allDatasetsEmpty(){return _.every(this.datasets,isDatasetEmpty);function isDatasetEmpty(dataset){return dataset.isEmpty()}},_getSelectables:function getSelectables(){return this.$node.find(this.selectors.selectable)},_removeCursor:function _removeCursor(){var $selectable=this.getActiveSelectable();$selectable&&$selectable.removeClass(this.classes.cursor)},_ensureVisible:function ensureVisible($el){var elTop,elBottom,nodeScrollTop,nodeHeight;elTop=$el.position().top;elBottom=elTop+$el.outerHeight(!0);nodeScrollTop=this.$node.scrollTop();nodeHeight=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);if(elTop<0){this.$node.scrollTop(nodeScrollTop+elTop)}else if(nodeHeight<elBottom){this.$node.scrollTop(nodeScrollTop+(elBottom-nodeHeight))}},bind:function(){var that=this,onSelectableClick;onSelectableClick=_.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,onSelectableClick);_.each(this.datasets,function(dataset){dataset.onSync("asyncRequested",that._propagate,that).onSync("asyncCanceled",that._propagate,that).onSync("asyncReceived",that._propagate,that).onSync("rendered",that._onRendered,that).onSync("cleared",that._onCleared,that)});return this},isOpen:function isOpen(){return this.$node.hasClass(this.classes.open)},open:function open(){this.$node.addClass(this.classes.open)},close:function close(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function setLanguageDirection(dir){this.$node.attr("dir",dir)},selectableRelativeToCursor:function selectableRelativeToCursor(delta){var $selectables,$oldCursor,oldIndex,newIndex;$oldCursor=this.getActiveSelectable();$selectables=this._getSelectables();oldIndex=$oldCursor?$selectables.index($oldCursor):-1;newIndex=oldIndex+delta;newIndex=(newIndex+1)%($selectables.length+1)-1;newIndex=newIndex<-1?$selectables.length-1:newIndex;return newIndex===-1?null:$selectables.eq(newIndex)},setCursor:function setCursor($selectable){this._removeCursor();if($selectable=$selectable&&$selectable.first()){$selectable.addClass(this.classes.cursor);this._ensureVisible($selectable)}},getSelectableData:function getSelectableData($el){return $el&&$el.length?Dataset.extractData($el):null},getActiveSelectable:function getActiveSelectable(){var $selectable=this._getSelectables().filter(this.selectors.cursor).first();return $selectable.length?$selectable:null},getTopSelectable:function getTopSelectable(){var $selectable=this._getSelectables().first();return $selectable.length?$selectable:null},update:function update(query){var isValidUpdate=query!==this.query;if(isValidUpdate){this.query=query;_.each(this.datasets,updateDataset)}
return isValidUpdate;function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.query=null;this.$node.addClass(this.classes.empty);function clearDataset(dataset){dataset.clear()}},destroy:function destroy(){this.$node.off(".tt");this.$node=$("<div>");_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});return Menu}();var DefaultMenu=function(){"use strict";var s=Menu.prototype;function DefaultMenu(){Menu.apply(this,[].slice.call(arguments,0))}
_.mixin(DefaultMenu.prototype,Menu.prototype,{open:function open(){!this._allDatasetsEmpty()&&this._show();return s.open.apply(this,[].slice.call(arguments,0))},close:function close(){this._hide();return s.close.apply(this,[].slice.call(arguments,0))},_onRendered:function onRendered(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}
return s._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function onCleared(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}
return s._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function setLanguageDirection(dir){this.$node.css(dir==="ltr"?this.css.ltr:this.css.rtl);return s.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function hide(){this.$node.hide()},_show:function show(){this.$node.css("display","block")}});return DefaultMenu}();var Typeahead=function(){"use strict";function Typeahead(o,www){var onFocused,onBlurred,onEnterKeyed,onTabKeyed,onEscKeyed,onUpKeyed,onDownKeyed,onLeftKeyed,onRightKeyed,onQueryChanged,onWhitespaceChanged;o=o||{};if(!o.input){$.error("missing input")}
if(!o.menu){$.error("missing menu")}
if(!o.eventBus){$.error("missing event bus")}
www.mixin(this);this.eventBus=o.eventBus;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.input=o.input;this.menu=o.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);onFocused=c(this,"activate","open","_onFocused");onBlurred=c(this,"deactivate","_onBlurred");onEnterKeyed=c(this,"isActive","isOpen","_onEnterKeyed");onTabKeyed=c(this,"isActive","isOpen","_onTabKeyed");onEscKeyed=c(this,"isActive","_onEscKeyed");onUpKeyed=c(this,"isActive","open","_onUpKeyed");onDownKeyed=c(this,"isActive","open","_onDownKeyed");onLeftKeyed=c(this,"isActive","isOpen","_onLeftKeyed");onRightKeyed=c(this,"isActive","isOpen","_onRightKeyed");onQueryChanged=c(this,"_openIfActive","_onQueryChanged");onWhitespaceChanged=c(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",onFocused,this).onSync("blurred",onBlurred,this).onSync("enterKeyed",onEnterKeyed,this).onSync("tabKeyed",onTabKeyed,this).onSync("escKeyed",onEscKeyed,this).onSync("upKeyed",onUpKeyed,this).onSync("downKeyed",onDownKeyed,this).onSync("leftKeyed",onLeftKeyed,this).onSync("rightKeyed",onRightKeyed,this).onSync("queryChanged",onQueryChanged,this).onSync("whitespaceChanged",onWhitespaceChanged,this).onSync("langDirChanged",this._onLangDirChanged,this)}
_.mixin(Typeahead.prototype,{_hacks:function hacks(){var $input,$menu;$input=this.input.$input||$("<div>");$menu=this.menu.$node||$("<div>");$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement;isActive=$menu.is(active);hasActive=$menu.has(active).length>0;if(_.isMsie()&&(isActive||hasActive)){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on("mousedown.tt",function($e){$e.preventDefault()})},_onSelectableClicked:function onSelectableClicked(type,$el){this.select($el)},_onDatasetCleared:function onDatasetCleared(){this._updateHint()},_onDatasetRendered:function onDatasetRendered(type,dataset,suggestions,async){this._updateHint();this.eventBus.trigger("render",suggestions,async,dataset)},_onAsyncRequested:function onAsyncRequested(type,dataset,query){this.eventBus.trigger("asyncrequest",query,dataset)},_onAsyncCanceled:function onAsyncCanceled(type,dataset,query){this.eventBus.trigger("asynccancel",query,dataset)},_onAsyncReceived:function onAsyncReceived(type,dataset,query){this.eventBus.trigger("asyncreceive",query,dataset)},_onFocused:function onFocused(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function onBlurred(){if(this.input.hasQueryChangedSinceLastFocus()){this.eventBus.trigger("change",this.input.getQuery())}},_onEnterKeyed:function onEnterKeyed(type,$e){var $selectable;if($selectable=this.menu.getActiveSelectable()){this.select($selectable)&&$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){var $selectable;if($selectable=this.menu.getActiveSelectable()){this.select($selectable)&&$e.preventDefault()}else if($selectable=this.menu.getTopSelectable()){this.autocomplete($selectable)&&$e.preventDefault()}},_onEscKeyed:function onEscKeyed(){this.close()},_onUpKeyed:function onUpKeyed(){this.moveCursor(-1)},_onDownKeyed:function onDownKeyed(){this.moveCursor(+1)},_onLeftKeyed:function onLeftKeyed(){if(this.dir==="rtl"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onRightKeyed:function onRightKeyed(){if(this.dir==="ltr"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onQueryChanged:function onQueryChanged(e,query){this._minLengthMet(query)?this.menu.update(query):this.menu.empty()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint()},_onLangDirChanged:function onLangDirChanged(e,dir){if(this.dir!==dir){this.dir=dir;this.menu.setLanguageDirection(dir)}},_openIfActive:function openIfActive(){this.isActive()&&this.open()},_minLengthMet:function minLengthMet(query){query=_.isString(query)?query:this.input.getQuery()||"";return query.length>=this.minLength},_updateHint:function updateHint(){var $selectable,data,val,query,escapedQuery,frontMatchRegEx,match;$selectable=this.menu.getTopSelectable();data=this.menu.getSelectableData($selectable);val=this.input.getInputValue();if(data&&!_.isBlankString(val)&&!this.input.hasOverflow()){query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i");match=frontMatchRegEx.exec(data.val);match&&this.input.setHint(val+match[1])}else{this.input.clearHint()}},isEnabled:function isEnabled(){return this.enabled},enable:function enable(){this.enabled=!0},disable:function disable(){this.enabled=!1},isActive:function isActive(){return this.active},activate:function activate(){if(this.isActive()){return!0}else if(!this.isEnabled()||this.eventBus.before("active")){return!1}else{this.active=!0;this.eventBus.trigger("active");return!0}},deactivate:function deactivate(){if(!this.isActive()){return!0}else if(this.eventBus.before("idle")){return!1}else{this.active=!1;this.close();this.eventBus.trigger("idle");return!0}},isOpen:function isOpen(){return this.menu.isOpen()},open:function open(){if(!this.isOpen()&&!this.eventBus.before("open")){this.menu.open();this._updateHint();this.eventBus.trigger("open")}
return this.isOpen()},close:function close(){if(this.isOpen()&&!this.eventBus.before("close")){this.menu.close();this.input.clearHint();this.input.resetInputValue();this.eventBus.trigger("close")}
return!this.isOpen()},setVal:function setVal(val){this.input.setQuery(_.toStr(val))},getVal:function getVal(){return this.input.getQuery()},select:function select($selectable){var data=this.menu.getSelectableData($selectable);if(data&&!this.eventBus.before("select",data.obj)){this.input.setQuery(data.val,!0);this.eventBus.trigger("select",data.obj);this.close();return!0}
return!1},autocomplete:function autocomplete($selectable){var query,data,isValid;query=this.input.getQuery();data=this.menu.getSelectableData($selectable);isValid=data&&query!==data.val;if(isValid&&!this.eventBus.before("autocomplete",data.obj)){this.input.setQuery(data.val);this.eventBus.trigger("autocomplete",data.obj);return!0}
return!1},moveCursor:function moveCursor(delta){var query,$candidate,data,payload,cancelMove;query=this.input.getQuery();$candidate=this.menu.selectableRelativeToCursor(delta);data=this.menu.getSelectableData($candidate);payload=data?data.obj:null;cancelMove=this._minLengthMet()&&this.menu.update(query);if(!cancelMove&&!this.eventBus.before("cursorchange",payload)){this.menu.setCursor($candidate);if(data){this.input.setInputValue(data.val)}else{this.input.resetInputValue();this._updateHint()}
this.eventBus.trigger("cursorchange",payload);return!0}
return!1},destroy:function destroy(){this.input.destroy();this.menu.destroy()}});return Typeahead;function c(ctx){var methods=[].slice.call(arguments,1);return function(){var args=[].slice.call(arguments);_.each(methods,function(method){return ctx[method].apply(ctx,args)})}}}();(function(){"use strict";var old,keys,methods;old=$.fn.typeahead;keys={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};methods={initialize:function initialize(o,datasets){var www;datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1);o=o||{};www=WWW(o.classNames);return this.each(attach);function attach(){var $input,$wrapper,$hint,$menu,defaultHint,defaultMenu,eventBus,input,menu,typeahead,MenuConstructor;_.each(datasets,function(d){d.highlight=!!o.highlight});$input=$(this);$wrapper=$(www.html.wrapper);$hint=$elOrNull(o.hint);$menu=$elOrNull(o.menu);defaultHint=o.hint!==!1&&!$hint;defaultMenu=o.menu!==!1&&!$menu;defaultHint&&($hint=buildHintFromInput($input,www));defaultMenu&&($menu=$(www.html.menu).css(www.css.menu));$hint&&$hint.val("");$input=prepInput($input,www);if(defaultHint||defaultMenu){$wrapper.css(www.css.wrapper);$input.css(defaultHint?www.css.input:www.css.inputWithNoHint);$input.wrap($wrapper).parent().prepend(defaultHint?$hint:null).append(defaultMenu?$menu:null)}
MenuConstructor=defaultMenu?DefaultMenu:Menu;eventBus=new EventBus({el:$input});input=new Input({hint:$hint,input:$input},www);menu=new MenuConstructor({node:$menu,datasets:datasets},www);typeahead=new Typeahead({input:input,menu:menu,eventBus:eventBus,minLength:o.minLength},www);$input.data(keys.www,www);$input.data(keys.typeahead,typeahead)}},isEnabled:function isEnabled(){var enabled;ttEach(this.first(),function(t){enabled=t.isEnabled()});return enabled},enable:function enable(){ttEach(this,function(t){t.enable()});return this},disable:function disable(){ttEach(this,function(t){t.disable()});return this},isActive:function isActive(){var active;ttEach(this.first(),function(t){active=t.isActive()});return active},activate:function activate(){ttEach(this,function(t){t.activate()});return this},deactivate:function deactivate(){ttEach(this,function(t){t.deactivate()});return this},isOpen:function isOpen(){var open;ttEach(this.first(),function(t){open=t.isOpen()});return open},open:function open(){ttEach(this,function(t){t.open()});return this},close:function close(){ttEach(this,function(t){t.close()});return this},select:function select(el){var success=!1,$el=$(el);ttEach(this.first(),function(t){success=t.select($el)});return success},autocomplete:function autocomplete(el){var success=!1,$el=$(el);ttEach(this.first(),function(t){success=t.autocomplete($el)});return success},moveCursor:function moveCursoe(delta){var success=!1;ttEach(this.first(),function(t){success=t.moveCursor(delta)});return success},val:function val(newVal){var query;if(!arguments.length){ttEach(this.first(),function(t){query=t.getVal()});return query}else{ttEach(this,function(t){t.setVal(newVal)});return this}},destroy:function destroy(){ttEach(this,function(typeahead,$input){revert($input);typeahead.destroy()});return this}};$.fn.typeahead=function(method){if(methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else{return methods.initialize.apply(this,arguments)}};$.fn.typeahead.noConflict=function noConflict(){$.fn.typeahead=old;return this};function ttEach($els,fn){$els.each(function(){var $input=$(this),typeahead;(typeahead=$input.data(keys.typeahead))&&fn(typeahead,$input)})}
function buildHintFromInput($input,www){return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}
function prepInput($input,www){$input.data(keys.attrs,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")});$input.addClass(www.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}
return $input}
function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}
function revert($input){var www,$wrapper;www=$input.data(keys.www);$wrapper=$input.parent().filter(www.selectors.wrapper);_.each($input.data(keys.attrs),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)});$input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);if($wrapper.length){$input.detach().insertAfter($wrapper);$wrapper.remove()}}
function $elOrNull(obj){var isValid,$el;isValid=_.isJQuery(obj)||_.isElement(obj);$el=isValid?$(obj).first():[];return $el.length?$el:null}})()});
(function($){"use strict";$.fn.playlistBlock=function(){var block=$(this);if(block.length!=0){var embedSize=block.find('.ratio').height();var videoList=block.find('.post-grid');videoList.css('height',embedSize).removeClass('d-none');var embedReloader='<div class="embed-reloader bg-black">';embedReloader+='<div class="position-absolute top-50 start-50 translate-middle">';embedReloader+=$.getSpinner();embedReloader+='</div>';embedReloader+='</div>';block.find('.post-permalink').on('click',function(e){e.preventDefault();if(block.find('.embed-reloader').length==0){block.find('.embed-wrap .ratio').append(embedReloader)}else{block.find('.embed-reloader').show()}
var postItem=$(this).closest('.post-item');var postGrid=$(this).closest('.post-grid');postGrid.find('.post-item').removeClass('active');postItem.addClass('active');var embedUrl=postItem.find('article').attr('data-embed-url')+'?autoplay=1&logo=0';block.find('iframe').attr('src',embedUrl).next().fadeOut('slow')})}}
$.getSpinner=function($wrap=!0,$text='secondary'){var output='';if(!$text){$text='secondary'}
if($wrap===!0){output+='<div class="spinner-wrap d-flex justify-content-center p-3">'}
output+='<div class="spinner spinner-border text-'+$text+'" role="status">';output+='<span class="visually-hidden">Loading...</span>';output+='</div>';if($wrap===!0){output+='</div>'}
return output}
$.playSound=function(type='success',loop=!1){var audioUrl='';if(type=='success'){audioUrl=streamtube.sound.success}
if(type=='warning'){audioUrl=streamtube.sound.warning}
if(!audioUrl){return}
const audio=document.createElement('audio');audio.src=audioUrl;audio.loop=loop;audio.play()}
$.showToast=function(message,type=!0,delay=2000,custom_icon='',uniqueid=''){var output='';var icon='';switch(type){case 'success':icon='icon-ok-circled2';break;case 'danger':case 'warning':icon='icon-cancel-circled';break;case 'info':icon='icon-info-circled';break;default:icon='icon-help-circled';break}
if(custom_icon!=""){icon=custom_icon}
if(typeof message==='object'){message=message.join('<br/>')}
output+='<div class="toast-wrap position-fixed bottom-0 start-50 translate-middle-x p-3">';output+='<div id="notify-toast" class="toast fade hide border-0 p-1 align-items-center text-white bg-'+type+'" role="alert" aria-live="assertive" aria-atomic="true">';output+='<div class="d-flex">';output+='<div class="toast-body">';output+='<div class="d-flex align-items-center">';output+='<span class="h3 me-2 '+icon+'"></span>';output+='<p class="m-0">'+message+'</p>';output+='</div>';output+='</div><!--.toast-body-->';output+='<button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>';output+='</div><!--.d-flex-->';output+='</div><!--.toast-->';output+='</div><!--.toast-wrap-->';if($('#notify-toast').length!=0){$('#notify-toast').remove()}
$('body').append(output);if(delay==2000){delay=streamtube.toast.delay}
$(document.body).trigger('streamtube_toast_show',[message,type,delay,custom_icon,uniqueid]);$('#notify-toast').toast({delay:delay});$('#notify-toast').toast('show')}
$.getEditorContentCSS=function(){var themeMode=$('html').attr('data-theme');return themeMode=='dark'?streamtube.dark_editor_css:streamtube.light_editor_css}
$.editorInit=function(fieldId='',content_css){wp.editor.initialize(fieldId,{tinymce:{toolbar1:streamtube.editor_toolbar.toString(),content_css:$.getEditorContentCSS()}})}
$.editorRemove=function(fieldId=''){wp.editor.remove(fieldId)}
$.getAjaxRequestUrl=function(){return streamtube.ajaxUrl}
$.getRestUrl=function($endpoint=''){return streamtube.rest_url+$endpoint}
$.ajaxFormRequest=function(event){event.preventDefault();var form=$(this);var method=form.attr('method');if(!method){method='POST'}
var formData=new FormData(form[0]);var button=$(document.activeElement);if(button.attr('type')=='submit'&&button.val()==''){button=$(event.originalEvent.submitter)}
var action=formData.get('action');var requestUrl=formData.get('request_url');if(!requestUrl){var formNonce=formData.get('_wpnonce');if(!formNonce){formData.append('_wpnonce',streamtube._wpnonce)}
requestUrl=$.getAjaxRequestUrl()}
var nonce=formData.get('nonce');if(!nonce){nonce=streamtube.nonce}
formData.append('submit',button.val());var jqxhr=$.ajax({url:requestUrl,data:formData,processData:!1,contentType:!1,type:method,xhr:function(){var jqXHR=new XMLHttpRequest();jqXHR.upload.addEventListener('progress',function(event){if(event.lengthComputable){var percentComplete=Math.round((event.loaded/event.total)*100);form.find('.progress-bar').css('width',percentComplete+'%').attr('aria-valuenow',percentComplete).html(percentComplete+'%')}},!1);return jqXHR},beforeSend:function(jqXHR){jqXHR.setRequestHeader('X-WP-Nonce',nonce);$(document.body).trigger(action+'_before_send',[form,formData]);form.find('button[type=submit]').addClass('disabled').attr('disabled','disabled').append($.getSpinner(!1))}}).fail(function(jqXHR,textStatus,errorThrown){$(document.body).trigger(action+'_failed',[errorThrown,jqXHR,form,formData]);if(jqXHR.responseJSON!==undefined&&jqXHR.responseJSON.message!==undefined){$.showToast(jqXHR.responseJSON.message,'danger')}else{$.showToast(errorThrown,'danger')}}).done(function(data,textStatus,jqXHR){$(document.body).trigger(action,[data,textStatus,jqXHR,formData,form])}).always(function(jqXHR,textStatus){$(document.body).trigger('form_submit_complete',[jqXHR,textStatus]);$(document.body).trigger(action+'_complete',[jqXHR,textStatus]);form.find('button[type=submit]').removeClass('disabled').removeAttr('disabled').find('.spinner-border').remove()})}
$.ajaxElementOnEventRequest=function(event=null){if(event!==null){event.preventDefault()}
var element=$(this);if(element.hasClass('waiting')){return!1}
var data=element.attr('data-params');var action=element.attr('data-action');var method=element.attr('data-method');var formData=new FormData();formData.append('_wpnonce',streamtube._wpnonce);formData.append('action',action);formData.append('data',data);if(method===undefined){method='POST'}
var jqxhr=$.ajax({url:$.getAjaxRequestUrl(),data:formData,processData:!1,contentType:!1,type:method,beforeSend:function(jqXHR){var inputs=['text','checkbox','radio','email','search','password'];var elementType=element.attr('type');element.addClass('active waiting');element.addClass('disabled').attr('disabled','disabled');if(elementType&&$.inArray(elementType,inputs)==-1){element.append($.getSpinner(!1))}
$(document.body).trigger(action+'_before_send',[element,formData])}}).done(function(responseData,textStatus,jqXHR){element.removeClass('active waiting disabled').removeAttr('disabled');$(document.body).trigger(action,[responseData,textStatus,jqXHR,element])}).fail(function(jqXHR,textStatus,errorThrown){$.showToast(errorThrown,'danger')}).always(function(jqXHR,textStatus){element.find('.spinner-border').remove()})}
$.uploadBigFile=function(file,sliceSize=10240,form=null){var size=parseInt(file.size);sliceSize=parseInt(sliceSize);if(!sliceSize){sliceSize=10240}
if(sliceSize>=size){sliceSize=size/2}
var start=0;var end=sliceSize;var chunkIndex=0;$.uploadChunk(file,start,end,chunkIndex,sliceSize,form)}
$.uploadChunk=function(file,start,end,chunkIndex,sliceSize,form){var formData=new FormData();var jqXHR=new XMLHttpRequest();var fileSize=file.size;var chunkTotal=Math.ceil(fileSize/sliceSize);formData.append('action','upload_video_chunk');formData.append('size',file.size);formData.append('type',file.type);formData.append('name',file.name);formData.append('chunks',chunkTotal);formData.append('chunk',chunkIndex);formData.append('async-upload',file.slice(start,end));formData.append('_wpnonce',streamtube.media_form);if(fileSize-end<0){end=fileSize}
if(end<fileSize){jqXHR.onreadystatechange=function(){if(jqXHR.readyState==XMLHttpRequest.DONE){var status=jqXHR.status;if(status===0||(status>=200&&status<400)){chunkIndex++;$.uploadChunk(file,start+sliceSize,start+(sliceSize*2),chunkIndex,sliceSize,form)}else{$(document.body).trigger('upload_video_failed',[jqXHR.statusText,jqXHR,form])}}}}
jqXHR.upload.onprogress=function(event){var percentComplete=parseInt((chunkIndex*100)/(chunkTotal-1));form.find('.progress-bar').css('width',percentComplete+'%').attr('aria-valuenow',percentComplete).html(percentComplete+'%')}
jqXHR.onload=function(){if(jqXHR.readyState===4&&jqXHR.responseText){var status=jqXHR.status;if(status===0||(status>=200&&status<400)){var responseData=$.parseJSON(jqXHR.responseText);if(responseData.success!=undefined&&responseData.success==!1){$(document.body).trigger('upload_video_failed',[responseData.data.message,jqXHR,form])}
if(responseData.data.id){$.post($.getAjaxRequestUrl(),{action:'upload_video_chunks',attachment_id:responseData.data.id,post_status:form.find('select[name=post_status]').val(),'_wpnonce':streamtube._wpnonce}).done(function(data,textStatus,jqXHR){$(document.body).trigger('add_video',[data,textStatus,jqXHR,null,form])})}}}}
jqXHR.open('POST',$.getAjaxRequestUrl(),!0);jqXHR.setRequestHeader('X-WP-Nonce',streamtube.nonce);jqXHR.send(formData)}
$.getCartTotal=function(){$.get($.getAjaxRequestUrl()+'?action=get_cart_total',function(data){if(data.success){var output='<span class="cart-total bg-danger text-white small p-1 px-2 ms-2 rounded">'+data.data.item_count_text+' ('+data.data.total+')</span>';var elm=$('.header-user__dropdown .nav-cart a');elm.find('.cart-total').remove();elm.append(output);$('.header-user__cart .cart-count').html('<span class="badge bg-danger">'+data.data.item_count+'</span>');$(document.body).trigger('get_cart_total_loaded',[data])}})}})(jQuery);
(function($){"use strict";$(function(){$('.drm-always-visible').on('click',function(e){e.stopPropagation()});$('.cropper-img').each(function(e){var me=$(this);me[0].addEventListener('crop',function(e){me.closest('form').find('input[name=image_data]').val(JSON.stringify(e.detail))})});$('.jsappear').scrolling();autosize($('.autosize'));$('#theme-switcher').on('click',function(event){var path=window.location.pathname;var text='';var theme=$('html').attr('data-theme');if(theme=='dark'){theme='light';$('.custom-logo-link img').attr('src',streamtube.light_logo);text=streamtube.dark_mode_text}else{theme='dark';$('.custom-logo-link img').attr('src',streamtube.dark_logo);text=streamtube.light_mode_text}
document.cookie='theme_mode='+theme+';path=/';$('html').attr('data-theme',theme);$(this).find('span.menu-text').html(text);$(document.body).trigger('theme_mode_changed',[theme])});$(document).on('click','#turn-off-light',function(event){var isOn=!1;$('body').toggleClass('has-light-off');if($('body').hasClass('has-light-off')){$('body').append('<div id="light-off"></div>');$(this).attr('title',$(this).attr('data-off-title'));isOn=!0}else{$('#light-off').remove();$(this).attr('title',$(this).attr('data-on-title'))}
$(document.body).trigger('turn_off_on_light',[isOn])});$(document).on('click','#btn-up-next',function(event){var path=window.location.pathname;var button=$(this);var isEnabled=button.hasClass('auto-next');if(!isEnabled){document.cookie='upnext=on;path=/';button.addClass('auto-next').attr('title',button.attr('data-off-title'));$(document.body).trigger('turn_on_upnext')}else{document.cookie='upnext=off;path=/';button.removeClass('auto-next').attr('title',button.attr('data-on-title'));$(document.body).trigger('turn_off_upnext')}});var delaySearchInput=null;$(document).on('keyup','.search-input.autocomplete',function(event){var field=$(this);var form=field.closest('form');var data=form.serialize();var search=field.val();var searchUrl=streamtube.ajaxUrl+'?action=search_autocomplete&'+data;if(search==''){form.removeClass('searching').find('.spinner').remove();return!1}
if(delaySearchInput!=null){clearTimeout(delaySearchInput)}
delaySearchInput=setTimeout(function(){form.addClass('searching').find('button[type=submit]').append($.getSpinner(!1));$.get(searchUrl,function(response){var output='';form.find('.autocomplete-results').remove();if(response.success){output+='<div class="autocomplete-results position-absolute start-0 bg-white p-3 shadow w-100">';output+='<div class="pt-4">';output+=response.data;output+='</div>';output+='</div>';field.after(output)}
form.removeClass('searching').find('.spinner').remove()})},300)});$(document).on('click',function(event){if($(event.target).closest('#site-search').length===0){$('.autocomplete-results').remove()}});$('#btn-menu-collap').on('click',function(event){var is_collapsed=$('#sidebar-secondary').hasClass('sidebar-collapse')?!0:!1;document.cookie='is_float_collapsed='+is_collapsed+';path=/'});$('.login #loginform').find('.input').addClass('form-control');$(".js-slick").not('.slick-initialized').slick();$('.widget-videos-playlist').playlistBlock();window.addEventListener('message',(event)=>{if(event.data=='PLAYLIST_UPNEXT'){var playListWdiget=$('.widget-videos-playlist');if(playListWdiget.hasClass('up-next')){setTimeout(function(){var activePost=playListWdiget.find('.post-item.active');var nextPost=activePost.next();if(nextPost){activePost.removeClass('active');nextPost.addClass('active');nextPost[0].scrollIntoView({behavior:'smooth',block:'nearest',inline:'start'});var embedUrl=nextPost.find('article').attr('data-embed-url')+'?autoplay=1&logo=0';playListWdiget.find('iframe').attr('src',embedUrl)}},3000)}}},!1);if(streamtube.has_woocommerce){$.getCartTotal()}
fixPlayListContentWidget();initTagsInput()});$(window).resize(function(){$('.widget-videos-playlist').playlistBlock();fixPlayListContentWidget()});$('.js-slick').on('init',function(e){$(this).closest('.widget').find('.preplacehoder').remove()});$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/streamtube_posts_elementor.default',function($scope,$){$scope.find('.preplacehoder').remove();$scope.find('.js-slick').not('.slick-initialized').slick()})});$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/streamtube-tax-grid.default',function($scope,$){$scope.find('.preplacehoder').remove();$scope.find('.js-slick').not('.slick-initialized').slick()})});$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/streamtube-sliding-term-menu.default',function($scope,$){$scope.find('.js-slick').not('.slick-initialized').slick()})});$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/streamtube-playlist.default',function($scope,$){$scope.find('.widget-videos-playlist').playlistBlock()})});$(document.body).on('upload_video_before_send',uploadVideoBeforeSend).on('upload_video',uploadVideo).on('upload_video_failed',uploadVideoFailed).on('add_video',addVideo).on('import_embed_before_send',importEmbedBeforeSend).on('import_embed',importEmbed).on('live_stream_before_send',liveStreamBeforeSend).on('live_stream',liveStream).on('add_post',addPost).on('update_post_before_send',updatePostBeforeSend).on('update_post',updatePost).on('trash_post',trashPost).on('approve_post',approvePost).on('reject_post',rejectPost).on('restore_post',restorePost).on('process_live_stream',processLiveStream).on('report_video',reportVideo).on('update_text_tracks',updateTextTracks).on('update_altsources',updateAltSources).on('update_embed_privacy',updateEmbedPrivacy).on('file_encode_done',fileEncodeDone).on('post_comment',postComment).on('edit_comment',editComment).on('report_comment',reportComment).on('remove_comment_report',removeCommentReport).on('get_comment_to_edit',editInlineComment).on('get_comment_to_report',reportInlineComment).on('moderate_comment',moderateComment).on('trash_comment',trashComment).on('spam_comment',spamComment).on('load_more_comments',loadMoreComments).on('load_comments',loadComments).on('load_comments_before_send',loadCommentsBeforeSend).on('update_advertising',updateAdvertising).on('update_profile',updateProfile).on('update_social_profiles',updateSocialProfiles).on('update_user_photo',updateUserPhoto).on('delete_user_photo',deleteUserPhoto).on('widget_load_more_posts',widgetLoadMoreposts).on('load_more_users',loadMoreUsers).on('load_more_tax_terms',loadMoreTaxTerms).on('post_like',postLike).on('added_to_cart',addedToCart).on('updated_cart_totals',updatedCartTotals).on('removed_from_cart',removedFromCart).on('join_us',joinUs).on('transfers_points',transfersPoints).on('send_private_message',newMessageThread).on('create_collection',createCollection).on('delete_collection',deleteCollection).on('set_post_collection',setPostCollection).on('set_post_watch_later',setPostWatchLater).on('set_image_collection',setImageCollection).on('upload_collection_thumbnail_image',uploadCollectionThumbnailImage).on('set_collection_status',setCollectionStatus).on('get_collection_term',getCollectionTerm).on('set_collection_activity',setCollectionActivity).on('clear_collection',clearCollection).on('search_videos',searchVideos).on('search_in_collection',searchInCollection).on('player_ended',autoUpnext);function initTagsInput(){$('input[data-role=tags-input]').each(function(k,v){var element=$(this);var maxTags=parseInt(element.attr('data-max-tags'));var maxChars=parseInt(element.attr('data-max-chars'));var freeInput=parseInt(element.attr('data-free-input'));var autosuggest=parseInt(element.attr('data-auto-suggest'));var tax=element.attr('data-tax');element.tagsinput({freeInput:freeInput==1?!0:!1,maxTags:isNaN(maxTags)?10:maxTags,maxChars:isNaN(maxChars)?100:maxChars,typeaheadjs:{source:function(query,process){if(autosuggest!=1){return!1}
return $.ajax({url:streamtube.ajaxUrl+'?action=search_terms&taxonomy='+tax+'&search='+query+'&_wpnonce='+streamtube._wpnonce,method:'GET',async:!1,success:function(response){let terms=response.data;if(!terms){return!1}
let _terms=[];for(let i=0;i<terms.length;i++){_terms.push(terms[i].name)}
process(_terms)}})}}})})}
function uploadVideoBeforeSend(event,form,formData,file=null){form.find('.row-info').remove();if(file===null){file=formData.get('video_file')}
if(file===null){return}
form.find('.drag-drop-upload').addClass('active').find('.progress-bar').css('width','0%').attr('aria-valuenow','0').html('0%').closest('.progress-wrap').find('.file-name').html(file.name)}
function uploadVideo(event,responseData,textStatus,jqXHR,formData,form){var data=responseData.data;if(responseData.success==!1){form.find('.drag-drop-upload').removeClass('active').find('input[name=video_file]').val('');return $.showToast(data.message,'danger')}
form.find('.upload-form__group').replaceWith(data.form);$.editorInit('_post_content');form.find('input[name=action]').val('update_post');form.closest('.modal-dialog').addClass('modal-xl').removeClass('modal-lg');form.closest('.modal-content').find('.modal-footer').removeClass('d-none');multipleCheckboxesAction();initTagsInput()}
function uploadVideoFailed(event,message,jqXHR,form){$.showToast(message,'danger');form.find('.drag-drop-upload').removeClass('active').find('input[name=video_file]').val('')}
function addVideo(event,responseData,textStatus,jqXHR,formData,form){return uploadVideo(event,responseData,textStatus,jqXHR,formData,form)}
function liveStreamBeforeSend(event,form,data){form.closest('.modal-content').find('button[type=submit]').addClass('disabled').attr('disabled','disabled').append($.getSpinner(!1))}
function liveStream(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data[0].message,'danger');form.closest('.modal-content').find('button[type=submit]').removeClass('disabled').removeAttr('disabled').find('.spinner-border').remove()}else{$.showToast(responseData.data.message,'success');window.location.href=responseData.data.redirect_to}}
function importEmbedBeforeSend(event,form,data){form.closest('.modal-content').find('button[type=submit]').addClass('disabled').attr('disabled','disabled').append($.getSpinner(!1))}
function importEmbed(event,responseData,textStatus,jqXHR,formData,form){form.closest('.modal-content').find('button[type=submit]').removeClass('disabled').removeAttr('disabled').find('.spinner-border').remove();$.showToast(responseData.data.message,responseData.success==!0?'success':'danger');return uploadVideo(event,responseData,textStatus,jqXHR,formData,form)}
function addPost(event,responseData,textStatus,jqXHR,formData,form){$.showToast(responseData.data.message,responseData.success==!0?'success':'danger');if(responseData.success==!0){window.location.href=responseData.data.redirect_url}}
function updatePostBeforeSend(event,form,formdata){form.closest('.modal-content').find('button[type=submit]').addClass('disabled').attr('disabled','disabled').append($.getSpinner(!1))}
function updatePost(event,responseData,textStatus,jqXHR,formData,form){$.showToast(responseData.data.message,responseData.success==!0?'success':'danger');var data=responseData.data;var post=data.post;if(responseData.success==!0){if(data.quick_update===undefined){var title_field=form.find('.field-post_title');$('h1.page-title').html(post.post_title);form.find('#post_name').val(post.post_name);if(post.post_status=='future'){if(title_field.prev('.alert-scheduled').length==0){title_field.before('<p class="alert alert-scheduled alert-info p-2 px-3">'+data.message2+'</div>')}}else{title_field.prev('.alert-scheduled').remove()}
form.find('input[name=featured-image]').val('');form.find('.current-post-permalink').attr('href',post.post_link)}else{var output='';output+='<div class="bg-light d-flex">';output+='<div class="post-thumbnail ratio ratio-16x9 rounded overflow-hidden bg-dark w-200px">';if(post.post_thumbnail){output+='<a href="'+post.post_link+'"><img src="'+post.post_thumbnail+'"></a>'}
output+='</div><!--.post-thumbnail-->';output+='<div class="post-meta ms-4">';output+='<h3><a href="'+post.post_link+'" class="post-title post-title-md text-decoration-none text-body fw-bold">';output+=post.post_title;output+='</a></h3>';output+='<div class="post-status mb-4">';output+='<span class="text-capitalize badge badge-'+post.post_status+'">'+post.post_status+'</span>';output+='</div>';output+='</div><!--.post-meta-->';output+='</div>';form.html(output).closest('.modal-content').find('.modal-footer').remove();form.closest('.modal-dialog').removeClass('modal-xl').addClass('modal-lg');var modalTitle=streamtube.pending_review;if(post.post_status=='publish'){modalTitle=streamtube.video_published}
form.closest('.modal-content').find('.modal-title').html(modalTitle)}}
if(responseData.success==!1){form.closest('.modal-content').find('button[type=submit]').removeClass('disabled').removeAttr('disabled').find('.spinner').remove()}}
function reportVideo(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{$.showToast(responseData.data.message,'success')}}
function updateTextTracks(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data[0].message,'danger')}else{$.showToast(responseData.data.message,'success')}}
function updateAltSources(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data[0].message,'danger')}else{$.showToast(responseData.data.message,'success')}}
function updateEmbedPrivacy(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data[0].message,'danger')}else{$.showToast(responseData.data.message,'success')}}
function trashPost(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{var rowId=$('.table-videos').find('tr#row-'+responseData.data.post.ID);if(rowId.length!=0){rowId.remove()}else{window.location.href=responseData.data.redirect_url}
$('#deletePostModal').modal('hide');$.showToast(responseData.data.message,'success')}}
function approvePost(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{$('.table-posts').find('tr#row-'+responseData.data.post_id).remove();$('#updatePostMessageModal').modal('hide');$.showToast(responseData.data.message,'success')}}
function rejectPost(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{$('.table-posts').find('tr#row-'+responseData.data.post_id).remove();$('#updatePostMessageModal').modal('hide');$.showToast(responseData.data.message,'success')}}
function restorePost(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{$('.table-videos').find('tr#row-'+responseData.data.post.ID).remove();$.showToast(responseData.data.message,'success')}}
function processLiveStream(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{$.showToast(responseData.data.message,'success');window.location.reload()}}
function fileEncodeDone(event,attachment,textStatus,jqXHR){if(attachment.parent_name){var message='<strong>'+attachment.parent_name+'</strong>'+' '+streamtube.file_encode_done;if(attachment.parent_url){message+='<a class="text-white ms-1" href="'+attachment.parent_url+'"><strong>'+streamtube.view_video+'</strong></a>'}
$.showToast(message,'success');if($('body').hasClass('single-video')){setTimeout(function(){window.location.href=attachment.parent_url},3000)}}}
function postComment(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{var commentList=form.closest('.comments-area').find('.comments-list');var comment=responseData.data.comment;var output=responseData.data.comment_output;commentList.find('.no-comments').remove();if(parseInt(comment.comment_parent)==0){if(commentList.hasClass('comment-form-position-top')){commentList.prepend(output)}else{commentList.append(output)}}else{var parent=$('li#comment-'+comment.comment_parent);if(parent.find('ul.children').length==0){parent.append('<ul class="children d-block">'+output+'</ul>')}else{parent.find('ul.children').addClass('d-block').append(output)}}
$('.comment-title .widget-title').html(responseData.data.comments_number);$('#commentform #comment').val('');$.showToast(responseData.data.message,'success')}}
function editComment(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
var comment=responseData.data.comment;$('#row-comment-'+comment.comment_ID).find('.comment-content').html(comment.comment_content_filtered);$('#modal-edit-comment').modal('hide');if(form.hasClass('edit-inline-comment')){form.prev().css('height','auto').html(comment.comment_content_autop).slideDown();form.remove()}
return $.showToast(responseData.data.message,'success')}
function reportComment(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
form.prev().slideDown().html('<p class="text-muted fst-italic">'+streamtube.comment_reviewed+'</p>');form.closest('li.comment').addClass('has-reported').find('.btn-report-comment').remove();form.remove();return $.showToast(responseData.data.message,'success')}
function removeCommentReport(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.closest('.comment-content').find('.comment-text').html(responseData.data.comment.comment_content_autop);element.remove();return $.showToast(responseData.data.message,'success')}
function editInlineComment(event,responseData,textStatus,jqXHR,element){var commentList=element.closest('#comments-list');commentList.find('.edit-inline-comment').remove();if(commentList.length==0){commentList=element.closest('.table-comments')}
if(responseData.data.comment_editor=='editor'){$.editorRemove('_comment_content')}
var parent=element.closest('.comment-wrap');var comment_content=responseData.data.comment_content.replace('/\r?\n/g','<br />');var form='';form+='<form class="form-ajax edit-comment edit-inline-comment">';form+='<div class="wp-editor-wrap">';form+='<textarea class="form-control autosize" id="_comment_content" name="comment_content">'+comment_content+'</textarea>';form+='<div class="d-flex gap-3 mt-3">';form+='<button class="btn btn-secondary btn-sm btn-cancel" type="button">'+streamtube.cancel+'</button>';form+='<button class="btn btn-danger btn-sm" type="submit">'+streamtube.save+'</button>';form+='</div>';form+='<input type="hidden" name="action" value="edit_comment">';form+='<input type="hidden" name="comment_ID" value="'+responseData.data.comment_ID+'">';form+='</div>';form+='</form>';parent.find('.comment-text > div:first-child').slideUp();parent.find('.comment-text').append(form);if(responseData.data.comment_editor=='editor'){$.editorInit('_comment_content')}
parent.find('textarea[name=comment_content]').focus()}
function reportInlineComment(event,responseData,textStatus,jqXHR,element){editInlineComment(event,responseData,textStatus,jqXHR,element);$('.edit-inline-comment').find('textarea[name=comment_content]').val('');$('.edit-inline-comment').find('button[type=submit]').html(streamtube.report);$('.edit-inline-comment').find('input[name=action]').val('report_comment')}
function moderateComment(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
var approve=responseData.data.comment_approved;if(approve=='1'){element.removeClass('text-success').addClass('text-warning').html(responseData.data.status)}else{element.removeClass('text-warning').addClass('text-success').html(responseData.data.status)}
element.closest('tr').toggleClass('table-warning')}
function trashComment(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.closest('tr#row-comment-'+responseData.data.comment_id).remove();element.closest('li#comment-'+responseData.data.comment_id).remove();return $.showToast(responseData.data.message,'success')}
function spamComment(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.closest('tr#row-comment-'+responseData.data.comment_id).remove();return $.showToast(responseData.data.message,'success')}
function loadMoreComments(event,responseData,textStatus,jqXHR,element){element.removeClass('active');if(responseData.data.output){element.closest('li').before(responseData.data.output);element.attr('data-params',responseData.data.data)}else{element.closest('li').remove()}}
function loadCommentsBeforeSend(event,element,formData){var commentsList=$('ul#comments-list');if(commentsList.find('li.load-more-comments-wrap').length!=0){commentsList.find('li:not(:last-child)').remove();commentsList.find('li').addClass('d-none').before('<li class="spinner">'+$.getSpinner()+'</li>')}else{commentsList.html('<li class="spinner">'+$.getSpinner()+'</li>')}}
function loadComments(event,responseData,textStatus,jqXHR,element){var commentsList=$('ul#comments-list');setTimeout(function(){if(responseData.success==!0){commentsList.find('.spinner').replaceWith(responseData.data.output);commentsList.find('li.load-more-comments-wrap').removeClass('d-none').find('button').attr('data-params',element.attr('data-params'))}else{$.showToast(responseData.data.message,'danger')}
element.addClass('active').closest('.dropdown-menu').find('.dropdown-item').removeClass('active waiting');element.closest('.dropdown-menu').prev().html(element.html())},300)}
function updateAdvertising(event,responseData,textStatus,jqXHR,formData,form){$.showToast(responseData.data.message,responseData.success==!0?'success':'danger')}
function updateProfile(event,responseData,textStatus,jqXHR,formData,form){$.showToast(responseData.data.message,responseData.success==!0?'success':'danger')}
function updateSocialProfiles(event,responseData,textStatus,jqXHR,formData,form){$.showToast(responseData.data.message,responseData.success==!0?'success':'danger')}
function updateUserPhoto(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!0){if(responseData.data.field=='avatar'){$('.header-user__dropdown .user-avatar img').replaceWith(responseData.data.output);$('.profile-header__avatar .user-avatar img').replaceWith(responseData.data.output)}else{$('.profile-header__photo').html(responseData.data.output)}}
$.showToast(responseData.data.message,responseData.success==!0?'success':'danger')}
function deleteUserPhoto(event,responseData,textStatus,jqXHR,element){if(responseData.success==!0){window.location.href=window.location.href}else{$.showToast(responseData.data.message,'danger')}}
function widgetLoadMoreposts(event,responseData,textStatus,jqXHR,element){element.next().remove();if(responseData.success==!0){var output=responseData.data.output;var count_post=$(output).find('.post-item').length;var dataJson=$.parseJSON(responseData.data.data);if(output!=""){element.attr('data-params',responseData.data.data).removeClass('d-none active waiting').parent().before(output);element.parent().prev().fadeIn('slow');if(parseInt(count_post)<parseInt(dataJson.posts_per_page)){element.parent().remove()}else{element.find('.spinner-border').remove()}}else{element.parent().remove()}}}
function loadMoreUsers(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){$.showToast(responseData.data.message,'danger')}else{if(responseData.data.output!=""){element.attr('data-params',responseData.data.data).removeClass('active waiting d-none').parent().before(responseData.data.output).find('.spinner-border').remove()}else{element.parent().remove()}}}
function loadMoreTaxTerms(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){$.showToast(responseData.data[0].message,'danger')}
var output=responseData.data.output;var instance=responseData.data.instance;if(output!=""){element.attr('data-params',instance).removeClass('d-none active waiting').parent().before(output);element.parent().prev().fadeIn('slow')}else{element.parent().remove()}}
function postLike(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data.message,'danger')}
var data=responseData.data;var didAction=data.did_action;var wrapper=form.closest('.wppl-button-wrap');wrapper.find('button').removeClass('active');if(didAction=='like'){wrapper.find('.wppl-like-button').addClass('active')}
if(didAction=='dislike'){wrapper.find('.wppl-dislike-button').addClass('active')}
wrapper.find('.wppl-like-button .badge').html(data.results.like_formatted);wrapper.find('.wppl-dislike-button .badge').html(data.results.dislike_formatted);wrapper.find('.progress-bar').css('width',data.results.progress+'%');$(document.body).trigger('post_like_progress',[form,data.results.progress,data])}
function addedToCart(event,fragment,hash,button){var productTitle='';var product=button.closest('.product');if(product.find('.woocommerce-loop-product__title').length!==0){productTitle=product.find('.woocommerce-loop-product__title').text()}
if(product.find('.post-title').length!==0){productTitle=product.find('.post-title a').text()}
if(productTitle!=""){var text=streamtube.added_to_cart.replace('%s','<strong>'+productTitle+'</strong>')}else{var text=streamtube.added_to_cart_no_name}
text+=', <a class="text-white" href="'+streamtube.cart_url+'">'+streamtube.view_cart+'</a>';$.getCartTotal();$.showToast(text,'success')}
function updatedCartTotals(event,data){$.getCartTotal()}
function removedFromCart(event){$.getCartTotal()}
function autoUpnext(event){var upNextButton=$('#btn-up-next');var nextButton=$('#next-post-link');var listContent=$('.playlist-content-widget');var nextUrl='';var requestUrl='';let player=event.detail.player;let count=streamtube.upnext_time?parseInt(streamtube.upnext_time):5;if(!upNextButton.hasClass('auto-next')){return}
if(listContent.length==0&&nextButton.length==0){return}
if(listContent.length!=0){nextUrl=listContent.find('.playlist-item.active').next().find('.post-permalink').attr('href')}else{nextUrl=nextButton.attr('href')}
if(nextUrl){nextUrl=encodeURIComponent(nextUrl)}
player.addClass('vjs-has-upnext');requestUrl=streamtube.ajaxUrl+'?action=get_post_by_url&url='+nextUrl+'&_wpnonce='+streamtube._wpnonce;$.ajax({type:'GET',url:requestUrl,async:!1}).done(function(data,textStatus,jqXHR){if(!data.success){return}
var data=data.data;var output='';var next=document.createElement('div');next.className='streamtube-plugin streamtube-next-post w-100 h-100 start-0 top-0';output+='<div class="next-post-wrap type-video top-50 start-50 translate-middle position-absolute rounded p-3">';output+='<a href="'+data.permalink+'">';output+='<div class="post-thumbnail ratio ratio-16x9 rounded overflow-hidden bg-dark w-100">';output+='<img src="'+data.thumbnail+'">';if(data.length){output+='<div class="video-length badge bg-danger">'+data.length+'</div>'}
output+='</div>';output+='</a>';output+='<div class="d-flex flex-column">';output+='<div class="post-meta my-3">';output+='<h3 class="post-meta__title post-title">';output+='<a href="'+data.permalink+'">'+data.title+'</a>';output+='</h3>';output+='<div class="post-meta__author">';output+='<a href="'+data.author.url+'">'+data.author.name+'</a>'
output+='</div>';output+='</div>';output+='<div class="d-flex gap-3 justify-content-center">';output+='<a class="btn px-3 rounded-1 w-100 btn-secondary" id="cancel-upnext">'+streamtube.cancel+'</a>';output+='<a href="'+data.permalink+'" class="btn px-3 rounded-1 w-100 btn-danger">';output+=streamtube.play_now;output+='<span class="countdown">('+count+')</span>';output+='</a>';output+='</div>';output+='</div>';output+='</div>';next.innerHTML=output;player.el().appendChild(next);var interval=setInterval(function(){count--;$(next).find('.countdown').html('('+count+')');if(count<=0){clearInterval(interval);$(next).find('.countdown').remove();window.location.href=data.permalink}},count*1000/count);$(document).on('click','#cancel-upnext',function(e){$(this).closest('.streamtube-plugin').remove();clearInterval(interval)})})}
function joinUs(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
$('#modal-join-us').modal('hide');return $.showToast(responseData.data.message,'success')}
function transfersPoints(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
$('#modal-donate').modal('hide').find('form').removeClass('form-step-final')[0].reset();$(responseData.data.data.css).html(responseData.data.data.balance);return $.showToast(responseData.data.message,'success')}
function newMessageThread(event,responseData,textStatus,jqXHR,formData,form){if(!responseData.result){if(responseData.errors.restrictNewThreadsMessage){return $.showToast(responseData.errors.restrictNewThreadsMessage,'danger')}
if(responseData.errors[0]){return $.showToast(responseData.errors[0],'danger')}}
$('#modal-private-message').modal('hide');return $.showToast(streamtube.bp_message_sent,'success')}
function searchVideos(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
form.find('div#video-list>div').html(responseData.data)}
function searchInCollection(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
form.closest('.playlist-content-widget').find('.playlist-items').replaceWith(responseData.data)}
function createCollection(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
if(responseData.data.list_id){$('#'+responseData.data.list_id).replaceWith(responseData.data.list)}
$('#create-collection-form').collapse('hide');return $.showToast(responseData.data.message,'success')}
function deleteCollection(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
if(responseData.data.redirect_url){return window.location.href=responseData.data.redirect_url}
var collectionItem=element.closest('.collection-item');if(collectionItem.length!=0){collectionItem.remove()}
var collectionWidget=element.closest('.playlist-content-widget');if(collectionWidget.length!=0){collectionWidget.remove()}}
function setPostCollection(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
if(element.hasClass('dropdown-item')){element.closest('.playlist-item').remove()}
var collectionItem=element.closest('.collection-item');if(collectionItem.length!=0){collectionItem.replaceWith(responseData.data.output)}
if(element.hasClass('btn-add-to-term')){element.replaceWith(responseData.data.output)}
$.showToast(responseData.data.message,'success')}
function setPostWatchLater(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.parent().replaceWith(responseData.data.output);return $.showToast(responseData.data.message,'success',1000)}
function setImageCollection(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
var img='<img src="'+responseData.data.thumbnail_url+'">';$('.widget-term-featured-image .thumbnail-group .post-thumbnail').html(img);return $.showToast(responseData.data.message,'success')}
function uploadCollectionThumbnailImage(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
form.find('button[type=submit]').addClass('d-none');$.showToast(responseData.data,'success')}
function setCollectionStatus(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.replaceWith(responseData.data)}
function getCollectionTerm(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
var data=responseData.data;var form=$('#create-collection-form');form.collapse('show');form.find('input[name=name]').val(data.name_formatted);form.find('textarea[name=description]').val(data.description);form.find('select[name=status]').val(data.status);form.find('input[name=term_id]').val(data.term_id);if(data.searchable=='on'){form.find('input[name=searchable]').attr('checked','checked')}else{form.find('input[name=searchable]').removeAttr('checked')}}
function setCollectionActivity(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.replaceWith(responseData.data)}
function clearCollection(event,responseData,textStatus,jqXHR,element){if(responseData.success==!1){return $.showToast(responseData.data[0].message,'danger')}
element.replaceWith(responseData.data);location.reload()}
$(document).on('show.bs.modal','#modal-edit-collection',function(e){$(this).find('.modal-body').append($.getSpinner());$(this).find('form').addClass('d-none')});$(document).on('shown.bs.modal','#modal-edit-collection',function(e){var modal=$(this);var termId=e.relatedTarget.getAttribute('data-term-id');var data={'action':'get_collection_term','data':termId,'_wpnonce':streamtube._wpnonce}
$.post(streamtube.ajaxUrl,data,function(response){if(!response.success){return $.showToast(response.data[0].message,'danger')}else{modal.find('input[name=name]').val(response.data.name_formatted);modal.find('textarea[name=description]').val(response.data.description);modal.find('select[name=status]').val(response.data.status);modal.find('input[name=term_id]').val(termId);modal.find('input[name=post_id]').val('');if(response.data.searchable=='on'){modal.find('input[name=searchable]').attr('checked','checked')}else{modal.find('input[name=searchable]').removeAttr('checked')}}
modal.find('.spinner-wrap').remove();modal.find('form').removeClass('d-none')})});$(document).on('show.bs.collapse','#create-collection-form',function(e){$('.collection-list').slideUp();$('.form-search-collections').slideUp()});$(document).on('hidden.bs.collapse','#create-collection-form',function(e){$(this).trigger('reset');$(this).find('input[name=term_id]').val('0');$('.collection-list').slideDown();$('.form-search-collections').slideDown()});$(document).on('click','.btn-collection-action-cancel',function(e){$(this).closest('.alert').remove()});$(document).on('click','.btn-collection-delete',function(e){var button=$(this);var termId=button.attr('data-term-id');var title=button.attr('title');var li=button.closest('.collection-item');var message='';message+='<div class="alert alert-warning position-absolute start-0 top-0 w-100 h-100">';message+='<button type="button" class="btn btn-sm btn-danger ajax-elm" ';message+='data-action="delete_collection"';message+='data-params="'+termId+'">';message+=title;message+='</button>';message+='<button class="btn btn-sm btn-secondary btn-collection-action-cancel ms-3">'+streamtube.cancel+'</button>';message+='</div>';li.append(message)});$(document).on('show.bs.modal','#modal-delete-collection',function(e){var termId=e.relatedTarget.getAttribute('data-term-id');$(this).find('input[name=data]').val(termId)});$(document).on('show.bs.modal','#modal-search-videos',function(e){var termId=e.relatedTarget.getAttribute('data-term-id');$(this).find('input[name=term_id]').val(termId)});function fixPlayListContentWidget(){var playList=$('.playlist-content-widget');if(playList.length==0){return}
var w=$(window).width();if(w<=992){playList.addClass('mb-0').removeClass('shadow-sm').prependTo('#post-bottom')}else{playList.removeClass('mb-0').addClass('shadow-sm').prependTo('#sidebar-primary')}}
function uploadVideoController(files,form){var chunkUpload=streamtube.chunkUpload;var extensions=streamtube.video_extensions;var max_upload_size=parseInt(streamtube.max_upload_size);var input=form.find('input[name=video_file]');var file=files[0];if(!file){return}
var parts=file.name.split('.');var ext=parts[parts.length-1].toLowerCase();var error=!1;if($.inArray(ext,extensions)==-1){error=streamtube.invalid_file_format}
if(file.size>max_upload_size){error=streamtube.exceeds_file_size.replace('{size}',Math.round(file.size/1048576))}
if(error!==!1){return $.showToast(error,'danger')}
if(chunkUpload=='on'){var sliceSize=parseInt(streamtube.sliceSize);if(sliceSize==0){sliceSize=10240}
$(document.body).trigger('upload_video_before_send',[form,new FormData(form[0]),file]);return $.uploadBigFile(file,sliceSize*1024,form)}else{return form.trigger('submit')}}
function _multipleCheckboxesAction(parent){parent.find('input[type=checkbox]').each(function(k,v){var checkbox=$(this);var childList=checkbox.parent().next('.children');var isChecked=checkbox.is(':checked');if(childList.length!==0){if(isChecked){childList.addClass('d-block')}else{childList.addClass('d-none')}
checkbox.closest('li').addClass('has-child');if(isChecked){checkbox.closest('li').addClass('child-expanded')}}})}
function multipleCheckboxesAction(){$('ul.checklist-advanded.checkboxes').each(function(index,element){var list=$(this);if(list.hasClass('checkboxes-rendered')){return}
var checkedCk=0;var maxItems=parseInt(list.attr('data-max-items'));if(maxItems==0){return}
list.addClass('checkboxes-rendered');_multipleCheckboxesAction(list);list.find('input[type=checkbox]').each(function(){if($(this).is(':checked')){checkedCk++}});if(checkedCk>=maxItems){list.find('input[type=checkbox]').each(function(){if(!$(this).is(':checked')){$(this).attr('disabled','disabled')}})}else{list.find('input[type=checkbox]').each(function(){if(!$(this).is(':checked')){$(this).removeAttr('disabled')}})}})}
$(document).on('submit','.form-ajax',$.ajaxFormRequest);$(document).on('click','.ajax-elm',$.ajaxElementOnEventRequest);$(document).on('click','#button-generate-thumb-image',function(e){e.preventDefault();var button=$(this);var form=button.closest('form');var mediaId=form.find('input[name=source]').val();var postId=form.find('input[name=post_ID]').val();$.ajax({url:streamtube.rest_url+'/generate-image',method:'POST',beforeSend:function(xhr){xhr.setRequestHeader('X-WP-Nonce',streamtube.nonce);button.attr('disabled','disabled').append($.getSpinner(!1))},data:{'mediaid':mediaId,'parent':postId,'type':'image'}}).done(function(response){if(response.success==!1){$.showToast(response.data[0].message,'danger')}
if(response.success==!0){var img='<img src="'+response.data.thumbnail_url+'">';button.closest('.thumbnail-group').find('.post-thumbnail').html(img);button.remove()}
button.removeAttr('disabled').find('.spinner').remove()})});$(document).on('click','.btn-wpmedia',function(e){var button=$(this);var mediaType=button.attr('data-media-type');var frame;if(frame){frame.open();return}
frame=wp.media({library:{type:mediaType},multiple:!1});frame.open();frame.on('select',function(){var attachment=frame.state().get('selection').first().toJSON();var attachment_id=attachment.id;button.closest('.field-group').find('.input-field').val(attachment_id)})});$(document).on('change','.cropper-input',function(e){var input=$(this);var form=input.closest('form');var opts=JSON.parse(form.find('.cropper-img').attr('data-option'));var cropper=form.find('.cropper-img').cropper(opts);var URL=window.URL||window.webkitURL;var imageName='';var imageType='';var imageURL='';var files=this.files;var file;if(URL){if(!cropper.data('cropper')){console.log('no data');return}
if(files&&files.length){file=files[0];if(/^image\/\w+$/.test(file.type)){imageName=file.name;imageType=file.type;imageURL=URL.createObjectURL(file);cropper.cropper('destroy').attr('src',imageURL).cropper(opts)}else{input.attr('value','');$.showToast(streamtube.incorrect_image,'danger')}}}});$(document).on('change','input[name=featured-image]',function(e){var input=$(this);var URL=window.URL||window.webkitURL;var imageURL='';var files=this.files;var file;if(URL){if(files&&files.length){file=files[0];if(/^image\/\w+$/.test(file.type)){imageURL=URL.createObjectURL(file);var imgTag='<img class="wp-post-image" src="'+imageURL+'">';$(this).closest('.thumbnail-group').find('.post-thumbnail').html(imgTag);$(this).closest('form').find('button[type=submit]').removeClass('d-none')}else{input.attr('value','');$.showToast(streamtube.incorrect_image,'danger')}}}});$(document).on('scrollin click','.btn-load-more-terms.load-on-scroll',$.ajaxElementOnEventRequest);$(document).on('scrollin click','.load-comments.load-on-scroll',$.ajaxElementOnEventRequest);$('.comments-fixed #comments-list').on('scroll',function(event){$(this).trigger('resize')});$(document).on('click','.load-comments.load-on-click',$.ajaxElementOnEventRequest);$(document).on('click','.widget-load-more-posts',$.ajaxElementOnEventRequest);$(document).on('scrollin','.widget-load-more-posts.load-on-scroll',$.ajaxElementOnEventRequest);$(document).on('scrollin','.load-users',$.ajaxElementOnEventRequest);$(document).on('click','.load-users',$.ajaxElementOnEventRequest);$(document).on('scrollout','.player-wrapper.jsappear',function(event=null,$elements){$(this).find('.player-container').addClass('animate slideIn rounded sticky-player shadow')});$(document).on('scrollin','.player-wrapper.jsappear',function(event=null,$elements){$(this).find('.player-container').removeClass('animate slideIn rounded sticky-player shadow')});$(document).on('click','.player-wrapper .player-header button',function(event){$(this).closest('.player-container').removeClass('rounded sticky-player shadow').parent().removeClass('jsappear')});$('.single-video__body').on('scroll',function(event){$(this).trigger('resize')});$(document).on('change','input[name=row_id]',function(event){var input=$(this);var isChecked=input.is(':checked');var table=input.closest('table');table.find('.row-id-input').each(function(k,v){console.log(isChecked);if(isChecked){$(this).prop('checked',!0)}else{$(this).prop('checked',!1)}})})
$('#updatePostMessageModal').on("show.bs.modal",function(event){var modal=$(this);var clickedBtn=$(event.relatedTarget);modal.find('button[type=submit]').html(clickedBtn.html());modal.find('input[name=action]').val(clickedBtn.attr('data-action'));modal.find('input[name=post_id]').val(clickedBtn.attr('data-post-id'));var thumbnail=clickedBtn.closest('tr').find('.post-title').clone();modal.find('.modal-body').find('.post-title').remove();modal.find('.modal-body').prepend(thumbnail)});$('#deletePostModal').on("show.bs.modal",function(event){var modal=$(this);var clickedBtn=$(event.relatedTarget);modal.find('input[name=post_id]').val(clickedBtn.attr('data-post-id'));var title=clickedBtn.closest('tr').find('.post-title').clone();var thumbnail=clickedBtn.closest('tr').find('.post-thumbnail').clone();if(thumbnail.length!=0){modal.find('.post-list-wrap').html(thumbnail).append(title).removeClass('d-none')}});$(document).on('change','input[name=video_file]',function(event){var files=event.target.files||event.dataTransfer.files;return uploadVideoController(files,$(this).closest('form'))});var dragDropContainer=document.querySelector('.upload-form__label');if(dragDropContainer!==null&&dragDropContainer.length!=0){dragDropContainer.addEventListener('dragover',function(event){event.preventDefault();event.stopPropagation();$(this).addClass('drag-over')},!1);dragDropContainer.addEventListener('dragleave',function(event){$(this).removeClass('drag-over')});dragDropContainer.addEventListener('drop',function(event){event.preventDefault();event.stopPropagation();$(this).removeClass('drag-over');var files=event.target.files||event.dataTransfer.files;return uploadVideoController(files,$(this).closest('form'))})}
$(document).on('mouseover','.type-video .post-thumbnail',function(e){var thumbnail=$(this);var parent=thumbnail.closest('.type-video');var thumbnailImage2Url=parent.attr('data-thumbnail-image-2');if(thumbnailImage2Url!==undefined){var imageTag='<img class="thumbnail-image-2" src="'+thumbnailImage2Url+'">';if(thumbnail.find('.thumbnail-image-2').length!=0){thumbnail.find('.thumbnail-image-2').attr('src',thumbnailImage2Url).show()}else{thumbnail.append(imageTag)}}});$(document).on('mouseout','.type-video .post-thumbnail',function(e){$(this).find('.thumbnail-image-2').attr('src','').hide()});$('#modal-edit-comment').on('show.bs.modal',function(event){var modal=$(this);var button=event.relatedTarget;var comment=$.parseJSON($(button).attr('data-params'));modal.find('input[name=comment_ID]').val(comment.comment_id);var requestUrl=streamtube.ajaxUrl+'?action=get_comment&comment_id='+comment.comment_id+'&_wpnonce='+streamtube._wpnonce;$.get(requestUrl,function(response){$.editorRemove('_comment_content');var content=response.data.comment_content;if(content!=""){content=content.replace('/\r?\n/g','<br />')}
modal.find('#_comment_content').val(content);$.editorInit('_comment_content');modal.find('.spinner-wrap').addClass('d-none').next().removeClass('d-none')})});$('#modal-edit-comment').on('hidden.bs.modal',function(event){var modal=$(this);modal.find('input[name=comment_ID]').val('0');modal.find('.spinner-wrap').removeClass('d-none').next().addClass('d-none')});$('#modal-private-message').on('show.bs.modal',function(event){var modal=$(this);var button=event.relatedTarget;var recipient_id=$(button).attr('data-recipient-id');var queryParams='?action=get_recipient_info&recipient_id='+recipient_id+'&_wpnonce='+streamtube._wpnonce;var requestUrl=streamtube.ajaxUrl+queryParams;$.get(requestUrl,function(response){if(response.success==!1){$.showToast(response.data[0].message,'danger')}else{var avatar='<div class="avatar-wrap m-4">';avatar+=response.data.avatar;avatar+='</div>';modal.find('form').prepend(avatar);modal.find('#recipients').val(recipient_id)}
modal.find('.spinner-wrap').addClass('d-none').removeClass('d-block')})});$('#modal-private-message').on('hidden.bs.modal',function(event){var modal=$(this);modal.find('#recipients').val('');modal.find('#subject').val('');modal.find('#message').val('');modal.find('.spinner-wrap').removeClass('d-block').addClass('d-none');modal.find('.avatar-wrap').remove()});$(document).on('click','.edit-inline-comment .btn-cancel',function(event){var form=$(this).closest('form');form.prev().slideDown();form.remove()});$(window).on('load',multipleCheckboxesAction);$(document).on('click','.checklist-advanded input',function(e){var clickedCb=$(this);var list=clickedCb.closest('ul.checkboxes');var checkedCk=0;var max=parseInt(list.attr('data-max-items'));if(max==0){return}
list.find('input[type=checkbox]').each(function(){if($(this).is(':checked')){checkedCk++}});if(checkedCk>=max){list.find('input[type=checkbox]').each(function(){if(!$(this).is(':checked')){$(this).attr('disabled','disabled')}})}else{list.find('input[type=checkbox]').each(function(){if(!$(this).is(':checked')){$(this).removeAttr('disabled')}})}});$(document).on('click','.timestamp-url',function(e){e.preventDefault();var me=$(this);var a='';if(me.is('li')){a=me.find('a')}else{a=me}
var time=parseInt(a.attr('data-total-seconds'));if($('video-js').length==0){return}
var player=videojs("player_"+$('video-js').attr('data-player-id'));player.play();player.currentTime(time);player.el_.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})});$(document).on('click','form.form-transfer-point button[type=button]',function(e){var button=$(this);var form=button.closest('form');form.toggleClass('form-step-final');form.find('.total-amount').html(form.find('input[name=amount]').val())});$(document).on('click','button.mycred-buy-link',function(e){e.preventDefault();var button=$(this);var widget=button.closest('div.widget');widget.find('input[name=amount]').val(button.attr('data-amount'));widget.find('button.btn-submit').removeClass('disabled')});$(document).on('change','input[name=amount]',function(e){if($(this).val()!=""){$(this).closest('form').find('button.btn-submit').removeClass('disabled')}else{$(this).closest('form').find('button.btn-submit').addClass('disabled')}})})(jQuery);
(function($){"use strict";$(function(){$('.pmpro_payment-expiration .pmpro_asterisk').remove();$('.pmpro_payment-expiration').addClass('d-flex align-items-start gap-3');if($('#pmpro_level_cost').length!==0){$('#pmpro_level_cost').html($('#pmpro_level_cost').html().replace('. ',''))}})})(jQuery);
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
!function(){"use strict";function e(p){p.fn._fadeIn=p.fn.fadeIn;var b=p.noop||function(){},h=/MSIE/.test(navigator.userAgent),k=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),y=(document.documentMode,"function"==typeof document.createElement("div").style.setExpression&&document.createElement("div").style.setExpression),m=(p.blockUI=function(e){o(window,e)},p.unblockUI=function(e){v(window,e)},p.growlUI=function(e,t,o,n){var i=p('<div class="growlUI"></div>'),s=(e&&i.append("<h1>"+e+"</h1>"),t&&i.append("<h2>"+t+"</h2>"),o===undefined&&(o=3e3),function(e){p.blockUI({message:i,fadeIn:"undefined"!=typeof(e=e||{}).fadeIn?e.fadeIn:700,fadeOut:"undefined"!=typeof e.fadeOut?e.fadeOut:1e3,timeout:"undefined"!=typeof e.timeout?e.timeout:o,centerY:!1,showOverlay:!1,onUnblock:n,css:p.blockUI.defaults.growlCSS})});s(),i.css("opacity");i.on("mouseover",function(){s({fadeIn:0,timeout:3e4});var e=p(".blockMsg");e.stop(),e.fadeTo(300,1)}).on("mouseout",function(){p(".blockMsg").fadeOut(1e3)})},p.fn.block=function(e){var t;return this[0]===window?(p.blockUI(e),this):(t=p.extend({},p.blockUI.defaults,e||{}),this.each(function(){var e=p(this);t.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==p.css(this,"position")&&(this.style.position="relative",p(this).data("blockUI.static",!0)),this.style.zoom=1,o(this,e)}))},p.fn.unblock=function(e){return this[0]===window?(p.unblockUI(e),this):this.each(function(){v(this,e)})},p.blockUI.version=2.7,p.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1},null),g=[];function o(e,o){var n=e==window,t=o&&o.message!==undefined?o.message:undefined;if(!(o=p.extend({},p.blockUI.defaults,o||{})).ignoreIfBlocked||!p(e).data("blockUI.isBlocked")){o.overlayCSS=p.extend({},p.blockUI.defaults.overlayCSS,o.overlayCSS||{}),f=p.extend({},p.blockUI.defaults.css,o.css||{}),o.onOverlayClick&&(o.overlayCSS.cursor="pointer"),u=p.extend({},p.blockUI.defaults.themedCSS,o.themedCSS||{}),t=t===undefined?o.message:t,n&&m&&v(window,{fadeOut:0}),t&&"string"!=typeof t&&(t.parentNode||t.jquery)&&(l=t.jquery?t[0]:t,d={},p(e).data("blockUI.history",d),d.el=l,d.parent=l.parentNode,d.display=l.style.display,d.position=l.style.position,d.parent&&d.parent.removeChild(l)),p(e).data("blockUI.onUnblock",o.onUnblock);var i,s,l=o.baseZ,d=h||o.forceIframe?p('<iframe class="blockUI" style="z-index:'+l+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+o.iframeSrc+'"></iframe>'):p('<div class="blockUI" style="display:none"></div>'),a=o.theme?p('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+l+++';display:none"></div>'):p('<div class="blockUI blockOverlay" style="z-index:'+l+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),c=(o.theme&&n?(c='<div class="blockUI '+o.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(l+10)+';display:none;position:fixed">',o.title&&(c+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),c+='<div class="ui-widget-content ui-dialog-content"></div></div>'):o.theme?(c='<div class="blockUI '+o.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(l+10)+';display:none;position:absolute">',o.title&&(c+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),c+='<div class="ui-widget-content ui-dialog-content"></div></div>'):c=n?'<div class="blockUI '+o.blockMsgClass+' blockPage" style="z-index:'+(l+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+o.blockMsgClass+' blockElement" style="z-index:'+(l+10)+';display:none;position:absolute"></div>',l=p(c),t&&(o.theme?(l.css(u),l.addClass("ui-widget-content")):l.css(f)),o.theme||a.css(o.overlayCSS),a.css("position",n?"fixed":"absolute"),(h||o.forceIframe)&&d.css("opacity",0),[d,a,l]),r=p(n?"body":e),u=(p.each(c,function(){this.appendTo(r)}),o.theme&&o.draggable&&p.fn.draggable&&l.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),y&&(!p.support.boxModel||0<p("object,embed",n?null:e).length));if((k||u)&&(n&&o.allowBodyStretch&&p.support.boxModel&&p("html,body").css("height","100%"),!k&&p.support.boxModel||n||(f=U(e,"borderTopWidth"),u=U(e,"borderLeftWidth"),i=f?"(0 - "+f+")":0,s=u?"(0 - "+u+")":0),p.each(c,function(e,t){t=t[0].style;t.position="absolute",e<2?(n?t.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+o.quirksmodeOffsetHack+') + "px"'):t.setExpression("height",'this.parentNode.offsetHeight + "px"'),n?t.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):t.setExpression("width",'this.parentNode.offsetWidth + "px"'),s&&t.setExpression("left",s),i&&t.setExpression("top",i)):o.centerY?(n&&t.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),t.marginTop=0):!o.centerY&&n&&(e=o.css&&o.css.top?parseInt(o.css.top,10):0,t.setExpression("top","((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+e+') + "px"'))})),t&&((o.theme?l.find(".ui-widget-content"):l).append(t),(t.jquery||t.nodeType)&&p(t).show()),(h||o.forceIframe)&&o.showOverlay&&d.show(),o.fadeIn?(f=o.onBlock||b,u=o.showOverlay&&!t?f:b,c=t?f:b,o.showOverlay&&a._fadeIn(o.fadeIn,u),t&&l._fadeIn(o.fadeIn,c)):(o.showOverlay&&a.show(),t&&l.show(),o.onBlock&&o.onBlock.bind(l)()),I(1,e,o),n)m=l[0],g=p(o.focusableElements,m),o.focusInput&&setTimeout(w,20);else{var d=l[0],f=o.centerX,u=o.centerY,c=d.parentNode,a=d.style,t=(c.offsetWidth-d.offsetWidth)/2-U(c,"borderLeftWidth"),d=(c.offsetHeight-d.offsetHeight)/2-U(c,"borderTopWidth");f&&(a.left=0<t?t+"px":"0"),u&&(a.top=0<d?d+"px":"0")}o.timeout&&(l=setTimeout(function(){n?p.unblockUI(o):p(e).unblock(o)},o.timeout),p(e).data("blockUI.timeout",l))}}function v(e,t){var o,n,i=e==window,s=p(e),l=s.data("blockUI.history"),d=s.data("blockUI.timeout");d&&(clearTimeout(d),s.removeData("blockUI.timeout")),t=p.extend({},p.blockUI.defaults,t||{}),I(0,e,t),null===t.onUnblock&&(t.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock")),n=i?p(document.body).children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),t.cursorReset&&(1<n.length&&(n[1].style.cursor=t.cursorReset),2<n.length&&(n[2].style.cursor=t.cursorReset)),i&&(m=g=null),t.fadeOut?(o=n.length,n.stop().fadeOut(t.fadeOut,function(){0==--o&&a(n,l,t,e)})):a(n,l,t,e)}function a(e,t,o,n){var i=p(n);i.data("blockUI.isBlocked")||(e.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),t&&t.el&&(t.el.style.display=t.display,t.el.style.position=t.position,t.el.style.cursor="default",t.parent&&t.parent.appendChild(t.el),i.removeData("blockUI.history")),i.data("blockUI.static")&&i.css("position","static"),"function"==typeof o.onUnblock&&o.onUnblock(n,o),t=(e=p(document.body)).width(),i=e[0].style.width,e.width(t-1).width(t),e[0].style.width=i)}function I(e,t,o){var n=t==window,t=p(t);!e&&(n&&!m||!n&&!t.data("blockUI.isBlocked"))||(t.data("blockUI.isBlocked",e),n&&o.bindEvents&&(!e||o.showOverlay)&&(t="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",e?p(document).on(t,o,i):p(document).off(t,i)))}function i(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&m&&e.data.constrainTabKey){var t=g,o=!e.shiftKey&&e.target===t[t.length-1],n=e.shiftKey&&e.target===t[0];if(o||n)return setTimeout(function(){w(n)},10),!1}t=e.data,o=p(e.target);return o.hasClass("blockOverlay")&&t.onOverlayClick&&t.onOverlayClick(e),0<o.parents("div."+t.blockMsgClass).length||0===o.parents().children().filter("div.blockUI").length}function w(e){!g||(e=g[!0===e?g.length-1:0])&&e.trigger("focus")}function U(e,t){return parseInt(p.css(e,t),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();
jQuery(function(d){if("undefined"==typeof wc_add_to_cart_params)return!1;var t=function(){this.requests=[],this.addRequest=this.addRequest.bind(this),this.run=this.run.bind(this),d(document.body).on("click",".add_to_cart_button",{addToCartHandler:this},this.onAddToCart).on("click",".remove_from_cart_button",{addToCartHandler:this},this.onRemoveFromCart).on("added_to_cart",this.updateButton).on("ajax_request_not_sent.adding_to_cart",this.updateButton).on("added_to_cart removed_from_cart",{addToCartHandler:this},this.updateFragments)};t.prototype.addRequest=function(t){this.requests.push(t),1===this.requests.length&&this.run()},t.prototype.run=function(){var t=this,a=t.requests[0].complete;t.requests[0].complete=function(){"function"==typeof a&&a(),t.requests.shift(),0<t.requests.length&&t.run()},d.ajax(this.requests[0])},t.prototype.onAddToCart=function(t){var e,a=d(this);if(a.is(".ajax_add_to_cart"))return!a.attr("data-product_id")||(t.preventDefault(),a.removeClass("added"),a.addClass("loading"),!1===d(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[a])?(d(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,a]),!0):(e={},d.each(a.data(),function(t,a){e[t]=a}),d.each(a[0].dataset,function(t,a){e[t]=a}),d(document.body).trigger("adding_to_cart",[a,e]),void t.data.addToCartHandler.addRequest({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:e,success:function(t){t&&(t.error&&t.product_url?window.location=t.product_url:"yes"===wc_add_to_cart_params.cart_redirect_after_add?window.location=wc_add_to_cart_params.cart_url:d(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]))},dataType:"json"})))},t.prototype.onRemoveFromCart=function(t){var a=d(this),e=a.closest(".woocommerce-mini-cart-item");t.preventDefault(),e.block({message:null,overlayCSS:{opacity:.6}}),t.data.addToCartHandler.addRequest({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","remove_from_cart"),data:{cart_item_key:a.data("cart_item_key")},success:function(t){t&&t.fragments?d(document.body).trigger("removed_from_cart",[t.fragments,t.cart_hash,a]):window.location=a.attr("href")},error:function(){window.location=a.attr("href")},dataType:"json"})},t.prototype.updateButton=function(t,a,e,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),a&&r.addClass("added"),a&&!wc_add_to_cart_params.is_cart&&0===r.parent().find(".added_to_cart").length&&r.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),d(document.body).trigger("wc_cart_button_updated",[r]))},t.prototype.updateFragments=function(t,a){a&&(d.each(a,function(t){d(t).addClass("updating").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}})}),d.each(a,function(t,a){d(t).replaceWith(a),d(t).stop(!0).css("opacity","1").unblock()}),d(document.body).trigger("wc_fragments_loaded"))},new t});
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(e){var n,o,t=!1;"function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),t||(n=window.Cookies,(o=window.Cookies=e()).noConflict=function(){return window.Cookies=n,o})}(function(){function m(){for(var e=0,n={};e<arguments.length;e++){var o,t=arguments[e];for(o in t)n[o]=t[o]}return n}return function e(C){function g(e,n,o){var t,r;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(o=m({path:"/"},g.defaults,o)).expires&&((r=new Date).setMilliseconds(r.getMilliseconds()+864e5*o.expires),o.expires=r),o.expires=o.expires?o.expires.toUTCString():"";try{t=JSON.stringify(n),/^[\{\[]/.test(t)&&(n=t)}catch(l){}n=C.write?C.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i,c="";for(i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i]));return document.cookie=e+"="+n+c}e||(t={});for(var s=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,p=0;p<s.length;p++){var a=s[p].split("=");'"'===(u=a.slice(1).join("=")).charAt(0)&&(u=u.slice(1,-1));try{var d=a[0].replace(f,decodeURIComponent),u=C.read?C.read(u,d):C(u,d)||u.replace(f,decodeURIComponent);if(this.json)try{u=JSON.parse(u)}catch(l){}if(e===d){t=u;break}e||(t[d]=u)}catch(l){}}return t}}return(g.set=g).get=function(e){return g.call(g,e)},g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))},g.defaults={},g.remove=function(e,n){g(e,"",m(n,{expires:-1}))},g.withConverter=e,g}(function(){})});
jQuery(function(s){s(".woocommerce-ordering").on("change","select.orderby",function(){s(this).closest("form").trigger("submit")}),s("input.qty:not(.product-quantity input.qty)").each(function(){var o=parseFloat(s(this).attr("min"));0<=o&&parseFloat(s(this).val())<o&&s(this).val(o)});var e="store_notice"+(s(".woocommerce-store-notice").data("noticeId")||"");"hidden"===Cookies.get(e)?s(".woocommerce-store-notice").hide():s(".woocommerce-store-notice").show(),s(".woocommerce-store-notice__dismiss-link").on("click",function(o){Cookies.set(e,"hidden",{path:"/"}),s(".woocommerce-store-notice").hide(),o.preventDefault()}),s(".woocommerce-input-wrapper span.description").length&&s(document.body).on("click",function(){s(".woocommerce-input-wrapper span.description:visible").prop("aria-hidden",!0).slideUp(250)}),s(".woocommerce-input-wrapper").on("click",function(o){o.stopPropagation()}),s(".woocommerce-input-wrapper :input").on("keydown",function(o){var e=s(this).parent().find("span.description");if(27===o.which&&e.length&&e.is(":visible"))return e.prop("aria-hidden",!0).slideUp(250),o.preventDefault(),!1}).on("click focus",function(){var o=s(this).parent(),e=o.find("span.description");o.addClass("currentTarget"),s(".woocommerce-input-wrapper:not(.currentTarget) span.description:visible").prop("aria-hidden",!0).slideUp(250),e.length&&e.is(":hidden")&&e.prop("aria-hidden",!1).slideDown(250),o.removeClass("currentTarget")}),s.scroll_to_notices=function(o){o.length&&s("html, body").animate({scrollTop:o.offset().top-100},1e3)},s('.woocommerce form .woocommerce-Input[type="password"]').wrap('<span class="password-input"></span>'),s(".woocommerce form input").filter(":password").parent("span").addClass("password-input"),s(".password-input").append('<span class="show-password-input"></span>'),s(".show-password-input").on("click",function(){s(this).hasClass("display-password")?s(this).removeClass("display-password"):s(this).addClass("display-password"),s(this).hasClass("display-password")?s(this).siblings(['input[type="password"]']).prop("type","text"):s(this).siblings('input[type="text"]').prop("type","password")})});
(function($){'use strict';$(document.body).on('user_follow',userFollow);function userFollow(event,responseData,textStatus,jqXHR,formData,form){if(responseData.success==!0){form.parent().replaceWith(responseData.data.button);$.showToast(responseData.data.results.message,'success')}else{$.showToast(responseData.data.message,'danger')}}})(jQuery);
/*! This file is auto-generated */
window.addComment=function(v){var I,C,h,E=v.document,b={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},e=v.MutationObserver||v.WebKitMutationObserver||v.MozMutationObserver,r="querySelector"in E&&"addEventListener"in v,n=!!E.documentElement.dataset;function t(){d(),e&&new e(o).observe(E.body,{childList:!0,subtree:!0})}function d(e){if(r&&(I=g(b.cancelReplyId),C=g(b.commentFormId),I)){I.addEventListener("touchstart",l),I.addEventListener("click",l);function t(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return C.removeEventListener("keydown",t),e.preventDefault(),C.submit.click(),!1}C&&C.addEventListener("keydown",t);for(var n,d=function(e){var t=b.commentReplyClass;e&&e.childNodes||(e=E);e=E.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t);return e}(e),o=0,i=d.length;o<i;o++)(n=d[o]).addEventListener("touchstart",a),n.addEventListener("click",a)}}function l(e){var t,n,d=g(b.temporaryFormId);d&&h&&(g(b.parentIdFieldId).value="0",t=d.textContent,d.parentNode.replaceChild(h,d),this.style.display="none",n=(d=(d=g(b.commentReplyTitleId))&&d.firstChild)&&d.nextSibling,d&&d.nodeType===Node.TEXT_NODE&&t&&(n&&"A"===n.nodeName&&n.id!==b.cancelReplyId&&(n.style.display=""),d.textContent=t),e.preventDefault())}function a(e){var t=g(b.commentReplyTitleId),t=t&&t.firstChild.textContent,n=this,d=m(n,"belowelement"),o=m(n,"commentid"),i=m(n,"respondelement"),r=m(n,"postid"),n=m(n,"replyto")||t;d&&o&&i&&r&&!1===v.addComment.moveForm(d,o,i,r,n)&&e.preventDefault()}function o(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void d()}function m(e,t){return n?e.dataset[t]:e.getAttribute("data-"+t)}function g(e){return E.getElementById(e)}return r&&"loading"!==E.readyState?t():r&&v.addEventListener("DOMContentLoaded",t,!1),{init:d,moveForm:function(e,t,n,d,o){var i,r,l,a,m,c,s,e=g(e),n=(h=g(n),g(b.parentIdFieldId)),y=g(b.postIdFieldId),p=g(b.commentReplyTitleId),u=(p=p&&p.firstChild)&&p.nextSibling;if(e&&h&&n){void 0===o&&(o=p&&p.textContent),a=h,m=b.temporaryFormId,c=g(m),s=(s=g(b.commentReplyTitleId))?s.firstChild.textContent:"",c||((c=E.createElement("div")).id=m,c.style.display="none",c.textContent=s,a.parentNode.insertBefore(c,a)),d&&y&&(y.value=d),n.value=t,I.style.display="",e.parentNode.insertBefore(h,e.nextSibling),p&&p.nodeType===Node.TEXT_NODE&&(u&&"A"===u.nodeName&&u.id!==b.cancelReplyId&&(u.style.display="none"),p.textContent=o),I.onclick=function(){return!1};try{for(var f=0;f<C.elements.length;f++)if(i=C.elements[f],r=!1,"getComputedStyle"in v?l=v.getComputedStyle(i):E.documentElement.currentStyle&&(l=i.currentStyle),(i.offsetWidth<=0&&i.offsetHeight<=0||"hidden"===l.visibility)&&(r=!0),"hidden"!==i.type&&!i.disabled&&!r){i.focus();break}}catch(e){}return!1}}}}(window);
(function($){"use strict";function removeOverlayDiv(){if($(window).width()>1200){$('body').removeClass('sidebar-secondary-active').find('.body-overlay').remove()}}
function removeMobileSearchForm(){if($(window).width()>992){$('#site-header .col-center').removeClass('show-search')}}
function setMobileBootstrapMenu(){if($(window).width()<992){$('.main-menu .dropdown-menu').click(function(event){event.stopPropagation()})}}
$(window).on('DOMContentLoaded',function(){if($('body').hasClass('has-preloader')){$('#preloader').fadeOut('slow')}});$(window).resize(function(){removeMobileSearchForm();removeOverlayDiv();setMobileBootstrapMenu()});$(document).ready(function(){setMobileBootstrapMenu();$('.dropdown-menu2').click(function(e){e.stopPropagation()});$('.advanced-search-filter').on('show.bs.dropdown',function(e){$('#site-search').addClass('show').prev('.toggle-search').addClass('show').attr('aria-expanded','true')});$('.advanced-search-filter').on('hide.bs.dropdown',function(e){$('#site-search').addClass('show').prev('.toggle-search').addClass('show').attr('aria-expanded','true')});$('.main-menu .dropdown-menu .dropdown-toggle').click(function(event){$(this).toggleClass('show').next().toggleClass('show')});$('#btn-menu-collap').click(function(event){$(this).parent().toggleClass('sidebar-collapse');$(document.body).trigger('sidebar_secondary_collapse')});$('body').tooltip({selector:'[data-bs-toggle="tooltip"]'});$('select').addClass('form-select');$('#toggle-nav').on('click',function(event){$('body').toggleClass('sidebar-secondary-active');if($('.body-overlay').length==0){$('body').append('<div class="body-overlay"></div>')}else{$('.body-overlay').remove()}});$(document).on('click','.body-overlay',function(event){$('body').removeClass('sidebar-secondary-active').find('.body-overlay').remove()});$('.toggle-search').on('click',function(event){$('#site-search').closest('.col-center').toggleClass('show-search');$('#site-search').removeClass('show').find('input[name=s]').focus()});$(document).on('click','.btn-lock-pass',function(event){var button=$(this);var textField=button.prev();if(textField.attr('type')=='password'){textField.attr('type','text')}else{textField.attr('type','password')}
button.toggleClass('show-password')});if($('.js-read').height()>60){$('.js-read').addClass('js-more').next().removeClass('d-none')}
$('.js-read-toggler').on('click',function(event){$(this).toggleClass('js-read-less').prev().toggleClass('js-more')});$(document).on('click','.comment-show-more',function(event){event.preventDefault();$(this).parent().toggleClass('show-less')});$(document).on('click','.comment-show-less',function(event){event.preventDefault();$(this).parent().toggleClass('show-less')});$(document).on('click','.toggle-replies-link',function(event){event.preventDefault();var children=$(this).toggleClass('active').closest('.comment-body').next();if(children.hasClass('expanded')){children.removeClass('expanded').slideUp()}else{children.addClass('expanded').slideDown()}});$('.search-type-select').on('change',function(event){var searchType=$(this).val();var action='';if(searchType=='topics'){action='bbp-search-request'}else{action='search-'+searchType}
$(this).closest('form').find('input[name=action]').val(action)})});$('#sidebar-secondary .dropdown').on('show.bs.dropdown',function(){if($('#sidebar-secondary').hasClass('sidebar-collapse')){$('#sidebar-secondary').removeClass('sidebar-collapse')}
if($(window).width()<=1300||$('#sidebar-secondary').hasClass('sidebar-collapse')){$('body').addClass('sidebar-secondary-active');if($('.body-overlay').length==0){$('body').append('<div class="body-overlay"></div>')}}
$(document.body).trigger('sidebar_secondary_collapse')});$(document).on('click','.checklist-advanded input',function(event){var checkbox=$(this);var isChecked=checkbox.is(':checked');var childList=checkbox.parent().next('.children');if(childList.length!==0){if(isChecked){childList.addClass('d-block').removeClass('d-none');checkbox.closest('li').addClass('child-expanded')}else{childList.addClass('d-none').removeClass('d-block');checkbox.closest('li').removeClass('child-expanded');childList.find('input').each(function(k,v){$(this).prop('checked',!1)})}}})})(jQuery);
(function($){"use strict";$(document).ready(function(){$('body').on('click','.meks_ess-item:not(".prevent-share-popup")',function(e){e.preventDefault();meks_ess_popup($(this).attr('data-url'))})});function meks_ess_popup(data){window.open(data,"Share",'height=500,width=760,top='+($(window).height()/2-250)+', left='+($(window).width()/2-380)+'resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0')}})(jQuery);
/**
 * @license
 * Video.js 7.7.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("global/window"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","global/document"],t):(e=e||self).videojs=t(e.window,e.document)}(this,function(y,h){"use strict";y=y&&y.hasOwnProperty("default")?y.default:y,h=h&&h.hasOwnProperty("default")?h.default:h;var d="7.7.5",l=[],e=function(o,u){return function(e,t,i){var n=u.levels[t],r=new RegExp("^("+n+")$");if("log"!==e&&i.unshift(e.toUpperCase()+":"),i.unshift(o+":"),l){l.push([].concat(i));var s=l.length-1e3;l.splice(0,0<s?s:0)}if(y.console){var a=y.console[e];a||"debug"!==e||(a=y.console.info||y.console.log),a&&n&&r.test(e)&&a[Array.isArray(i)?"apply":"call"](y.console,i)}}};var p=function t(i){function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",s,t)}var r,s="info";return r=e(i,n),n.createLogger=function(e){return t(i+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');s=e}return s},(n.history=function(){return l?[].concat(l):[]}).filter=function(t){return(l||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},n.history.clear=function(){l&&(l.length=0)},n.history.disable=function(){null!==l&&(l.length=0,l=null)},n.history.enable=function(){null===l&&(l=[])},n.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",s,t)},n.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",s,t)},n.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",s,t)},n}("VIDEOJS"),f=p.createLogger;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=t(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t.apply(this,arguments)}e.exports=t}),i=Object.prototype.toString,s=function(e){return o(e)?Object.keys(e):[]};function a(t,i){s(t).forEach(function(e){return i(t[e],e)})}function m(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?r.apply(void 0,[i].concat(t)):(t.forEach(function(e){e&&a(e,function(e,t){i[t]=e})}),i)}function o(e){return!!e&&"object"==typeof e}function u(e){return o(e)&&"[object Object]"===i.call(e)&&e.constructor===Object}function n(e,t){if(!e||!t)return"";if("function"!=typeof y.getComputedStyle)return"";var i=y.getComputedStyle(e);return i?i.getPropertyValue(t)||i[t]:""}function c(e){return"string"==typeof e&&Boolean(e.trim())}function g(e){if(0<=e.indexOf(" "))throw new Error("class has illegal whitespace characters")}function v(){return h===y.document}function _(e){return o(e)&&1===e.nodeType}function b(){try{return y.parent!==y.self}catch(e){return!0}}function T(n){return function(e,t){if(!c(e))return h[n](null);c(t)&&(t=h.querySelector(t));var i=_(t)?t:h;return i[n]&&i[n](e)}}function S(e,i,t,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===t&&(t={});var r=h.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(p.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),r.setAttribute(e,t)):"textContent"===e?k(r,t):r[e]!==t&&(r[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),n&&V(r,n),r}function k(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function C(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function E(e,t){return g(t),e.classList?e.classList.contains(t):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function w(e,t){return e.classList?e.classList.add(t):E(e,t)||(e.className=(e.className+" "+t).trim()),e}function L(e,t){return e.classList?e.classList.remove(t):(g(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function P(e,t,i){var n=E(e,t);if("function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=!n),i!==n)return i?w(e,t):L(e,t),e}function A(i,n){Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];null===t||"undefined"==typeof t||!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})}function I(e){var t={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,r=n.length-1;0<=r;r--){var s=n[r].name,a=n[r].value;"boolean"!=typeof e[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),t[s]=a}return t}function x(e,t){return e.getAttribute(t)}function O(e,t,i){e.setAttribute(t,i)}function D(e,t){e.removeAttribute(t)}function R(){h.body.focus(),h.onselectstart=function(){return!1}}function U(){h.onselectstart=function(){return!0}}function M(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(n(e,"height"))),i.width||(i.width=parseFloat(n(e,"width"))),i}}function N(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var i=h.documentElement,n=h.body,r=i.clientLeft||n.clientLeft||0,s=y.pageXOffset||n.scrollLeft,a=t.left+s-r,o=i.clientTop||n.clientTop||0,u=y.pageYOffset||n.scrollTop,l=t.top+u-o;return{left:Math.round(a),top:Math.round(l)}}function B(e,t){var i={},n=N(e),r=e.offsetWidth,s=e.offsetHeight,a=n.top,o=n.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-u+s)/s)),i.x=Math.max(0,Math.min(1,(l-o)/r)),i}function j(e){return o(e)&&3===e.nodeType}function F(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function H(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),_(e)||j(e)?e:"string"==typeof e&&/\S/.test(e)?h.createTextNode(e):void 0}).filter(function(e){return e})}function V(t,e){return H(e).forEach(function(e){return t.appendChild(e)}),t}function q(e,t){return V(F(e),t)}function W(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var z,G=T("querySelector"),K=T("querySelectorAll"),X=Object.freeze({isReal:v,isEl:_,isInFrame:b,createEl:S,textContent:k,prependTo:C,hasClass:E,addClass:w,removeClass:L,toggleClass:P,setAttributes:A,getAttributes:I,getAttribute:x,setAttribute:O,removeAttribute:D,blockTextSelection:R,unblockTextSelection:U,getBoundingClientRect:M,findPosition:N,getPointerPosition:B,isTextNode:j,emptyEl:F,normalizeContent:H,appendContent:V,insertContent:q,isSingleLeftClick:W,$:G,$$:K}),Y=!1,$=function(){if(v()&&!1!==z.options.autoSetup){var e=Array.prototype.slice.call(h.getElementsByTagName("video")),t=Array.prototype.slice.call(h.getElementsByTagName("audio")),i=Array.prototype.slice.call(h.getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&0<n.length)for(var r=0,s=n.length;r<s;r++){var a=n[r];if(!a||!a.getAttribute){Q(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&z(a)}else Y||Q(1)}};function Q(e,t){t&&(z=t),y.setTimeout($,e)}function J(){Y=!0,y.removeEventListener("load",J)}v()&&("complete"===h.readyState?J():y.addEventListener("load",J));function Z(e){var t=h.createElement("style");return t.className=e,t}function ee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}var te,ie=3;function ne(){return ie++}y.WeakMap||(te=function(){function e(){this.vdata="vdata"+Math.floor(y.performance&&y.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var i=e[this.vdata]||ne();return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];p("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var re,se=y.WeakMap?new WeakMap:new te;function ae(e,t){if(se.has(e)){var i=se.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&se.delete(e)}}function oe(t,i,e,n){e.forEach(function(e){t(i,e,n)})}function ue(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var n=e||y.event;for(var r in e={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||h),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var s=h.documentElement,a=h.body;e.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var le=function(){if("boolean"!=typeof re){re=!1;try{var e=Object.defineProperty({},"passive",{get:function(){re=!0}});y.addEventListener("test",null,e),y.removeEventListener("test",null,e)}catch(e){}}return re},ce=["touchstart","touchmove"];function he(a,e,t){if(Array.isArray(e))return oe(he,a,e,t);se.has(a)||se.set(a,{});var o=se.get(a);if(o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=ne()),o.handlers[e].push(t),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,t){if(!o.disabled){e=ue(e);var i=o.handlers[e.type];if(i)for(var n=i.slice(0),r=0,s=n.length;r<s&&!e.isImmediatePropagationStopped();r++)try{n[r].call(a,e,t)}catch(e){p.error(e)}}}),1===o.handlers[e].length)if(a.addEventListener){var i=!1;le()&&-1<ce.indexOf(e)&&(i={passive:!0}),a.addEventListener(e,o.dispatcher,i)}else a.attachEvent&&a.attachEvent("on"+e,o.dispatcher)}function de(e,t,i){if(se.has(e)){var n=se.get(e);if(n.handlers){if(Array.isArray(t))return oe(de,e,t,i);var r=function(e,t){n.handlers[t]=[],ae(e,t)};if(void 0!==t){var s=n.handlers[t];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);ae(e,t)}else r(e,t)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(e,o)}}}function pe(e,t,i){var n=se.has(e)?se.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ue(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)pe.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){se.has(t.target)||se.set(t.target,{});var s=se.get(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function fe(e,t,i){if(Array.isArray(t))return oe(fe,e,t,i);function n(){de(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||ne(),he(e,t,n)}function me(e,t,i){function n(){de(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||ne(),he(e,t,n)}function ge(e,t,i){t.guid||(t.guid=ne());var n=t.bind(e);return n.guid=i?i+"_"+t.guid:t.guid,n}function ve(t,i){var n=y.performance.now();return function(){var e=y.performance.now();i<=e-n&&(t.apply(void 0,arguments),n=e)}}function ye(){}var _e,be=Object.freeze({fixEvent:ue,on:he,off:de,trigger:pe,one:fe,any:me});ye.prototype.allowedEvents_={},ye.prototype.addEventListener=ye.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},he(this,e,t),this.addEventListener=i},ye.prototype.removeEventListener=ye.prototype.off=function(e,t){de(this,e,t)},ye.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},fe(this,e,t),this.addEventListener=i},ye.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},me(this,e,t),this.addEventListener=i},ye.prototype.dispatchEvent=ye.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ue(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),pe(this,e)},ye.prototype.queueTrigger=function(e){var t=this;_e=_e||new Map;var i=e.type||e,n=_e.get(this);n||(n=new Map,_e.set(this,n));var r=n.get(i);n.delete(i),y.clearTimeout(r);var s=y.setTimeout(function(){0===n.size&&(n=null,_e.delete(t)),t.trigger(e)},0);n.set(i,s)};function Te(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length}function Se(e){if(!e.nodeName&&!Le(e))throw new Error("Invalid target; must be a DOM node or evented object.")}function ke(e){if(!Te(e))throw new Error("Invalid event type; must be a non-empty string or array.")}function Ce(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")}function Ee(e,t){var i,n,r,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return r=s?(i=e.eventBusEl_,3<=t.length&&t.shift(),n=t[0],t[1]):(i=t[0],n=t[1],t[2]),Se(i),ke(n),Ce(r),{isTargetingSelf:s,target:i,type:n,listener:r=ge(e,r)}}function we(e,t,i,n){Se(e),e.nodeName?be[t](e,i,n):e[t](i,n)}var Le=function(t){return t instanceof ye||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},Pe={on:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=Ee(this,i),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(we(a,"on",o,u),!s){var l=function(){return e.off(a,o,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,we(this,"on","dispose",l),we(a,"on","dispose",c)}},one:function(){for(var r=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Ee(this,t),s=n.isTargetingSelf,a=n.target,o=n.type,u=n.listener;if(s)we(a,"one",o,u);else{var l=function e(){r.off(a,o,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];u.apply(null,i)};l.guid=u.guid,we(a,"one",o,l)}},any:function(){for(var r=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Ee(this,t),s=n.isTargetingSelf,a=n.target,o=n.type,u=n.listener;if(s)we(a,"any",o,u);else{var l=function e(){r.off(a,o,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];u.apply(null,i)};l.guid=u.guid,we(a,"any",o,l)}},off:function(e,t,i){if(!e||Te(e))de(this.eventBusEl_,e,t);else{var n=e,r=t;Se(n),ke(r),Ce(i),i=ge(this,i),this.off("dispose",i),n.nodeName?(de(n,r,i),de(n,"dispose",i)):Le(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(e,t){return pe(this.eventBusEl_,e,t)}};function Ae(e,t){void 0===t&&(t={});var i=t.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=S("span",{className:"vjs-event-bus"});return m(e,Pe),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),y.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Ie={state:{},setState:function(e){var i,n=this;return"function"==typeof e&&(e=e()),a(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&Le(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function xe(e,t){return m(e,Ie),e.state=m({},e.state,t),"function"==typeof e.handleStateChanged&&Le(e)&&e.on("statechanged",e.handleStateChanged),e}function Oe(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})}function De(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function Re(){for(var i={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){e&&a(e,function(e,t){u(e)?(u(i[t])||(i[t]={}),i[t]=Re(i[t],e)):i[t]=e})}),i}var Ue=function(){function l(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Re({},this.options_),t=this.options_=Re(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+ne()}var r;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Ae(this,{eventBusKey:this.el_?"el_":null}),xe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},y.Set||(r=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},e}()),this.setTimeoutIds_=y.Set?new Set:new r,this.setIntervalIds_=y.Set?new Set:new r,this.rafIds_=y.Set?new Set:new r,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var e=l.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),se.has(this.el_)&&se.delete(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(e){return e&&(this.options_=Re(this.options_,e)),this.options_},e.el=function(){return this.el_},e.createEl=function(e,t,i){return S(e,t,i)},e.localize=function(e,r,t){void 0===t&&(t=e);var i=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),s=n&&n[i],a=i&&i.split("-")[0],o=n&&n[a],u=t;return s&&s[e]?u=s[e]:o&&o[e]&&(u=o[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(e,t){var i=r[t-1],n=i;return"undefined"==typeof i&&(n=e),n})),u},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(e){return this.childIndex_[e]},e.getChild=function(e){if(e)return this.childNameIndex_[e]},e.addChild=function(e,t,i){var n,r;if(void 0===t&&(t={}),void 0===i&&(i=this.children_.length),"string"==typeof e){r=De(e);var s=t.componentClass||r;t.name=r;var a=l.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;n=new a(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(r=r||n.name&&De(n.name()))&&(this.childNameIndex_[r]=n,this.childNameIndex_[Oe(r)]=n),"function"==typeof n.el&&n.el()){var o=null;this.children_[i+1]&&this.children_[i+1].el_&&(o=this.children_[i+1].el_),this.contentEl().insertBefore(n.el(),o)}return n},e.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[De(e.name())]=null,this.childNameIndex_[Oe(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.initChildren=function(){var r=this,n=this.options_.children;if(n){var e,s=this.options_,i=l.getComponent("Tech");(e=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t,i;return i="string"==typeof e?n[t=e]||r.options_[t]||{}:(t=e.name,e),{name:t,opts:i}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||De(e.name));return t&&!i.isTech(t)}).forEach(function(e){var t=e.name,i=e.opts;if(void 0!==s[t]&&(i=s[t]),!1!==i){!0===i&&(i={}),i.playerOptions=r.options_.playerOptions;var n=r.addChild(t,i);n&&(r[t]=n)}})}},e.buildCSSClass=function(){return""},e.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.$=function(e,t){return G(e,t||this.contentEl())},e.$$=function(e,t){return K(e,t||this.contentEl())},e.hasClass=function(e){return E(this.el_,e)},e.addClass=function(e){w(this.el_,e)},e.removeClass=function(e){L(this.el_,e)},e.toggleClass=function(e,t){P(this.el_,e,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(e){return x(this.el_,e)},e.setAttribute=function(e,t){O(this.el_,e,t)},e.removeAttribute=function(e){D(this.el_,e)},e.width=function(e,t){return this.dimension("width",e,t)},e.height=function(e,t){return this.dimension("height",e,t)},e.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+De(e)],10)},e.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=n(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var i="offset"+De(e);t=this.el_[i]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},e.handleKeyPress=function(e){this.handleKeyDown(e)},e.emitTapEvents=function(){var n,t=0,r=null;this.on("touchstart",function(e){1===e.touches.length&&(r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=y.performance.now(),n=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)n=!1;else if(r){var t=e.touches[0].pageX-r.pageX,i=e.touches[0].pageY-r.pageY;10<Math.sqrt(t*t+i*i)&&(n=!1)}});function e(){n=!1}this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(r=null)===n&&y.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,i=ge(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var e=function(e){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",e),this.on("touchcancel",e)}},e.setTimeout=function(e,t){var i,n=this;return e=ge(this,e),this.clearTimersOnDispose_(),i=y.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),y.clearTimeout(e)),e},e.setInterval=function(e,t){e=ge(this,e),this.clearTimersOnDispose_();var i=y.setInterval(e,t);return this.setIntervalIds_.add(i),i},e.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),y.clearInterval(e)),e},e.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=ge(this,e),t=y.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),y.cancelAnimationFrame(e)),e):this.clearTimeout(e)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],i=e[1];n[t].forEach(n[i],n)}),n.clearingTimersOnDispose_=!1}))},l.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i,n=l.getComponent("Tech"),r=n&&n.isTech(t),s=l===t||l.prototype.isPrototypeOf(t.prototype);if(r||!s)throw i=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=De(e),l.components_||(l.components_={});var a=l.getComponent("Player");if("Player"===e&&a&&a.players){var o=a.players,u=Object.keys(o);if(o&&0<u.length&&u.map(function(e){return o[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[e]=t,l.components_[Oe(e)]=t},l.getComponent=function(e){if(e&&l.components_)return l.components_[e]},l}();Ue.prototype.supportsRaf_="function"==typeof y.requestAnimationFrame&&"function"==typeof y.cancelAnimationFrame,Ue.registerComponent("Component",Ue);var Me=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var Ne,Be,je,Fe,He=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t},Ve=y.navigator&&y.navigator.userAgent||"",qe=/AppleWebKit\/([\d.]+)/i.exec(Ve),We=qe?parseFloat(qe.pop()):null,ze=/iPod/i.test(Ve),Ge=(Ne=Ve.match(/OS (\d+)_/i))&&Ne[1]?Ne[1]:null,Ke=/Android/i.test(Ve),Xe=function(){var e=Ve.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),Ye=Ke&&Xe<5&&We<537,$e=/Firefox/i.test(Ve),Qe=/Edge/i.test(Ve),Je=!Qe&&(/Chrome/i.test(Ve)||/CriOS/i.test(Ve)),Ze=(Be=Ve.match(/(Chrome|CriOS)\/(\d+)/))&&Be[2]?parseFloat(Be[2]):null,et=(je=/MSIE\s(\d+)\.\d/.exec(Ve),!(Fe=je&&parseFloat(je[1]))&&/Trident\/7.0/i.test(Ve)&&/rv:11.0/.test(Ve)&&(Fe=11),Fe),tt=/Safari/i.test(Ve)&&!Je&&!Ke&&!Qe,it=/Windows/i.test(Ve),nt=v()&&("ontouchstart"in y||y.navigator.maxTouchPoints||y.DocumentTouch&&y.document instanceof y.DocumentTouch),rt=/iPad/i.test(Ve)||tt&&nt&&!/iPhone/i.test(Ve),st=/iPhone/i.test(Ve)&&!rt,at=st||rt||ze,ot=(tt||at)&&!Je,ut=Object.freeze({IS_IPOD:ze,IOS_VERSION:Ge,IS_ANDROID:Ke,ANDROID_VERSION:Xe,IS_NATIVE_ANDROID:Ye,IS_FIREFOX:$e,IS_EDGE:Qe,IS_CHROME:Je,CHROME_VERSION:Ze,IE_VERSION:et,IS_SAFARI:tt,IS_WINDOWS:it,TOUCH_ENABLED:nt,IS_IPAD:rt,IS_IPHONE:st,IS_IOS:at,IS_ANY_SAFARI:ot});function lt(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||i<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,n,i.length-1),i[n][t]}function ct(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:lt.bind(null,"start",0,e),end:lt.bind(null,"end",1,e)}}function ht(e,t){return Array.isArray(e)?ct(e):void 0===e||void 0===t?ct():ct([[e,t]])}function dt(e,t){var i,n,r=0;if(!t)return 0;e&&e.length||(e=ht(0,0));for(var s=0;s<e.length;s++)i=e.start(s),t<(n=e.end(s))&&(n=t),r+=n-i;return r/t}for(var pt,ft={prefixed:!0},mt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],gt=mt[0],vt=0;vt<mt.length;vt++)if(mt[vt][1]in h){pt=mt[vt];break}if(pt){for(var yt=0;yt<pt.length;yt++)ft[gt[yt]]=pt[yt];ft.prefixed=pt[0]!==gt[0]}function _t(e){if(e instanceof _t)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:o(e)&&("number"==typeof e.code&&(this.code=e.code),m(this,e)),this.message||(this.message=_t.defaultMessages[this.code]||"")}_t.prototype.code=0,_t.prototype.message="",_t.prototype.status=null,_t.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_t.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var bt=0;bt<_t.errorTypes.length;bt++)_t[_t.errorTypes[bt]]=bt,_t.prototype[_t.errorTypes[bt]]=bt;var Tt=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]};function St(e){return null!=e&&"function"==typeof e.then}function kt(e){St(e)&&e.then(null,function(e){})}function Ct(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,i){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Et=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Ct(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(Ct))},wt=function(e,i){return e.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),i.textTracks()},Lt=t(function(e,t){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var i,n=String(e);return(i=r[n.toLowerCase()])?i:(i=s[n.toLowerCase()])||(1===n.length?n.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){var n;if(n=r[t.toLowerCase()])return n===i;if(n=s[t.toLowerCase()])return n===i}else if("number"==typeof t)return t===i;return!1}};var r=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(n=97;n<123;n++)r[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)r[n-48]=n;for(n=1;n<13;n++)r["f"+n]=n+111;for(n=0;n<10;n++)r["numpad "+n]=n+96;var a=t.names=t.title={};for(n in r)a[r[n]]=n;for(var o in s)r[o]=s[o]}),Pt=(Lt.code,Lt.codes,Lt.aliases,Lt.names,Lt.title,"vjs-modal-dialog"),At=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=S("div",{className:Pt+"-content"},{role:"document"}),i.descEl_=S("p",{className:Pt+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),k(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return Pt+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!t&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),q(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},t.empty=function(){this.trigger("beforemodalempty"),F(this.contentEl()),this.trigger("modalempty")},t.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t.conditionalFocus_=function(){var e=h.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(e){if(e.stopPropagation(),Lt.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Lt.isEventKey(e,"Tab")){for(var t,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){t=r;break}h.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},t.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof y.HTMLAnchorElement||e instanceof y.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof y.HTMLInputElement||e instanceof y.HTMLSelectElement||e instanceof y.HTMLTextAreaElement||e instanceof y.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof y.HTMLIFrameElement||e instanceof y.HTMLObjectElement||e instanceof y.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},e}(Ue);At.prototype.options_={pauseOnOpen:!0,temporary:!0},Ue.registerComponent("ModalDialog",At);var It=function(n){function e(e){var t;void 0===e&&(e=[]),(t=n.call(this)||this).tracks_=[],Object.defineProperty(Me(t),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)t.addTrack(e[i]);return t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},t.removeTrack=function(e){for(var t,i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},t.getTrackById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},e}(ye);for(var xt in It.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},It.prototype.allowedEvents_)It.prototype["on"+xt]=null;function Ot(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)}function Dt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)}function Rt(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=h.createElement("a");i.href=e;var n,r=""===i.host&&"file:"!==i.protocol;r&&((n=h.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),h.body.appendChild(n));for(var s={},a=0;a<t.length;a++)s[t[a]]=i[t[a]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=y.location.protocol),r&&h.body.removeChild(n),s}function Ut(e){if(!e.match(/^https?:\/\//)){var t=h.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e}function Mt(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""}function Nt(e,t){void 0===t&&(t=y.location);var i=Rt(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host}var Bt=function(n){function e(e){var t;void 0===e&&(e=[]);for(var i=e.length-1;0<=i;i--)if(e[i].enabled){Ot(e,e[i]);break}return(t=n.call(this,e)||this).changing_=!1,t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.enabled&&Ot(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,Ot(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(It),jt=function(n){function e(e){var t;void 0===e&&(e=[]);for(var i=e.length-1;0<=i;i--)if(e[i].selected){Dt(e,e[i]);break}return(t=n.call(this,e)||this).changing_=!1,Object.defineProperty(Me(t),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.selected&&Dt(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,Dt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(It),Ft=function(i){function e(){return i.apply(this,arguments)||this}He(e,i);var t=e.prototype;return t.addTrack=function(e){var t=this;i.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(e){i.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(It),Ht=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},t.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Vt=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(e){var t=this.length||0,i=0,n=e.length;this.cues_=e,this.length_=e.length;function r(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}if(t<n)for(i=t;i<n;i++)r.call(this,i)},e.getCueById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},t}(),qt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Wt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},zt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Gt={disabled:"disabled",hidden:"hidden",showing:"showing"},Kt=function(s){function e(e){var t;void 0===e&&(e={}),t=s.call(this)||this;function i(e){Object.defineProperty(Me(t),e,{get:function(){return n[e]},set:function(){}})}var n={id:e.id||"vjs_track_"+ne(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(var r in n)i(r);return t}return He(e,s),e}(ye),Xt=Object.freeze({parseUrl:Rt,getAbsoluteURL:Ut,getFileExtension:Mt,isCrossOrigin:Nt}),Yt=function(e){var t=$t.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}
/**
   * @license
   * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
   * Copyright (c) 2014 David Björklund
   * Available under the MIT license
   * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
   */,$t=Object.prototype.toString;var Qt=function(e){var r={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),i=e.slice(0,t).trim().toLowerCase(),n=e.slice(t+1).trim();"undefined"==typeof r[i]?r[i]=n:Array.isArray(r[i])?r[i].push(n):r[i]=[r[i],n]}),r},Jt=ti,Zt=ti;function ei(e,t,i){var n=e;return Yt(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=r({},t,{uri:e}),n.callback=i,n}function ti(e,t,i){return ii(t=ei(e,t,i))}function ii(n){if("undefined"==typeof n.callback)throw new Error("callback argument missing");var r=!1,s=function(e,t,i){r||(r=!0,n.callback(e,t,i))};function t(e){return clearTimeout(o),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,m)}function e(){if(!a){var e;clearTimeout(o),e=n.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var t=m,i=null;return 0!==e?(t={body:function(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(t.headers=Qt(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,t,t.body)}}var i,a,o,u=n.xhr||null,l=(u=u||(n.cors||n.useXDR?new ti.XDomainRequest:new ti.XMLHttpRequest)).url=n.uri||n.url,c=u.method=n.method||"GET",h=n.body||n.data,d=u.headers=n.headers||{},p=!!n.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:c,url:l,rawRequest:u};if("json"in n&&!1!==n.json&&(f=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),h=JSON.stringify(!0===n.json?h:n.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(e,0)},u.onload=e,u.onerror=t,u.onprogress=function(){},u.onabort=function(){a=!0},u.ontimeout=t,u.open(c,l,!p,n.username,n.password),p||(u.withCredentials=!!n.withCredentials),!p&&0<n.timeout&&(o=setTimeout(function(){if(!a){a=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},n.timeout)),u.setRequestHeader)for(i in d)d.hasOwnProperty(i)&&u.setRequestHeader(i,d[i]);else if(n.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(u.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(u),u.send(h||null),u}ti.XMLHttpRequest=y.XMLHttpRequest||function(){},ti.XDomainRequest="withCredentials"in new ti.XMLHttpRequest?ti.XMLHttpRequest:y.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],function(n){ti["delete"===n?"del":n]=function(e,t,i){return(t=ei(e,t,i)).method=n.toUpperCase(),ii(t)}}),Jt.default=Zt;function ni(e,t){var i=new y.WebVTT.Parser(y,y.vttjs,y.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),0<n.length&&(y.console&&y.console.groupCollapsed&&y.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return p.error(e)}),y.console&&y.console.groupEnd&&y.console.groupEnd()),i.flush()}function ri(e,n){var t={uri:e},i=Nt(e);i&&(t.cors=i),Jt(t,ge(this,function(e,t,i){if(e)return p.error(e,t);n.loaded_=!0,"function"!=typeof y.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return ni(i,n);p.error("vttjs failed to load, stopping trying to process "+n.src)}):ni(i,n)}))}var si=function(l){function e(e){var t;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Re(e,{kind:zt[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=Gt[i.mode]||"disabled",r=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(n="hidden"),(t=l.call(this,i)||this).tech_=i.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks;var s=new Vt(t.cues_),a=new Vt(t.activeCues_),o=!1,u=ge(Me(t),function(){this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1)});return"disabled"!==n&&t.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0),Object.defineProperties(Me(t),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return n},set:function(e){var t=this;Gt[e]&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||ri(this.src,this),"disabled"!==n?this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(var s=0;s<t.length;s++)-1===this.activeCues_.indexOf(t[s])&&(o=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),i.src?(t.src=i.src,t.preload_||(t.loaded_=!0),(t.preload_||r||"subtitles"!==i.kind&&"captions"!==i.kind)&&ri(t.src,Me(t))):t.loaded_=!0,t}He(e,l);var t=e.prototype;return t.addCue=function(e){var t=e;if(y.vttjs&&!(e instanceof y.vttjs.VTTCue)){for(var i in t=new y.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},e}(Kt);si.prototype.allowedEvents_={cuechange:"cuechange"};var ai=function(r){function e(e){var t;void 0===e&&(e={});var i=Re(e,{kind:Wt[e.kind]||""});t=r.call(this,i)||this;var n=!1;return Object.defineProperty(Me(t),"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),i.enabled&&(t.enabled=i.enabled),t.loaded_=!0,t}return He(e,r),e}(Kt),oi=function(r){function e(e){var t;void 0===e&&(e={});var i=Re(e,{kind:qt[e.kind]||""});t=r.call(this,i)||this;var n=!1;return Object.defineProperty(Me(t),"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),i.selected&&(t.selected=i.selected),t}return He(e,r),e}(Kt),ui=function(r){function e(e){var t,i;void 0===e&&(e={}),t=r.call(this)||this;var n=new si(e);return t.kind=n.kind,t.src=n.src,t.srclang=n.language,t.label=n.label,t.default=n.default,Object.defineProperties(Me(t),{readyState:{get:function(){return i}},track:{get:function(){return n}}}),i=0,n.addEventListener("loadeddata",function(){i=2,t.trigger({type:"load",target:Me(t)})}),t}return He(e,r),e}(ye);ui.prototype.allowedEvents_={load:"load"},ui.NONE=0,ui.LOADING=1,ui.LOADED=2,ui.ERROR=3;var li={audio:{ListClass:Bt,TrackClass:ai,capitalName:"Audio"},video:{ListClass:jt,TrackClass:oi,capitalName:"Video"},text:{ListClass:Ft,TrackClass:si,capitalName:"Text"}};Object.keys(li).forEach(function(e){li[e].getterName=e+"Tracks",li[e].privateName=e+"Tracks_"});var ci={remoteText:{ListClass:Ft,TrackClass:si,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ht,TrackClass:ui,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},hi=r({},li,ci);ci.names=Object.keys(ci),li.names=Object.keys(li),hi.names=[].concat(ci.names).concat(li.names);var di=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return pi.prototype=e,new pi};function pi(){}function fi(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function mi(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):59<i[1]?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function gi(){this.values=di(null)}function vi(e,t,i,n){var r=n?e.split(n):[e];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(i);if(2===a.length)t(a[0],a[1])}}function yi(t,e,a){var i=t;function n(){var e=mi(t);if(null===e)throw new fi(fi.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}if(r(),e.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new fi(fi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),r(),e.endTime=n(),r(),function(e,t){var s=new gi;vi(e,function(e,t){switch(e){case"region":for(var i=a.length-1;0<=i;i--)if(a[i].id===t){s.set(e,a[i].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),r=n[0];s.integer(e,r),s.percent(e,r)&&s.set("snapToLines",!1),s.alt(e,r,["auto"]),2===n.length&&s.alt("lineAlign",n[1],["start","center","end"]);break;case"position":n=t.split(","),s.percent(e,n[0]),2===n.length&&s.alt("positionAlign",n[1],["start","center","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=s.get("region",null),t.vertical=s.get("vertical","");try{t.line=s.get("line","auto")}catch(e){}t.lineAlign=s.get("lineAlign","start"),t.snapToLines=s.get("snapToLines",!0),t.size=s.get("size",100);try{t.align=s.get("align","center")}catch(e){t.align=s.get("align","middle")}try{t.position=s.get("position","auto")}catch(e){t.position=s.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=s.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(t,e)}((fi.prototype=di(Error.prototype)).constructor=fi).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},gi.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var _i=h.createElement("textarea"),bi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ti={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Si={v:"title",lang:"lang"},ki={rt:"ruby"};function Ci(s,i){function e(){if(!i)return null;var e,t=i.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],i=i.substr(e.length),e}function t(e,t){var i=bi[e];if(!i)return null;var n=s.document.createElement(i),r=Si[e];return r&&t&&(n[r]=t.trim()),n}for(var n,r,a,o,u=s.document.createElement("div"),l=u,c=[];null!==(n=e());)if("<"!==n[0])l.appendChild(s.document.createTextNode((r=n,_i.innerHTML=r,r=_i.textContent,_i.textContent="",r)));else{if("/"===n[1]){c.length&&c[c.length-1]===n.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var h,d=mi(n.substr(1,n.length-2));if(d){h=s.document.createProcessingInstruction("timestamp",d),l.appendChild(h);continue}var p=n.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=t(p[1],p[3])))continue;if(a=l,ki[(o=h).localName]&&ki[o.localName]!==a.localName)continue;if(p[2]){var f=p[2].split(".");f.forEach(function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(Ti.hasOwnProperty(i)){var n=t?"background-color":"color",r=Ti[i];h.style[n]=r}}),h.className=f.join(" ")}c.push(p[1]),l.appendChild(h),l=h}return u}var Ei=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function wi(e){for(var t=0;t<Ei.length;t++){var i=Ei[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function Li(){}function Pi(e,t,i){Li.call(this),this.cue=t,this.cueDiv=Ci(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:function(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}function s(e){if(!e||!e.length)return null;var t=e.pop(),i=t.textContent||t.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?n[e.length=0]:i}return"ruby"===t.tagName?s(e):t.childNodes?(r(e,t),s(e)):void 0}for(r(t,e);i=s(t);)for(var n=0;n<i.length;n++)if(wi(i.charCodeAt(n)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Ai(e){var t,i,n,r;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function Ii(e,t,o,u){var i=new Ai(t),n=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&n++;return-1*++n}(n),s=[];if(n.snapToLines){var a;switch(n.vertical){case"":s=["+y","-y"],a="height";break;case"rl":s=["+x","-x"],a="width";break;case"lr":s=["-x","+x"],a="width"}var l=i.lineHeight,c=l*Math.round(r),h=o[a]+l,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),r<0&&(c+=""===n.vertical?o.height:o.width,s=s.reverse()),i.move(d,c)}else{var p=i.lineHeight/o.height*100;switch(n.lineAlign){case"center":r-=p/2;break;case"end":r-=p}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}s=["+y","-x","+x","-y"],i=new Ai(t)}var f=function(e,t){for(var i,n=new Ai(e),r=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(o,t[s])||e.within(o)&&e.overlapsAny(u);)e.move(t[s]);if(e.within(o))return e;var a=e.intersectPercentage(o);a<r&&(i=new Ai(e),r=a),e=new Ai(n)}return i||n}(i,s);t.move(f.toCSSCompatValues(o))}function xi(){}Li.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Li.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Pi.prototype=di(Li.prototype)).constructor=Pi,Ai.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Ai.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Ai.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Ai.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Ai.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Ai.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Ai.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Ai.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},xi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},xi.convertCueToDOMTree=function(e,t){return e&&t?Ci(e,t):null};xi.processCues=function(n,r,e){if(!n||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var s=n.document.createElement("div");if(s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin="1.5%",e.appendChild(s),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(r)){var a=[],o=Ai.getSimpleBoxPosition(s),u={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var e,t,i=0;i<r.length;i++)t=r[i],e=new Pi(n,t,u),s.appendChild(e.div),Ii(0,e,o,a),t.displayState=e.div,a.push(Ai.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)s.appendChild(r[t].displayState)},(xi.Parser=function(e,t,i){i||(i=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof fi))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var n=this;function t(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?vi(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var i=new gi;vi(e,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",mi(t))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}(t)}},/=/):vi(e,function(e,t){switch(e){case"Region":!function(e){var r=new gi;if(vi(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var n=new gi;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(e+"X",n.get("x")),r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var t=new(n.vttjs.VTTRegion||n.window.VTTRegion);t.width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),n.onregion&&n.onregion(t),n.regionList.push({id:r.get("id"),region:t})}}(t)}},/:/)}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var s=(r=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new fi(fi.Errors.BadSignature);n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:r=t(),n.state){case"HEADER":/:/.test(r)?i(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{yi(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new fi(fi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Oi=xi,Di={"":1,lr:1,rl:1},Ri={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Ui(e){return"string"==typeof e&&(!!Ri[e.toLowerCase()]&&e.toLowerCase())}function Mi(e,t,i){this.hasBeenReset=!1;var n="",r=!1,s=e,a=t,o=i,u=null,l="",c=!0,h="auto",d="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&(!!Di[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){var t=Ui(e);t&&(d=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=Ui(e);t&&(f=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=Ui(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}Mi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ni=Mi,Bi={"":!0,up:!0};function ji(e){return"number"==typeof e&&0<=e&&e<=100}function Fi(){var t=100,i=3,n=0,r=100,s=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!ji(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!ji(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!ji(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!ji(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!ji(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return o},set:function(e){var t=function(e){return"string"==typeof e&&(!!Bi[e.toLowerCase()]&&e.toLowerCase())}(e);!1===t||(o=t)}}})}var Hi=t(function(e){var t=e.exports={WebVTT:Oi,VTTCue:Ni,VTTRegion:Fi};y.vttjs=t,y.WebVTT=t.WebVTT;var i=t.VTTCue,n=t.VTTRegion,r=y.VTTCue,s=y.VTTRegion;t.shim=function(){y.VTTCue=i,y.VTTRegion=n},t.restore=function(){y.VTTCue=r,y.VTTRegion=s},y.VTTCue||t.shim()});Hi.WebVTT,Hi.VTTCue,Hi.VTTRegion;var Vi=function(t){function i(i,e){var n;return void 0===i&&(i={}),void 0===e&&(e=function(){}),i.reportTouchActivity=!1,(n=t.call(this,null,i,e)||this).hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),hi.names.forEach(function(e){var t=hi[e];i&&i[t.getterName]&&(n[t.privateName]=i[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===i["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==i.preloadTextTracks,n.autoRemoteTextTracks_=new hi.text.ListClass,n.initTrackListeners(),i.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}He(i,t);var e=i.prototype;return e.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ge(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(e){this.duration_=this.duration()},e.buffered=function(){return ht(0,0)},e.bufferedPercent=function(){return dt(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(li.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.clearTracks=function(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],i=t.length;i--;){var n=t[i];"text"===e&&r.removeRemoteTextTrack(n),t.removeTrack(n)}})},e.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},e.reset=function(){},e.error=function(e){return void 0!==e&&(this.error_=new _t(e),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?ht(0,0):ht()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var r=this;li.names.forEach(function(e){function t(){r.trigger(e+"trackchange")}var i=li[e],n=r[i.getterName]();n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),r.on("dispose",function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})})},e.addWebVttScript_=function(){var e=this;if(!y.WebVTT)if(h.body.contains(this.el())){if(!this.options_["vtt.js"]&&u(Hi)&&0<Object.keys(Hi).length)return void this.trigger("vttjsloaded");var t=h.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),y.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){function t(e){return n.addTrack(e.track)}function i(e){return n.removeTrack(e.track)}var e=this,n=this.textTracks(),r=this.remoteTextTracks();r.on("addtrack",t),r.on("removetrack",i),this.addWebVttScript_();function s(){return e.trigger("texttrackchange")}function a(){s();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",s),"showing"===t.mode&&t.addEventListener("cuechange",s)}}a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",t),r.off("removetrack",i),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++){n[e].removeEventListener("cuechange",s)}})},e.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,n,r){void 0===r&&(r={});var s=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;var a=new hi.text.TrackClass(r);return s.addTrack(a),a}(this,e,t,i)},e.createRemoteTextTrack=function(e){var t=Re(e,{tech:this});return new ci.remoteTextEl.TrackClass(t)},e.addRemoteTextTrack=function(e,t){var i=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(p.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},e.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var e=this.options_.Promise||y.Promise;if(e)return e.reject()},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=De(e),i.techs_[e]=t,i.techs_[Oe(e)]=t,"Tech"!==e&&i.defaultTechOrder_.push(e),t},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=De(e),y&&y.videojs&&y.videojs[e]?(p.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),y.videojs[e]):void 0)},i}(Ue);hi.names.forEach(function(e){var t=hi[e];Vi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Vi.prototype.featuresVolumeControl=!0,Vi.prototype.featuresMuteControl=!0,Vi.prototype.featuresFullscreenResize=!1,Vi.prototype.featuresPlaybackRate=!1,Vi.prototype.featuresProgressEvents=!1,Vi.prototype.featuresSourceset=!1,Vi.prototype.featuresTimeupdateEvents=!1,Vi.prototype.featuresNativeTextTracks=!1,Vi.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var i=r.sourceHandlers;i=i||(r.sourceHandlers=[]),void 0===t&&(t=i.length),i.splice(t,0,e)},r.canPlayType=function(e){for(var t,i=r.sourceHandlers||[],n=0;n<i.length;n++)if(t=i[n].canPlayType(e))return t;return""},r.selectSourceHandler=function(e,t){for(var i=r.sourceHandlers||[],n=0;n<i.length;n++)if(i[n].canHandleSource(e,t))return i[n];return null},r.canPlaySource=function(e,t){var i=r.selectSourceHandler(e,t);return i?i.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:p.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ue.registerComponent("Tech",Vi),Vi.registerTech("Tech",Vi),Vi.defaultTechOrder_=[];var qi={},Wi={},zi={};function Gi(e,t,i){e.setTimeout(function(){return function i(n,e,r,s,a,o){void 0===n&&(n={});void 0===e&&(e=[]);void 0===a&&(a=[]);void 0===o&&(o=!1);var t=e,u=t[0],l=t.slice(1);if("string"==typeof u)i(n,qi[u],r,s,a,o);else if(u){var c=Ji(s,u);if(!c.setSource)return a.push(c),i(n,l,r,s,a,o);c.setSource(m({},n),function(e,t){if(e)return i(n,l,r,s,a,o);a.push(c),i(t,n.type===t.type?l:qi[t.type],r,s,a,o)})}else l.length?i(n,l,r,s,a,o):o?r(n,a):i(n,qi["*"],r,s,a,!0)}(t,qi[t.type],i,e)},1)}function Ki(e,t,i,n){void 0===n&&(n=null);var r="call"+De(i),s=e.reduce(Qi(r),n),a=s===zi,o=a?null:t[i](s);return function(e,t,i,n){for(var r=e.length-1;0<=r;r--){var s=e[r];s[t]&&s[t](n,i)}}(e,i,o,a),o}var Xi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Yi={setCurrentTime:1,setMuted:1,setVolume:1},$i={play:1,pause:1};function Qi(i){return function(e,t){return e===zi?zi:t[i]?t[i](e):e}}function Ji(e,t){var i=Wi[e.id()],n=null;if(null==i)return n=t(e),Wi[e.id()]=[[t,n]],n;for(var r=0;r<i.length;r++){var s=i[r],a=s[0],o=s[1];a===t&&(n=o)}return null===n&&(n=t(e),i.push([t,n])),n}function Zi(e){void 0===e&&(e="");var t=Mt(e);return en[t.toLowerCase()]||""}var en={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function tn(e){if(!e.type){var t=Zi(e.src);t&&(e.type=t)}return e}var nn=function(l){function e(e,t,i){var n,r=Re({createEl:!1},t);if(n=l.call(this,e,r,i)||this,t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var s=0,a=t.playerOptions.techOrder;s<a.length;s++){var o=De(a[s]),u=Vi.getTech(o);if(o||(u=Ue.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}return n}return He(e,l),e}(Ue);Ue.registerComponent("MediaLoader",nn);var rn=function(r){function e(e,t){var i;return(i=r.call(this,e,t)||this).emitTapEvents(),i.enable(),i}He(e,r);var t=e.prototype;return t.createEl=function(e,t,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===i&&(i={}),t=m({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&p.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=m({role:"button"},i),this.tabIndex_=t.tabIndex;var n=r.prototype.createEl.call(this,e,t,i);return this.createControlTextEl(n),n},t.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},t.createControlTextEl=function(e){return this.controlTextEl_=S("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,k(this.controlTextEl_,i),this.nonIconControl||t.setAttribute("title",i)},t.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},t.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(e){Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,e)},e}(Ue);Ue.registerComponent("ClickableComponent",rn);var sn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update(),e.on("posterchange",ge(Me(i),i.update)),i}He(e,n);var t=e.prototype;return t.dispose=function(){this.player().off("posterchange",this.update),n.prototype.dispose.call(this)},t.createEl=function(){return S("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},t.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?kt(this.player_.play()):this.player_.pause())},e}(rn);Ue.registerComponent("PosterImage",sn);var an="#222",on={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function un(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function ln(e,t,i){try{e.style[t]=i}catch(e){return}}var cn=function(s){function e(i,e,t){var n;n=s.call(this,i,e,t)||this;var r=ge(Me(n),n.updateDisplay);return i.on("loadstart",ge(Me(n),n.toggleDisplay)),i.on("texttrackchange",r),i.on("loadedmetadata",ge(Me(n),n.preselectTrack)),i.ready(ge(Me(n),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",r),i.on("playerresize",r),y.addEventListener("orientationchange",r),i.on("dispose",function(){return y.removeEventListener("orientationchange",r)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),n}He(e,s);var t=e.prototype;return t.preselectTrack=function(){for(var e,t,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var o=r[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in n?i=o.kind===s.kind?o:i||o:s&&!s.enabled?t=e=i=null:o.default&&("descriptions"!==o.kind||e?o.kind in n&&!t&&(t=o):e=o)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){"function"==typeof y.WebVTT&&y.WebVTT.processCues(y,[],this.el_)},t.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],n=0;n<e.length;++n){var r=e[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var s=null,a=null,o=e.length;o--;){var u=e[o];"showing"===u.mode&&("descriptions"===u.kind?s=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},t.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){var r=i[n];if(r){var s=r.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&ln(s.firstChild,"color",un(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ln(s.firstChild,"backgroundColor",un(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ln(s,"backgroundColor",un(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+an:"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+an:"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+an:"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+an)),t.fontPercent&&1!==t.fontPercent){var a=y.parseFloat(s.style.fontSize);s.style.fontSize=a*t.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=on[t.fontFamily])}}},t.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof y.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var n=e[i],r=0;r<n.activeCues.length;++r)t.push(n.activeCues[r]);y.WebVTT.processCues(y,t,this.el_);for(var s=0;s<e.length;++s){for(var a=e[s],o=0;o<a.activeCues.length;++o){var u=a.activeCues[o].displayState;w(u,"vjs-text-track-cue"),w(u,"vjs-text-track-cue-"+(a.language?a.language:s))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(Ue);Ue.registerComponent("TextTrackDisplay",cn);var hn=function(r){function e(){return r.apply(this,arguments)||this}return He(e,r),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=S("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),n=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n},e}(Ue);Ue.registerComponent("LoadingSpinner",hn);var dn=function(t){function e(){return t.apply(this,arguments)||this}He(e,t);var i=e.prototype;return i.createEl=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),t=m({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),i=m({type:"button"},i);var n=Ue.prototype.createEl.call(this,"button",t,i);return this.createControlTextEl(n),n},i.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return p.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Ue.prototype.addChild.call(this,e,t)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(rn);Ue.registerComponent("Button",dn);var pn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return kt(t),void(!this.player_.tech(!0)||(et||Qe)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var s=function(){return r.focus()};St(t)?t.then(s,function(){}):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},t.handleKeyDown=function(e){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,e)},t.handleMouseDown=function(e){this.mouseused_=!0},e}(dn);pn.prototype.controlText_="Play Video",Ue.registerComponent("BigPlayButton",pn);var fn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).controlText(t&&t.controlText||i.localize("Close")),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(e){Lt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,e)},e}(dn);Ue.registerComponent("CloseButton",fn);var mn=function(n){function e(e,t){var i;return void 0===t&&(t={}),i=n.call(this,e,t)||this,t.replay=void 0===t.replay||t.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),t.replay&&i.on(e,"ended",i.handleEnded),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(dn);mn.prototype.controlText_="Play",Ue.registerComponent("PlayToggle",mn);function gn(e,t){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),s=Math.floor(t/60%60),a=Math.floor(t/3600);return!isNaN(e)&&e!==1/0||(r=n=i="-"),(r=0<r||0<a?r+":":"")+(n=((r||10<=s)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)}var vn=gn;function yn(e,t){return void 0===t&&(t=e),vn(e,t)}var _n=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=this.buildCSSClass(),t=n.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=S("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},t.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},t.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=yn(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestAnimationFrame(function(){if(t.contentEl_){var e=t.textNode_;t.textNode_=h.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}}))},t.updateContent=function(e){},e}(Ue);_n.prototype.labelText_="Time",_n.prototype.controlText_="Time",Ue.registerComponent("TimeDisplay",_n);var bn=function(e){function t(){return e.apply(this,arguments)||this}He(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(_n);bn.prototype.labelText_="Current Time",bn.prototype.controlText_="Current Time",Ue.registerComponent("CurrentTimeDisplay",bn);var Tn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},e}(_n);Tn.prototype.labelText_="Duration",Tn.prototype.controlText_="Duration",Ue.registerComponent("DurationDisplay",Tn);var Sn=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Ue);Ue.registerComponent("TimeDivider",Sn);var kn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"durationchange",i.updateContent),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var e=n.prototype.createEl.call(this);return e.insertBefore(S("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},t.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},e}(_n);kn.prototype.labelText_="Remaining Time",kn.prototype.controlText_="Remaining Time",Ue.registerComponent("RemainingTimeDisplay",kn);var Cn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=S("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},t.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},t.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},e}(Ue);Ue.registerComponent("LiveDisplay",Cn);var En=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=S("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},t.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,n.prototype.dispose.call(this)},e}(dn);En.prototype.controlText_="Seek to live, currently playing live",Ue.registerComponent("SeekToLive",En);function wn(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}var Ln=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}He(e,n);var t=e.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.createEl=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),t.className=t.className+" vjs-slider",t=m({tabIndex:0},t),i=m({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),n.prototype.createEl.call(this,e,t,i)},t.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Je||e.preventDefault(),R(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.handleMouseMove=function(e){},t.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;U(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.update=function(){var t=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_||(this.progress_=i,this.requestAnimationFrame(function(){var e=t.vertical()?"height":"width";t.bar.el().style[e]=(100*i).toFixed(2)+"%"})),i}},t.getProgress=function(){return Number(wn(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(e){var t=B(this.el_,e);return this.vertical()?t.y:t.x},t.handleKeyDown=function(e){Lt.isEventKey(e,"Left")||Lt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Lt.isEventKey(e,"Right")||Lt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){e.stopPropagation(),e.preventDefault()},t.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ue);Ue.registerComponent("Slider",Ln);function Pn(e,t){return wn(e/t*100,0,100).toFixed(2)+"%"}var An=function(r){function e(e,t){var i;return(i=r.call(this,e,t)||this).partEls_=[],i.on(e,"progress",i.update),i}He(e,r);var t=e.prototype;return t.createEl=function(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=S("span",{className:"vjs-control-text"}),i=S("span",{textContent:this.localize("Loaded")}),n=h.createTextNode(": ");return this.percentageEl_=S("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e},t.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},t.update=function(e){var h=this;this.requestAnimationFrame(function(){var e=h.player_.liveTracker,t=h.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():h.player_.duration(),n=h.player_.bufferedEnd(),r=h.partEls_,s=Pn(n,i);h.percent_!==s&&(h.el_.style.width=s,k(h.percentageEl_,s),h.percent_=s);for(var a=0;a<t.length;a++){var o=t.start(a),u=t.end(a),l=r[a];l||(l=h.el_.appendChild(S()),r[a]=l),l.dataset.start===o&&l.dataset.end===u||(l.dataset.start=o,l.dataset.end=u,l.style.left=Pn(o,n),l.style.width=Pn(u-o,n))}for(var c=r.length;c>t.length;c--)h.el_.removeChild(r[c-1]);r.length=t.length})},e}(Ue);Ue.registerComponent("LoadProgressBar",An);var In=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(e,t,i){var n=M(this.el_),r=M(this.player_.el()),s=e.width*t;if(r&&n){var a=e.left-r.left+s,o=e.width-s+(r.right-e.right),u=n.width/2;a<u?u+=u-a:o<u&&(u=o),u<0?u=0:u>n.width&&(u=n.width),this.el_.style.right="-"+u+"px",this.write(i)}},t.write=function(e){k(this.el_,e)},t.updateTime=function(r,s,a,o){var u=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e,t=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var i=u.player_.liveTracker.liveWindow(),n=i-s*i;e=(n<1?"":"-")+yn(n,i)}else e=yn(a,t);u.update(r,s,e),o&&o()})},e}(Ue);Ue.registerComponent("TimeTooltip",In);var xn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(e,t){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}},e}(Ue);xn.prototype.options_={children:[]},at||Ke||xn.prototype.options_.children.push("timeTooltip"),Ue.registerComponent("PlayProgressBar",xn);var On=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,t){var i=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,function(){i.el_.style.left=e.width*t+"px"})},e}(Ue);On.prototype.options_={children:["timeTooltip"]},Ue.registerComponent("MouseTimeDisplay",On);var Dn=function(s){function e(e,t){var i;return(i=s.call(this,e,t)||this).setEventHandlers_(),i}He(e,s);var t=e.prototype;return t.setEventHandlers_=function(){this.update_=ge(this,this.update),this.update=ve(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in h&&"visibilityState"in h&&this.on(h,"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(e){h.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},t.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},t.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update=function(e){var n=this,r=s.prototype.update.call(this);return this.requestAnimationFrame(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[yn(e,i),yn(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(M(n.el()),n.getProgress())}),r},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},t.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),s.prototype.handleMouseDown.call(this,e))},t.handleMouseMove=function(e){if(W(e)){var t,i=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){var r=n.seekableStart(),s=n.liveCurrentTime();if(s<=(t=r+i*n.liveWindow())&&(t=s),t<=r&&(t=r+.1),t===1/0)return}else(t=i*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},t.enable=function(){s.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},t.disable=function(){s.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},t.handleMouseUp=function(e){s.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?kt(this.player_.play()):this.update_()},t.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(e){if(Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Lt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Lt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Lt(e))){e.preventDefault(),e.stopPropagation();var t=10*(Lt.codes[Lt(e)]-Lt.codes[0])/100;this.player_.currentTime(this.player_.duration()*t)}else Lt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Lt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):s.prototype.handleKeyDown.call(this,e)},e}(Ln);Dn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},at||Ke||Dn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ue.registerComponent("SeekBar",Dn);var Rn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).handleMouseMove=ve(ge(Me(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=ve(ge(Me(i),i.handleMouseSeek),30),i.enable(),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var i=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(i||n){var r=t.el(),s=M(r),a=B(r,e).x;a=wn(0,1,a),n&&n.update(s,a),i&&i.update(s,t.getProgress())}}},t.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.enabled=function(){return this.enabled_},t.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},e}(Ue);Rn.prototype.options_={children:["seekBar"]},Ue.registerComponent("ProgressControl",Rn);var Un=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),h.pictureInPictureEnabled||i.disable(),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},t.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},t.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(dn);Un.prototype.controlText_="Picture-in-Picture",Ue.registerComponent("PictureInPictureToggle",Un);var Mn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===h[e.fsApi_.fullscreenEnabled]&&i.disable(),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(dn);Mn.prototype.controlText_="Fullscreen",Ue.registerComponent("FullscreenToggle",Mn);var Nn=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Ue);Ue.registerComponent("VolumeLevel",Nn);var Bn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready(function(){return i.updateARIAAttributes()}),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(e){W(e)&&n.prototype.handleMouseDown.call(this,e)},t.handleMouseMove=function(e){W(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},e}(Ln);Bn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Bn.prototype.playerEvent="volumechange",Ue.registerComponent("VolumeBar",Bn);var jn=function(n){function e(e,t){var i;return void 0===t&&(t={}),t.vertical=t.vertical||!1,"undefined"!=typeof t.volumeBar&&!u(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=n.call(this,e,t)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Me(i),e),i.throttledHandleMouseMove=ve(ge(Me(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},t.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},e}(Ue);jn.prototype.options_={children:["volumeBar"]},Ue.registerComponent("VolumeControl",jn);var Fn=function(n){function e(e,t){var i;return i=n.call(this,e,t)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Me(i),e),i.on(e,["loadstart","volumechange"],i.update),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.update=function(e){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var e=this.player_.volume(),t=3;at&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)L(this.el_,"vjs-vol-"+i);w(this.el_,"vjs-vol-"+t)},t.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(dn);Fn.prototype.controlText_="Mute",Ue.registerComponent("MuteToggle",Fn);var Hn=function(n){function e(e,t){var i;return void 0===t&&(t={}),"undefined"!=typeof t.inline?t.inline=t.inline:t.inline=!0,"undefined"!=typeof t.volumeControl&&!u(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=n.call(this,e,t)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}He(e,n);var t=e.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},t.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(e){Lt.isEventKey(e,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(e){this.addClass("vjs-hover"),he(h,"keyup",ge(this,this.handleKeyPress))},t.handleMouseOut=function(e){this.removeClass("vjs-hover"),de(h,"keyup",ge(this,this.handleKeyPress))},t.handleKeyPress=function(e){Lt.isEventKey(e,"Esc")&&this.handleMouseOut()},e}(Ue);Hn.prototype.options_={children:["muteToggle","volumeControl"]},Ue.registerComponent("VolumePanel",Hn);var Vn=function(n){function e(e,t){var i;return i=n.call(this,e,t)||this,t&&(i.menuButton_=t.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=ge(Me(i),i.handleBlur),i.boundHandleTapClick_=ge(Me(i),i.handleTapClick),i}He(e,n);var t=e.prototype;return t.addEventListenerForItem=function(e){e instanceof Ue&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(e){e instanceof Ue&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),n.prototype.removeChild.call(this,e)},t.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},t.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=S(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),he(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},t.handleBlur=function(e){var t=e.relatedTarget||h.activeElement;if(!this.children().some(function(e){return e.el()===t})){var i=this.menuButton_;i&&i.buttonPressed_&&t!==i.el().firstChild&&i.unpressButton()}},t.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter(function(e){return e.el()===t.target})[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},t.handleKeyDown=function(e){Lt.isEventKey(e,"Left")||Lt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Lt.isEventKey(e,"Right")||Lt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},t.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},e}(Ue);Ue.registerComponent("Menu",Vn);var qn=function(r){function e(e,t){var i;void 0===t&&(t={}),(i=r.call(this,e,t)||this).menuButton_=new dn(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var n=dn.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+n,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),he(h,"keyup",ge(Me(i),i.handleMenuKeyUp))}),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}He(e,r);var t=e.prototype;return t.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.createMenu=function(){var e=new Vn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=S("li",{className:"vjs-menu-title",innerHTML:De(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new Ue(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.createItems=function(){},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+dn.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+r.prototype.buildCSSClass.call(this)},t.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},t.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},t.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(e){this.removeClass("vjs-hover"),de(h,"keyup",ge(this,this.handleMenuKeyUp))},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(e){Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Lt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Lt.isEventKey(e,"Up")||Lt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(e){(Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=function(e){(Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Lt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),at&&b())return;this.menu.focus()}},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ue);Ue.registerComponent("MenuButton",qn);var Wn=function(s){function e(e,t){var i,n=t.tracks;if((i=s.call(this,e,t)||this).items.length<=1&&i.hide(),!n)return Me(i);var r=ge(Me(i),i.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),i}return He(e,s),e}(qn);Ue.registerComponent("TrackButton",Wn);var zn=["Tab","Esc","Up","Down","Right","Left"],Gn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).selectable=t.selectable,i.isSelected_=t.selected||!1,i.multiSelectable=t.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}He(e,n);var t=e.prototype;return t.createEl=function(e,t,i){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",m({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),i)},t.handleKeyDown=function(t){zn.some(function(e){return Lt.isEventKey(t,e)})||n.prototype.handleKeyDown.call(this,t)},t.handleClick=function(e){this.selected(!0)},t.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(rn);Ue.registerComponent("MenuItem",Gn);var Kn=function(u){function e(e,t){var n,i=t.track,r=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,(n=u.call(this,e,t)||this).track=i,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(Boolean);function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Me(n),t)}function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleSelectedLanguageChange.apply(Me(n),t)}var o;e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),n.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),void 0===r.onchange&&n.on(["tap","click"],function(){if("object"!=typeof y.Event)try{o=new y.Event("change")}catch(e){}o||(o=h.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(o)});return n.handleTracksChange(),n}He(e,u);var t=e.prototype;return t.handleClick=function(e){var t=this.track,i=this.player_.textTracks();if(u.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var r=i[n];-1!==this.kinds.indexOf(r.kind)&&(r===t?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},t.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.dispose=function(){this.track=null,u.prototype.dispose.call(this)},e}(Gn);Ue.registerComponent("TextTrackMenuItem",Kn);var Xn=function(i){function e(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,i.call(this,e,t)||this}He(e,i);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var s=t[n];if(-1<this.options_.kinds.indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},t.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var s=t[n];if(-1<["captions","descriptions","subtitles"].indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Kn);Ue.registerComponent("OffTextTrackMenuItem",Xn);var Yn=function(i){function e(e,t){return void 0===t&&(t={}),t.tracks=e.textTracks(),i.call(this,e,t)||this}return He(e,i),e.prototype.createItems=function(e,t){var i;void 0===e&&(e=[]),void 0===t&&(t=Kn),this.label_&&(i=this.label_+" off"),e.push(new Xn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(-1<this.kinds_.indexOf(s.kind)){var a=new t(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),e.push(a)}}return e},e}(Wn);Ue.registerComponent("TextTrackButton",Yn);var $n=function(a){function e(e,t){var i,n=t.track,r=t.cue,s=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=r.text,t.selected=r.startTime<=s&&s<r.endTime,(i=a.call(this,e,t)||this).track=n,i.cue=r,n.addEventListener("cuechange",ge(Me(i),i.update)),i}He(e,a);var t=e.prototype;return t.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},e}(Gn);Ue.registerComponent("ChaptersTrackMenuItem",$n);var Qn=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),n.prototype.update.call(this)},t.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},t.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var i=e[t];if(i.kind===this.kind_)return i}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(De(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,n=t.length;i<n;i++){var r=t[i],s=new $n(this.player_,{track:this.track_,cue:r});e.push(s)}return e},e}(Yn);Qn.prototype.kind_="chapters",Qn.prototype.controlText_="Chapters",Ue.registerComponent("ChaptersButton",Qn);var Jn=function(a){function e(e,t,i){var n;n=a.call(this,e,t,i)||this;var r=e.textTracks(),s=ge(Me(n),n.handleTracksChange);return r.addEventListener("change",s),n.on("dispose",function(){r.removeEventListener("change",s)}),n}He(e,a);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,n=0,r=t.length;n<r;n++){var s=t[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},e}(Yn);Jn.prototype.kind_="descriptions",Jn.prototype.controlText_="Descriptions",Ue.registerComponent("DescriptionsButton",Jn);var Zn=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(Yn);Zn.prototype.kind_="subtitles",Zn.prototype.controlText_="Subtitles",Ue.registerComponent("SubtitlesButton",Zn);var er=function(n){function e(e,t){var i;return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(i=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+t.kind+" settings dialog"),i}return He(e,n),e.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},e}(Kn);Ue.registerComponent("CaptionSettingsMenuItem",er);var tr=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new er(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,e)},e}(Yn);tr.prototype.kind_="captions",tr.prototype.controlText_="Captions",Ue.registerComponent("CaptionsButton",tr);var ir=function(r){function e(){return r.apply(this,arguments)||this}return He(e,r),e.prototype.createEl=function(e,t,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",r.prototype.createEl.call(this,e,m({innerHTML:n},t),i)},e}(Kn);Ue.registerComponent("SubsCapsMenuItem",ir);var nr=function(n){function e(e,t){var i;return void 0===t&&(t={}),(i=n.call(this,e,t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)&&(i.label_="captions"),i.menuButton_.controlText(De(i.label_)),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new er(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=n.prototype.createItems.call(this,e,ir)},e}(Yn);nr.prototype.kinds_=["captions","subtitles"],nr.prototype.controlText_="Subtitles",Ue.registerComponent("SubsCapsButton",nr);var rr=function(a){function e(e,t){var n,i=t.track,r=e.audioTracks();t.label=i.label||i.language||"Unknown",t.selected=i.enabled,(n=a.call(this,e,t)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item");function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Me(n),t)}return r.addEventListener("change",s),n.on("dispose",function(){r.removeEventListener("change",s)}),n}He(e,a);var t=e.prototype;return t.createEl=function(e,t,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",a.prototype.createEl.call(this,e,m({innerHTML:n},t),i)},t.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var i=0;i<t.length;i++){var n=t[i];n.enabled=n===this.track}},t.handleTracksChange=function(e){this.selected(this.track.enabled)},e}(Gn);Ue.registerComponent("AudioTrackMenuItem",rr);var sr=function(i){function e(e,t){return void 0===t&&(t={}),t.tracks=e.audioTracks(),i.call(this,e,t)||this}He(e,i);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];e.push(new rr(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},e}(Wn);sr.prototype.controlText_="Audio Track",Ue.registerComponent("AudioTrackButton",sr);var ar=function(s){function e(e,t){var i,n=t.rate,r=parseFloat(n,10);return t.label=n,t.selected=1===r,t.selectable=!0,t.multiSelectable=!1,(i=s.call(this,e,t)||this).label=n,i.rate=r,i.on(e,"ratechange",i.update),i}He(e,s);var t=e.prototype;return t.handleClick=function(e){s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(e){this.selected(this.player().playbackRate()===this.rate)},e}(Gn);ar.prototype.contentElType="button",Ue.registerComponent("PlaybackRateMenuItem",ar);var or=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this);return this.labelEl_=S("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},t.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.createMenu=function(){var e=new Vn(this.player()),t=this.playbackRates();if(t)for(var i=t.length-1;0<=i;i--)e.addChild(new ar(this.player(),{rate:t[i]+"x"}));return e},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>t){n=i[r];break}this.player().playbackRate(n)},t.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},t.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(qn);or.prototype.controlText_="Playback Rate",Ue.registerComponent("PlaybackRateMenuButton",or);var ur=function(e){function t(){return e.apply(this,arguments)||this}He(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Ue);Ue.registerComponent("Spacer",ur);var lr=function(t){function e(){return t.apply(this,arguments)||this}He(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(ur);Ue.registerComponent("CustomControlSpacer",lr);var cr=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Ue);cr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in h&&cr.prototype.options_.children.splice(cr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ue.registerComponent("ControlBar",cr);var hr=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"error",i.open),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.content=function(){var e=this.player().error();return e?this.localize(e.message):""},e}(At);hr.prototype.options_=r({},At.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ue.registerComponent("ErrorDisplay",hr);var dr="vjs-text-track-settings",pr=["#000","Black"],fr=["#00F","Blue"],mr=["#0FF","Cyan"],gr=["#0F0","Green"],vr=["#F0F","Magenta"],yr=["#F00","Red"],_r=["#FFF","White"],br=["#FF0","Yellow"],Tr=["1","Opaque"],Sr=["0.5","Semi-Transparent"],kr=["0","Transparent"],Cr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pr,_r,yr,gr,fr,br,vr,mr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Tr,Sr,kr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_r,pr,yr,gr,fr,br,vr,mr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Tr,Sr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[kr,Sr,Tr]}};function Er(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Cr.windowColor.options=Cr.backgroundColor.options;var wr=function(n){function e(e,t){var i;return t.temporary=!1,(i=n.call(this,e,t)||this).updateDisplay=ge(Me(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=S("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===t.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),a(Cr,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}He(e,n);var t=e.prototype;return t.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},t.createElSelect_=function(e,t,i){var n=this;void 0===t&&(t=""),void 0===i&&(i="label");var r=Cr[e],s=r.id.replace("%s",this.id_),a=[t,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(e){var t=s+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return S("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return S("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var e=this.localize("restore all settings to the default values");return S("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var r=this;return function(i,n,e){return void 0===e&&(e=0),s(i).reduce(function(e,t){return n(e,i[t],t)},e)}(Cr,function(e,t,i){var n=function(e,t){return Er(e.options[e.options.selectedIndex].value,t)}(r.$(t.selector),t.parser);return void 0!==n&&(e[i]=n),e},{})},t.setValues=function(i){var n=this;a(Cr,function(e,t){!function(e,t,i){if(t)for(var n=0;n<e.options.length;n++)if(Er(e.options[n].value,i)===t){e.selectedIndex=n;break}}(n.$(e.selector),i[t],e.parser)})},t.setDefaults=function(){var i=this;a(Cr,function(e){var t=e.hasOwnProperty("default")?e.default:0;i.$(e.selector).selectedIndex=t})},t.restoreSettings=function(){var e;try{e=JSON.parse(y.localStorage.getItem(dr))}catch(e){p.warn(e)}e&&this.setValues(e)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?y.localStorage.setItem(dr,JSON.stringify(e)):y.localStorage.removeItem(dr)}catch(e){p.warn(e)}}},t.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},e}(At);Ue.registerComponent("TextTrackSettings",wr);var Lr=function(s){function e(e,t){var i,n=t.ResizeObserver||y.ResizeObserver;null===t.ResizeObserver&&(n=!1);var r=Re({createEl:!n,reportTouchActivity:!1},t);return(i=s.call(this,e,r)||this).ResizeObserver=t.ResizeObserver||y.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(n,r,s,a){var o;void 0===a&&(a=y);function e(){var e=this,t=arguments,i=function(){i=o=null,s||n.apply(e,t)};!o&&s&&n.apply(e,t),a.clearTimeout(o),o=a.setTimeout(i,r)}return e.cancel=function(){a.clearTimeout(o),o=null},e}(function(){i.resizeHandler()},100,!1,Me(i)),n?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){de(this,"resize",e),de(this,"unload",t),t=null};he(i.el_.contentWindow,"unload",t),he(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}He(e,s);var t=e.prototype;return t.createEl=function(){return s.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},t.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,s.prototype.dispose.call(this)},e}(Ue);Ue.registerComponent("ResizeManager",Lr);var Pr=function(r){function e(e,t){var i,n=Re({createEl:!1},t);return(i=r.call(this,e,n)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),et&&"hidden"in h&&"visibilityState"in h&&i.on(h,"visibilitychange",i.handleVisibilityChange),i}He(e,r);var t=e.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(h.hidden?this.stopTracking():this.startTracking())},t.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),i=2*this.seekableIncrement_+.07;return e!==1/0&&t<=e-i},t.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(t-this.lastSeekEnd_)),3<this.seekableIncrementList_.length&&(this.seekableIncrement_=function(e){var t=Math.floor(e.length/2),i=[].concat(e).sort(function(e,t){return e-t});return e.length%2!=0?i[t]:(i[t-1]+i[t])/2}(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd()>1.5*this.seekableIncrement_?this.pastSeekEnd_=0:this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},t.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},t.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},t.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},t.stopTracking=function(){this.isTracking()&&this.reset_()},t.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},t.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},t.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){return this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return"number"==typeof this.trackingInterval_},t.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},t.dispose=function(){this.stopTracking(),r.prototype.dispose.call(this)},e}(Ue);Ue.registerComponent("LiveTracker",Pr);function Ar(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var i=e.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)}function Ir(e,t){for(var i={},n=0;n<e.length&&!((i=Object.getOwnPropertyDescriptor(e[n],t))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i}function xr(s){var a=s.el();if(!a.resetSourceWatch_){var t={},e=function(e){return Ir([e.el(),y.HTMLMediaElement.prototype,y.Element.prototype,Ur],"innerHTML")}(s),i=function(r){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=r.apply(a,t);return Ar(s),n}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=i(t[e]))}),Object.defineProperty(a,"innerHTML",Re(e,{set:i(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},s.one("sourceset",a.resetSourceWatch_)}}function Or(n){if(n.featuresSourceset){var r=n.el();if(!r.resetSourceset_){var i=function(e){return Ir([e.el(),y.HTMLMediaElement.prototype,Mr],"src")}(n),s=r.setAttribute,t=r.load;Object.defineProperty(r,"src",Re(i,{set:function(e){var t=i.set.call(r,e);return n.triggerSourceset(r.src),t}})),r.setAttribute=function(e,t){var i=s.call(r,e,t);return/src/i.test(e)&&n.triggerSourceset(r.src),i},r.load=function(){var e=t.call(r);return Ar(n)||(n.triggerSourceset(""),xr(n)),e},r.currentSrc?n.triggerSourceset(r.currentSrc):Ar(n)||xr(n),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=t,r.setAttribute=s,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}}function Dr(t,i,n,e){function r(e){return Object.defineProperty(t,i,{value:e,enumerable:!0,writable:!0})}void 0===e&&(e=!0);var s={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return e&&(s.set=r),Object.defineProperty(t,i,s)}var Rr,Ur=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=h.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=h.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",y.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Mr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ut(y.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return y.Element.prototype.setAttribute.call(this,"src",e),e}}),Nr=function(c){function o(e,t){var i;i=c.call(this,e,t)||this;var n=e.source,r=!1;if(n&&(i.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(n):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,a=s.length,o=[];a--;){var u=s[a];"track"===u.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(u),i.remoteTextTracks().addTrack(u.track),i.textTracks().addTrack(u.track),r||i.el_.hasAttribute("crossorigin")||!Nt(u.src)||(r=!0)):o.push(u))}for(var l=0;l<o.length;l++)i.el_.removeChild(o[l])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&p.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(nt||st||Ye)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}He(o,c);var e=o.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){Or(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){i=[];for(var e=0;e<n.length;e++){var t=n[e];"metadata"===t.kind&&i.push({track:t,storedMode:t.mode})}}var i,n=this.textTracks();e(),n.addEventListener("change",e),this.on("dispose",function(){return n.removeEventListener("change",e)});function r(){for(var e=0;e<i.length;e++){var t=i[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}n.removeEventListener("change",r)}this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",e),n.removeEventListener("change",r),n.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",e),n.addEventListener("change",e),n.removeEventListener("change",r)})},e.overrideNative_=function(e,t){var i=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){i.el()[n+"Tracks"].removeEventListener(e,i[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},e.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},e.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},e.proxyNativeTracksForType_=function(e){var n=this,t=li[e],r=this.el()[t.getterName],s=this[t.getterName]();if(this["featuresNative"+t.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(e){s.trigger({type:"change",target:s,currentTarget:s,srcElement:s})},addtrack:function(e){s.addTrack(e.track)},removetrack:function(e){s.removeTrack(e.track)}},i=function(){for(var e=[],t=0;t<s.length;t++){for(var i=!1,n=0;n<r.length;n++)if(r[n]===s[t]){i=!0;break}i||e.push(s[t])}for(;e.length;)s.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var i=a[t];r.addEventListener(t,i),n.on("dispose",function(e){return r.removeEventListener(t,i)})}),this.on("loadstart",i),this.on("dispose",function(e){return n.off("loadstart",i)})}},e.proxyNativeTracks_=function(){var t=this;li.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),o.disposeMediaElement(e),e=t}else{e=h.createElement("video");var i=Re({},this.options_.tag&&I(this.options_.tag));nt&&!0===this.options_.nativeControlsForTouch||delete i.controls,A(e,m(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&O(e,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],r=0;r<n.length;r++){var s=n[r],a=this.options_[s];"undefined"!=typeof a&&(a?O(e,s,s):D(e,s),e[s]=a)}return e},e.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},e.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){p(e,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;if(this.el_.duration===1/0&&Ke&&Je&&0===this.el_.currentTime){return this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){e.off("webkitbeginfullscreen",i),e.off("webkitendfullscreen",t)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=y.navigator&&y.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},e.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},e.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},e.reset=function(){o.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(e){this.el_.controls=!!e},e.addTextTrack=function(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):c.prototype.addTextTrack.call(this,e,t,i)},e.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,e);var t=h.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},e.addRemoteTextTrack=function(e,t){var i=c.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},e.removeRemoteTextTrack=function(e){if(c.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),i=t.length;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),y.performance&&"function"==typeof y.performance.now?e.creationTime=y.performance.now():y.performance&&y.performance.timing&&"number"==typeof y.performance.timing.navigationStart&&(e.creationTime=y.Date.now()-y.performance.timing.navigationStart),e},o}(Vi);Dr(Nr,"TEST_VID",function(){if(v()){var e=h.createElement("video"),t=h.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),Nr.isSupported=function(){try{Nr.TEST_VID.volume=.5}catch(e){return!1}return!(!Nr.TEST_VID||!Nr.TEST_VID.canPlayType)},Nr.canPlayType=function(e){return Nr.TEST_VID.canPlayType(e)},Nr.canPlaySource=function(e,t){return Nr.canPlayType(e.type)},Nr.canControlVolume=function(){try{var e=Nr.TEST_VID.volume;return Nr.TEST_VID.volume=e/2+.1,e!==Nr.TEST_VID.volume}catch(e){return!1}},Nr.canMuteVolume=function(){try{var e=Nr.TEST_VID.muted;return Nr.TEST_VID.muted=!e,Nr.TEST_VID.muted?O(Nr.TEST_VID,"muted","muted"):D(Nr.TEST_VID,"muted"),e!==Nr.TEST_VID.muted}catch(e){return!1}},Nr.canControlPlaybackRate=function(){if(Ke&&Je&&Ze<58)return!1;try{var e=Nr.TEST_VID.playbackRate;return Nr.TEST_VID.playbackRate=e/2+.1,e!==Nr.TEST_VID.playbackRate}catch(e){return!1}},Nr.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(h.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(h.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(h.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(h.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Nr.supportsNativeTextTracks=function(){return ot||at&&Je},Nr.supportsNativeVideoTracks=function(){return!(!Nr.TEST_VID||!Nr.TEST_VID.videoTracks)},Nr.supportsNativeAudioTracks=function(){return!(!Nr.TEST_VID||!Nr.TEST_VID.audioTracks)},Nr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],i=e[1];Dr(Nr.prototype,t,function(){return Nr[i]()},!0)}),Nr.prototype.movingMediaElementInDOM=!at,Nr.prototype.featuresFullscreenResize=!0,Nr.prototype.featuresProgressEvents=!0,Nr.prototype.featuresTimeupdateEvents=!0,Nr.patchCanPlayType=function(){4<=Xe&&!$e&&!Je&&(Rr=Nr.TEST_VID&&Nr.TEST_VID.constructor.prototype.canPlayType,Nr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Rr.call(this,e)})},Nr.unpatchCanPlayType=function(){var e=Nr.TEST_VID.constructor.prototype.canPlayType;return Rr&&(Nr.TEST_VID.constructor.prototype.canPlayType=Rr),e},Nr.patchCanPlayType(),Nr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Nr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Nr.prototype["set"+De(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Nr.prototype["set"+De(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]()}}),Vi.withSourceHandlers(Nr),Nr.nativeSourceHandler={},Nr.nativeSourceHandler.canPlayType=function(e){try{return Nr.TEST_VID.canPlayType(e)}catch(e){return""}},Nr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Nr.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=Mt(e.src);return Nr.nativeSourceHandler.canPlayType("video/"+i)}return""},Nr.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Nr.nativeSourceHandler.dispose=function(){},Nr.registerSourceHandler(Nr.nativeSourceHandler),Vi.registerTech("Html5",Nr);var Br=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],jr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fr=["tiny","xsmall","small","medium","large","xlarge","huge"],Hr={};Fr.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Hr[e]="vjs-layout-"+t});var Vr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qr=function(c){function l(e,t,i){var n;if(e.id=e.id||t.id||"vjs_video_"+ne(),(t=m(l.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var r=e.closest("[lang]");r&&r.getAttribute&&(t.language=r.getAttribute("lang"))}else for(var s=e;s&&1===s.nodeType;){if(I(s).hasOwnProperty("lang")){t.language=s.getAttribute("lang");break}s=s.parentNode}if((n=c.call(this,null,t,i)||this).boundDocumentFullscreenChange_=ge(Me(n),n.documentFullscreenChange_),n.boundFullWindowOnEscKey_=ge(Me(n),n.fullWindowOnEscKey),n.isFullscreen_=!1,n.log=f(n.id_),n.fsApi_=ft,n.isPosterFromTech_=!1,n.queuedCallbacks_=[],n.isReady_=!1,n.hasStarted_=!1,n.userActive_=!1,!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(n.tag=e,n.tagAttributes=e&&I(e),n.language(n.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),n.languages_=a}else n.languages_=l.prototype.options_.languages;n.resetCache_(),n.poster_=t.poster||"",n.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),n.changingSrc_=!1,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute("autoplay")?n.autoplay(!0):n.autoplay(n.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof n[e])throw new Error('plugin "'+e+'" does not exist')}),n.scrubbing_=!1,n.el_=n.createEl(),Ae(Me(n),{eventBusKey:"el_"}),n.fsApi_.requestFullscreen&&(he(h,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&&n.on("playerreset",n.updateStyleEl_);var o=Re(n.options_);t.plugins&&Object.keys(t.plugins).forEach(function(e){n[e](t.plugins[e])}),n.options_.playerOptions=o,n.middleware_=[],n.initChildren(),n.isAudio("audio"===e.nodeName.toLowerCase()),n.controls()?n.addClass("vjs-controls-enabled"):n.addClass("vjs-controls-disabled"),n.el_.setAttribute("role","region"),n.isAudio()?n.el_.setAttribute("aria-label",n.localize("Audio Player")):n.el_.setAttribute("aria-label",n.localize("Video Player")),n.isAudio()&&n.addClass("vjs-audio"),n.flexNotSupported_()&&n.addClass("vjs-no-flex"),nt&&n.addClass("vjs-touch-enabled"),at||n.addClass("vjs-workinghover"),l.players[n.id_]=Me(n);var u=d.split(".")[0];return n.addClass("vjs-v"+u),n.userActive(!0),n.reportUserActivity(),n.one("play",n.listenForUserActivity_),n.on("stageclick",n.handleStageClick_),n.on("keydown",n.handleKeyDown),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n}He(l,c);var e=l.prototype;return e.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),de(h,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),de(h,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),l.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(e){Wi[e.id()]=null}(this),hi.names.forEach(function(e){var t=hi[e],i=n[t.getterName]();i&&i.off&&i.off()}),c.prototype.dispose.call(this)},e.createEl=function(){var t,i=this.tag,e=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=i.parentNode:n||(t=this.el_=c.prototype.createEl.call(this,"div"));var r=I(i);if(n){for(t=this.el_=i,i=this.tag=h.createElement("video");t.children.length;)i.appendChild(t.firstChild);E(t,"video-js")||w(t,"video-js"),t.appendChild(i),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}if(i.setAttribute("tabindex","-1"),r.tabindex="-1",(et||Je&&it)&&(i.setAttribute("role","application"),r.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(e){n&&"class"===e||t.setAttribute(e,r[e]),n&&i.setAttribute(e,r[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=t.player=this,this.addClass("vjs-paused"),!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Z("vjs-styles-dimensions");var s=G(".vjs-styles-defaults"),a=G("head");a.insertBefore(this.styleEl_,s?s.nextSibling:a.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=i.getElementsByTagName("a"),u=0;u<o.length;u++){var l=o.item(u);w(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!e&&i.parentNode.insertBefore(t,i),C(i,t),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=t},e.width=function(e){return this.dimension("width",e)},e.height=function(e){return this.dimension("height",e)},e.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?p.error('Improper value "'+t+'" supplied for for '+e):(this[i]=n,this.updateStyleEl_())},e.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Le(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),function(e,t){Le(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,i,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),ee(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var s="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(0<=s&&(o.width=s),0<=a&&(o.height=a))}},e.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=De(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Vi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};hi.names.forEach(function(e){var t=hi[e];s[t.getterName]=i[t.privateName]}),m(s,this.options_[n]),m(s,this.options_[r]),m(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(s.startTime=this.cache_.currentTime);var a=Vi.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(ge(this,this.handleTechReady_),!0),wt(this.textTracksJson_||[],this.tech_),Br.forEach(function(e){i.on(i.tech_,e,i["handleTech"+De(e)+"_"])}),Object.keys(jr).forEach(function(t){i.on(i.tech_,t,function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+jr[t]+"_"].bind(i),event:e}):i["handleTech"+jr[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var i=this;hi.names.forEach(function(e){var t=hi[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=Et(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(e){return void 0===e&&p.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(t){var n=this;if(this.tech_&&"string"==typeof t){var e,i=function(){var e=n.muted();n.muted(!0);function t(){n.muted(e)}n.playTerminatedQueue_.push(t);var i=n.play();if(St(i))return i.catch(t)};if("any"===t&&!0!==this.muted()?St(e=this.play())&&(e=e.catch(i)):e="muted"===t&&!0!==this.muted()?i():this.play(),St(e))return e.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(e){n.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var n=e.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===t)return s.type}return Zi(t)}(this,t)),this.cache_.source=Re({},e,{src:t,type:i});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var u=I(s[o]);r.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},e.handleTechSourceset_=function(e){var i=this;if(!this.changingSrc_){var t=function(e){return i.updateSourceCaches_(e)},n=this.currentSource().src,r=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===n)||(t=function(){})),t(r),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var t=i.techGet("currentSrc");i.lastSource_.tech=t,i.updateSourceCaches_(t)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},e.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function e(){i!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",e))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(p.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(e){W(e)&&this.controls_&&(this.paused()?kt(this.play()):this.pause())},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(e){e.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var i=this.el(),n=h[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(":"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},e.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var e=this.tech_.error();this.error(e)},e.handleTechTextData_=function(e,t){var i=null;1<arguments.length&&(i=t),this.trigger("textdata",i)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(e,t){this.ready(function(){if(e in Yi)return function(e,t,i,n){return t[i](e.reduce(Qi(i),n))}(this.middleware_,this.tech_,e,t);if(e in $i)return Ki(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw p(e),e}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Xi)return function(e,t,i){return e.reduceRight(Qi(i),t[i]())}(this.middleware_,this.tech_,t);if(t in $i)return Ki(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw p("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw p("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw p(e),e}}},e.play=function(){var t=this,e=this.options_.Promise||y.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.play_=function(e){var t=this;void 0===e&&(e=kt),this.playCallbacks_.push(e);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!ot&&!at||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},e.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},e.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||ht(0,0)},e.scrubbing=function(e){if("undefined"==typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ht(0,0)),e},e.bufferedPercent=function(){return dt(this.buffered(),this.duration())},e.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return t<i&&(i=t),i},e.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},e.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},e.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()},e.requestFullscreen=function(e){var t,i=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](t);return n&&n.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=h[this.fsApi_.exitFullscreen]();return t&&t.then(function(){return e.isFullscreen(!1)}),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=h.documentElement.style.overflow,he(h,"keydown",this.boundFullWindowOnEscKey_),h.documentElement.style.overflow="hidden",w(h.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(e){Lt.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,de(h,"keydown",this.boundFullWindowOnEscKey_),h.documentElement.style.overflow=this.docOrigOverflow,L(h.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in h)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in h)return h.exitPictureInPicture()},e.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){!function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)}(this.el_.ownerDocument.activeElement)&&("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},e.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=void 0===i?function(e){return Lt.isEventKey(e,"f")}:i,r=t.muteKey,s=void 0===r?function(e){return Lt.isEventKey(e,"m")}:r,a=t.playPauseKey,o=void 0===a?function(e){return Lt.isEventKey(e,"k")||Lt.isEventKey(e,"Space")}:a;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Ue.getComponent("FullscreenToggle");!1!==h[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),Ue.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Ue.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},e.canPlayType=function(e){for(var t,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=Vi.getTech(r);if(s=s||Ue.getComponent(r)){if(s.isSupported()&&(t=s.canPlayType(e)))return t}else p.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(e){function t(e,i,n){var r;return e.some(function(t){return i.some(function(e){if(r=n(t,e))return!0})}),r}function i(e,t){var i=e[0];if(e[1].canPlaySource(t,r.options_[i.toLowerCase()]))return{source:t,tech:i}}var n,r=this,s=this.options_.techOrder.map(function(e){return[e,Vi.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(p.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?t(e,s,(n=i,function(e,t){return n(t,e)})):t(s,e,i))||!1},e.src=function(e){var i=this;if("undefined"==typeof e)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):o(e)&&i.push(e)}),e=i}else e="string"==typeof e&&e.trim()?[tn({src:e})]:o(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[tn(e)]:[];return e}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Gi(this,n[0],function(e,t){if(i.middleware_=t,i.cache_.sources=n,i.updateSourceCaches_(e),i.src_(e))return 1<n.length?i.src(n.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady());!function(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}(t,i.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(e){var t=this,i=this.selectSource([e]);return!i||(function(e,t){return De(e)===De(t)}(i.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){t.changingSrc_=!1})),!1)},e.load=function(){this.techCall_("load")},e.reset=function(){var e=this,t=this.options_.Promise||y.Promise;this.paused()||!t?this.doReset_():kt(this.play().then(function(){return e.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Le(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,i=e.remainingTimeDisplay;t&&t.updateContent(),i&&i.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},e.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t="undefined"==typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},e.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},e.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},e.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _t(e),this.addClass("vjs-error"),p.error("(CODE:"+this.error_.code+" "+_t.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},e.reportUserActivity=function(e){this.userActivity_=!0},e.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){function e(e){r(),this.clearInterval(t)}var t,i,n,r=ge(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===i&&e.screenY===n||(i=e.screenX,n=e.screenY,r())}),this.on("mouseup",e),this.on("mouseleave",e);var s,a=this.getChild("controlBar");!a||at||Ke||(a.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},e.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},e.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},e.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},e.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t=t||e,this.tech_)return this.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},e.languages=function(){return Re(l.prototype.options_.languages,this.languages_)},e.toJSON=function(){var e=Re(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var n=t[i];(n=Re(n)).player=void 0,e.tracks[i]=n}return e},e.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var n=new At(this,t);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Fr.length;i++){var n=Fr[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(Hr[e]),this.addClass(Hr[n]),this.breakpoint_=n;break}}},e.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},e.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=m({},Vr,e),this.updateCurrentBreakpoint_()),m(this.breakpoints_)},e.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Hr[this.breakpoint_]||""},e.loadMedia=function(e,t){var i=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Re(e);var n=this.cache_.media,r=n.artwork,s=n.poster,a=n.src,o=n.textTracks;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Zi(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach(function(e){return i.addRemoteTextTrack(e,!1)}),this.ready(t)}},e.getMedia=function(){if(this.cache_.media)return Re(this.cache_.media);var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Zi(t.poster)}]),t},l.getTagSettings=function(e){var t={sources:[],tracks:[]},i=I(e),n=i["data-setup"];if(E(e,"vjs-fill")&&(i.fill=!0),E(e,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=Tt(n||"{}"),s=r[0],a=r[1];s&&p.error(s),m(i,a)}if(m(t,i),e.hasChildNodes())for(var o=e.childNodes,u=0,l=o.length;u<l;u++){var c=o[u],h=c.nodeName.toLowerCase();"source"===h?t.sources.push(I(c)):"track"===h&&t.tracks.push(I(c))}return t},e.flexNotSupported_=function(){var e=h.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l}(Ue);hi.names.forEach(function(e){var t=hi[e];qr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),qr.players={};var Wr=y.navigator;qr.prototype.options_={techOrder:Vi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Wr&&(Wr.languages&&Wr.languages[0]||Wr.userLanguage||Wr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){qr.prototype[e]=function(){return this.techGet_(e)}}),Br.forEach(function(e){qr.prototype["handleTech"+De(e)+"_"]=function(){return this.trigger(e)}}),Ue.registerComponent("Player",qr);function zr(e){return es.hasOwnProperty(e)}function Gr(e){return zr(e)?es[e]:void 0}function Kr(e,t){e[Zr]=e[Zr]||{},e[Zr][t]=!0}function Xr(e,t,i){var n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)}function Yr(r,s){return s.prototype.name=r,function(){Xr(this,{name:r,plugin:s,instance:null},!0);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Qr(s,[this].concat(t));return this[r]=function(){return n},Xr(this,n.getEventHash()),n}}var $r=t(function(i){function n(e,t){return i.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}i.exports=n}),Qr=t(function(n){function r(e,t,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?n.exports=r=function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&$r(r,i.prototype),r}:n.exports=r=Reflect.construct,r.apply(null,arguments)}n.exports=r}),Jr="plugin",Zr="activePlugins_",es={},ts=function(){function i(e){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Ae(this),delete this.trigger,xe(this,this.constructor.defaultState),Kr(e,this.name),this.dispose=ge(this,this.dispose),e.on("dispose",this.dispose)}var e=i.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.trigger=function(e,t){return void 0===t&&(t={}),pe(this.eventBusEl_,e,this.getEventHash(t))},e.handleStateChanged=function(e){},e.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Zr][e]=!1,this.player=this.state=null,t[e]=Yr(e,es[e])},i.isBasic=function(e){var t="string"==typeof e?Gr(e):e;return"function"==typeof t&&!i.prototype.isPrototypeOf(t.prototype)},i.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))p.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(qr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return es[e]=t,e!==Jr&&(i.isBasic(t)?qr.prototype[e]=function(t,i){function n(){Xr(this,{name:t,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Kr(this,t),Xr(this,{name:t,plugin:i,instance:e}),e}return Object.keys(i).forEach(function(e){n[e]=i[e]}),n}(e,t):qr.prototype[e]=Yr(e,t)),t},i.deregisterPlugin=function(e){if(e===Jr)throw new Error("Cannot de-register base plugin.");zr(e)&&(delete es[e],delete qr.prototype[e])},i.getPlugins=function(e){var i;return void 0===e&&(e=Object.keys(es)),e.forEach(function(e){var t=Gr(e);t&&((i=i||{})[e]=t)}),i},i.getPluginVersion=function(e){var t=Gr(e);return t&&t.VERSION||""},i}();ts.getPlugin=Gr,ts.BASE_PLUGIN_NAME=Jr,ts.registerPlugin(Jr,ts),qr.prototype.usingPlugin=function(e){return!!this[Zr]&&!0===this[Zr][e]},qr.prototype.hasPlugin=function(e){return!!zr(e)};var is=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)},ns=function(e){return 0===e.indexOf("#")?e.slice(1):e};function rs(e,i,t){var n=rs.getPlayer(e);if(n)return i&&p.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&n.ready(t),n;var r="string"==typeof e?G("#"+ns(e)):e;if(!_(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||p.warn("The element supplied is not included in the DOM"),i=i||{},rs.hooks("beforesetup").forEach(function(e){var t=e(r,Re(i));o(t)&&!Array.isArray(t)?i=Re(i,t):p.error("please return an object in beforesetup hooks")});var s=Ue.getComponent("Player");return n=new s(r,i,t),rs.hooks("setup").forEach(function(e){return e(n)}),n}if(rs.hooks_={},rs.hooks=function(e,t){return rs.hooks_[e]=rs.hooks_[e]||[],t&&(rs.hooks_[e]=rs.hooks_[e].concat(t)),rs.hooks_[e]},rs.hook=function(e,t){rs.hooks(e,t)},rs.hookOnce=function(i,e){rs.hooks(i,[].concat(e).map(function(t){return function e(){return rs.removeHook(i,e),t.apply(void 0,arguments)}}))},rs.removeHook=function(e,t){var i=rs.hooks(e).indexOf(t);return!(i<=-1)&&(rs.hooks_[e]=rs.hooks_[e].slice(),rs.hooks_[e].splice(i,1),!0)},!0!==y.VIDEOJS_NO_DYNAMIC_STYLE&&v()){var ss=G(".vjs-styles-defaults");if(!ss){ss=Z("vjs-styles-defaults");var as=G("head");as&&as.insertBefore(ss,as.firstChild),ee(ss,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Q(1,rs),rs.VERSION=d,rs.options=qr.prototype.options_,rs.getPlayers=function(){return qr.players},rs.getPlayer=function(e){var t,i=qr.players;if("string"==typeof e){var n=ns(e),r=i[n];if(r)return r;t=G("#"+n)}else t=e;if(_(t)){var s=t,a=s.player,o=s.playerId;if(a||i[o])return a||i[o]}},rs.getAllPlayers=function(){return Object.keys(qr.players).map(function(e){return qr.players[e]}).filter(Boolean)},rs.players=qr.players,rs.getComponent=Ue.getComponent,rs.registerComponent=function(e,t){Vi.isTech(t)&&p.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ue.registerComponent.call(Ue,e,t)},rs.getTech=Vi.getTech,rs.registerTech=Vi.registerTech,rs.use=function(e,t){qi[e]=qi[e]||[],qi[e].push(t)},Object.defineProperty(rs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(rs.middleware,"TERMINATOR",{value:zi,writeable:!1,enumerable:!0}),rs.browser=ut,rs.TOUCH_ENABLED=nt,rs.extend=function(e,t){void 0===t&&(t={});var i=function(){e.apply(this,arguments)},n={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),n=t):"function"==typeof t&&(i=t),is(i,e),e&&(i.super_=e),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},rs.mergeOptions=Re,rs.bind=ge,rs.registerPlugin=ts.registerPlugin,rs.deregisterPlugin=ts.deregisterPlugin,rs.plugin=function(e,t){return p.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ts.registerPlugin(e,t)},rs.getPlugins=ts.getPlugins,rs.getPlugin=ts.getPlugin,rs.getPluginVersion=ts.getPluginVersion,rs.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),rs.options.languages=Re(rs.options.languages,((i={})[e]=t,i)),rs.options.languages[e]},rs.log=p,rs.createLogger=f,rs.createTimeRange=rs.createTimeRanges=ht,rs.formatTime=yn,rs.setFormatTime=function(e){vn=e},rs.resetFormatTime=function(){vn=gn},rs.parseUrl=Rt,rs.isCrossOrigin=Nt,rs.EventTarget=ye,rs.on=he,rs.one=fe,rs.off=de,rs.trigger=pe,rs.xhr=Jt,rs.TextTrack=si,rs.AudioTrack=ai,rs.VideoTrack=oi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){rs[e]=function(){return p.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),X[e].apply(null,arguments)}}),rs.computedStyle=n,rs.dom=X,rs.url=Xt,rs.defineLazyProperty=Dr;var os=t(function(e,t){var i,c,n,r,h;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=h.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=h.normalizePath(n.path),h.buildURLFromParts(n)}var r=h.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=h.normalizePath(r.path),h.buildURLFromParts(r)):t;var s=h.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var a=c.exec(s.path);s.netLoc=a[1],s.path=a[2]}s.netLoc&&!s.path&&(s.path="/");var o={scheme:s.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=s.netLoc,"/"!==r.path[0]))if(r.path){var u=s.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=h.normalizePath(l)}else o.path=s.path,r.params||(o.params=s.params,r.query||(o.query=s.query));return null===o.path&&(o.path=i.alwaysNormalize?h.normalizePath(r.path):r.path),h.buildURLFromParts(o)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=h});
/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */function us(){return(us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ls(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function cs(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((t=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n}var hs=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},t.trigger=function(e,t){var i,n,r,s=this.listeners[e];if(s)if(2===arguments.length)for(n=s.length,i=0;i<n;++i)s[i].call(this,t);else for(r=Array.prototype.slice.call(arguments,1),n=s.length,i=0;i<n;++i)s[i].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),ds=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return ls(e,t),e.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(hs),ps=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}ls(e,t);var i=e.prototype;return i.push=function(n){var u,l,c=this;0!==(n=n.trim()).length&&("#"===n[0]?this.tagMappers.reduce(function(e,t){var i=t(n);return i===n?e:e.concat([i])},[n]).forEach(function(e){for(var t=0;t<c.customParsers.length;t++)if(c.customParsers[t].call(c,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),u=/^#EXTM3U/.exec(e))c.trigger("data",{type:"tag",tagType:"m3u"});else{if(u=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return l={type:"tag",tagType:"inf"},u[1]&&(l.duration=parseFloat(u[1])),u[2]&&(l.title=u[2]),void c.trigger("data",l);if(u=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"targetduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"totalduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"version"},u[1]&&(l.version=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return l={type:"tag",tagType:"media-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return l={type:"tag",tagType:"discontinuity-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return l={type:"tag",tagType:"playlist-type"},u[1]&&(l.playlistType=u[1]),void c.trigger("data",l);if(u=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"byterange"},u[1]&&(l.length=parseInt(u[1],10)),u[2]&&(l.offset=parseInt(u[2],10)),void c.trigger("data",l);if(u=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return l={type:"tag",tagType:"allow-cache"},u[1]&&(l.allowed=!/NO/.test(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(l={type:"tag",tagType:"map"},u[1]){var i=cs(u[1]);if(i.URI&&(l.uri=i.URI),i.BYTERANGE){var n=i.BYTERANGE.split("@"),r=n[0],s=n[1];l.byterange={},r&&(l.byterange.length=parseInt(r,10)),s&&(l.byterange.offset=parseInt(s,10))}}c.trigger("data",l)}else if(u=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(l={type:"tag",tagType:"stream-inf"},u[1]){if(l.attributes=cs(u[1]),l.attributes.RESOLUTION){var a=l.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),l.attributes.RESOLUTION=o}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}c.trigger("data",l)}else{if(u=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return l={type:"tag",tagType:"media"},u[1]&&(l.attributes=cs(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-ENDLIST/.exec(e))c.trigger("data",{type:"tag",tagType:"endlist"});else if(u=/^#EXT-X-DISCONTINUITY/.exec(e))c.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(u=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return l={type:"tag",tagType:"program-date-time"},u[1]&&(l.dateTimeString=u[1],l.dateTimeObject=new Date(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-KEY:?(.*)$/.exec(e))return l={type:"tag",tagType:"key"},u[1]&&(l.attributes=cs(u[1]),l.attributes.IV&&("0x"===l.attributes.IV.substring(0,2).toLowerCase()&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),void c.trigger("data",l);if(u=/^#EXT-X-START:?(.*)$/.exec(e))return l={type:"tag",tagType:"start"},u[1]&&(l.attributes=cs(u[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-out-cont"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-out"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-in"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);c.trigger("data",{type:"tag",data:e.slice(4)})}}}else c.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:n}))},i.addParser=function(e){var t=this,i=e.expression,n=e.customType,r=e.dataParser,s=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:n,segment:s}),!0})},i.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},e}(hs);function fs(e){return!!e&&"object"==typeof e}function ms(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(t,i){return Object.keys(i).forEach(function(e){Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):fs(t[e])&&fs(i[e])?t[e]=ms(t[e],i[e]):t[e]=i[e]}),t},{})}function gs(e){return e.reduce(function(e,t){return e.concat(t)},[])}function vs(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}var ys=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new ds,e.parseStream=new ps,e.lineStream.pipe(e.parseStream);var r,s,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),o=[],u={},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var i,n;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((u.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((u.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(u.duration=t.duration),0===t.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:function(e){for(var t=y.atob(e||""),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!=typeof t.attributes.IV&&(s.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else s=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(u.attributes||(u.attributes={}),us(u.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},i=e[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),i[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),u.dateTimeString=t.dateTimeString,u.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=t.data},"cue-out-cont":function(){u.cueOutCont=t.data},"cue-in":function(){u.cueIn=t.data}}[t.tagType]||function(){}).call(a)},uri:function(){u.uri=t.uri,o.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),s&&(u.key=s),u.timeline=c,r&&(u.map=r),u={}},comment:function(){},custom:function(){t.segment?(u.custom=u.custom||{},u.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(a)}),e}ls(e,t);var i=e.prototype;return i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},e}(hs),_s="INVALID_NUMBER_OF_PERIOD",bs="DASH_EMPTY_MANIFEST",Ts="DASH_INVALID_XML",Ss="NO_BASE_URL",ks="SEGMENT_TIME_UNSPECIFIED",Cs="UNSUPPORTED_UTC_TIMING_SCHEME";
/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */function Es(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=Ws.buildAbsoluteURL(y.location.href,e)),Ws.buildAbsoluteURL(e,t))}function ws(e){var t=e.baseUrl,i=void 0===t?"":t,n=e.source,r=void 0===n?"":n,s=e.range,a=void 0===s?"":s,o=e.indexRange,u=void 0===o?"":o,l={uri:r,resolvedUri:Es(i||"",r)};if(a||u){var c=(a||u).split("-"),h=parseInt(c[0],10),d=parseInt(c[1],10);l.byterange={length:d-h+1,offset:h}}return l}function Ls(e){var t=e.type,i=void 0===t?"static":t,n=e.duration,r=e.timescale,s=void 0===r?1:r,a=e.sourceDuration,o=zs[i](e),u=function(e,t){for(var i=[],n=e;n<t;n++)i.push(n);return i}(o.start,o.end).map(function(o){return function(e,t){var i=o.duration,n=o.timescale,r=void 0===n?1:n,s=o.periodIndex,a=o.startNumber;return{number:(void 0===a?1:a)+e,duration:i/r,timeline:s,time:t*i}}}(e));if("static"===i){var l=u.length-1;u[l].duration=a-n/s*l}return u}function Ps(e){var t=e.baseUrl,i=e.initialization,n=void 0===i?{}:i,r=e.sourceDuration,s=e.timescale,a=void 0===s?1:s,o=e.indexRange,u=void 0===o?"":o,l=e.duration;if(!t)throw new Error(Ss);var c=ws({baseUrl:t,source:n.sourceURL,range:n.range}),h=ws({baseUrl:t,source:t,indexRange:u});if(h.map=c,l){var d=Ls(e);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/a,h.timeline=0);return h.number=0,[h]}function As(e,t,i){for(var n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,o=a.offset+a.length,u=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),c=[],h=o+t.firstOffset,d=0;d<l.length;d++){var p=t.references[d],f=p.referencedSize,m=p.subsegmentDuration,g=Ps({baseUrl:i,timescale:u,timeline:s,periodIndex:s,duration:m,sourceDuration:r,indexRange:h+"-"+(h+f-1)})[0];n&&(g.map=n),c.push(g),h+=f}return e.segments=c,e}function Is(e){return function(t){return Object.keys(t).map(function(e){return t[e]})}(e.reduce(function(e,t){var i,n=t.attributes.id+(t.attributes.lang||"");e[n]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):e[n]=t;return e},{})).map(function(e){return e.discontinuityStarts=function(e,n){return e.reduce(function(e,t,i){return t[n]&&e.push(i),e},[])}(e.segments,"discontinuity"),e})}function xs(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var i in e){var n=e[i];if(n.sidx){var r=n.sidx.uri+"-"+(a=n.sidx.byterange,void 0,o=a.offset+a.length-1,a.offset+"-"+o),s=t[r]&&t[r].sidx;n.sidx&&s&&As(n,s,n.sidx.resolvedUri)}}var a,o;return e}function Os(e){var t,i=e.attributes,n=e.segments,r=e.sidx,s={attributes:(t={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s}function Ds(e,t){var i;if(void 0===t&&(t={}),!e.length)return{};var n=e[0].attributes,r=n.sourceDuration,s=n.minimumUpdatePeriod,a=void 0===s?0:s,o=Is(e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType})).map(Os),u=Is(e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType})),l=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:r,playlists:xs(o,t),minimumUpdatePeriod:1e3*a};return u.length&&(c.mediaGroups.AUDIO.audio=function(e,a){var o;void 0===a&&(a={});var t=e.reduce(function(e,t){var i=t.attributes.role&&t.attributes.role.value||"",n=t.attributes.lang||"",r="main";if(n){var s=i?" ("+i+")":"";r=t.attributes.lang+s}return e[r]&&e[r].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[r]={language:n,autoselect:!0,default:"main"===i,playlists:xs([function(e){var t,i=e.attributes,n=e.segments,r=e.sidx,s={attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s}(t)],a),uri:""},"undefined"==typeof o&&"main"===i&&((o=t).default=!0)),e},{});o||(t[Object.keys(t)[0]].default=!0);return t}(u,t)),l.length&&(c.mediaGroups.SUBTITLES.subs=function(e,n){return void 0===n&&(n={}),e.reduce(function(e,t){var i=t.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:xs([function(e){var t,i=e.attributes,n=e.segments;return"undefined"==typeof n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(t)],n),uri:""}),e},{})}(l,t)),c}function Rs(e,t){for(var i,n,r,s,a,o,u,l,c,h,d,p,f=e.type,m=void 0===f?"static":f,g=e.minimumUpdatePeriod,v=void 0===g?0:g,y=e.media,_=void 0===y?"":y,b=e.sourceDuration,T=e.timescale,S=void 0===T?1:T,k=e.startNumber,C=void 0===k?1:k,E=e.periodIndex,w=[],L=-1,P=0;P<t.length;P++){var A=t[P],I=A.d,x=A.r||0,O=A.t||0;L<0&&(L=O),O&&L<O&&(L=O);var D=void 0;if(x<0){var R=P+1;D=R===t.length?"dynamic"===m&&0<v&&0<_.indexOf("$Number$")?(n=L,r=I,void 0,s=(i=e).NOW,a=i.clientOffset,o=i.availabilityStartTime,u=i.timescale,l=void 0===u?1:u,c=i.start,h=void 0===c?0:c,d=i.minimumUpdatePeriod,p=(s+a)/1e3+(void 0===d?0:d)-(o+h),Math.ceil((p*l-n)/r)):(b*S-L)/I:(t[R].t-L)/I}else D=x+1;for(var U=C+w.length+D,M=C+w.length;M<U;)w.push({number:M,duration:I/S,time:L,timeline:E}),L+=I,M++}return w}function Us(e,t){return e.replace(Gs,function(s){return function(e,t,i,n){if("$$"===e)return"$";if("undefined"==typeof s[t])return e;var r=""+s[t];return"RepresentationID"===t?r:(n=i?parseInt(n,10):1)<=r.length?r:new Array(n-r.length+1).join("0")+r}}(t))}function Ms(i,e){var n={RepresentationID:i.id,Bandwidth:i.bandwidth||0},t=i.initialization,r=void 0===t?{sourceURL:"",range:""}:t,s=ws({baseUrl:i.baseUrl,source:Us(r.sourceURL,n),range:r.range});return function(e,t){return e.duration||t?e.duration?Ls(e):Rs(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(i,e).map(function(e){n.Number=e.number,n.Time=e.time;var t=Us(i.media||"",n);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:Es(i.baseUrl||"",t),map:s,number:e.number}})}function Ns(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(ks);var s,a=r.map(function(e){return function(e,t){var i=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,s=ws({baseUrl:i,source:r.sourceURL,range:r.range}),a=ws({baseUrl:i,source:t.media,range:t.mediaRange});return a.map=s,a}(t,e)});return i&&(s=Ls(t)),e&&(s=Rs(t,e)),s.map(function(e,t){if(a[t]){var i=a[t];return i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i}}).filter(function(e){return e})}function Bs(e){var t,i,n=e.attributes,r=e.segmentInfo;r.template?(i=Ms,t=ms(n,r.template)):r.base?(i=Ps,t=ms(n,r.base)):r.list&&(i=Ns,t=ms(n,r.list));var s={attributes:n};if(!i)return s;var a=i(t,r.timeline);if(t.duration){var o=t,u=o.duration,l=o.timescale,c=void 0===l?1:l;t.duration=u/c}else a.length?t.duration=a.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return s.attributes=t,s.segments=a,r.base&&t.indexRange&&(s.sidx=a[0],s.segments=[]),s}function js(e,t){return vs(e.childNodes).filter(function(e){return e.tagName===t})}function Fs(e){return e.textContent.trim()}function Hs(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var i=t.slice(1),n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],u=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(u||0)}function Vs(e){return e&&e.attributes?vs(e.attributes).reduce(function(e,t){var i=Ks[t.name]||Ks.DEFAULT;return e[t.name]=i(t.value),e},{}):{}}var qs,Ws=(function(e,t){var i,c,n,r,h;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=h.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=h.normalizePath(n.path),h.buildURLFromParts(n)}var r=h.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=h.normalizePath(r.path),h.buildURLFromParts(r)):t;var s=h.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var a=c.exec(s.path);s.netLoc=a[1],s.path=a[2]}s.netLoc&&!s.path&&(s.path="/");var o={scheme:s.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=s.netLoc,"/"!==r.path[0]))if(r.path){var u=s.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=h.normalizePath(l)}else o.path=s.path,r.params||(o.params=s.params,r.query||(o.query=s.query));return null===o.path&&(o.path=i.alwaysNormalize?h.normalizePath(r.path):r.path),h.buildURLFromParts(o)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=h}(qs={exports:{}},qs.exports),qs.exports),zs={static:function(e){var t=e.duration,i=e.timescale,n=void 0===i?1:i,r=e.sourceDuration;return{start:0,end:Math.ceil(r/(t/n))}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,s=void 0===r?1:r,a=e.duration,o=e.start,u=void 0===o?0:o,l=e.minimumUpdatePeriod,c=void 0===l?0:l,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,p=(t+i)/1e3,f=n+u,m=p+c-f,g=Math.ceil(m*s/a),v=Math.floor((p-f-d)*s/a),y=Math.floor((p-f)*s/a);return{start:Math.max(0,v),end:Math.min(g,y)}}},Gs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ks={mediaPresentationDuration:function(e){return Hs(e)},availabilityStartTime:function(e){return function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)}(e)/1e3},minimumUpdatePeriod:function(e){return Hs(e)},timeShiftBufferDepth:function(e){return Hs(e)},start:function(e){return Hs(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Hs(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}};function Xs(e,i){return i.length?gs(e.map(function(t){return i.map(function(e){return Es(t,Fs(e))})})):e}function Ys(e){var t=js(e,"SegmentTemplate")[0],i=js(e,"SegmentList")[0],n=i&&js(i,"SegmentURL").map(function(e){return ms({tag:"SegmentURL"},Vs(e))}),r=js(e,"SegmentBase")[0],s=i||t,a=s&&js(s,"SegmentTimeline")[0],o=i||r||t,u=o&&js(o,"Initialization")[0],l=t&&Vs(t);l&&u?l.initialization=u&&Vs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&js(a,"S").map(function(e){return Vs(e)}),list:i&&ms(Vs(i),{segmentUrls:n,initialization:Vs(u)}),base:r&&ms(Vs(r),{initialization:Vs(u)})};return Object.keys(c).forEach(function(e){c[e]||delete c[e]}),c}function $s(e){return e.reduce(function(e,t){var i=Vs(t),n=da[i.schemeIdUri];if(n){e[n]={attributes:i};var r=js(t,"cenc:pssh")[0];if(r){var s=Fs(r),a=s&&function(e){for(var t=y.atob(e),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(s);e[n].pssh=a}}return e},{})}function Qs(c,h,d){return function(e){var t=Vs(e),i=Xs(h,js(e,"BaseURL")),n=js(e,"Role")[0],r={role:Vs(n)},s=ms(c,t,r),a=$s(js(e,"ContentProtection"));Object.keys(a).length&&(s=ms(s,{contentProtection:a}));var o=Ys(e),u=js(e,"Representation"),l=ms(d,o);return gs(u.map(function(s,a,o){return function(e){var t=js(e,"BaseURL"),i=Xs(a,t),n=ms(s,Vs(e)),r=Ys(e);return i.map(function(e){return{segmentInfo:ms(o,r),attributes:ms(n,{baseUrl:e})}})}}(s,i,l)))}}function Js(e,t){void 0===t&&(t={});var i=t,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,a=void 0===s?Date.now():s,o=i.clientOffset,u=void 0===o?0:o,l=js(e,"Period");if(!l.length)throw new Error(_s);var c=Vs(e),h=Xs([r],js(e,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=u,gs(l.map(function(l,c){return function(e,t){var i=Xs(c,js(e,"BaseURL")),n=Vs(e),r=parseInt(n.id,10),s=y.isNaN(r)?t:r,a=ms(l,{periodIndex:s}),o=js(e,"AdaptationSet"),u=Ys(e);return gs(o.map(Qs(a,i,u)))}}(c,h)))}function Zs(e){if(""===e)throw new Error(bs);var t=(new y.DOMParser).parseFromString(e,"application/xml"),i=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(Ts);return i}function ea(e,t){return void 0===t&&(t={}),Ds(function(e){return e.map(Bs)}(Js(Zs(e),t)),t.sidxMapping)}function ta(e){return function(e){var t=js(e,"UTCTiming")[0];if(!t)return null;var i=Vs(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Cs)}return i}(Zs(e))}function ia(e){return new Date(1e3*e-20828448e5)}function na(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}function ra(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}var sa,aa,oa,ua,la,ca,ha,da={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},pa=function(e){return e>>>0},fa=function(e){return("00"+e.toString(16)).slice(-2)},ma=pa,ga={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:sa(e.subarray(78,e.byteLength))}},avcC:function(e){var t,i,n,r,s=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},o=31&e[5];for(n=6,r=0;r<o;r++)i=s.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+i))),n+=i;for(t=e[n],n++,r=0;r<t;r++)i=s.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+i))),n+=i;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={majorBrand:ra(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)i.compatibleBrands.push(ra(e.subarray(n,n+4))),n+=4;return i},dinf:function(e){return{boxes:sa(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:sa(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:ra(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}t.name+=String.fromCharCode(e[i])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,i,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=i)if(i=n.getUint32(t),t+=4,i<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r}(e)}},mdhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:i.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(n+=4,r.creationTime=ia(i.getUint32(n)),n+=8,r.modificationTime=ia(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=8):(r.creationTime=ia(i.getUint32(n)),n+=4,r.modificationTime=ia(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=4),r.duration=i.getUint32(n),n+=4,t=i.getUint16(n),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:sa(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:sa(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(i.streamDescriptor=sa(e.subarray(28))[0]),i},moof:function(e){return{boxes:sa(e)}},moov:function(e){return{boxes:sa(e)}},mvex:function(e){return{boxes:sa(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=ia(t.getUint32(i)),i+=8,n.modificationTime=ia(t.getUint32(i)),i+=4,n.timescale=t.getUint32(i),i+=8):(n.creationTime=ia(t.getUint32(i)),i+=4,n.modificationTime=ia(t.getUint32(i)),i+=4,n.timescale=t.getUint32(i),i+=4),n.duration=t.getUint32(i),i+=4,n.rate=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,n.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=t.getUint32(i),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)i.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return i},sidx:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},r=i.getUint16(22);for(t=24;r;t+=12,r--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&i.getUint32(t),subsegmentDuration:i.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&i.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:sa(e)}},stco:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=i.getUint32(4);for(t=8;r;t+=4,r--)n.chunkOffsets.push(i.getUint32(t));return n},stsc:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n=i.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)r.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:sa(e.subarray(8))}},stsz:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(i.getUint32(t));return n},stts:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=i.getUint32(4);for(t=8;r;t+=8,r--)n.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return n},styp:function(e){return ga.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:ma(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=ma(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},tfhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],u=32&n.flags[2],l=65536&n.flags[0],c=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),s&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(n.defaultSampleDuration=i.getUint32(t),t+=4),o&&(n.defaultSampleSize=i.getUint32(t),t+=4),u&&(n.defaultSampleFlags=i.getUint32(t)),l&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=ia(t.getUint32(i)),i+=8,n.modificationTime=ia(t.getUint32(i)),i+=4,n.trackId=t.getUint32(i),i+=4,i+=8):(n.creationTime=ia(t.getUint32(i)),i+=4,n.modificationTime=ia(t.getUint32(i)),i+=4,n.trackId=t.getUint32(i),i+=4,i+=4),n.duration=t.getUint32(i),i+=4,i+=8,n.layer=t.getUint16(i),i+=2,n.alternateGroup=t.getUint16(i),i+=2,n.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,n.width=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,n.height=t.getUint16(i)+t.getUint16(i+2)/16,n},traf:function(e){return{boxes:sa(e)}},trak:function(e){return{boxes:sa(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],u=4&i.flags[1],l=8&i.flags[1],c=n.getUint32(4),h=8;for(r&&(i.dataOffset=n.getInt32(h),h+=4),s&&c&&(t={flags:na(e.subarray(h,h+4))},h+=4,a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),l&&(t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),u&&(t.flags=na(e.subarray(h,h+4)),h+=4),l&&(t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t);return i},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},va={inspect:sa=function(e){for(var t,i,n,r,s,a=0,o=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)i=t.getUint32(a),n=ra(e.subarray(a+4,a+8)),r=1<i?a+i:e.byteLength,(s=(ga[n]||function(e){return{data:e}})(e.subarray(a+8,r))).size=i,s.type=n,o.push(s),a=r;return o},textify:aa=function(e,t){var s;return t=t||0,s=new Array(2*t+1).join(" "),e.map(function(r,e){return s+r.type+"\n"+Object.keys(r).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t=s+"  "+e+": ",i=r[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var n=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return n?1===n.length?t+"<"+n.join("").slice(1)+">":t+"<\n"+n.map(function(e){return s+"  "+e}).join("\n")+"\n"+s+"  >":t+"<>"}return t+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:s+"  "+e}).join("\n")}).join("\n")+(r.boxes?"\n"+aa(r.boxes,t+1):"")}).join("\n")},parseType:ra,findBox:function e(t,i){var n,r,s,a,o,u=[];if(!i.length)return null;for(n=0;n<t.byteLength;)r=ma(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),s=ra(t.subarray(n+4,n+8)),a=1<r?n+r:t.byteLength,s===i[0]&&(1===i.length?u.push(t.subarray(n+8,a)):(o=e(t.subarray(n+8,a),i.slice(1))).length&&(u=u.concat(o))),n=a;return u},parseTraf:ga.traf,parseTfdt:ga.tfdt,parseHdlr:ga.hdlr,parseTfhd:ga.tfhd,parseTrun:ga.trun,parseSidx:ga.sidx},ya=pa,_a=fa;oa=function(e){return va.findBox(e,["moov","trak"]).reduce(function(e,t){var i,n,r,s,a;return(i=va.findBox(t,["tkhd"])[0])?(n=i[0],s=ya(i[r=0===n?12:20]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),(a=va.findBox(t,["mdia","mdhd"])[0])?(r=0===(n=a[0])?12:20,e[s]=ya(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),e):null):null},{})},ua=function(r,e){var t,i,n;return t=va.findBox(e,["moof","traf"]),i=[].concat.apply([],t.map(function(n){return va.findBox(n,["tfhd"]).map(function(e){var t,i;return t=ya(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),i=r[t]||9e4,(va.findBox(n,["tfdt"]).map(function(e){var t,i;return t=e[0],i=ya(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=ya(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0]||1/0)/i})})),n=Math.min.apply(null,i),isFinite(n)?n:0},la=function(e,t){var i,n=va.findBox(t,["moof","traf"]),r=0,s=0;if(n&&n.length)for(var a=va.parseTraf(n[0]),o=0;o<a.boxes.length;o++)"tfhd"===a.boxes[o].type?i=a.boxes[o].trackId:"tfdt"===a.boxes[o].type?r=a.boxes[o].baseMediaDecodeTime:"trun"===a.boxes[o].type&&a.boxes[o].samples.length&&(s=a.boxes[o].samples[0].compositionTimeOffset||0);return(r+s)/(e[i]||9e4)},ca=function(e){var t=va.findBox(e,["moov","trak"]),o=[];return t.forEach(function(e){var t=va.findBox(e,["mdia","hdlr"]),a=va.findBox(e,["tkhd"]);t.forEach(function(e,t){var i,n,r=va.parseType(e.subarray(8,12)),s=a[t];"vide"===r&&(n=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),o.push(n))})}),o},ha=function(e){var t=va.findBox(e,["moov","trak"]),p=[];return t.forEach(function(e){var t,i,n={},r=va.findBox(e,["tkhd"])[0];r&&(i=(t=new DataView(r.buffer,r.byteOffset,r.byteLength)).getUint8(0),n.id=0===i?t.getUint32(12):t.getUint32(20));var s=va.findBox(e,["mdia","hdlr"])[0];if(s){var a=va.parseType(s.subarray(8,12));n.type="vide"===a?"video":"soun"===a?"audio":a}var o=va.findBox(e,["mdia","minf","stbl","stsd"])[0];if(o){var u=o.subarray(8);n.codec=va.parseType(u.subarray(4,8));var l,c=va.findBox(u,[n.codec])[0];c&&(/^[a-z]vc[1-9]$/i.test(n.codec)?(l=c.subarray(78),"avcC"===va.parseType(l.subarray(4,8))&&11<l.length?(n.codec+=".",n.codec+=_a(l[9]),n.codec+=_a(l[10]),n.codec+=_a(l[11])):n.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(n.codec)&&(l=c.subarray(28),"esds"===va.parseType(l.subarray(4,8))&&20<l.length&&0!==l[19]?(n.codec+="."+_a(l[19]),n.codec+="."+_a(l[20]>>>2&63).replace(/^0/,"")):n.codec="mp4a.40.2"))}var h=va.findBox(e,["mdia","mdhd"])[0];if(h&&r){var d=0===i?12:20;n.timescale=ya(h[d]<<24|h[1+d]<<16|h[2+d]<<8|h[3+d])}p.push(n)}),p};function ba(){this.init=function(){var s={};this.on=function(e,t){s[e]||(s[e]=[]),s[e]=s[e].concat(t)},this.off=function(e,t){var i;return!!s[e]&&(i=s[e].indexOf(t),s[e]=s[e].slice(),s[e].splice(i,1),-1<i)},this.trigger=function(e){var t,i,n,r;if(t=s[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},this.dispose=function(){s={}}}}var Ta={findBox:va.findBox,parseType:va.parseType,timescale:oa,startTime:ua,compositionStartTime:la,videoTrackIds:ca,tracks:ha},Sa=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return i},ka=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ca=function(e,t){var i,n,r,s,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)s={type:3&t[2+(r=3*i)],pts:e},4&t[2+r]&&(s.ccData=t[3+r]<<8|t[4+r],a.push(s));return a},Ea=function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},wa=4;ba.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},ba.prototype.push=function(e){this.trigger("data",e)},ba.prototype.flush=function(e){this.trigger("done",e)},ba.prototype.partialFlush=function(e){this.trigger("partialdone",e)},ba.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},ba.prototype.reset=function(e){this.trigger("reset",e)};function La(){La.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Da(0,0),new Da(0,1),new Da(1,0),new Da(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)}var Pa=ba;(La.prototype=new Pa).push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=Sa(e.escapedRBSP)).payloadType===wa&&(i=ka(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Ca(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},La.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},La.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},La.prototype.flush=function(){return this.flushStream("flush")},La.prototype.partialFlush=function(){return this.flushStream("partialFlush")},La.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},La.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},La.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},La.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},La.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};function Aa(e){return null===e?"":(e=xa[e]||e,String.fromCharCode(e))}function Ia(){for(var e=[],t=15;t--;)e.push("");return e}var xa={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Oa=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Da=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ia();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ia();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ia()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))s=Aa((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Aa((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Oa.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Aa(n),s+=Aa(r),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Da.prototype=new Pa,Da.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Da.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ia(),this.nonDisplayed_=Ia(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Da.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Da.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Da.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Da.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Da.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Da.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Da.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Da.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Da.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ia(),this.displayed_=Ia()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Da.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Da.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Da.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Da.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Da.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Da.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};function Ra(e,t){for(var i=e,n=0;n<t.length;n++){var r=t[n];if(i<r.size)return r;i-=r.size}return null}function Ua(e,c){var n=Ta.findBox(e,["moof","traf"]),t=Ta.findBox(e,["mdat"]),h={},r=[];return t.forEach(function(e,t){var i=n[t];r.push({mdat:e,traf:i})}),r.forEach(function(e){var t,i=e.mdat,n=e.traf,r=Ta.findBox(n,["tfhd"]),s=va.parseTfhd(r[0]),a=s.trackId,o=Ta.findBox(n,["tfdt"]),u=0<o.length?va.parseTfdt(o[0]).baseMediaDecodeTime:0,l=Ta.findBox(n,["trun"]);c===a&&0<l.length&&(t=function(e,t,i){var n,r,s,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(r=0;r+4<e.length;r+=s)if(s=o.getUint32(r),r+=4,!(s<=0))switch(31&e[r]){case 6:var l=e.subarray(r+1,r+1+s),c=Ra(r,t);n={nalUnitType:"sei_rbsp",size:s,data:l,escapedRBSP:Na(l),trackId:i},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),u.push(n)}return u}(i,function(e,t,i){var n=t,r=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,a=i.trackId,o=[];return e.forEach(function(e){var t=va.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=s),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),o=o.concat(t)}),o}(l,u,s),a),h[a]||(h[a]=[]),h[a]=h[a].concat(t))}),h}function Ma(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}var Na=Ea,Ba=La,ja=function(){var t,s,a,o,u,i,n=!1;this.isInitialized=function(){return n},this.init=function(e){t=new Ba,n=!0,i=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/o,e.endTime=e.endPts/o,u.captions.push(e),u.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(a!==e[0]||o!==t[a])},this.parse=function(e,t,i){var n;if(!this.isInitialized())return null;if(!t||!i)return null;if(this.isNewInit(t,i))a=t[0],o=i[a];else if(null===a||!o)return s.push(e),null;for(;0<s.length;){var r=s.shift();this.parse(r,t,i)}return null!==(n=function(e,t,i){return null===t?null:{seiNals:Ua(e,t)[t],timescale:i}}(e,a,o))&&n.seiNals?(this.pushNals(n.seiNals),this.flushStream(),u):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;i?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){s=[],o=a=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Fa=27,Ha=15,Va=21;new Pa;function qa(e){var t=31&e[1];return t<<=8,t|=e[2]}function Wa(e){return!!(64&e[1])}function za(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function Ga(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function Ka(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Xa,Ya,$a,Qa,Ja={parseType:function(e,t){var i=qa(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=Wa(e),i=4+za(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=Wa(e),n=4+za(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var s=12+((15&e[n+10])<<8|e[n+11]);s<r;){var a=n+s;t[(31&e[a+1])<<8|e[a+2]]=e[a],s+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:Wa,parsePesType:function(e,t){switch(t[qa(e)]){case Fa:return"video";case Ha:return"audio";case Va:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Wa(e))return null;var t=4+za(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+za(e),i=e.subarray(t),n=0,r=0,s=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0);1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0),s}},Za=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],eo={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+i:10+i},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Za[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=Ka(e.subarray(10,14)));do{if((i=Ka(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r)))break;var s=n.subarray(r+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return a*=4,a+=3&s[7]}}t+=10,t+=i}while(t<e.byteLength);return null}},to=9e4,io=(Xa=function(e){return 9e4*e},Ya=function(e,t){return e*t},$a=function(e){return e/9e4},Qa=function(e,t){return e/t},Ma),no={};no.ts=Ja,no.aac=eo;function ro(e,t,i){for(var n,r,s,a,o=0,u=uo,l=!1;u<=e.byteLength;)if(71!==e[o]||71!==e[u]&&u!==e.byteLength)o++,u++;else{switch(n=e.subarray(o,u),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;o+=uo,u+=uo}for(o=(u=e.byteLength)-uo,l=!1;0<=o;)if(71!==e[o]||71!==e[u]&&u!==e.byteLength)o--,u--;else{switch(n=e.subarray(o,u),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;o-=uo,u-=uo}}function so(e,t,i){for(var n,r,s,a,o,u,l,c=0,h=uo,d=!1,p={data:[],size:0};h<e.byteLength;)if(71!==e[c]||71!==e[h])c++,h++;else{switch(n=e.subarray(c,h),no.ts.parseType(n,t.pid)){case"pes":if(r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(s&&!d&&(a=no.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0),!i.firstKeyFrame)){if(s&&0!==p.size){for(o=new Uint8Array(p.size),u=0;p.data.length;)l=p.data.shift(),o.set(l,u),u+=l.byteLength;if(no.ts.videoPacketContainsKeyFrame(o)){var f=no.ts.parsePesTime(o);f&&(i.firstKeyFrame=f,i.firstKeyFrame.type="video")}p.size=0}p.data.push(n),p.size+=n.byteLength}}if(d&&i.firstKeyFrame)break;c+=uo,h+=uo}for(c=(h=e.byteLength)-uo,d=!1;0<=c;)if(71!==e[c]||71!==e[h])c--,h--;else{switch(n=e.subarray(c,h),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"video"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0)}if(d)break;c-=uo,h-=uo}}function ao(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=uo;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),no.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=no.ts.parsePat(i));break;case"pmt":t.table||(t.table=no.ts.parsePmt(i))}if(t.pid&&t.table)return;n+=uo,r+=uo}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case Fa:i.video=[],so(e,t,i),0===i.video.length&&delete i.video;break;case Ha:i.audio=[],ro(e,t,i),0===i.audio.length&&delete i.audio}}return i}var oo=to,uo=188,lo=function(e,t){var i;return(i=no.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,r=null,s=null,a=0,o=0;3<=e.length-o;){switch(no.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((a=no.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===s&&(t=e.subarray(o,o+a),s=no.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7){i=!0;break}if((a=no.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+a),r=no.aac.parseSampleRate(t)),n++,o+=a;break;default:o++}if(i)return null}if(null===r||null===s)return null;var u=oo/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*u,pts:s+1024*n*u}]}}(e):ao(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;"undefined"==typeof i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=io(e.dts,i),e.pts=io(e.pts,i),e.dtsTime=e.dts/oo,e.ptsTime=e.pts/oo})}if(e.video&&e.video.length){var n=t;if("undefined"==typeof n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=io(e.dts,n),e.pts=io(e.pts,n),e.dtsTime=e.dts/oo,e.ptsTime=e.pts/oo}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=io(r.dts,n),r.pts=io(r.pts,n),r.dtsTime=r.dts/oo,r.ptsTime=r.dts/oo}}}(i,t),i):null};function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ho=function(e,t,i){return t&&po(e.prototype,t),i&&po(e,i),e};function po(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fo=null,mo=(go.prototype.decrypt=function(e,t,i,n,r,s){var a=this._key[1],o=e^a[0],u=n^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,p=void 0,f=a.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(m=0;m<f;m++)h=y[o>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^a[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],p=y[l>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&u]^a[g+2],c=y[c>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&l]^a[g+3],g+=4,o=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[g++],h=o,o=u,u=l,l=c,c=h},go);function go(e){co(this,go),fo=fo||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,f=16843009*u[h=u[c=u[r[n[a]=d]=a]]]^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,s=0;s<4;s++)t[s][a]=p=p<<24^p>>>8,i[s][d]=f=f<<24^f>>>8;for(s=0;s<5;s++)t[s]=t[s].slice(0),i[s]=i[s].slice(0);return e}(),this._tables=[[fo[0][0].slice(),fo[0][1].slice(),fo[0][2].slice(),fo[0][3].slice(),fo[0][4].slice()],[fo[1][0].slice(),fo[1][1].slice(),fo[1][2].slice(),fo[1][3].slice(),fo[1][4].slice()]];var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0,a=this._tables[0][4],o=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),s=[],this._key=[r,s],t=u;t<4*u+28;t++)n=r[t-1],(t%u==0||8===u&&t%u==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%u==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),r[t]=r[t-u]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],s[i]=t<=4||i<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}var vo=(yo.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},yo.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},yo.prototype.trigger=function(e,t){var i=this.listeners[e];if(i)if(2===arguments.length)for(var n=i.length,r=0;r<n;++r)i[r].call(this,t);else for(var s=Array.prototype.slice.call(arguments,1),a=i.length,o=0;o<a;++o)i[o].apply(this,s)},yo.prototype.dispose=function(){this.listeners={}},yo.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},yo);function yo(){co(this,yo),this.listeners={}}var _o,bo=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(To,_o=vo),To.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},To.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},To);function To(){co(this,To);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_o.call(this,vo));return e.jobs=[],e.delay=1,e.timeout_=null,e}function So(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function ko(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new mo(Array.prototype.slice.call(t)),s=new Uint8Array(e.byteLength),a=new Int32Array(s.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(o=i[0],u=i[1],l=i[2],c=i[3],m=0;m<n.length;m+=4)h=So(n[m]),d=So(n[m+1]),p=So(n[m+2]),f=So(n[m+3]),r.decrypt(h,d,p,f,a,m),a[m]=So(a[m]^o),a[m+1]=So(a[m+1]^u),a[m+2]=So(a[m+2]^l),a[m+3]=So(a[m+3]^c),o=h,u=d,l=p,c=f;return s}var Co=(Eo.prototype.decryptChunk_=function(t,i,n,r){return function(){var e=ko(t,i,n);r.set(e,t.byteOffset)}},ho(Eo,null,[{key:"STEP",get:function(){return 32e3}}]),Eo);function Eo(e,t,i,n){co(this,Eo);var r=Eo.STEP,s=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new bo,this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a)),o=r;o<s.length;o+=r)i=new Uint32Array([So(s[o-4]),So(s[o-3]),So(s[o-2]),So(s[o-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}function wo(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=os.buildAbsoluteURL(y.location.href,e)),os.buildAbsoluteURL(e,t))}function Lo(e,t,i){return e&&i.responseURL&&t!==i.responseURL?i.responseURL:t}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/**
   * @videojs/http-streaming
   * @version 1.11.2
   * @copyright 2019 Brightcove, Inc
   * @license Apache-2.0
   */
var Ao=function(e,t,i){return t&&Io(e.prototype,t),i&&Io(e,i),e};function Io(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Oo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Do(r,s){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in r.mediaGroups[e])for(var i in r.mediaGroups[e][t]){var n=r.mediaGroups[e][t][i];s(n,e,t,i)}})}function Ro(e,t){var i=jo(e,{}),n=i.playlists[t.uri];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.endList===t.endList&&n.mediaSequence===t.mediaSequence)return null;var r=jo(n,t);n.segments&&(r.segments=function(e,t,i){var n=t.slice();i=i||0;for(var r=Math.min(e.length,t.length+i),s=i;s<r;s++)n[s-i]=jo(e[s],n[s-i]);return n}(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),r.segments.forEach(function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=wo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=wo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=wo(t,e.map.uri))}(e,r.resolvedUri)});for(var s=0;s<i.playlists.length;s++)i.playlists[s].uri===t.uri&&(i.playlists[s]=r);return i.playlists[t.uri]=r,i}function Uo(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];(e.playlists[i.uri]=i).resolvedUri=wo(e.uri,i.uri),i.id=t,i.attributes||(i.attributes={},Fo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function Mo(t){Do(t,function(e){e.uri&&(e.resolvedUri=wo(t.uri,e.uri))})}function No(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)}var Bo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},jo=rs.mergeOptions,Fo=rs.log,Ho=(xo(Vo,rs.EventTarget),Ao(Vo,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var n=new ys;this.customTagParsers.forEach(function(e){return n.addParser(e)}),this.customTagMappers.forEach(function(e){return n.addTagMapper(e)}),n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var r=Ro(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(y.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=y.setTimeout(function(){i.trigger("mediaupdatetimeout")},No(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(i,e){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(y.clearTimeout(this.finalRenditionTimeout),e){var t=i.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=y.setTimeout(this.media.bind(this,i,!1),t)}else{var r=this.state,s=!this.media_||i.uri!==this.media_.uri;if(this.master.playlists[i.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,void(s&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(s){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(n.request){if(i.resolvedUri=Lo(n.handleManifestRedirects,i.resolvedUri,t),e)return n.playlistRequestError(n.request,i.uri,r);n.haveMetadata(t,i.uri),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;y.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return t.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");var i=new ys;return n.customTagParsers.forEach(function(e){return i.addParser(e)}),n.customTagMappers.forEach(function(e){return i.addTagMapper(e)}),i.push(t.responseText),i.end(),n.state="HAVE_MASTER",n.srcUrl=Lo(n.handleManifestRedirects,n.srcUrl,t),i.manifest.uri=n.srcUrl,i.manifest.playlists?(n.master=i.manifest,Uo(n.master),Mo(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(i.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:y.location.href,playlists:[{uri:n.srcUrl,id:0,resolvedUri:n.srcUrl,attributes:{}}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),Vo);function Vo(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Po(this,Vo);var n=Oo(this,(Vo.__proto__||Object.getPrototypeOf(Vo)).call(this)),r=i.withCredentials,s=void 0!==r&&r,a=i.handleManifestRedirects,o=void 0!==a&&a;n.srcUrl=e,n.hls_=t,n.withCredentials=s,n.handleManifestRedirects=o;var u=t.options_;if(n.customTagParsers=u&&u.customTagParsers||[],n.customTagMappers=u&&u.customTagMappers||[],!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:wo(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))}),n}function qo(e,t,i){var n,r;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if("undefined"!=typeof(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,"undefined"!=typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?n.result:(r=function(e,t){for(var i=0,n=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if("undefined"!=typeof(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,"undefined"!=typeof n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:n.result+i}function Wo(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return y.Infinity}return qo(e,t,i)}function zo(e,t,i){var n=0;if(i<t){var r=[i,t];t=r[0],i=r[1]}if(t<0){for(var s=t;s<Math.min(0,i);s++)n+=e.targetDuration;t=0}for(var a=t;a<i;a++)n+=e.segments[a].duration;return n}function Go(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,n=i+2*e.targetDuration;t--&&!(n<=(i+=e.segments[t].duration)););return Math.max(0,t)}function Ko(e,t,i){if(!e||!e.segments)return null;if(e.endList)return Wo(e);if(null===t)return null;t=t||0;var n=i?Go(e):e.segments.length;return qo(e,e.mediaSequence+n,t)}function Xo(e){return e-Math.floor(e)==0}function Yo(e,t){if(Xo(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),s=t*r;if(Xo(s)||n===i)return(s+e)/r}}function $o(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function Qo(e){return e.excludeUntil&&e.excludeUntil===1/0}function Jo(e){var t=$o(e);return!e.disabled&&!t}function Zo(e,t){return t.attributes&&t.attributes[e]}function eu(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Jo(e)&&(e.attributes.BANDWIDTH||0)<i}).length}function tu(){return function e(t,n){t=Cu({timeout:45e3},t);var i=e.beforeRequest||rs.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var s=ku(t,function(e,t){var i=s.response;!e&&i&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=i.byteLength||i.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),t.headers&&(s.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(i||s.responseText)))),n(e,s)}),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}}function iu(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t}function nu(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")}function ru(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function su(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}function au(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function ou(e){return e.resolvedUri}function uu(e){for(var t=Array.prototype.slice.call(e),i="",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(nu).join("")+" "+t.slice(16*n,16*n+16).map(ru).join("")+"\n";return i}function lu(e){var t=e.playlist,i=e.time,n=void 0===i?void 0:i,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var s=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i=0,n=void 0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var s=t.segments[t.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(i<e){if(e>i+.25*s.duration)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,t);if(!s)return r({message:"valid programTime was not found"});if("estimate"===s.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:n},o=function(e,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)}(n,s.segment);return o&&(a.programDateTime=o.toISOString()),r(null,a)}function cu(e){var t=e.programTime,i=e.playlist,n=e.retryCount,r=void 0===n?2:n,s=e.seekTo,a=e.pauseAfterSeek,o=void 0===a||a,u=e.tech,l=e.callback;if(!l)throw new Error("seekToProgramTime: callback must be provided");if("undefined"==typeof t||!i||!s)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){if(!e.segments[t].dateTimeObject)return!1}return!0}(i))return l({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var c=function(e,t){var i=void 0;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<t.segments.length-1;r++){if(n=t.segments[r],i<t.segments[r+1].dateTimeObject)break}var s=t.segments[t.segments.length-1],a=s.dateTimeObject,o=s.videoTimingInfo?function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds}(s.videoTimingInfo):s.duration+.25*s.duration;return new Date(a.getTime()+1e3*o)<i?null:(a<i&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Su.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(t,i);if(!c)return l({message:t+" was not found in the stream"});var h=c.segment,d=function(e,t){var i=void 0,n=void 0;try{i=new Date(e),n=new Date(t)}catch(e){}var r=i.getTime();return(n.getTime()-r)/1e3}(h.dateTimeObject,t);if("estimate"===c.type)return 0===r?l({message:t+" is not buffered yet. Try again"}):(s(c.estimatedStart+d),void u.one("seeked",function(){cu({programTime:t,playlist:i,retryCount:r-1,seekTo:s,pauseAfterSeek:o,tech:u,callback:l})}));var p=h.start+d;u.one("seeked",function(){return l(null,u.currentTime())}),o&&u.pause(),s(p)}function hu(e,t){var i=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return rs.createTimeRanges(i)}function du(e,i){return hu(e,function(e,t){return e-.1<=i&&i<=t+.1})}function pu(e,t){return hu(e,function(e){return t<=e-1/30})}function fu(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")}function mu(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}function gu(e,t,i){var n=void 0,r=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime<=t&&r.endTime>=e&&i.removeCue(r)}function vu(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}function yu(e,t,i){var n=y.WebKitDataCue||y.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new n(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i){var r=vu(e.mediaSource_.duration);if(i.forEach(function(e){var i=e.cueTime+this.timestampOffset;!("number"!=typeof i||y.isNaN(i)||i<0)&&i<1/0&&e.frames.forEach(function(e){var t=new n(i,i,e.value||e.url||e.data||"");t.frame=e,t.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return rs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return rs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return rs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(t),this.metadataTrack_.addCue(t)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var s=e.metadataTrack_.cues,a=[],o=0;o<s.length;o++)s[o]&&a.push(s[o]);var u=a.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),l=Object.keys(u).sort(function(e,t){return Number(e)-Number(t)});l.forEach(function(e,t){var i=u[e],n=Number(l[t+1])||r;i.forEach(function(e){e.endTime=n})})}}}var _u=rs.createTimeRange,bu=Yo.bind(null,1),Tu=Yo.bind(null,-1),Su={duration:Wo,seekable:function(e,t){var i=t||0,n=Ko(e,t,!0);return null===n?_u():_u(i,n)},safeLiveIndex:Go,getMediaInfoForTime:function(e,t,i,n){var r=void 0,s=void 0,a=e.segments.length,o=t-n;if(o<0){if(0<i)for(r=i-1;0<=r;r--)if(s=e.segments[r],0<(o+=Tu(s.duration)))return{mediaIndex:r,startTime:n-zo(e,i,r)};return{mediaIndex:0,startTime:t}}if(i<0){for(r=i;r<0;r++)if((o-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(r=i;r<a;r++)if(s=e.segments[r],(o-=bu(s.duration))<0)return{mediaIndex:r,startTime:n+zo(e,i,r)};return{mediaIndex:a-1,startTime:t}},isEnabled:Jo,isDisabled:function(e){return e.disabled},isBlacklisted:$o,isIncompatible:Qo,playlistEnd:Ko,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:Zo,estimateSegmentRequestTime:function(e,t,i,n){var r=3<arguments.length&&void 0!==n?n:0;return Zo("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:eu},ku=rs.xhr,Cu=rs.mergeOptions,Eu=Object.freeze({createTransferableMessage:su,initSegmentId:au,segmentKeyId:ou,hexDump:uu,tagDump:function(e){var t=e.bytes;return uu(t)},textRanges:function(e){var t,i,n="",r=void 0;for(r=0;r<e.length;r++)n+=(i=r,(t=e).start(i)+"-"+t.end(i)+" ");return n}}),wu="undefined"!=typeof window?window:{},Lu="undefined"==typeof Symbol?"__target":Symbol(),Pu="application/javascript",Au=wu.BlobBuilder||wu.WebKitBlobBuilder||wu.MozBlobBuilder||wu.MSBlobBuilder,Iu=wu.URL||wu.webkitURL||Iu&&Iu.msURL,xu=wu.Worker;function Ou(r,s){return function(e){var t=this;if(!s)return new xu(r);if(xu&&!e){var i=Mu(s.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Lu]=new xu(i),function(e,t){if(!e||!t)return;var i=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Iu.revokeObjectURL(e.objURL),i.call(e)}}(this[Lu],i),this[Lu]}var n={postMessage:function(e){t.onmessage&&setTimeout(function(){t.onmessage({data:e,target:n})})}};s.call(n),this.postMessage=function(e){setTimeout(function(){n.onmessage({data:e,target:t})})},this.isThisThread=!0}}if(xu){var Du,Ru=Mu("self.onmessage = function () {}"),Uu=new Uint8Array(1);try{(Du=new xu(Ru)).postMessage(Uu,[Uu.buffer])}catch(e){xu=null}finally{Iu.revokeObjectURL(Ru),Du&&Du.terminate()}}function Mu(t){try{return Iu.createObjectURL(new Blob([t],{type:Pu}))}catch(e){var i=new Au;return i.append(t),Iu.createObjectURL(i.getBlob(type))}}function Nu(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}function Bu(e){var t,i=0<arguments.length&&void 0!==e?e:"",n={codecCount:0};return n.codecCount=i.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(i))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(i),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}function ju(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'}function Fu(e,t){var i=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),n=function(e){var t=e.attributes||{};return t.CODECS?Bu(t.CODECS):zu}(t),r=t.attributes||{},s=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var o=e.mediaGroups.AUDIO[r.AUDIO];if(o)for(var u in s=!(a=!0),o)if(!o[u].uri&&!o[u].playlists){s=!0;break}}a&&!n.audioProfile&&(s||(n.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return Bu(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),n.audioProfile||(rs.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=zu.audioProfile));var l={};n.videoCodec&&(l.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(l.audio="mp4a.40."+n.audioProfile);var c=ju("audio",i,[l.audio]),h=ju("video",i,[l.video]),d=ju("video",i,[l.video,l.audio]);return a?!s&&l.video?[h,c]:s||l.video?[d,c]:[c,c]:l.video?[d]:[c]}function Hu(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var i=t[0].replace(/"/g,"").trim(),n=t[1].replace(/"/g,"").trim();r.parameters[i]=n}}),r}function Vu(e){return/mp4a\.\d+.\d+/i.test(e)}function qu(e){return/avc1\.[\da-f]+/i.test(e)}var Wu=new Ou("./transmuxer-worker.worker.js",function(e,t){var kt=this;!function(){function e(){this.init=function(){var s={};this.on=function(e,t){s[e]||(s[e]=[]),s[e]=s[e].concat(t)},this.off=function(e,t){var i;return!!s[e]&&(i=s[e].indexOf(t),s[e]=s[e].slice(),s[e].splice(i,1),-1<i)},this.trigger=function(e){var t,i,n,r;if(t=s[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},this.dispose=function(){s={}}}}e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var l,t,i,r,s,n,a,o,u,c,h,d,p,f,m,g,v,y,_,b,T,S,k,C,E,w,L,P,A,I,x,O,D,R,U,M,N,B,j,F,H=e,V=Math.pow(2,32)-1;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),w=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:w,audio:L},x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,0,0,0,0,0]),D=O,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=O,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),l=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},t=function(){return l(S.dinf,l(S.dref,x))},i=function(e){return l(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return l(S.hdlr,P[e])},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),l(S.mdhd,t)},p=function(e){return l(S.mdia,f(e),m(e.type),n(e))},s=function(e){return l(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},n=function(e){return l(S.minf,"video"===e.type?l(S.vmhd,A):l(S.smhd,I),t(),v(e))},a=function(e,t){for(var i=[],n=t.length;n--;)i[n]=_(t[n]);return l.apply(null,[S.moof,s(e)].concat(i))},o=function(e){for(var t=e.length,i=[];t--;)i[t]=h(e[t]);return l.apply(null,[S.moov,c(4294967295)].concat(i).concat(u(e)))},u=function(e){for(var t=e.length,i=[];t--;)i[t]=b(e[t]);return l.apply(null,[S.mvex].concat(i))},c=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(S.mvhd,t)},g=function(e){var t,i,n=e.samples||[],r=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)t=n[i].flags,r[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return l(S.sdtp,r)},v=function(e){return l(S.stbl,y(e),l(S.stts,U),l(S.stsc,D),l(S.stsz,R),l(S.stco,O))},y=function(e){return l(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):N(e))},M=function(e){var t,i,n=e.sps||[],r=e.pps||[],s=[],a=[];for(t=0;t<n.length;t++)s.push((65280&n[t].byteLength)>>>8),s.push(255&n[t].byteLength),s=s.concat(Array.prototype.slice.call(n[t]));for(t=0;t<r.length;t++)a.push((65280&r[t].byteLength)>>>8),a.push(255&r[t].byteLength),a=a.concat(Array.prototype.slice.call(r[t]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length],s,[r.length],a))),l(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var o=e.sarRatio[0],u=e.sarRatio[1];i.push(l(S.pasp,new Uint8Array([(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return l.apply(null,i)},N=function(e){return l(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},d=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return l(S.tkhd,t)},_=function(e){var t,i,n,r,s,a;return t=l(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(1+V)),a=Math.floor(e.baseMediaDecodeTime%(1+V)),i=l(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(n=T(e,92),l(S.traf,t,i,n)):(r=g(e),n=T(e,r.length+92),l(S.traf,t,i,n,r))},h=function(e){return e.duration=e.duration||4294967295,l(S.trak,d(e),p(e))},b=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),l(S.trex,t)},F=function(e,t){var i=0,n=0,r=0,s=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},j=function(e,t){var i,n,r,s;for(t+=20+16*(n=e.samples||[]).length,i=F(n,t),s=0;s<n.length;s++)r=n[s],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return l(S.trun,new Uint8Array(i))},B=function(e,t){var i,n,r,s;for(t+=20+8*(n=e.samples||[]).length,i=F(n,t),s=0;s<n.length;s++)r=n[s],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return l(S.trun,new Uint8Array(i))},T=function(e,t){return"audio"===e.type?B(e,t):j(e,t)};r=function(){return l(S.ftyp,k,C,k,E)};function q(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}function W(e){for(var t=[];e--;)t.push(0);return t}function z(){z.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ae(0,0),new Ae(0,1),new Ae(1,0),new Ae(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)}var G,K,X,Y,$,Q=function(e){return l(S.mdat,e)},J=a,Z=function(e){var t,i=r(),n=o(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t},ee=function(e){var t,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},te=function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},ie=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ne=function(e,t){var i,n,r,s,a,o=t||0,u=[];for(i=0;i<e.length;i++)for(s=e[i],n=0;n<s.length;n++)a=s[n],o+=(r=q(a,o)).size,u.push(r);return u},re=function(e){var t,i,n,r,s,a,o=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)a=s[n],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},se=[33,16,5,32,164,27],ae=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe={96e3:[se,[227,64],W(154),[56]],88200:[se,[231],W(170),[56]],64e3:[se,[248,192],W(240),[56]],48e3:[se,[255,192],W(268),[55,148,128],W(54),[112]],44100:[se,[255,192],W(268),[55,163,128],W(84),[112]],32e3:[se,[255,192],W(268),[55,234],W(226),[112]],24e3:[se,[255,192],W(268),[55,255,128],W(268),[111,112],W(126),[224]],16e3:[se,[255,192],W(268),[55,255,128],W(268),[111,255],W(269),[223,108],W(195),[1,192]],12e3:[ae,W(268),[3,127,248],W(268),[6,255,240],W(268),[13,255,224],W(268),[27,253,128],W(259),[56]],11025:[ae,W(268),[3,127,248],W(268),[6,255,240],W(268),[13,255,224],W(268),[27,255,192],W(268),[55,175,128],W(108),[112]],8e3:[ae,W(268),[3,121,16],W(47),[7]]},ue=(G=oe,Object.keys(G).reduce(function(e,t){return e[t]=new Uint8Array(G[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),le=9e4,ce=(K=function(e){return 9e4*e},X=function(e,t){return e*t},Y=function(e){return e/9e4},$=function(e,t){return e/t},function(e,t){return K($(e,t))}),he=function(e,t){return X(Y(e),t)},de=function(e,t,i){return Y(i?e:e-t)},pe=function(e,t,i,n){var r,s,a,o,u,l=0,c=0,h=0;if(t.length&&(r=ce(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(le/(e.samplerate/1024)),i&&n&&(l=r-Math.max(i,n),h=(c=Math.floor(l/s))*s),!(c<1||le/2<h))){for(a=(a=ue[e.samplerate])||t[0].data,o=0;o<c;o++)u=t[0],t.splice(0,0,{data:a,dts:u.dts-s,pts:u.pts-s});e.baseMediaDecodeTime-=Math.floor(he(h,e.samplerate))}},fe=function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},me=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},ge=function(e){var t,i,n=0,r=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r},ve=le,ye=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},_e=function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/ve,i=Math.floor(i)),i},be=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Te=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return i},Se=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ke=function(e,t){var i,n,r,s,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)s={type:3&t[2+(r=3*i)],pts:e},4&t[2+r]&&(s.ccData=t[3+r]<<8|t[4+r],a.push(s));return a},Ce=4;(z.prototype=new H).push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=Te(e.escapedRBSP)).payloadType===Ce&&(i=Se(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=ke(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},z.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},z.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},z.prototype.flush=function(){return this.flushStream("flush")},z.prototype.partialFlush=function(){return this.flushStream("partialFlush")},z.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},z.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},z.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},z.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},z.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};function Ee(e){return null===e?"":(e=Le[e]||e,String.fromCharCode(e))}function we(){for(var e=[],t=15;t--;)e.push("");return e}var Le={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Pe=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ae=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=we();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=we();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=we()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))s=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Pe.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Ee(n),s+=Ee(r),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Ae.prototype=new H,Ae.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ae.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=we(),this.nonDisplayed_=we(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ae.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ae.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Ae.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Ae.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Ae.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Ae.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Ae.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Ae.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Ae.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=we(),this.displayed_=we()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ae.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Ae.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Ae.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Ae.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Ae.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ae.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};function Ie(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}function xe(e){var t,i;xe.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=Ie(e.dts,i),e.pts=Ie(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){t=i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}var Oe={CaptionStream:z,Cea608Stream:Ae},De={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};xe.prototype=new H;function Re(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}function Ue(e,t,i){return decodeURIComponent(Re(e,t,i))}function Me(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Ne,Be=xe,je={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.value=Ue(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.url=Ue(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(Re(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ne=function(e){var t,u={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},l=0,c=[],h=0;if(Ne.prototype.init.call(this),this.dispatchType=De.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(t=0;t<u.descriptor.length;t++)this.dispatchType+=("00"+u.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,n,r,s;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))u.debug;else if(c.push(e),h+=e.data.byteLength,1===c.length&&(l=Me(e.data.subarray(6,10)),l+=10),!(h<l)){for(t={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},s=0;s<l;)t.data.set(c[0].data.subarray(0,l-s),s),s+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();i=10,64&t.data[5]&&(i+=4,i+=Me(t.data.subarray(10,14)),l-=Me(t.data.subarray(16,20)));do{if((n=Me(t.data.subarray(i+4,i+8)))<1)return;if((r={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+n+10)}).key=r.id,je[r.id]&&(je[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var a=r.data,o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;o*=4,o+=3&a[7],r.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),i+=10,i+=n}while(i<l);this.trigger("data",t)}}}).prototype=new H;var Fe,He,Ve,qe=Ne,We=Be;(Fe=function(){var r=new Uint8Array(188),s=0;Fe.prototype.init.call(this),this.push=function(e){var t,i=0,n=188;for(s?((t=new Uint8Array(e.byteLength+s)).set(r.subarray(0,s)),t.set(e,s),s=0):t=e;n<t.byteLength;)71!==t[i]||71!==t[n]?(i++,n++):(this.trigger("data",t.subarray(i,n)),i+=188,n+=188);i<t.byteLength&&(r.set(t.subarray(i),0),s=t.byteLength-i)},this.flush=function(){188===s&&71===r[0]&&(this.trigger("data",r),s=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){s=0,this.trigger("reset")}}).prototype=new H,(He=function(){var n,r,s,a;He.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===t.type?r(e.subarray(i),t):s(e.subarray(i),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},s=function(e,t){var i,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var r=e[n],s=(31&e[n+1])<<8|e[n+2];r===De.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=s:r===De.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=s:r===De.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][s]=r),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",n(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=De.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=De.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new H,He.STREAM_TYPES={h264:27,adts:15},(Ve=function(){function n(e,t,i){var n,r,s=new Uint8Array(e.size),a={type:t},o=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)r=e.data[o],s.set(r.data,u),u+=r.data.byteLength;!function(e,t){var i;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(s,a),n="video"===t||a.packetLength<=e.size,(i||n)&&(e.size=0,e.data.length=0),n&&l.trigger("data",a)}}var t,l=this,r={data:[],size:0},s={data:[],size:0},a={data:[],size:0};Ve.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case De.H264_STREAM_TYPE:case De.H264_STREAM_TYPE:e=r,t="video";break;case De.ADTS_STREAM_TYPE:e=s,t="audio";break;case De.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&n(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=i.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)}})[i.type]()},this.reset=function(){r.size=0,r.data.length=0,s.size=0,s.data.length=0,this.trigger("reset")},this.flushStreams_=function(){n(r,"video"),n(s,"audio"),n(a,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var ze={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Fe,TransportParseStream:He,ElementaryStream:Ve,TimestampRolloverStream:We,CaptionStream:Oe.CaptionStream,Cea608Stream:Oe.Cea608Stream,MetadataStream:qe};for(var Ge in De)De.hasOwnProperty(Ge)&&(ze[Ge]=De[Ge]);var Ke,Xe=ze,Ye=le,$e=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Ke=function(u){var l,c=0;Ke.prototype.init.call(this),this.push=function(e){var t,i,n,r,s,a,o=0;if(u||(c=0),"audio"===e.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),l.set(e.data,r.byteLength)):l=e.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(i=2*(1&~l[o+1]),t=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=(s=1024*(1+(3&l[o+6])))*Ye/$e[(60&l[o+2])>>>2],n=o+t,l.byteLength<n)return;if(this.trigger("data",{pts:e.pts+c*a,dts:e.dts+c*a,sampleCount:s,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:$e[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+i,n)}),c++,l.byteLength===n)return void(l=void 0);l=l.subarray(n)}else o++},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){l=void 0,this.trigger("reset")},this.endTimeline=function(){l=void 0,this.trigger("endedtimeline")}}).prototype=new H;var Qe,Je,Ze,et=Ke,tt=function(n){var r=n.byteLength,s=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=n.byteLength-r,t=new Uint8Array(4),i=Math.min(4,r);if(0===i)throw new Error("no bytes available");t.set(n.subarray(e,e+i)),s=new DataView(t.buffer).getUint32(0),a=8*i,r-=i},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),s<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),i=s>>>32-t;return 0<(a-=t)?s<<=t:0<r&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(s&2147483648>>>e))return s<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Je=function(){var n,r,s=0;Je.prototype.init.call(this),this.push=function(e){for(var t,i=(r=r?((t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;s<i-3;s++)if(1===r[s+2]){n=s+5;break}for(;n<i;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}for(s+3!==n-2&&this.trigger("data",r.subarray(s+3,n-2));1!==r[++n]&&n<i;);s=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}this.trigger("data",r.subarray(s+3,n-2)),s=n-2,n+=3;break;default:n+=3}r=r.subarray(s),n-=s,s=0},this.reset=function(){r=null,s=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(s+3)),r=null,s=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,Ze={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Qe=function(){var i,n,r,s,a,o,_,t=new Je;Qe.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(n=e.trackId,r=e.pts,s=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:r,dts:s,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),t.on("partialdone",function(){i.trigger("partialdone")}),t.on("reset",function(){i.trigger("reset")}),t.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},_=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},a=function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},o=function(e){var t,i,n,r,s,a,o,u,l,c,h,d,p,f=0,m=0,g=0,v=0,y=1;if(i=(t=new tt(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Ze[i]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==s?8:12,p=0;p<h;p++)t.readBoolean()&&_(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),o=t.readUnsignedExpGolomb(),p=0;p<o;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*f-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v,sarRatio:d}}}).prototype=new H;var it,nt={H264Stream:Qe,NalByteStream:Je},rt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},st=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+i:10+i},at=function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i};(it=function(){var o=new Uint8Array,u=0;it.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.push=function(e){var t,i,n,r,s=0,a=0;for(o.length?(r=o.length,(o=new Uint8Array(e.byteLength+r)).set(o.subarray(0,r)),o.set(e,r)):o=e;3<=o.length-a;)if(o[a]!=="I".charCodeAt(0)||o[a+1]!=="D".charCodeAt(0)||o[a+2]!=="3".charCodeAt(0))if(255!=(255&o[a])||240!=(240&o[a+1]))a++;else{if(o.length-a<7)break;if(a+(s=at(o,a))>o.length)break;n={type:"audio",data:o.subarray(a,a+s),pts:u,dts:u},this.trigger("data",n),a+=s}else{if(o.length-a<10)break;if(a+(s=st(o,a))>o.length)break;i={type:"timed-metadata",data:o.subarray(a,a+s)},this.trigger("data",i),a+=s}t=o.length-a,o=0<t?o.subarray(a):new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;function ot(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function ut(e,t,i,n,r,s){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(r-i)},prependedContentDuration:s,baseMediaDecodeTime:e}}var lt,ct,ht,dt,pt=it,ft=nt.H264Stream,mt=rt,gt=le,vt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],yt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];(ct=function(s,a){var o=[],u=0,l=0,c=0,h=1/0;a=a||{},ct.prototype.init.call(this),this.push=function(t){be(s,t),s&&vt.forEach(function(e){s[e]=t[e]}),o.push(t)},this.setEarliestDts=function(e){l=e-s.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){h=e},this.setAudioAppendStart=function(e){c=e},this.flush=function(){var e,t,i,n,r;0!==o.length&&(e=fe(o,s,l),s.baseMediaDecodeTime=_e(s,a.keepOriginalTimestamps),pe(s,e,c,h),s.samples=me(e),i=Q(ge(e)),o=[],t=J(u,[s]),n=new Uint8Array(t.byteLength+i.byteLength),u++,n.set(t),n.set(i,t.byteLength),ye(s),r=Math.ceil(1024*gt/s.samplerate),e.length&&this.trigger("timingInfo",{start:e[0].dts,end:e[0].dts+e.length*r}),this.trigger("data",{track:s,boxes:n})),this.trigger("done","AudioSegmentStream")},this.reset=function(){ye(s),o=[],this.trigger("reset")}}).prototype=new H,(lt=function(c,h){var t,i,d=0,p=[],f=[];h=h||{},lt.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(e){be(c,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,c.sps=[e.data],yt.forEach(function(e){c[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,c.pps=[e.data]),p.push(e)},this.flush=function(){for(var e,t,i,n,r,s,a,o,u=0;p.length&&"access_unit_delimiter_rbsp"!==p[0].nalUnitType;)p.shift();if(0===p.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=ee(p),(i=te(e))[0][0].keyFrame||((t=this.getGopForFusion_(p[0],c))?(u=t.duration,i.unshift(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.pts=t.pts,i.dts=t.dts,i.duration+=t.duration):i=ie(i)),f.length){var l;if(!(l=h.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ye(c),i=l}be(c,i),c.samples=ne(i),r=Q(re(i)),c.baseMediaDecodeTime=_e(c,h.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),a=i[0],o=i[i.length-1],this.trigger("segmentTimingInfo",ut(c.baseMediaDecodeTime,a.dts,a.pts,o.dts+o.duration,o.pts+o.duration,u)),this.trigger("timingInfo",{start:i[0].dts,end:i[i.length-1].dts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.trigger("baseMediaDecodeTime",c.baseMediaDecodeTime),this.trigger("timelineStartInfo",c.timelineStartInfo),n=J(d,[c]),s=new Uint8Array(n.byteLength+r.byteLength),d++,s.set(n),s.set(r,n.byteLength),this.trigger("data",{track:c,boxes:s}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),p=[],this.gopCache_.length=0,f.length=0,this.trigger("reset")},this.resetStream_=function(){ye(c),i=t=void 0},this.getGopForFusion_=function(e){var t,i,n,r,s,a=1/0;for(s=0;s<this.gopCache_.length;s++)n=(r=this.gopCache_[s]).gop,c.pps&&ot(c.pps[0],r.pps[0])&&c.sps&&ot(c.sps[0],r.sps[0])&&(n.dts<c.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!i||t<a)&&(i=r,a=t));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,r,s,a,o,u;for(s=e.byteLength,a=e.nalCount,o=e.duration,t=i=0;t<f.length&&i<e.length&&(n=f[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,s-=r.byteLength,a-=r.nalCount,o-=r.duration);return 0===i?e:i===e.length?null:((u=e.slice(i)).byteLength=s,u.duration=o,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,i,n,r,s,a,o;for(t=f.length-1,i=e.length-1,s=null,a=!1;0<=t&&0<=i;){if(n=f[t],r=e[i],n.pts===r.pts){a=!0;break}n.pts>r.pts?t--:(t===f.length-1&&(s=i),i--)}if(!a&&null===s)return null;if(0===(o=a?i:s))return e;var u=e.slice(o),l=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){f=e}}).prototype=new H,(dt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,dt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new H,dt.prototype.flush=function(e){var t,i,n,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,yt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,vt.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Z(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=de(t.startPts,o,this.keepOriginalTimestamps),t.endTime=de(t.endPts,o,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=de(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},dt.prototype.setRemux=function(e){this.remuxTracks=e},(ht=function(n){var r,s,a=this,i=!0;ht.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new Xe.MetadataStream,t.aacStream=new pt,t.audioTimestampRolloverStream=new Xe.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Xe.TimestampRolloverStream("timed-metadata"),t.adtsStream=new et,t.coalesceStream=new dt(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new ct(s,n),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new Xe.MetadataStream,i.packetStream=new Xe.TransportPacketStream,i.parseStream=new Xe.TransportParseStream,i.elementaryStream=new Xe.ElementaryStream,i.timestampRolloverStream=new Xe.TimestampRolloverStream,i.adtsStream=new et,i.h264Stream=new ft,i.captionStream=new Xe.CaptionStream,i.coalesceStream=new dt(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?s||"audio"!==e.tracks[t].type||((s=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;r&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new lt(r,n),i.videoSegmentStream.on("timelineStartInfo",function(e){s&&(s.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){s&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),s&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new ct(s,n),i.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,a.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,ye(s),n.keepOriginalTimestamps||(s.timelineStartInfo.baseMediaDecodeTime=e),t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,ye(r),t.captionStream.reset(),n.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=e)),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;n.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var _t={Transmuxer:ht,VideoSegmentStream:lt,AudioSegmentStream:ct,AUDIO_PROPERTIES:vt,VIDEO_PROPERTIES:yt,generateVideoSegmentTimingInfo:ut};function bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Tt=(function(e,t,i){return t&&bt(e.prototype,t),i&&bt(e,i),e}(St,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new _t.Transmuxer(this.options),function(n,e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var i=e.data;e.data=i.buffer,n.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){n.postMessage({action:"caption",data:e})}),e.on("done",function(e){n.postMessage({action:"done"})}),e.on("gopInfo",function(e){n.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){n.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})})}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),St);function St(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,St),this.options=t||{},this.self=e,this.init()}new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Tt(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new Tt(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(kt)}()}),zu={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Gu=(xo(Ku,rs.EventTarget),Ao(Ku,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,i){var n=t.player_;if(i.captions&&i.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var s=n.textTracks().getTrackById(r);e.inbandTextTracks_[r]=s||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var n=this,r=["audio","video"];r.forEach(function(t){if(n[t+"Codec_"]&&!n[t+"Buffer_"]){var i=null;if(n.mediaSource_[t+"Buffer_"])(i=n.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+n[t+"Codec_"]+'"';i=function(e,t){var i=e.addSourceBuffer(t),n=Object.create(null);function r(t){"function"==typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:"undefined"==typeof n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})}for(var s in n.updating=!1,n.realBuffer_=i)r(s);return n}(n.mediaSource_.nativeMediaSource_,e),n.mediaSource_[t+"Buffer_"]=i}n[t+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(e){i.addEventListener(e,function(){if("audio"!==t||!n.audioDisabled_)return"updateend"===e&&(n[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!n.audioDisabled_)||t===e||!n[e+"Buffer_"]||!n[e+"Buffer_"].updating})?n.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,i){if("undefined"==typeof t||null===t||!e.length)return[];var n=Math.ceil(9e4*(t-i+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,i,n){for(var r=Math.ceil(9e4*(t-n)),s=Math.ceil(9e4*(i-n)),a=e.slice(),o=e.length;o--&&!(e[o].pts<=s););if(-1===o)return a;for(var u=o+1;u--&&!(e[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),gu(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)gu(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,n=t.data,r=t.initSegment;return e[i].segments.push(n),e[i].bytes+=n.byteLength,e[i].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),yu(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),Ku);function Ku(e,t){Po(this,Ku);var i=Oo(this,(Ku.__proto__||Object.getPrototypeOf(Ku)).call(this,rs.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=e,i.codecs_=t,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=rs.browser.IE_VERSION;var n={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(e){Vu(e)?i.audioCodec_=e:qu(e)&&(i.videoCodec_=e)}),i.transmuxer_=new Wu,i.transmuxer_.postMessage({action:"init",options:n}),i.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?i.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return function(e,t,i){var n=null,r=null,s=0,a=[],o=[];if(!e&&!t)return rs.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(i)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return rs.createTimeRange();for(var u=e.buffered,l=t.buffered,c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++s&&(n=a[c].time):"end"===a[c].type&&1===--s&&(r=a[c].time),null!==n&&null!==r&&(o.push([n,r]),r=n=null);return rs.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}var Xu=(xo(Yu,rs.EventTarget),Ao(Yu,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=Hu(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=Nu(n)).filter(function(e){return Vu(e)||qu(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new Gu(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),Yu);function Yu(){Po(this,Yu);var s=Oo(this,(Yu.__proto__||Object.getPrototypeOf(Yu)).call(this)),e=void 0;for(e in s.nativeMediaSource_=new y.MediaSource,s.nativeMediaSource_)e in Yu.prototype||"function"!=typeof s.nativeMediaSource_[e]||(s[e]=s.nativeMediaSource_[e].bind(s.nativeMediaSource_));return s.duration_=NaN,Object.defineProperty(s,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(s,"seekable",{get:function(){return this.duration_===1/0?rs.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(s,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(s,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),s.sourceBuffers=[],s.activeSourceBuffers_=[],s.updateActiveSourceBuffers_=function(){if(s.activeSourceBuffers_.length=0,1===s.sourceBuffers.length){var e=s.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void s.activeSourceBuffers_.push(e)}for(var i=!1,n=!0,t=0;t<s.player_.audioTracks().length;t++){var r=s.player_.audioTracks()[t];if(r.enabled&&"main"!==r.kind){n=!(i=!0);break}}s.sourceBuffers.forEach(function(e,t){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=i;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=t?n:!n,e.audioDisabled_))return;s.activeSourceBuffers_.push(e)})},s.onPlayerMediachange_=function(){s.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},s.onHlsReset_=function(){s.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},s.onHlsSegmentTimeMapping_=function(t){s.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},s),s.on("sourceopen",function(e){var t=h.querySelector('[src="'+s.url_+'"]');t&&(s.player_=rs(t.parentNode),s.player_&&(s.player_.tech_.on("hls-reset",s.onHlsReset_),s.player_.tech_.on("hls-segment-time-mapping",s.onHlsSegmentTimeMapping_),s.player_.audioTracks&&s.player_.audioTracks()&&(s.player_.audioTracks().on("change",s.updateActiveSourceBuffers_),s.player_.audioTracks().on("addtrack",s.updateActiveSourceBuffers_),s.player_.audioTracks().on("removetrack",s.updateActiveSourceBuffers_)),s.player_.on("mediachange",s.onPlayerMediachange_)))}),s.on("sourceended",function(e){for(var t=vu(s.duration),i=0;i<s.sourceBuffers.length;i++){var n=s.sourceBuffers[i],r=n.metadataTrack_&&n.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=t)}}),s.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),s}var $u=0;rs.mediaSources={};function Qu(e,t){var i=rs.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})}function Ju(){return!!y.MediaSource&&!!y.MediaSource.isTypeSupported&&y.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function Zu(){if(this.MediaSource={open:Qu,supportsNativeMediaSources:Ju},Ju())return new Xu;throw new Error("Cannot use create a virtual MediaSource for this video")}Zu.open=Qu,Zu.supportsNativeMediaSources=Ju;var el={createObjectURL:function(e){var t=void 0;return e instanceof Xu?(t=y.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof Xu?(t="blob:vjs-media-source/"+$u,$u++,rs.mediaSources[t]=e,t):(t=y.URL.createObjectURL(e),e.url_=t)}};rs.MediaSource=Zu,rs.URL=el;function tl(e,t){for(var a=void 0,o=sl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var n=Ro(o,t.playlists[i]);n?o=n:a=!0}return Do(t,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r=e.playlists[0].uri,s=Ro(o,e.playlists[0]);s&&((o=s).mediaGroups[t][i][n].playlists[0]=o.playlists[r],a=!1)}}),a?null:o}function il(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t}function nl(e,t){var i,n,r={};for(var s in e){var a=e[s].sidx;if(a){var o=il(a);if(!t[o])break;var u=t[o].sidxInfo;i=u,n=a,(Boolean(!i.map&&!n.map)||Boolean(i.map&&n.map&&i.map.byterange.offset===n.map.byterange.offset&&i.map.byterange.length===n.map.byterange.length))&&i.uri===n.uri&&i.byterange.offset===n.byterange.offset&&i.byterange.length===n.byterange.length&&(r[o]=t[o])}}return r}function rl(e,t,i,n,r){var s={uri:Lo(n.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t};return i(rs.mergeOptions(s,{responseType:"arraybuffer",headers:iu(s)}),r)}var sl=rs.mergeOptions,al=(xo(ol,rs.EventTarget),Ao(ol,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},y.clearTimeout(this.minimumUpdatePeriodTimeout_),y.clearTimeout(this.mediaRequest_),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(r,s,a,o){var u=this;return function(e,t){if(u.request){if(u.request=null,e)return u.error={status:t.status,message:"DASH playlist request error at URL: "+r.uri,response:t.response,code:2},a&&(u.state=a),u.trigger("error"),o(s,null);var i=new Uint8Array(t.response),n=va.parseSidx(i.subarray(8));return o(s,n)}}}},{key:"media",value:function(i){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}var e=!this.media_||i.uri!==this.media_.uri;if(e&&this.loadedPlaylists_[i.uri]&&this.loadedPlaylists_[i.uri].endList)return this.state="HAVE_METADATA",this.media_=i,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e)if(this.media_&&this.trigger("mediachanging"),i.sidx){var t=void 0,s=void 0;s=this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.sidxMapping_):(t=this.master,this.sidxMapping_);var a=il(i.sidx);s[a]={sidxInfo:i.sidx},this.request=rl(i.sidx,i,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(i,t,r,function(e,t){if(!e||!t)throw new Error("failed to request sidx");s[a].sidx=t,n.haveMetadata({startingState:r,playlist:e.playlists[i.uri]})}))}else this.mediaRequest_=y.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:i}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,i=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.uri]=i,this.mediaRequest_=null,this.refreshMedia_(i.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return t.load()},n)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var s=ea(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});s.uri=this.srcUrl;for(var e=0;e<s.playlists.length;e++){var t="placeholder-uri-"+e;s.playlists[e].uri=t,s.playlists[t]=s.playlists[e]}return Do(s,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r="placeholder-uri-"+t+"-"+i+"-"+n;e.playlists[0].uri=r,s.playlists[r]=e.playlists[0]}}),Uo(s),Mo(s),s}},{key:"start",value:function(){var i=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=y.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(i.request){if(i.request=null,e)return i.error={status:t.status,message:"DASH playlist request error at URL: "+i.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?i.masterLoaded_=Date.parse(t.responseHeaders.date):i.masterLoaded_=Date.now(),i.srcUrl=Lo(i.handleManifestRedirects,i.srcUrl,t),i.syncClientServerClock_(i.onClientServerClockSync_.bind(i))}})}},{key:"syncClientServerClock_",value:function(n){var r=this,s=ta(this.masterXml_);return null===s?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===s.method?(this.clientOffset_=s.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:wo(this.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(e,t){if(r.request){if(e)return r.clientOffset_=r.masterLoaded_-Date.now(),n();var i=void 0;i="HEAD"===s.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):r.masterLoaded_:Date.parse(t.responseText),r.clientOffset_=i-Date.now(),n()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=y.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var o=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(o.request){if(o.request=null,e)return o.error={status:t.status,message:"DASH playlist request error at URL: "+o.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===o.state&&(o.started=!1),o.trigger("error");o.masterXml_=t.responseText,o.sidxMapping_=function(e,t,i,s){var n=ea(e,{manifestUri:t,clientOffset:i}),a=nl(n.playlists,s);return Do(n,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r=e.playlists;a=sl(a,nl(r,s))}}),a}(o.masterXml_,o.srcUrl,o.clientOffset_,o.sidxMapping_);var i=o.parseMasterXml(),n=tl(o.master,i),r=o.media().sidx;if(n)if(r){var s=il(r);if(!o.sidxMapping_[s]){var a=o.media();o.request=rl(a.sidx,a,o.hls_.xhr,{handleManifestRedirects:o.handleManifestRedirects},o.sidxRequestFinished_(a,i,o.state,function(e,t){if(!e||!t)throw new Error("failed to request sidx on minimumUpdatePeriod");o.sidxMapping_[s].sidx=t,o.minimumUpdatePeriodTimeout_=y.setTimeout(function(){o.trigger("minimumUpdatePeriod")},o.master.minimumUpdatePeriod),o.refreshMedia_(o.media().uri)}))}}else o.master=n;o.minimumUpdatePeriodTimeout_=y.setTimeout(function(){o.trigger("minimumUpdatePeriod")},o.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var i=void 0,n=void 0;n=this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,this.parseMasterXml());var r=tl(i,n);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=y.setTimeout(function(){t.trigger("mediaupdatetimeout")},No(this.media(),!!r))),this.trigger("loadedplaylist")}}]),ol);function ol(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];Po(this,ol);var r=Oo(this,(ol.__proto__||Object.getPrototypeOf(ol)).call(this)),s=i.withCredentials,a=void 0!==s&&s,o=i.handleManifestRedirects,u=void 0!==o&&o;if(r.hls_=t,r.withCredentials=a,r.handleManifestRedirects=u,!e)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().uri)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},"string"==typeof e?(r.srcUrl=e,r.sidxMapping_={},Oo(r)):(r.setupChildLoader(n,e),r)}function ul(e){return rs.log.debug?rs.log.debug.bind(rs,"VHS:",e+" >"):function(){}}function ll(){}var cl=(Ao(hl,[{key:"createSourceBuffer_",value:function(e,t){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+fu(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),i.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:rs.createTimeRanges()}},{key:"remove",value:function(e,t,i){var n=this,r=2<arguments.length&&void 0!==i?i:ll;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==ll}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)}var t=this;this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),hl);function hl(e,t,i,n){Po(this,hl),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=t,this.logger_=ul("SourceUpdater["+i+"]["+t+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,n)):this.createSourceBuffer_(t,n)}function dl(e){e.forEach(function(e){e.abort()})}function pl(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:kl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Cl,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Sl,xhr:t}:null}function fl(i,n,r){var s=0,a=!1;return function(e,t){if(!a)return e?(a=!0,dl(i),r(e,t)):(s+=1)===i.length?(t.endOfAllRequests=Date.now(),t.encryptedBytes?function(n,r,s){n.addEventListener("message",function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var i=t.data.decrypted;return r.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),s(null,r)}});var e=void 0;e=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),n.postMessage(su({source:r.requestId,encrypted:r.encryptedBytes,key:e,iv:r.key.iv}),[r.encryptedBytes.buffer,e.buffer])}(n,t,r):r(null,t)):void 0}}function ml(t,i){return function(e){return t.stats=rs.mergeOptions(t.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(e,t)}}function gl(e,t,i,n,r,s,a){var o=[],u=fl(o,i,a);if(r.key&&!r.key.bytes){var l=e(rs.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(s,a){return function(e,t){var i=t.response,n=pl(e,t);if(n)return a(n,s);if(16!==i.byteLength)return a({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Sl,xhr:t},s);var r=new DataView(i);return s.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),a(null,s)}}(r,u));o.push(l)}if(r.map&&!r.map.bytes){var c=e(rs.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:iu(r.map)}),function(r,s,a){return function(e,t){var i=t.response,n=pl(e,t);return n?a(n,r):0===i.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Sl,xhr:t},r):(r.map.bytes=new Uint8Array(t.response),s&&!s.isInitialized()&&s.init(),r.map.timescales=Ta.timescale(r.map.bytes),r.map.videoTrackIds=Ta.videoTrackIds(r.map.bytes),a(null,r))}}(r,n,u));o.push(c)}var h=e(rs.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:iu(r)}),function(s,a,o){return function(e,t){var i=t.response,n=pl(e,t),r=void 0;return n?o(n,s):0===i.byteLength?o({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Sl,xhr:t},s):(s.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(t),s.key?s.encryptedBytes=new Uint8Array(t.response):s.bytes=new Uint8Array(t.response),a&&s.map&&s.map.bytes&&(a.isInitialized()||a.init(),(r=a.parse(s.bytes,s.map.videoTrackIds,s.map.timescales))&&r.captions&&(s.captionStreams=r.captionStreams,s.fmp4Captions=r.captions)),o(null,s))}}(r,n,u));return h.addEventListener("progress",ml(r,s)),o.push(h),function(){return dl(o)}}function vl(e,t){var i;return e&&(i=y.getComputedStyle(e))?i[t]:""}function yl(e,n){var r=e.slice();e.sort(function(e,t){var i=n(e,t);return 0===i?r.indexOf(e)-r.indexOf(t):i})}function _l(e,t){var i=void 0,n=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||y.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||y.Number.MAX_VALUE)}function bl(e){return"number"==typeof e&&isFinite(e)}var Tl={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Sl=2,kl=-101,Cl=-102,El=(xo(wl,rs.EventTarget),Ao(wl,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():rs.createTimeRanges()}},{key:"initSegment",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=au(e),r=this.initSegments_[n];return i&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"segmentKey",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=ou(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&i&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new cl(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_("playlist update ["+s+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var a=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),r&&(r.mediaIndex-=a,0<=r.mediaIndex&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,i),gu(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)gu(e,t,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():e.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e,t){return function(e,t,i){if(!e||!t)return!1;var n=i===e.segments.length;return e.endList&&"open"===t.readyState&&n}(1<arguments.length&&void 0!==t?t:this.playlist_,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,i,n,r,s){var a=0,o=void 0;e.length&&(a=e.end(e.length-1));var u=Math.max(0,a-r);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!n&&1<=u)return null;if(null===s)return i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0);if(null!==i)return t.segments[i],o=a,this.generateSegmentInfo_(t,i+1,o,!1);if(this.fetchAtBuffer_){var l=Su.getMediaInfoForTime(t,a,s.segmentIndex,s.time);i=l.mediaIndex,o=l.startTime}else{var c=Su.getMediaInfoForTime(t,r,s.segmentIndex,s.time);i=c.mediaIndex,o=c.startTime}return this.generateSegmentInfo_(t,i,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,n){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=Su.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),s=function(e,t,i){var n=2<arguments.length&&void 0!==i?i:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var a=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,s=e.segmentDuration,a=e.timeUntilRebuffer,o=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!Su.isIncompatible(e)}),c=l.filter(Su.isEnabled);c.length||(c=l.filter(function(e){return!Su.isDisabled(e)}));var h=c.filter(Su.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=u.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:Su.estimateSegmentRequestTime(s,n,e)*t-a}}),d=h.filter(function(e){return e.rebufferingImpact<=0});return yl(d,function(e,t){return _l(t.playlist,e.playlist)}),d.length?d[0]:(yl(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=r-s-a.rebufferingImpact,u=.5;return s<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||o<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Tl.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=gl(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,i){var n=void 0;return n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=n}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Cl?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===kl?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,i){for(var n in i)if(!e[n]){t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(n);e[n]=r||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var r=e.inbandTextTracks,t=e.captionArray,s=e.timestampOffset;if(t){var a=window.WebKitDataCue||window.VTTCue;t.forEach(function(e){var t=e.stream,i=e.startTime,n=e.endTime;r[t]&&(i+=s,n+=s,r[t].addCue(new a(i,n,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,i=t.segment,n=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(n&&n.segmentTimestampInfo){var s=n.segmentTimestampInfo[0].ptsTime,a=n.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=s-a}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var o=this.syncController_.mappingForTimeline(t.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",i.map){var u=au(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==u){var l=this.initSegment(i.map);this.sourceUpdater_.appendBuffer({bytes:l.bytes},function(){e.activeInitSegmentId_=u})}}t.byteLength=t.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(function(e){var t=e.segment,i=t.start,n=t.end,r=e.playlist,s=r.mediaSequence,a=r.id,o=r.segments,u=void 0===o?[]:o,l=e.mediaIndex,c=e.timeline;return["appending ["+l+"] of ["+s+", "+(s+u.length)+"] from playlist ["+a+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={}),i.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,i.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,i.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,i.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,n=t.end;if(bl(i)&&bl(n)){gu(i,n,this.segmentMetadataTrack_);var r=y.WebKitDataCue||y.VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:n},a=new r(i,n,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}}}}]),wl);function wl(e){Po(this,wl);var t=Oo(this,(wl.__proto__||Object.getPrototypeOf(wl)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=e.cacheEncryptionKeys,t.keyCache_={},"main"===t.loaderType_?t.captionParser_=new ja:t.captionParser_=null,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=ul("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),t}function Ll(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var Pl=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Al=(xo(Il,El),Ao(Il,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return rs.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return rs.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=au(e),r=this.initSegments_[n];if(i&&!r&&e.bytes){var s=Pl.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(Pl,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"==typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){gu(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if("function"!=typeof y.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=void 0,r=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return n=function(){t.subtitlesTrack_.tech_.off("vttjserror",r),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",r)}i.requested=!0;try{this.parseVTTCues_(e)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"==typeof y.TextDecoder?e=new y.TextDecoder("utf8"):(e=y.WebVTT.StringDecoder(),i=!0);var n=new y.WebVTT.Parser(y,y.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(e){rs.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var r=t.segment.map.bytes;i&&(r=Ll(r)),n.parse(r)}var s=t.bytes;i&&(s=Ll(s)),n.parse(s),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=s,e.endTime+=s}),!i.syncInfo){var a=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(a,o-n.duration)}}}else n.empty=!0}}]),Il);function Il(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Po(this,Il);var i=Oo(this,(Il.__proto__||Object.getPrototypeOf(Il)).call(this,e,t));return i.mediaSource_=null,i.subtitlesTrack_=null,i}function xl(e,t){for(var i=e.cues,n=0;n<i.length;n++){var r=i[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null}var Ol=lo,Dl=[{name:"VOD",run:function(e,t,i,n,r){if(i===1/0)return null;return{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,i,n,r){if(!e.datetimeToDisplayTime)return null;var s=t.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&(0===h||o<h))break;o=h,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(e,t,i,n,r){var s=t.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.timeline===n&&"undefined"!=typeof l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,i,n,r){var s=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,o=0;o<t.discontinuityStarts.length;o++){var u=t.discontinuityStarts[o],l=t.discontinuitySequence+o+1,c=e.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==a&&a<h)break;(!s||null===a||h<=a)&&(a=h,s={time:c.time,segmentIndex:u})}}return s}},{name:"Playlist",run:function(e,t,i,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],Rl=(xo(Ul,rs.EventTarget),Ao(Ul,[{key:"getSyncPoint",value:function(e,t,i,n){var r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return 0<n.segmentIndex&&(n.time*=-1),Math.abs(n.time+zo(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,n){for(var r=[],s=0;s<Dl.length;s++){var a=Dl[s],o=a.run(this,e,t,i,n);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,s=1;s<e.length;s++){var a=Math.abs(e[s].syncPoint[t.key]-t.value);a<n&&(n=a,i=e[s].syncPoint,r=e[s].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;0<=i;i--){var n=e.segments[i];if(n&&"undefined"!=typeof n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,i=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=Ta.timescale(t.map.bytes),n=Ta.compositionStartTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Ol(e.bytes,this.inspectCache_),i=void 0,n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,n=t.video[1].dtsTime,r=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,n=t.audio[1].dtsTime,r=t.audio),{segmentTimestampInfo:r,start:i,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),i.start=e.startOfSegment,i.end=t.end+n.mapping;else{if(!n)return!1;i.start=t.start+n.mapping,i.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],s=t.discontinuitySequence+n+1,a=r-e.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var u=void 0;u=a<0?i.start-zo(t,e.mediaIndex,r):i.end+zo(t,e.mediaIndex+1,r),this.discontinuities[s]={time:u,accuracy:o}}}}}]),Ul);function Ul(){Po(this,Ul);var e=Oo(this,(Ul.__proto__||Object.getPrototypeOf(Ul)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=ul("SyncController"),e}function Ml(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function Nl(e,t){(t.activePlaylistLoader=e).load()}function Bl(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){Vl[e](e,t)});var i=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){i[e].activeGroup=function(s,a){return function(t){var e=a.masterPlaylistLoader,i=a.mediaTypes[s].groups,n=e.media();if(!n)return null;var r=null;return n.attributes[s]&&(r=i[n.attributes[s]]),r=r||i.main,"undefined"==typeof t?r:null===t?null:r.filter(function(e){return e.id===t.id})[0]||null}}(e,t),i[e].activeTrack=ql[e](e,t),i[e].onGroupChanged=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),s=n.activeGroup(r),a=n.activePlaylistLoader;Ml(t,n),s&&(s.playlistLoader?(t.resyncLoader(),Nl(s.playlistLoader,n)):a&&i.resetEverything())}}(e,t),i[e].onTrackChanged=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),s=n.activeGroup(r),a=n.activePlaylistLoader;Ml(t,n),s&&(s.playlistLoader?(a!==s.playlistLoader&&(t.track&&t.track(r),t.resetEverything()),Nl(s.playlistLoader,n)):i.resetEverything())}}(e,t)});var s=i.AUDIO.activeGroup(),a=(s.filter(function(e){return e.default})[0]||s[0]).id;function o(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})}for(var u in i.AUDIO.tracks[a].enabled=!0,i.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return i[e].onGroupChanged()})}),n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[u])}var jl=new Ou("./decrypter-worker.worker.js",function(e,t){var i,c,g,n,r,u,a,s=this;i=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e},c=null,d.prototype.decrypt=function(e,t,i,n,r,s){var a=this._key[1],o=e^a[0],u=n^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,p=void 0,f=a.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(m=0;m<f;m++)h=y[o>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^a[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],p=y[l>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&u]^a[g+2],c=y[c>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&l]^a[g+3],g+=4,o=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[g++],h=o,o=u,u=l,l=c,c=h},g=d,l.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},l.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},l.prototype.trigger=function(e,t){var i=this.listeners[e];if(i)if(2===arguments.length)for(var n=i.length,r=0;r<n;++r)i[r].call(this,t);else for(var s=Array.prototype.slice.call(arguments,1),a=i.length,o=0;o<a;++o)i[o].apply(this,s)},l.prototype.dispose=function(){this.listeners={}},l.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,r=n=l),p.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},p.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},u=p,f.prototype.decryptChunk_=function(t,i,n,r){return function(){var e=function(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new g(Array.prototype.slice.call(t)),s=new Uint8Array(e.byteLength),a=new Int32Array(s.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(o=i[0],u=i[1],l=i[2],c=i[3],m=0;m<n.length;m+=4)h=v(n[m]),d=v(n[m+1]),p=v(n[m+2]),f=v(n[m+3]),r.decrypt(h,d,p,f,a,m),a[m]=v(a[m]^o),a[m+1]=v(a[m+1]^u),a[m+2]=v(a[m+2]^l),a[m+3]=v(a[m+3]^c),o=h,u=d,l=p,c=f;return s}(t,i,n);r.set(e,t.byteOffset)}},i(f,null,[{key:"STEP",get:function(){return 32e3}}]),a=f,new function(s){s.onmessage=function(e){var i=e.data,t=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),r=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new a(t,n,r,function(e,t){s.postMessage(function(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}({source:i.source,decrypted:t}),[t.buffer])})}}(s);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){h(this,d),c=c||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,f=16843009*u[h=u[c=u[r[n[a]=d]=a]]]^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,s=0;s<4;s++)t[s][a]=p=p<<24^p>>>8,i[s][d]=f=f<<24^f>>>8;for(s=0;s<5;s++)t[s]=t[s].slice(0),i[s]=i[s].slice(0);return e}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0,a=this._tables[0][4],o=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),s=[],this._key=[r,s],t=u;t<4*u+28;t++)n=r[t-1],(t%u==0||8===u&&t%u==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%u==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),r[t]=r[t-u]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],s[i]=t<=4||i<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}function l(){h(this,l),this.listeners={}}function p(){h(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,n));return e.jobs=[],e.delay=1,e.timeout_=null,e}function v(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function f(e,t,i,n){h(this,f);var r=f.STEP,s=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a)),o=r;o<s.length;o+=r)i=new Uint32Array([v(s[o-4]),v(s[o-3]),v(s[o-2]),v(s[o-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}}),Fl={AUDIO:function(u,l){return function(){var e=l.segmentLoaders[u],t=l.mediaTypes[u],i=l.blacklistCurrentPlaylist;Ml(e,t);var n=t.activeTrack(),r=t.activeGroup(),s=(r.filter(function(e){return e.default})[0]||r[0]).id,a=t.tracks[s];if(n!==a){for(var o in rs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[o].enabled=t.tracks[o]===a;t.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,r){return function(){var e=r.segmentLoaders[n],t=r.mediaTypes[n];rs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ml(e,t);var i=t.activeTrack();i&&(i.mode="disabled"),t.onTrackChanged()}}},Hl={AUDIO:function(e,t,i){if(t){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",Fl[e](e,i))}},SUBTITLES:function(e,t,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,r),s.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",Fl[e](e,i))}},Vl={AUDIO:function(e,t){var i,n,r=t.hls,s=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,h=l.tracks,d=t.masterPlaylistLoader;for(var p in u[e]&&0!==Object.keys(u[e]).length||(u[e]={main:{default:{default:!0}}}),u[e])for(var f in c[p]||(c[p]=[]),u[e][p]){var m=u[e][p][f],g=void 0;if(g=m.resolvedUri?new Ho(m.resolvedUri,r,o):m.playlists&&"dash"===s?new al(m.playlists[0],r,o,d):null,m=rs.mergeOptions({id:f,playlistLoader:g},m),Hl[e](e,m.playlistLoader,t),c[p].push(m),"undefined"==typeof h[f]){var v=new rs.AudioTrack({id:f,kind:(i=m,n=void 0,n=i.default?"main":"alternative",i.characteristics&&0<=i.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:m.language,default:m.default,label:f});h[f]=v}}a.on("error",Fl[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.hls,r=t.sourceType,s=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,h=t.masterPlaylistLoader;for(var d in o[e])for(var p in l[d]||(l[d]=[]),o[e][d])if(!o[e][d][p].forced){var f=o[e][d][p],m=void 0;if("hls"===r?m=new Ho(f.resolvedUri,n,a):"dash"===r&&(m=new al(f.playlists[0],n,a,h)),f=rs.mergeOptions({id:p,playlistLoader:m},f),Hl[e](e,f.playlistLoader,t),l[d].push(f),"undefined"==typeof c[p]){var g=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track;c[p]=g}}s.on("error",Fl[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],s=r.groups,a=r.tracks;for(var o in n[e])for(var u in s[o]||(s[o]=[]),n[e][o]){var l=n[e][o][u];if(l.instreamId.match(/CC\d/)&&(s[o].push(rs.mergeOptions({id:u},l)),"undefined"==typeof a[u])){var c=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},ql={AUDIO:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}},Wl=void 0,zl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Gl=(xo(Kl,rs.EventTarget),Ao(Kl,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;eu(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),Bl({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(e){return rs.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=n.masterPlaylistLoader_.media();if(!e){n.excludeUnsupportedVariants_();var t=void 0;return n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist()),t=t||n.selectPlaylist(),n.initialMedia_=t,void n.masterPlaylistLoader_.media(n.initialMedia_)}if(n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||(n.mainSegmentLoader_.load(),n.audioSegmentLoader_&&n.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))};n.duration()!==1/0?n.tech_.one("durationchange",function e(){n.duration()===1/0?i():n.tech_.one("durationchange",e)}):i()}}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;eu(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var a in i.AUDIO[s])i.AUDIO[s][a].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Wl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Wl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(i.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var s=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=s.selectPlaylist(),t=s.masterPlaylistLoader_.media(),i=s.tech_.buffered(),n=i.length?i.end(i.length-1)-s.tech_.currentTime():0,r=s.bufferLowWaterLine();(!t.endList||s.duration()<Tl.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||r<=n)&&s.masterPlaylistLoader_.media(e),s.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){s.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){s.blacklistCurrentPlaylist(s.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){s.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){s.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){s.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){s.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){s.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){s.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){rs.browser.IE_VERSION||rs.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(rs.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(i.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(i.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return rs.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!=typeof e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(e){rs.log.warn("Failed to call media source endOfStream",e)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=Wl.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=.1;var s=r.end(r.length-1);return s-n<=.1&&i-s<=.1}},{key:"blacklistCurrentPlaylist",value:function(e,t){var i,n=0<arguments.length&&void 0!==e?e:{},r=t,s=void 0;if(s=n.playlist||this.masterPlaylistLoader_.media(),r=r||n.blacklistDuration||this.blacklistDuration,!s){this.error=n;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var a=1===this.masterPlaylistLoader_.master.playlists.filter(Jo).length,o=this.masterPlaylistLoader_.master.playlists;return 1===o.length?(rs.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(a&&(rs.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),o.forEach(function(e){e.excludeUntil!==1/0&&delete e.excludeUntil}),this.tech_.trigger("retryplaylist")),s.excludeUntil=Date.now()+1e3*r,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),rs.log.warn("Problem encountered with the current HLS playlist."+(n.message?" "+n.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,a))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=du(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Wl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&0!==(e=Wl.Playlist.seekable(i,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=Wl.Playlist.seekable(i,n)).length)return}var r=void 0,s=void 0;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),s=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=rs.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+fu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+n);try{t.mediaSource.duration=n}catch(e){rs.log.warn("Failed to set media source duration",e)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)}var t=this,i=this.mediaSource.duration,n=Wl.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();0<r.length&&(n=Math.max(n,r.end(r.length-1))),i!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=n.mediaTypes_[e].groups;for(var i in t)t[i].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=Fu(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=1<e.length&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new rs.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&y.MediaSource&&y.MediaSource.isTypeSupported&&!y.MediaSource.isTypeSupported('video/mp4; codecs="'+function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return Nu([e])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var i=2,n=null,t=void 0;e.attributes.CODECS&&(t=Bu(e.attributes.CODECS),n=t.videoCodec,i=t.codecCount),this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};e.attributes.CODECS&&(t=Bu(e.attributes.CODECS)),t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i){var n=2<arguments.length&&void 0!==i?i:0;if(e.segments)for(var r=n,s=void 0,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s=s||xl(t,r+o.duration/2)){if("cueIn"in o){s.endTime=r,s.adEndTime=r,r+=o.duration,s=null;continue}if(r<s.endTime){r+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&((s=new y.VTTCue(r,r+o.duration,o.cueOut)).adStartTime=r,s.adEndTime=r+parseFloat(o.cueOut),t.addCue(s)),"cueOutCont"in o){var u,l,c=o.cueOutCont.split("/").map(parseFloat),h=Bo(c,2);u=h[0],l=h[1],(s=new y.VTTCue(r,r+o.duration,"")).adStartTime=r-u,s.adEndTime=s.adStartTime+l,t.addCue(s)}r+=o.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Tl.GOAL_BUFFER_LENGTH,i=Tl.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,Tl.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Tl.BUFFER_LOW_WATER_LINE,i=Tl.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,Tl.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,n)}}]),Kl);function Kl(e){Po(this,Kl);var t=Oo(this,(Kl.__proto__||Object.getPrototypeOf(Kl)).call(this)),i=e.url,n=e.handleManifestRedirects,r=e.withCredentials,s=e.tech,a=e.bandwidth,o=e.externHls,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,h=e.sourceType,d=e.seekTo,p=e.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");Wl=o,t.withCredentials=r,t.tech_=s,t.hls_=s.hls,t.seekTo_=d,t.sourceType_=h,t.useCueTags_=u,t.blacklistDuration=l,t.enableLowInitialPlaylist=c,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:r,handleManifestRedirects:n,timeout:null},t.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ll,activeTrack:ll,onGroupChanged:ll,onTrackChanged:ll}}),t}(),t.mediaSource=new rs.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=rs.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new Rl(e),t.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new jl,t.inbandTextTracks_={};var f={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:a,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:p};return t.masterPlaylistLoader_="dash"===t.sourceType_?new al(i,t.hls_,t.requestOptions_):new Ho(i,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new El(rs.mergeOptions(f,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new El(rs.mergeOptions(f,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new Al(rs.mergeOptions(f,{loaderType:"vtt"}),e),t.setupSegmentLoaderListeners_(),zl.forEach(function(e){t[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(t,e)}),t.logger_=ul("MPC"),t.masterPlaylistLoader_.load(),t}function Xl(e,t,i){Po(this,Xl);var n=e.masterPlaylistController_,r=n[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(n);if(t.attributes.RESOLUTION){var s=t.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=t.attributes.BANDWIDTH,this.id=i,this.enabled=function(r,s,a){return function(e){var t=r.master.playlists[s],i=Qo(t),n=Jo(t);return"undefined"==typeof e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)}}(e.playlists,t.uri,r)}var Yl=["seeking","seeked","pause","playing","error"],$l=(Ao(Ql,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&y.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=y.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),i=void 0;return this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=e.end(e.length-1)),this.beforeSeekableWindow_(e,t)&&(i=e.start(0)+.1),"undefined"!=typeof i&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+fu(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=du(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.seekTo(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=pu(n,t);if(this.videoUnderflow_(r,n,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var s=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,i,n){var r=3<arguments.length&&void 0!==n&&n;if(!e.length)return!1;var s=e.end(e.length-1)+.1;return!i.endList&&r&&(s=e.end(e.length-1)+3*i.targetDuration),s<t}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),n=pu(t,i);this.cancelTimer_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.seekTo(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=function(e){if(e.length<2)return rs.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),r=e.start(i);t.push([n,r])}return rs.createTimeRanges(t)}(e),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(t-r<4&&2<t-r)return{start:r,end:s}}return null}}]),Ql);function Ql(e){var t=this;Po(this,Ql),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ul("PlaybackWatcher"),this.logger_("initialize");function i(){return t.monitorCurrentTime_()}function n(){return t.techWaiting_()}function r(){return t.cancelTimer_()}function s(){return t.fixesBadSeeks_()}this.tech_.on("seekablechanged",s),this.tech_.on("waiting",n),this.tech_.on(Yl,r),this.tech_.on("canplay",i),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",s),t.tech_.off("waiting",n),t.tech_.off(Yl,r),t.tech_.off("canplay",i),t.checkCurrentTimeTimeout_&&y.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}function Jl(e){!function t(i,e){var n=0,r=0,s=rs.mergeOptions(Zl,e);i.ready(function(){i.trigger({type:"usage",name:"hls-error-reload-initialized"})});function a(){r&&i.currentTime(r)}function o(e){null!=e&&(r=i.duration()!==1/0&&i.currentTime()||0,i.one("loadedmetadata",a),i.src(e),i.trigger({type:"usage",name:"hls-error-reload"}),i.play())}function u(){if(Date.now()-n<1e3*s.errorInterval)i.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return n=Date.now(),s.getSource.call(i,o);rs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function l(){i.off("loadedmetadata",a),i.off("error",u),i.off("dispose",l)}i.on("error",u),i.on("dispose",l),i.reloadSourceOnError=function(e){l(),t(i,e)}}(this,e)}var Zl={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};rs.use("*",function(t){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.tech_.currentTime())}}});var ec={PlaylistLoader:Ho,Playlist:Su,Decrypter:Co,AsyncStream:bo,decrypt:ko,utils:Eu,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,i,n,r){var s=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||y.Number.MAX_VALUE,width:t,height:i,playlist:e}});yl(s,function(e,t){return e.bandwidth-t.bandwidth});var a=(s=s.filter(function(e){return!Su.isIncompatible(e.playlist)})).filter(function(e){return Su.isEnabled(e.playlist)});a.length||(a=s.filter(function(e){return!Su.isDisabled(e.playlist)}));var o=a.filter(function(e){return e.bandwidth*Tl.BANDWIDTH_VARIANCE<t}),u=o[o.length-1],l=o.filter(function(e){return e.bandwidth===u.bandwidth})[0];if(!1===r){var c=l||a[0]||s[0];return c?c.playlist:null}var h=o.filter(function(e){return e.width&&e.height});yl(h,function(e,t){return e.width-t.width});var d=h.filter(function(e){return e.width===i&&e.height===n});u=d[d.length-1];var p=d.filter(function(e){return e.bandwidth===u.bandwidth})[0],f=void 0,m=void 0,g=void 0;p||(m=(f=h.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===f[0].width&&e.height===f[0].height}),u=m[m.length-1],g=m.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var v=g||p||l||a[0]||s[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(vl(this.tech_.el(),"width"),10),parseInt(vl(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Su.isEnabled);return yl(e,function(e,t){return _l(e,t)}),e.filter(function(e){return Bu(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:_l,comparePlaylistResolution:function(e,t){var i=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||y.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||y.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:tu()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(ec,t,{get:function(){return rs.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Tl[t]},set:function(e){rs.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?rs.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Tl[t]=e}})});function tc(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null}function ic(e,t){for(var i=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===i.uri){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})}var nc="videojs-vhs";ec.canPlaySource=function(){return rs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function rc(e){var t=e.masterPlaylistController_.mainSegmentLoader_,i=e.masterPlaylistController_.audioSegmentLoader_,n=rs.players[e.tech_.options_.playerId];if(n.eme){var r=function(e,t,i){if(!e)return e;var n=void 0,r=void 0;if(i.mimeType_)n=t.mimeType_,r=i.mimeType_;else{var s=Hu(t.mimeType_),a=s.parameters.codecs.split(","),o=void 0,u=void 0;a.forEach(function(e){e=e.trim(),Vu(e)?o=e:qu(e)&&(u=e)}),n=s.type+'; codecs="'+u+'"',r=s.type.replace("video","audio")+'; codecs="'+o+'"'}var l={},c=t.playlist_;for(var h in e)l[h]={audioContentType:r,videoContentType:n},c.contentProtection&&c.contentProtection[h]&&c.contentProtection[h].pssh&&(l[h].pssh=c.contentProtection[h].pssh),"string"==typeof e[h]&&(l[h].url=e[h]);return rs.mergeOptions(e,l)}(e.source_.keySystems,t,i);r&&(n.currentSource().keySystems=r,11!==rs.browser.IE_VERSION&&n.eme.initializeMediaKeys&&n.eme.initializeMediaKeys())}}function sc(){if(!window.localStorage)return null;var e=window.localStorage.getItem(nc);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}ec.supportsNativeHls=function(){var t=h.createElement("video");if(!rs.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),ec.supportsNativeDash=!!rs.getTech("Html5").isSupported()&&/maybe|probably/i.test(h.createElement("video").canPlayType("application/dash+xml")),ec.supportsTypeNatively=function(e){return"hls"===e?ec.supportsNativeHls:"dash"===e&&ec.supportsNativeDash},ec.isSupported=function(){return rs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ac=rs.getComponent("Component"),oc=(xo(uc,ac),Ao(uc,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=sc();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Tl.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Tl.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var i=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=ec,this.options_.sourceType=tc(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e),i.setCurrentTime(e)},this.masterPlaylistController_=new Gl(this.options_),this.playbackWatcher_=new $l(rs.mergeOptions(this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){rs.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ec.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ec.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){rs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return mu(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return mu(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(e){if(window.localStorage){var t=sc();t=t?rs.mergeOptions(t,e):e;try{window.localStorage.setItem(nc,JSON.stringify(t))}catch(e){return}}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(i){var e=i.playlists;i.representations=function(){return e.master.playlists.filter(function(e){return!Qo(e)}).map(function(e,t){return new Xl(i,e,e.uri)})}}(i),rc(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(rs.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=rs.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),ic(t,e.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){ic(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(uc.prototype.__proto__||Object.getPrototypeOf(uc.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return lu({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t,i,n){var r=!(2<arguments.length&&void 0!==i)||i,s=3<arguments.length&&void 0!==n?n:2;return cu({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),uc);function uc(e,t,i){Po(this,uc);var n=Oo(this,(uc.__proto__||Object.getPrototypeOf(uc)).call(this,t,i.hls));if(t.options_&&t.options_.playerId){var r=rs(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return rs.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),n},configurable:!0}),r.vhs=n,(r.dash=n).player_=r}if(n.tech_=t,n.source_=e,n.stats={},n.setOptions_(),n.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(h,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()}),n.on(n.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),n.on(n.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}var lc={name:"videojs-http-streaming",VERSION:"1.11.2",canHandleSource:function(e,t){var i=rs.mergeOptions(rs.options,1<arguments.length&&void 0!==t?t:{});return lc.canPlayType(e.type,i)},handleSource:function(e,t,i){var n=rs.mergeOptions(rs.options,2<arguments.length&&void 0!==i?i:{});return t.hls=new oc(e,t,n),t.hls.xhr=tu(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e,t){var i=rs.mergeOptions(rs.options,1<arguments.length&&void 0!==t?t:{}).hls.overrideNative,n=tc(e);return n&&(!ec.supportsTypeNatively(n)||i)?"maybe":""}};return"undefined"!=typeof rs.MediaSource&&"undefined"!=typeof rs.URL||(rs.MediaSource=Zu,rs.URL=el),Zu.supportsNativeMediaSources()&&rs.getTech("Html5").registerSourceHandler(lc,0),rs.HlsHandler=oc,rs.HlsSourceHandler=lc,rs.Hls=ec,rs.use||rs.registerComponent("Hls",ec),rs.options.hls=rs.options.hls||{},rs.registerPlugin?rs.registerPlugin("reloadSourceOnError",Jl):rs.plugin("reloadSourceOnError",Jl),rs});
/*! @name videojs-contrib-quality-levels @version 2.1.0 @license Apache-2.0 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js"),require("global/document")):"function"==typeof define&&define.amd?define(["video.js","global/document"],t):e.videojsContribQualityLevels=t(e.videojs,e.document)}(this,function(e,t){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(r){var i,l;function o(){var i,l=n(n(i=r.call(this)||this));if(e.browser.IS_IE8)for(var s in l=t.createElement("custom"),o.prototype)"constructor"!==s&&(l[s]=o.prototype[s]);return l.levels_=[],l.selectedIndex_=-1,Object.defineProperty(l,"selectedIndex",{get:function(){return l.selectedIndex_}}),Object.defineProperty(l,"length",{get:function(){return l.levels_.length}}),l||n(i)}l=r,(i=o).prototype=Object.create(l.prototype),i.prototype.constructor=i,i.__proto__=l;var s=o.prototype;return s.addQualityLevel=function(n){var r=this.getQualityLevelById(n.id);if(r)return r;var i=this.levels_.length;return r=new function n(r){var i=this;if(e.browser.IS_IE8)for(var l in i=t.createElement("custom"),n.prototype)"constructor"!==l&&(i[l]=n.prototype[l]);return i.id=r.id,i.label=i.id,i.width=r.width,i.height=r.height,i.bitrate=r.bandwidth,i.enabled_=r.enabled,Object.defineProperty(i,"enabled",{get:function(){return i.enabled_()},set:function(e){i.enabled_(e)}}),i}(n),""+i in this||Object.defineProperty(this,i,{get:function(){return this.levels_[i]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r},s.removeQualityLevel=function(e){for(var t=null,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t},s.getQualityLevelById=function(e){for(var t=0,n=this.length;t<n;t++){var r=this[t];if(r.id===e)return r}return null},s.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},o}(e.EventTarget);for(var i in r.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},r.prototype.allowedEvents_)r.prototype["on"+i]=null;var l=function(t){return n=this,e.mergeOptions({},t),i=n.qualityLevels,l=new r,n.on("dispose",function e(){l.dispose(),n.qualityLevels=i,n.off("dispose",e)}),n.qualityLevels=function(){return l},n.qualityLevels.VERSION="2.1.0",l;var n,i,l};return(e.registerPlugin||e.plugin)("qualityLevels",l),l.VERSION="2.1.0",l});
/**
 * videojs-hls-quality-selector
 * @version 1.1.4
 * @copyright 2020 Chris Boustead (chris@forgemotion.com)
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsHlsQualitySelector=e(t.videojs)}(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=(function(){function a(t){this.value=t}function t(o){var r,u;function l(t,e){try{var n=o[t](e),i=n.value;i instanceof a?Promise.resolve(i.value).then(function(t){l("next",t)},function(t){l("throw",t)}):s(n.done?"return":"normal",n.value)}catch(t){s("throw",t)}}function s(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}(r=r.next)?l(r.key,r.arg):u=null}this._invoke=function(i,o){return new Promise(function(t,e){var n={key:i,arg:o,resolve:t,reject:e,next:null};u?u=u.next=n:(r=u=n,l(i,o))})},"function"!=typeof o.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),t=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},e=o.getComponent("MenuButton"),r=o.getComponent("Menu"),a=o.getComponent("Component"),c=o.dom;var h=function(e){function n(t){return l(this,n),s(this,e.call(this,t,{title:t.localize("Quality"),name:"QualityButton"}))}return t(n,e),n.prototype.createItems=function(){return[]},n.prototype.createMenu=function(){var t,e=new r(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(t=this.options_.title,"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)),tabIndex:-1}),i=new a(this.player_,{el:n});this.hideThreshold_+=1,e.addItem(i)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)e.addItem(this.items[o]);return e},n}(e),i=function(r){function u(t,e,n,i){l(this,u);var o=s(this,r.call(this,t,{label:e.label,selectable:!0,selected:e.selected||!1}));return o.item=e,o.qualityButton=n,o.plugin=i,o}return t(u,r),u.prototype.handleClick=function(){for(var t=0;t<this.qualityButton.items.length;++t)this.qualityButton.items[t].selected(!1);this.plugin.setQuality(this.item.value),this.selected(!0)},u}(o.getComponent("MenuItem")),y={},n=o.registerPlugin||o.plugin,f=function(){function n(t,e){l(this,n),this.player=t,this.config=e,this.player.qualityLevels&&this.getHls()&&(this.createQualityButton(),this.bindPlayerEvents())}return n.prototype.getHls=function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).hls},n.prototype.bindPlayerEvents=function(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this))},n.prototype.createQualityButton=function(){var t=this.player;this._qualityButton=new h(t);var e=t.controlBar.children().length-2,n=t.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},this.config.placementIndex||e);if(n.addClass("vjs-quality-selector"),this.config.displayCurrentQuality)this.setButtonInnerText("auto");else{var i=" "+(this.config.vjsIconClass||"vjs-icon-hd");n.menuButton_.$(".vjs-icon-placeholder").className+=i}n.removeClass("vjs-hidden")},n.prototype.setButtonInnerText=function(t){this._qualityButton.menuButton_.$(".vjs-icon-placeholder").innerHTML=t},n.prototype.getQualityMenuItem=function(t){var e=this.player;return new i(e,t,this._qualityButton,this)},n.prototype.onAddQualityLevel=function(){for(var n=this,t=this.player,i=t.qualityLevels().levels_||[],o=[],e=function(e){if(!o.filter(function(t){return t.item&&t.item.value===i[e].height}).length){var t=n.getQualityMenuItem.call(n,{label:i[e].height+"p",value:i[e].height});o.push(t)}},r=0;r<i.length;++r)e(r);o.sort(function(t,e){return"object"!==(void 0===t?"undefined":u(t))||"object"!==(void 0===e?"undefined":u(e))?-1:t.item.value<e.item.value?-1:t.item.value>e.item.value?1:0}),o.push(this.getQualityMenuItem.call(this,{label:t.localize("Auto"),value:"auto",selected:!0})),this._qualityButton&&(this._qualityButton.createItems=function(){return o},this._qualityButton.update())},n.prototype.setQuality=function(t){var e=this.player.qualityLevels();this._currentQuality=t,this.config.displayCurrentQuality&&this.setButtonInnerText("auto"===t?t:t+"p");for(var n=0;n<e.length;++n){var i=e[n];i.enabled=i.height===t||"auto"===t}this._qualityButton.unpressButton()},n.prototype.getCurrentQuality=function(){return this._currentQuality||"auto"},n}(),p=function(n){var i=this;this.ready(function(){var t,e;t=i,e=o.mergeOptions(y,n),t.addClass("vjs-hls-quality-selector"),t.hlsQualitySelector=new f(t,e)})};return n("hlsQualitySelector",p),p.VERSION="1.1.4",p});
/* videojs-hotkeys v0.2.27 - https://github.com/ctd1500/videojs-hotkeys */
!function(e,t){"undefined"!=typeof window&&window.videojs?t(window.videojs):"function"==typeof define&&define.amd?define("videojs-hotkeys",["video.js"],function(e){return t(e.default||e)}):"undefined"!=typeof module&&module.exports&&(module.exports=t(require("video.js")))}(0,function(e){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.27"});(e.registerPlugin||e.plugin)("hotkeys",function(t){function n(e){return"function"==typeof s?s(e):s}function o(e){null!=e&&"function"==typeof e.then&&e.then(null,function(e){})}var r=this,u=r.el(),l=document,i={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},c=e.mergeOptions||e.util.mergeOptions,a=(t=c(i,t||{})).volumeStep,s=t.seekStep,m=t.enableMute,y=t.enableVolumeScroll,f=t.enableHoverScroll,v=t.enableFullscreen,d=t.enableNumbers,p=t.enableJogStyle,b=t.alwaysCaptureHotkeys,h=t.captureDocumentHotkeys,w=t.documentHotkeysFocusElementFilter,k=t.enableModifiersForNumbers,S=t.enableInactiveFocus,K=t.skipInitialFocus,F=e.VERSION;u.hasAttribute("tabIndex")||u.setAttribute("tabIndex","-1"),u.style.outline="none",!b&&r.autoplay()||K||r.one("play",function(){u.focus()}),S&&r.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){r.off("useractive",e);var t=l.activeElement,n=u.querySelector(".vjs-control-bar");t&&t.parentElement==n&&u.focus()},10);r.one("useractive",e)}),r.on("play",function(){var e=u.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var q=function(e){var i,c,s=e.which,y=e.preventDefault.bind(e),f=r.duration();if(r.controls()){var S=l.activeElement;if(b||h&&w(S)||S==u||S==u.querySelector(".vjs-tech")||S==u.querySelector(".vjs-control-bar")||S==u.querySelector(".iframeblocker"))switch(g(e,r)){case 1:y(),(b||h)&&e.stopPropagation(),r.paused()?o(r.play()):r.pause();break;case 2:i=!r.paused(),y(),i&&r.pause(),(c=r.currentTime()-n(e))<=0&&(c=0),r.currentTime(c),i&&o(r.play());break;case 3:i=!r.paused(),y(),i&&r.pause(),(c=r.currentTime()+n(e))>=f&&(c=i?f-.001:f),r.currentTime(c),i&&o(r.play());break;case 5:y(),p?(c=r.currentTime()-1,r.currentTime()<=1&&(c=0),r.currentTime(c)):r.volume(r.volume()-a);break;case 4:y(),p?((c=r.currentTime()+1)>=f&&(c=f),r.currentTime(c)):r.volume(r.volume()+a);break;case 6:m&&r.muted(!r.muted());break;case 7:v&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen());break;default:if((s>47&&s<59||s>95&&s<106)&&(k||!(e.metaKey||e.ctrlKey||e.altKey))&&d){var K=48;s>95&&(K=96);var F=s-K;y(),r.currentTime(r.duration()*F*.1)}for(var q in t.customKeys){var j=t.customKeys[q];j&&j.key&&j.handler&&j.key(e)&&(y(),j.handler(r,t,e))}}}},j=!1,T=u.querySelector(".vjs-volume-menu-button")||u.querySelector(".vjs-volume-panel");null!=T&&(T.onmouseover=function(){j=!0},T.onmouseout=function(){j=!1});var E=function(e){if(f)t=0;else var t=l.activeElement;if(r.controls()&&(b||t==u||t==u.querySelector(".vjs-tech")||t==u.querySelector(".iframeblocker")||t==u.querySelector(".vjs-control-bar")||j)&&y){e=window.event||e;var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==n?r.volume(r.volume()+a):-1==n&&r.volume(r.volume()-a)}},g=function(e,n){return t.playPauseKey(e,n)?1:t.rewindKey(e,n)?2:t.forwardKey(e,n)?3:t.volumeUpKey(e,n)?4:t.volumeDownKey(e,n)?5:t.muteKey(e,n)?6:t.fullscreenKey(e,n)?7:void 0};return r.on("keydown",q),r.on("dblclick",function(e){if(null!=F&&F<="7.1.0"&&r.controls()){var t=e.relatedTarget||e.toElement||l.activeElement;t!=u&&t!=u.querySelector(".vjs-tech")&&t!=u.querySelector(".iframeblocker")||v&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen())}}),r.on("mousewheel",E),r.on("DOMMouseScroll",E),h&&document.addEventListener("keydown",function(e){q(e)}),this})});
const Plugin=videojs.getPlugin('plugin');function __getCookieValue(cookieName){const name=cookieName+"=";const decodedCookie=decodeURIComponent(document.cookie);const cookieArray=decodedCookie.split(";");for(let i=0;i<cookieArray.length;i++){let cookie=cookieArray[i];while(cookie.charAt(0)===" "){cookie=cookie.substring(1)}
if(cookie.indexOf(name)===0){return cookie.substring(name.length,cookie.length)}}
return""}
function getPlayedTimePercentage(currentTime=0,totalTime=0){if(totalTime==0||isNaN(totalTime)){return 0}
var percentage=currentTime*100/totalTime;return Math.floor(percentage,2)}
function openPopup(button,width,height){var shareUrl='';var url=button.getAttribute('data-url');var socialId=button.getAttribute('data-social-id');switch(socialId){case 'facebook':shareUrl='https://www.facebook.com/sharer/sharer.php?u='+url;break;case 'pinterest':shareUrl='https://pinterest.com/pin/create/button/?url='+url;break;case 'twitter':shareUrl='https://twitter.com/intent/tweet?url='+url;break;case 'linkedin':shareUrl='https://www.linkedin.com/shareArticle?mini=true&url='+url;break}
var left=(screen.width/2)-(width/2);var top=(screen.height/2)-(height/2);window.open(shareUrl,"popUpWindow","height="+height+",width="+width+",left="+left+",top="+top+",resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}
function openUrl(button,target="_blank"){var url=button.getAttribute('data-href');window.open(url,target)}
function toggleClass(e){if(!e.classList.contains('active')){e.classList.add('active')}else{e.classList.remove('active')}}
var componentButton=videojs.getComponent('Button');class playerChapter extends videojs.getComponent('Button'){constructor(player,options){super(player,options);this.uniqueArray=[...new Set(options.times.map(JSON.stringify))].map(JSON.parse);this.update(this.uniqueArray)}
createEl(){return videojs.dom.createEl('div',{className:'vjs-menu-button vjs-control vjs-menu-button-popup vjs-button vjs-menu-chapter',})}
setTime(event){const time=parseInt(event.target.dataset.totalSeconds);if(!isNaN(time)){this.player().currentTime(time);event.target.closest('.vjs-menu-button').classList.remove('vjs-hover');document.querySelectorAll('.vjs-menu-item-chapter').forEach((menuItem)=>{menuItem.classList.remove('vjs-selected')});event.target.closest('.vjs-menu-item-chapter').classList.add('vjs-selected')}}
openMenu(event){event.target.parentNode.classList.toggle('vjs-hover')}
update(options){const button=document.createElement('button');button.className='vjs-chapter-button vjs-icon-chapters';this.el().appendChild(button);const menu=document.createElement('div');menu.className='vjs-menu';const menuUL=document.createElement('ul');menuUL.className='vjs-menu-content';menu.appendChild(menuUL);options.forEach(({time,text,total_seconds},index)=>{const menuIL=document.createElement('li');menuIL.className='vjs-menu-item vjs-menu-item-chapter';const content=document.createElement('div');content.className='vjs-menu-item-text vjs-menu-item-chater-time';content.innerHTML=`<span class="vjs-chapter-count">[${index + 1}]</span><span class="vjs-chapter-time">${time}</span><span class="vjs-chapter-text">${text}</span>`;const icon=document.createElement('span');icon.className='vjs-chapter-icon vjs-icon-next-item';icon.dataset.totalSeconds=total_seconds;content.appendChild(icon);menuIL.appendChild(content);menuUL.appendChild(menuIL);icon.addEventListener('click',(event)=>{this.setTime(event)});icon.addEventListener('touchend',(event)=>{this.setTime(event)})});button.addEventListener('click',this.openMenu.bind(this));button.addEventListener('touchend',this.openMenu.bind(this));this.el().appendChild(menu)}}
videojs.registerComponent('playerChapter',playerChapter);class controlBarLogo extends componentButton{constructor(player,options){super(player,options);var defaults={id:'',logo:'',href:'#',}
options=videojs.mergeOptions(defaults,options);if(options.logo){this.update(options)}}
createEl(){return videojs.dom.createEl('button',{className:'vjs-control vjs-logo-button'})}
update(options){var img=document.createElement('img');img.setAttribute('style','display:inline-block!important;visibility:visible!important;opacity:1!important');if(options.logo){img.src=options.logo}
if(options.alt){img.alt=options.alt}
if(options.href){if(options.href!='#'){this.el().addEventListener("touchend",function(){window.open(options.href,'_blank')});this.el().addEventListener("click",function(){window.open(options.href,'_blank')})}}
this.el().setAttribute('style','display:inline-block!important;visibility:visible!important;opacity:1!important');this.el().appendChild(img)}}
videojs.registerComponent('controlBarLogo',controlBarLogo);class topBar extends Plugin{constructor(player,options){super(player,options);let bar=document.createElement('div');bar.className='streamtube-plugin streamtube-topbar';player.addClass('vjs-has-topbar');player.el().appendChild(bar)}}
videojs.registerPlugin('topBar',topBar);class builtinEvents extends Plugin{constructor(player,options){super(player,options);var defaults={post_id:0}
options=videojs.mergeOptions(defaults,options);player.on('play',function(){let event=new CustomEvent('player_play',{detail:{options:options,player:player}});document.body.dispatchEvent(event)});player.on('playing',function(){let event=new CustomEvent('player_playing',{detail:{options:options,player:player}});document.body.dispatchEvent(event)});player.on('progress',function(){let event=new CustomEvent('player_progress',{detail:{options:options,player:player}});document.body.dispatchEvent(event)});player.on('durationchange',function(){let event=new CustomEvent('player_durationchange',{detail:{options:options,player:player}});document.body.dispatchEvent(event)});player.on('timeupdate',function(){let event=new CustomEvent('player_timeupdate',{detail:{options:options,player:player}});document.body.dispatchEvent(event)});player.on('ended',function(){if(!player.hasClass('vjs-ad-loading')&&!player.addClass('vjs-share-active')){var shareBox=player.el().querySelector('.streamtube-share');toggleClass(shareBox);player.addClass('vjs-share-active');window.parent.postMessage('PLAYLIST_UPNEXT')}
let event=new CustomEvent('player_ended',{detail:{options:options,player:player}});document.body.dispatchEvent(event)})}}
videojs.registerPlugin('builtinEvents',builtinEvents);class playerStartAtSecond extends Plugin{constructor(player,options){super(player,options);var defaults={start_at:!1}
options=videojs.mergeOptions(defaults,options);if(parseInt(options.start_at)>0){player.play();player.currentTime(options.start_at)}}}
videojs.registerPlugin('playerStartAtSecond',playerStartAtSecond);class playerLogo extends Plugin{constructor(player,options){super(player,options);var defaults={id:'',logo:'',href:'#',position:'top-right',alt:''}
options=videojs.mergeOptions(defaults,options);player.addClass('has-watermark');if(options.logo){var elm,img;elm=document.createElement('div');elm.id=options.id;elm.className='streamtube-plugin streamtube-watermark '+options.position;img=document.createElement('img');img.src=options.logo;if(options.alt){img.alt=options.alt}
if(options.href!='#'){img.addEventListener('click',function(){window.open(options.href,'_blank')})}
elm.appendChild(img);player.el().appendChild(elm)}}}
videojs.registerPlugin('playerLogo',playerLogo);class playerShareBox extends Plugin{constructor(player,options){super(player,options);var defaults={name:'',id:'',url:'',embed_url:'',embed_width:560,embed_height:315,popup_width:700,popup_height:500,label_url:'',label_iframe:'',is_embed:!1}
options=videojs.mergeOptions(defaults,options);player.addClass('has-share-box');var html='';var el=document.createElement('div');el.className='streamtube-plugin streamtube-share';el.id=options.id;html+='<div class="streamtube-share-container"><form>';html+='<div class="share-topbar">';html+='<button onclick="javascript:toggleClass('+options.id+')" type="button" class="share-open">';html+='<span class="vjs-icon-share"></span>';html+='</button>';if(options.is_embed){html+='<h3 data-href="'+options.url+'" onclick="javascript:openUrl( this )" class="post-title">'+options.name+'</h3>'}
html+='</div>';html+='<div class="share-body">';html+='<div class="share-socials">';html+='<button class="btn-facebook" type="button" data-social-id="facebook" data-url="'+options.url+'" onclick="javascript:openPopup( this, '+options.popup_width+', '+options.popup_height+' );">';html+='<span class="vjs-icon-facebook"></span>';html+='</button>';html+='<button class="btn-pinterest" type="button" data-social-id="pinterest" data-url="'+options.url+'" onclick="javascript:openPopup( this, '+options.popup_width+', '+options.popup_height+' );">';html+='<span class="vjs-icon-pinterest"></span>';html+='</button>';html+='<button class="btn-twitter" type="button" data-social-id="twitter" data-url="'+options.url+'" onclick="javascript:openPopup( this, '+options.popup_width+', '+options.popup_height+' );">';html+='<span class="vjs-icon-twitter"></span>';html+='</button>';html+='<button class="btn-linkedin" type="button" data-social-id="linkedin" data-url="'+options.url+'" onclick="javascript:openPopup( this, '+options.popup_width+', '+options.popup_height+' );">';html+='<span class="vjs-icon-linkedin"></span>';html+='</button>';html+='</div>';if(options.url){html+='<p class="share-url">';html+='<label>'+options.label_url+'</label>';html+='<input name="url" onclick="javascript:this.select()" class="form-control" value="'+options.url+'">';html+='</p>'}
if(options.embed_url){html+='<p class="share-iframe">';html+='<label>'+options.label_iframe+'</label>';html+='<textarea name="iframe" onclick="javascript:this.select()" class="form-control">';html+='<iframe src="'+options.embed_url+'" width="'+options.embed_width+'" height="'+options.embed_height+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"></iframe>'
html+='</textarea>';html+='</p>'}
html+='</div>';html+='</form></div>';el.innerHTML=html;player.el().appendChild(el)}}
videojs.registerPlugin('playerShareBox',playerShareBox);class playerTracker extends Plugin{constructor(player,options){super(player,options);var defaults={url:'',title:''}
options=videojs.mergeOptions(defaults,options);player.addClass('has-tracker');window.dataLayer=window.dataLayer||[];player.on('play',function(){dataLayer.push({'event':'gtm.video','gtm.videoStatus':'play','gtm.videoUrl':options.url,'gtm.videoTitle':options.title,'gtm.videoPercent':getPlayedTimePercentage(player.currentTime(),player.duration()),'gtm.videoCurrentTime':player.currentTime(),'gtm.videoDuration':player.duration(),'gtm.videoProvider':'self_hosted'})});player.on('progress',function(){dataLayer.push({'event':'gtm.video','gtm.videoStatus':'progress','gtm.videoUrl':options.url,'gtm.videoTitle':options.title,'gtm.videoPercent':getPlayedTimePercentage(player.currentTime(),player.duration()),'gtm.videoCurrentTime':player.currentTime(),'gtm.videoDuration':player.duration(),'gtm.videoProvider':'self_hosted'})});player.on('ended',function(){dataLayer.push({'event':'gtm.video','gtm.videoStatus':'ended','gtm.videoUrl':options.url,'gtm.videoTitle':options.title,'gtm.videoPercent':getPlayedTimePercentage(player.currentTime(),player.duration()),'gtm.videoCurrentTime':player.currentTime(),'gtm.videoDuration':player.duration(),'gtm.videoProvider':'self_hosted'})})}}
videojs.registerPlugin('playerTracker',playerTracker);class playerhlsQualitySelector extends Plugin{constructor(player,options){super(player,options);var defaults={displayCurrentQuality:!0}
options=videojs.mergeOptions(defaults,options);player.addClass('has-hlsQualitySelector');player.hlsQualitySelector(options)}}
videojs.registerPlugin('playerhlsQualitySelector',playerhlsQualitySelector);class playerCollectionContent extends Plugin{constructor(player,options){super(player,options);var list_items=[];var defaults={list:[],list_items:[],current_post:0,index:0,total:0,user:[],upnext:!0}
options=videojs.mergeOptions(defaults,options);if(options.list_items.length>0){list_items=options.list_items}
if(list_items){var toggleButton=document.createElement('button');toggleButton.classList='btn btn-toggle-playlist';toggleButton.id='toggle-playlist';toggleButton.innerHTML='<span class="vjs-icon-chapters"></span>';toggleButton.addEventListener('click',function(e){document.getElementById('streamtube-playlist').classList.add('active');document.getElementById('playlist-item__'+options.current_post).scrollIntoView({behavior:'smooth',block:'center',inline:'start'})});player.el().appendChild(toggleButton);var playList=document.createElement('div');playList.className='streamtube-plugin streamtube-playlist';playList.id='streamtube-playlist';var playListHeader=document.createElement('div');playListHeader.className='playlist-header';var headerContent='<div class="playlist-header__left">';headerContent+='<h2 class="playlist-title post-title">'+options.name+'</h2>';headerContent+='<div class="playlist-meta">';if(options.author){headerContent+='<div class="playerlist-author">';headerContent+='<a onclick="javascript:openUrl(this)" data-href="'+options.author.link+'" href="#">'+options.author.display_name+'</a>';headerContent+='</div>'}
headerContent+='<div class="playlist-total">';headerContent+='<span class="index">'+options.index+'</span>';headerContent+='<span class="sep">/</span>';headerContent+='<span class="total">'+options.total+'</span>';headerContent+='</div>';headerContent+='</div>';headerContent+='</div>';playListHeader.innerHTML=headerContent;var closeButton=document.createElement('button');closeButton.className='btn btn-close shadow-none';closeButton.innerHTML='<span>&#8594;</span>';closeButton.addEventListener('click',function(e){document.getElementById('streamtube-playlist').classList.remove('active')});playListHeader.appendChild(closeButton);playList.appendChild(playListHeader);var playlistBody=document.createElement('div');playlistBody.className='playlist-items';for(var i=0;i<list_items.length;i++){let item=document.createElement('a');item.className='playlist-item';item.id='playlist-item__'+list_items[i].id;if(options.current_post==list_items[i].id){item.className+=' active'}
item.setAttribute('href',list_items[i].permalink);item.setAttribute('data-href',list_items[i].permalink_embed);item.addEventListener('click',function(e){e.preventDefault();window.open(item.getAttribute('data-href'),'_self')});var _item='<span class="item-index">';if(options.current_post==list_items[i].id){_item+='<span class="vjs-icon-play"></span>'}else{_item+=i+1}
_item+='</span>';_item+='<div class="item-body">';_item+='<div class="item-thumbnail">';_item+='<img src="'+list_items[i].thumbnail+'">';if(list_items[i].length){_item+='<span class="item-length">'+list_items[i].length+'</span>'}
_item+='</div>';_item+='<div class="item-meta">';_item+='<div class="item-title">';_item+='<h3>';_item+=list_items[i].title;_item+='</h3>';_item+='</div>';if(list_items[i].author){_item+='<div class="item-author">';_item+='<a data-href="'+list_items[i].author.link+'" href="#">'+list_items[i].author.display_name+'</a>';_item+='</div>'}
_item+='</div>';_item+='</div>';item.innerHTML=_item;playlistBody.appendChild(item)}
playList.appendChild(playlistBody);player.el().appendChild(playList);player.addClass('vjs-has-collection')}
player.on('ended',function(){if(options.index<list_items.length&&options.upnext){window.location.href=list_items[parseInt(options.index)].permalink_embed}})}}
videojs.registerPlugin('playerCollectionContent',playerCollectionContent);class playerTransparentLayer extends Plugin{constructor(player,options){super(player,options);var defaults={disable_right_click:!0}
options=videojs.mergeOptions(defaults,options);let layer=document.createElement('div');layer.className='streamtube-plugin streamtube-transparent-layer';if(options.disable_right_click){layer.addEventListener('contextmenu',function(e){e.preventDefault()})}
layer.addEventListener('click',function(e){if(player.hasClass('vjs-playing')){player.pause()}else{player.play()}});layer.addEventListener("dblclick",function(event){if(!player.isFullscreen()){player.requestFullscreen()}else{player.exitFullscreen()}});player.addClass('vjs-transparent-layer');player.el().appendChild(layer)}}
videojs.registerPlugin('playerTransparentLayer',playerTransparentLayer);class playerRememberVolume extends Plugin{constructor(player,options){super(player,options);var defaults={default_volume:10,save_volume:!0}
options=videojs.mergeOptions(defaults,options);var updateVolume=!1;var defaultVolume=parseInt(options.default_volume)/10;player.on('play',function(){if(!updateVolume){if(options.save_volume){var _customVolume=parseFloat(__getCookieValue('player_volume'));if(isNaN(_customVolume)){_customVolume=defaultVolume}
defaultVolume=_customVolume}
player.volume(defaultVolume);updateVolume=!0}});player.on('volumechange',function(){document.cookie='player_volume='+player.volume()+';path=/'})}}
videojs.registerPlugin('playerRememberVolume',playerRememberVolume);function videoJSplayerInit(event,players=null){try{if(typeof videojs=='function'){if(!players){var players=document.querySelectorAll('video-js[data-player-id]')}
if(players){for(var i=0;i<players.length;i++){if(players[i]){var setup=JSON.parse(players[i].getAttribute('data-setup'));if(setup.techOrder){videojs(players[i]).src(setup.sources)}
var player=videojs.getPlayers()[players[i].getAttribute('id')];if(player==undefined){var player=videojs(players[i],setup)}
if(setup.advertising){var Ad=setup.advertising;player.ima(Ad)}
player.ready(function(){this.addClass('video-js');this.addClass('video-js-initialized');var components=setup.components;if(components&&components.playerChapter!==undefined){this.getChild('controlBar').addChild('playerChapter',setup.components.playerChapter)}
if(components&&components.controlBarLogo!==undefined){this.getChild('controlBar').addChild('controlBarLogo',setup.components.controlBarLogo)}});var plugins=setup.jplugins;player.topBar();if(plugins.builtinEvents){player.builtinEvents(plugins.builtinEvents)}
if(plugins.playerLogo){player.playerLogo(plugins.playerLogo)}
if(plugins.playerShareBox){player.playerShareBox(plugins.playerShareBox)}
if(plugins.playerTracker){player.playerTracker(plugins.playerTracker)}
if(plugins.playerhlsQualitySelector){player.playerhlsQualitySelector(plugins.playerhlsQualitySelector)}
if(plugins.hotkeys){player.hotkeys(plugins.hotkeys)}
if(plugins.playerCollectionContent){player.playerCollectionContent(plugins.playerCollectionContent)}
if(plugins.landscapeFullscreen){player.landscapeFullscreen(plugins.landscapeFullscreen)}
if(plugins.playerTransparentLayer){player.playerTransparentLayer(plugins.playerTransparentLayer)}
if(plugins.playerStartAtSecond){player.playerStartAtSecond(plugins.playerStartAtSecond)}
if(plugins.playerVR){player.addClass('vjs-has-xr');player.xr()}
if(plugins.playerRememberVolume){player.playerRememberVolume(plugins.playerRememberVolume)}}}}}}catch(error){console.log(error.message)}}
document.addEventListener("DOMContentLoaded",videoJSplayerInit);document.addEventListener("RCB/OptIn/ContentBlocker/All",videoJSplayerInit);
/*! This file is auto-generated */
!function(){var t={124:function(t,e,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(t){return function(t,e){var n,r,a,s,u,l,c,p,f,d=1,h=t.length,g="";for(r=0;r<h;r++)if("string"==typeof t[r])g+=t[r];else if("object"==typeof t[r]){if((s=t[r]).keys)for(n=e[d],a=0;a<s.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?e[s.param_no]:e[d++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(p=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?g+=n:(!i.number.test(s.type)||p&&!s.sign?f="":(f=p?"+":"-",n=n.toString().replace(i.sign,"")),l=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",c=s.width-(f+n).length,u=s.width&&c>0?l.repeat(c):"",g+=s.align?f+n+u:"0"===l?f+u+n:u+f+n)}return g}(function(t){if(s[t])return s[t];var e,n=t,r=[],o=0;for(;n;){if(null!==(e=i.text.exec(n)))r.push(e[0]);else if(null!==(e=i.modulo.exec(n)))r.push("%");else{if(null===(e=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){o|=1;var a=[],u=e[2],l=[];if(null===(l=i.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(u=u.substring(l[0].length));)if(null!==(l=i.key_access.exec(u)))a.push(l[1]);else{if(null===(l=i.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}e[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return s[t]=r}(t),arguments)}function a(t,e){return o.apply(null,[t].concat(e||[]))}var s=Object.create(null);e.sprintf=o,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(e,n,e,t))||(t.exports=r))}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r),n.d(r,{__:function(){return F},_n:function(){return j},_nx:function(){return L},_x:function(){return S},createI18n:function(){return x},defaultI18n:function(){return _},getLocaleData:function(){return v},hasTranslation:function(){return D},isRTL:function(){return T},resetLocaleData:function(){return w},setLocaleData:function(){return m},sprintf:function(){return o},subscribe:function(){return k}});var t=n(124),e=n.n(t);const i=function(t,e){var n,r,i=0;function o(){var o,a,s=n,u=arguments.length;t:for(;s;){if(s.args.length===arguments.length){for(a=0;a<u;a++)if(s.args[a]!==arguments[a]){s=s.next;continue t}return s!==n&&(s===r&&(r=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=n,s.prev=null,n.prev=s,n=s),s.val}s=s.next}for(o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];return s={args:o,val:t.apply(null,o)},n?(n.prev=s,s.next=n):r=s,i===e.maxSize?(r=r.prev).next=null:i++,n=s,s.val}return e=e||{},o.clear=function(){n=null,r=null,i=0},o}(console.error);function o(t,...n){try{return e().sprintf(t,...n)}catch(e){return e instanceof Error&&i("sprintf error: \n\n"+e.toString()),t}}var a,s,u,l;a={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},s=["(","?"],u={")":["("],":":["?","?:"]},l=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var c={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};function p(t){var e=function(t){for(var e,n,r,i,o=[],c=[];e=t.match(l);){for(n=e[0],(r=t.substr(0,e.index).trim())&&o.push(r);i=c.pop();){if(u[n]){if(u[n][0]===i){n=u[n][1]||n;break}}else if(s.indexOf(i)>=0||a[i]<a[n]){c.push(i);break}o.push(i)}u[n]||c.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&o.push(t),o.concat(c.reverse())}(t);return function(t){return function(t,e){var n,r,i,o,a,s,u=[];for(n=0;n<t.length;n++){if(a=t[n],o=c[a]){for(r=o.length,i=Array(r);r--;)i[r]=u.pop();try{s=o.apply(null,i)}catch(t){return t}}else s=e.hasOwnProperty(a)?e[a]:+a;u.push(s)}return u[0]}(e,t)}}var f={contextDelimiter:"",onMissingKey:null};function d(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},f)this.options[n]=void 0!==e&&n in e?e[n]:f[n]}d.prototype.getPluralForm=function(t,e){var n,r,i,o=this.pluralForms[t];return o||("function"!=typeof(i=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(t){var e,n,r;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(r=e[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),i=function(t){var e=p(t);return function(t){return+e({n:t})}}(r)),o=this.pluralForms[t]=i),o(e)},d.prototype.dcnpgettext=function(t,e,n,r,i){var o,a,s;return o=void 0===i?0:this.getPluralForm(t,i),a=n,e&&(a=e+this.options.contextDelimiter+n),(s=this.data[t][a])&&s[o]?s[o]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===o?n:r)};const h={plural_forms(t){return 1===t?0:1}},g=/^i18n\.(n?gettext|has_translation)(_|$)/,x=(t,e,n)=>{const r=new d({}),i=new Set,o=()=>{i.forEach((t=>t()))},a=(t,e="default")=>{r.data[e]={...r.data[e],...t},r.data[e][""]={...h,...r.data[e]?.[""]},delete r.pluralForms[e]},s=(t,e)=>{a(t,e),o()},u=(t="default",e,n,i,o)=>(r.data[t]||a(void 0,t),r.dcnpgettext(t,e,n,i,o)),l=(t="default")=>t,c=(t,e,r)=>{let i=u(r,e,t);return n?(i=n.applyFilters("i18n.gettext_with_context",i,t,e,r),n.applyFilters("i18n.gettext_with_context_"+l(r),i,t,e,r)):i};if(t&&s(t,e),n){const t=t=>{g.test(t)&&o()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>r.data[t],setLocaleData:s,addLocaleData:(t,e="default")=>{r.data[e]={...r.data[e],...t,"":{...h,...r.data[e]?.[""],...t?.[""]}},delete r.pluralForms[e],o()},resetLocaleData:(t,e)=>{r.data={},r.pluralForms={},s(t,e)},subscribe:t=>(i.add(t),()=>i.delete(t)),__:(t,e)=>{let r=u(e,void 0,t);return n?(r=n.applyFilters("i18n.gettext",r,t,e),n.applyFilters("i18n.gettext_"+l(e),r,t,e)):r},_x:c,_n:(t,e,r,i)=>{let o=u(i,void 0,t,e,r);return n?(o=n.applyFilters("i18n.ngettext",o,t,e,r,i),n.applyFilters("i18n.ngettext_"+l(i),o,t,e,r,i)):o},_nx:(t,e,r,i,o)=>{let a=u(o,i,t,e,r);return n?(a=n.applyFilters("i18n.ngettext_with_context",a,t,e,r,i,o),n.applyFilters("i18n.ngettext_with_context_"+l(o),a,t,e,r,i,o)):a},isRTL:()=>"rtl"===c("ltr","text direction"),hasTranslation:(t,e,i)=>{const o=e?e+""+t:t;let a=!!r.data?.[null!=i?i:"default"]?.[o];return n&&(a=n.applyFilters("i18n.has_translation",a,t,e,i),a=n.applyFilters("i18n.has_translation_"+l(i),a,t,e,i)),a}}};var y=window.wp.hooks;const b=x(void 0,void 0,y.defaultHooks);var _=b;const v=b.getLocaleData.bind(b),m=b.setLocaleData.bind(b),w=b.resetLocaleData.bind(b),k=b.subscribe.bind(b),F=b.__.bind(b),S=b._x.bind(b),j=b._n.bind(b),L=b._nx.bind(b),T=b.isRTL.bind(b),D=b.hasTranslation.bind(b)}(),(window.wp=window.wp||{}).i18n=r}();

wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );"use strict";var _excluded=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"],_excluded2=["data","rowHeight","renderRow","overscanCount"];var _globalThis=function(Object){function get(){var _global=this||self;delete Object.prototype.__magic__;return _global;}if(typeof globalThis==="object"){return globalThis;}if(this){return get();}else{Object.defineProperty(Object.prototype,"__magic__",{configurable:true,get:get});var _global=__magic__;return _global;}}(Object);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _get(){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get.bind();}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(arguments.length<3?target:receiver);}return desc.value;};}return _get.apply(this,arguments);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return exports;};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key];}try{define({},"");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator;}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result);},function(error){return invoke("throw",error,resolve,reject);});}reject(record.arg);}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult();}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg);}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done};}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg);}};}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(undefined===method)return context.delegate=null,"throw"===methodName&&delegate.iterator["return"]&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel);}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0);}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next;};return next.next=next;}}return{next:doneResult};}function doneResult(){return{value:undefined,done:!0};}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name));},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun;},exports.awrap=function(arg){return{__await:arg};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this;}),define(Gp,"toString",function(){return"[object Generator]";}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next;}return next.done=!0,next;};},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined);},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval;},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record);},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel;}},"catch":function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel;}},exports;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i["return"]&&(_r=_i["return"](),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,"prototype",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct.bind();}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e9){throw _e9;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e10){didErr=true;err=_e10;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}function _wrapAsyncGenerator(fn){return function(){return new _AsyncGenerator(fn.apply(this,arguments));};}function _AsyncGenerator(gen){var front,back;function resume(key,arg){try{var result=gen[key](arg),value=result.value,overloaded=value instanceof _OverloadYield;Promise.resolve(overloaded?value.v:value).then(function(arg){if(overloaded){var nextKey="return"===key?"return":"next";if(!value.k||arg.done)return resume(nextKey,arg);arg=gen[nextKey](arg).value;}settle(result.done?"return":"normal",arg);},function(err){resume("throw",err);});}catch(err){settle("throw",err);}}function settle(type,value){switch(type){case"return":front.resolve({value:value,done:!0});break;case"throw":front.reject(value);break;default:front.resolve({value:value,done:!1});}(front=front.next)?resume(front.key,front.arg):back=null;}this._invoke=function(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};back?back=back.next=request:(front=back=request,resume(key,arg));});},"function"!=typeof gen["return"]&&(this["return"]=void 0);}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this;},_AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg);},_AsyncGenerator.prototype["throw"]=function(arg){return this._invoke("throw",arg);},_AsyncGenerator.prototype["return"]=function(arg){return this._invoke("return",arg);};function _awaitAsyncGenerator(value){return new _OverloadYield(value,0);}function _asyncGeneratorDelegate(inner){var iter={},waiting=!1;function pump(key,value){return waiting=!0,value=new Promise(function(resolve){resolve(inner[key](value));}),{done:!1,value:new _OverloadYield(value,1)};}return iter["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this;},iter.next=function(value){return waiting?(waiting=!1,value):pump("next",value);},"function"==typeof inner["throw"]&&(iter["throw"]=function(value){if(waiting)throw waiting=!1,value;return pump("throw",value);}),"function"==typeof inner["return"]&&(iter["return"]=function(value){return waiting?(waiting=!1,value):pump("return",value);}),iter;}function _OverloadYield(value,kind){this.v=value,this.k=kind;}function _asyncIterator(iterable){var method,async,sync,retry=2;for("undefined"!=typeof Symbol&&(async=Symbol.asyncIterator,sync=Symbol.iterator);retry--;){if(async&&null!=(method=iterable[async]))return method.call(iterable);if(sync&&null!=(method=iterable[sync]))return new AsyncFromSyncIterator(method.call(iterable));async="@@asyncIterator",sync="@@iterator";}throw new TypeError("Object is not async iterable");}function AsyncFromSyncIterator(s){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var done=r.done;return Promise.resolve(r.value).then(function(value){return{value:value,done:done};});}return AsyncFromSyncIterator=function AsyncFromSyncIterator(s){this.s=s,this.n=s.next;},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments));},"return":function _return(value){var ret=this.s["return"];return void 0===ret?Promise.resolve({value:value,done:!0}):AsyncFromSyncIteratorContinuation(ret.apply(this.s,arguments));},"throw":function _throw(value){var thr=this.s["return"];return void 0===thr?Promise.reject(value):AsyncFromSyncIteratorContinuation(thr.apply(this.s,arguments));}},new AsyncFromSyncIterator(s);}(function(){var ia=Object.defineProperty;var M3=Object.getOwnPropertyDescriptor;var L3=Object.getOwnPropertyNames;var j3=Object.prototype.hasOwnProperty;var z3=function z3(r){return ia(r,"__esModule",{value:!0});},o=function o(r,e){return ia(r,"name",{value:e,configurable:!0});};var Df=function Df(r,e){return function(){return r&&(e=r(r=0)),e;};};var v=function v(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports;};},qf=function qf(r,e){for(var t in e)ia(r,t,{get:e[t],enumerable:!0});},H3=function H3(r,e,t,i){if(e&&_typeof(e)=="object"||typeof e=="function"){var _iterator3=_createForOfIteratorHelper(L3(e)),_step3;try{var _loop=function _loop(){var s=_step3.value;!j3.call(r,s)&&(t||s!=="default")&&ia(r,s,{get:function get(){return e[s];},enumerable:!(i=M3(e,s))||i.enumerable});};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}return r;};var N=function(r){return function(e,t){return r&&r.get(e)||(t=H3(z3({}),e,1),r&&r.set(e,t),t);};}(typeof WeakMap!="undefined"?new WeakMap():0);var If=v(function(Dq,Nf){"use strict";function Pu(r){return r<10?"0".concat(r):r.toString();}o(Pu,"pad");function $3(){var r=new Date(),e=Pu(r.getHours()),t=Pu(r.getMinutes()),i=Pu(r.getSeconds());return"".concat(e,":").concat(t,":").concat(i);}o($3,"getTimeStamp");Nf.exports=$3;});var Fu=v(function(_s){"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.justErrorsLogger=_s.debugLogger=void 0;var sa=If(),V3={debug:function debug(){},warn:function warn(){},error:function error(){var _console;for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(_console=console).error.apply(_console,["[Uppy] [".concat(sa(),"]")].concat(e));}};_s.justErrorsLogger=V3;var W3={debug:function debug(){var _console2;for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(_console2=console).debug.apply(_console2,["[Uppy] [".concat(sa(),"]")].concat(e));},warn:function warn(){var _console3;for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(_console3=console).warn.apply(_console3,["[Uppy] [".concat(sa(),"]")].concat(e));},error:function error(){var _console4;for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(_console4=console).error.apply(_console4,["[Uppy] [".concat(sa(),"]")].concat(e));}};_s.debugLogger=W3;});var Ri=v(function(Nq,Bf){var K3="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",G3=o(function(r,e){return function(){var t="",i=e;for(;i--;)t+=r[Math.random()*r.length|0];return t;};},"customAlphabet"),X3=o(function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:21;var e="",t=r;for(;t--;)e+=K3[Math.random()*64|0];return e;},"nanoid");Bf.exports={nanoid:X3,customAlphabet:G3};});var na=v(function(Iq,Mf){Mf.exports=o(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+_typeof(e));var t=e<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var s=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);e=Number(e/Math.pow(1024,s));var n=i[s];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+n:(t?"-":"")+e.toFixed(1)+" "+n;},"prettierBytes");});var zf=v(function(Bq,jf){"use strict";function Lf(r,e){this.text=r=r||"",this.hasWild=~r.indexOf("*"),this.separator=e,this.parts=r.split(e);}o(Lf,"WildcardMatcher");Lf.prototype.match=function(r){var e=!0,t=this.parts,i,s=t.length,n;if(typeof r=="string"||r instanceof String){if(!this.hasWild&&this.text!=r)e=!1;else{for(n=(r||"").split(this.separator),i=0;e&&i<s;i++)t[i]!=="*"&&(i<n.length?e=t[i]===n[i]:e=!1);e=e&&n;}}else if(typeof r.splice=="function")for(e=[],i=r.length;i--;)this.match(r[i])&&(e[e.length]=r[i]);else if(_typeof(r)=="object"){e={};for(var a in r)this.match(a)&&(e[a]=r[a]);}return e;};jf.exports=function(r,e,t){var i=new Lf(r,t||/[\/\.]/);return typeof e!="undefined"?i.match(e):i;};});var $f=v(function(Mq,Hf){var Y3=zf(),J3=/[\/\+\.]/;Hf.exports=function(r,e){function t(i){var s=Y3(i,r,J3);return s&&s.length>=2;}return o(t,"test"),e?t(e.split(";")[0]):t;};});var Vf=v(function(ii){"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.defaultOptions=ii.RestrictionError=ii.Restricter=void 0;var Eu=na(),Q3=$f(),Z3={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};ii.defaultOptions=Z3;var nr=/*#__PURE__*/function(_Error){_inherits(nr,_Error);var _super=_createSuper(nr);function nr(){var _this;_classCallCheck(this,nr);_this=_super.apply(this,arguments);_this.isRestriction=!0;return _this;}return _createClass(nr);}(/*#__PURE__*/_wrapNativeSuper(Error));o(nr,"RestrictionError");ii.RestrictionError=nr;typeof AggregateError=="undefined"&&(_globalThis.AggregateError=o(/*#__PURE__*/function(_Error2){_inherits(_class,_Error2);var _super2=_createSuper(_class);function _class(e,t){var _this2;_classCallCheck(this,_class);_this2=_super2.call(this,t);_this2.errors=e;return _this2;}return _createClass(_class);}(/*#__PURE__*/_wrapNativeSuper(Error)),"AggregateError"));var Cu=/*#__PURE__*/function(){function Cu(e,t){_classCallCheck(this,Cu);this.i18n=t,this.getOpts=function(){var i=e();if(i.restrictions.allowedFileTypes!=null&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i;};}_createClass(Cu,[{key:"validate",value:function validate(e,t){var _this$getOpts$restric=this.getOpts().restrictions,i=_this$getOpts$restric.maxFileSize,s=_this$getOpts$restric.minFileSize,n=_this$getOpts$restric.maxTotalFileSize,a=_this$getOpts$restric.maxNumberOfFiles,l=_this$getOpts$restric.allowedFileTypes;if(a&&t.filter(function(c){return!c.isGhost;}).length+1>a)throw new nr("".concat(this.i18n("youCanOnlyUploadX",{smart_count:a})));if(l&&!l.some(function(c){return c.includes("/")?e.type?Q3(e.type.replace(/;.*?$/,""),c):!1:c[0]==="."&&e.extension?e.extension.toLowerCase()===c.slice(1).toLowerCase():!1;})){var c=l.join(", ");throw new nr(this.i18n("youCanOnlyUploadFileTypes",{types:c}));}if(n&&e.size!=null&&t.reduce(function(c,h){return c+h.size;},e.size)>n)throw new nr(this.i18n("exceedsSize",{size:Eu(n),file:e.name}));if(i&&e.size!=null&&e.size>i)throw new nr(this.i18n("exceedsSize",{size:Eu(i),file:e.name}));if(s&&e.size!=null&&e.size<s)throw new nr(this.i18n("inferiorSize",{size:Eu(s)}));}},{key:"validateMinNumberOfFiles",value:function validateMinNumberOfFiles(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new nr(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}));}},{key:"getMissingRequiredMetaFields",value:function getMissingRequiredMetaFields(e){var t=new nr(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),i=this.getOpts().restrictions.requiredMetaFields,s=Object.prototype.hasOwnProperty,n=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var a=_step4.value;(!s.call(e.meta,a)||e.meta[a]==="")&&n.push(a);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return{missingFields:n,error:t};}}]);return Cu;}();o(Cu,"Restricter");ii.Restricter=Cu;});var Ss=v(function(zq,Wf){"use strict";function eF(r,e){return Object.prototype.hasOwnProperty.call(r,e);}o(eF,"has");Wf.exports=eF;});var Ou=v(function(Hq,Xf){"use strict";function Kf(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(Kf,"_classPrivateFieldLooseBase");var tF=0;function rF(r){return"__private_"+tF++ +"_"+r;}o(rF,"_classPrivateFieldLooseKey");var iF=Ss();function sF(r,e,t){var i=[];return r.forEach(function(s){return typeof s!="string"?i.push(s):e[Symbol.split](s).forEach(function(n,a,l){n!==""&&i.push(n),a<l.length-1&&i.push(t);});}),i;}o(sF,"insertReplacement");function Gf(r,e){var t=/\$/g,i="$$$$",s=[r];if(e==null)return s;for(var _i2=0,_Object$keys=Object.keys(e);_i2<_Object$keys.length;_i2++){var n=_Object$keys[_i2];if(n!=="_"){var a=e[n];typeof a=="string"&&(a=t[Symbol.replace](a,i)),s=sF(s,new RegExp("%\\{".concat(n,"\\}"),"g"),a);}}return s;}o(Gf,"interpolate");var fn=rF("apply"),Ru=/*#__PURE__*/function(){function Ru(e){_classCallCheck(this,Ru);Object.defineProperty(this,fn,{value:nF}),this.locale={strings:{},pluralize:function pluralize(t){return t===1?0:1;}},Array.isArray(e)?e.forEach(Kf(this,fn)[fn],this):Kf(this,fn)[fn](e);}_createClass(Ru,[{key:"translate",value:function translate(e,t){return this.translateArray(e,t).join("");}},{key:"translateArray",value:function translateArray(e,t){if(!iF(this.locale.strings,e))throw new Error("missing string: ".concat(e));var i=this.locale.strings[e];if(_typeof(i)=="object"){if(t&&typeof t.smart_count!="undefined"){var n=this.locale.pluralize(t.smart_count);return Gf(i[n],t);}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}");}return Gf(i,t);}}]);return Ru;}();o(Ru,"Translator");function nF(r){if(!(r!=null&&r.strings))return;var e=this.locale;this.locale=_objectSpread(_objectSpread({},e),{},{strings:_objectSpread(_objectSpread({},e.strings),r.strings)}),this.locale.pluralize=r.pluralize||e.pluralize;}o(nF,"_apply2");Xf.exports=Ru;});var xu=v(function($q,Yf){Yf.exports=o(function(){var e={},t=e._fns={};e.emit=o(function(a,l,u,c,h,p,g){var w=i(a);w.length&&s(a,w,[l,u,c,h,p,g]);},"emit"),e.on=o(function(a,l){t[a]||(t[a]=[]),t[a].push(l);},"on"),e.once=o(function(a,l){function u(){l.apply(this,arguments),e.off(a,u);}o(u,"one"),this.on(a,u);},"once"),e.off=o(function(a,l){var u=[];if(a&&l){var c=this._fns[a],h=0,p=c?c.length:0;for(h;h<p;h++)c[h]!==l&&u.push(c[h]);}u.length?this._fns[a]=u:delete this._fns[a];},"off");function i(n){var a=t[n]?t[n]:[],l=n.indexOf(":"),u=l===-1?[n]:[n.substring(0,l),n.substring(l+1)],c=Object.keys(t),h=0,p=c.length;for(h;h<p;h++){var g=c[h];if(g==="*"&&(a=a.concat(t[g])),u.length===2&&u[0]===g){a=a.concat(t[g]);break;}}return a;}o(i,"getListeners");function s(n,a,l){var u=0,c=a.length;for(u;u<c&&a[u];u++)a[u].event=n,a[u].apply(a[u],l);}return o(s,"emitAll"),e;},"createNamespaceEmitter");});var mn=v(function(Vq,em){var Jf="Expected a function",Qf=0/0,oF="[object Symbol]",aF=/^\s+|\s+$/g,lF=/^[-+]0x[0-9a-f]+$/i,uF=/^0b[01]+$/i,cF=/^0o[0-7]+$/i,hF=parseInt,dF=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global,pF=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self,fF=dF||pF||Function("return this")(),mF=Object.prototype,gF=mF.toString,vF=Math.max,yF=Math.min,Tu=o(function(){return fF.Date.now();},"now");function bF(r,e,t){var i,s,n,a,l,u,c=0,h=!1,p=!1,g=!0;if(typeof r!="function")throw new TypeError(Jf);e=Zf(e)||0,oa(t)&&(h=!!t.leading,p="maxWait"in t,n=p?vF(Zf(t.maxWait)||0,e):n,g="trailing"in t?!!t.trailing:g);function w(B){var M=i,$=s;return i=s=void 0,c=B,a=r.apply($,M),a;}o(w,"invokeFunc");function b(B){return c=B,l=setTimeout(C,e),h?w(B):a;}o(b,"leadingEdge");function E(B){var M=B-u,$=B-c,Y=e-M;return p?yF(Y,n-$):Y;}o(E,"remainingWait");function F(B){var M=B-u,$=B-c;return u===void 0||M>=e||M<0||p&&$>=n;}o(F,"shouldInvoke");function C(){var B=Tu();if(F(B))return j(B);l=setTimeout(C,E(B));}o(C,"timerExpired");function j(B){return l=void 0,g&&i?w(B):(i=s=void 0,a);}o(j,"trailingEdge");function W(){l!==void 0&&clearTimeout(l),c=0,i=u=s=l=void 0;}o(W,"cancel");function H(){return l===void 0?a:j(Tu());}o(H,"flush");function J(){var B=Tu(),M=F(B);if(i=arguments,s=this,u=B,M){if(l===void 0)return b(u);if(p)return l=setTimeout(C,e),w(u);}return l===void 0&&(l=setTimeout(C,e)),a;}return o(J,"debounced"),J.cancel=W,J.flush=H,J;}o(bF,"debounce");function wF(r,e,t){var i=!0,s=!0;if(typeof r!="function")throw new TypeError(Jf);return oa(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),bF(r,e,{leading:i,maxWait:e,trailing:s});}o(wF,"throttle");function oa(r){var e=_typeof(r);return!!r&&(e=="object"||e=="function");}o(oa,"isObject");function _F(r){return!!r&&_typeof(r)=="object";}o(_F,"isObjectLike");function SF(r){return _typeof(r)=="symbol"||_F(r)&&gF.call(r)==oF;}o(SF,"isSymbol");function Zf(r){if(typeof r=="number")return r;if(SF(r))return Qf;if(oa(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=oa(e)?e+"":e;}if(typeof r!="string")return r===0?r:+r;r=r.replace(aF,"");var t=uF.test(r);return t||cF.test(r)?hF(r.slice(2),t?2:8):lF.test(r)?Qf:+r;}o(Zf,"toNumber");em.exports=wF;});var Au=v(function(Wq,tm){"use strict";function PF(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(PF,"_classPrivateFieldLooseBase");var FF=0;function EF(r){return"__private_"+FF++ +"_"+r;}o(EF,"_classPrivateFieldLooseKey");var CF={version:"2.1.1"},ku=EF("publish"),aa=/*#__PURE__*/function(){function aa(){_classCallCheck(this,aa);Object.defineProperty(this,ku,{value:RF}),this.state={},this.callbacks=[];}_createClass(aa,[{key:"getState",value:function getState(){return this.state;}},{key:"setState",value:function setState(e){var t=_objectSpread({},this.state),i=_objectSpread(_objectSpread({},this.state),e);this.state=i,PF(this,ku)[ku](t,i,e);}},{key:"subscribe",value:function subscribe(e){var _this3=this;return this.callbacks.push(e),function(){_this3.callbacks.splice(_this3.callbacks.indexOf(e),1);};}}]);return aa;}();o(aa,"DefaultStore");function RF(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];this.callbacks.forEach(function(i){i.apply(void 0,e);});}o(RF,"_publish2");aa.VERSION=CF.version;function OF(){return new aa();}o(OF,"defaultStore");tm.exports=OF;});var gn=v(function(Kq,rm){"use strict";function xF(r){var e=r.lastIndexOf(".");return e===-1||e===r.length-1?{name:r,extension:void 0}:{name:r.slice(0,e),extension:r.slice(e+1)};}o(xF,"getFileNameAndExtension");rm.exports=xF;});var Uu=v(function(Gq,im){"use strict";im.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};});var Du=v(function(Xq,nm){"use strict";var TF=gn(),sm=Uu();function kF(r){var e;if(r.type)return r.type;var t=r.name?(e=TF(r.name).extension)==null?void 0:e.toLowerCase():null;return t&&t in sm?sm[t]:"application/octet-stream";}o(kF,"getFileType");nm.exports=kF;});var qu=v(function(Yq,am){"use strict";function AF(r){return r.charCodeAt(0).toString(32);}o(AF,"encodeCharacter");function om(r){var e="";return r.replace(/[^A-Z0-9]/ig,function(t){return e+="-".concat(AF(t)),"/";})+e;}o(om,"encodeFilename");function UF(r){var e="uppy";return typeof r.name=="string"&&(e+="-".concat(om(r.name.toLowerCase()))),r.type!==void 0&&(e+="-".concat(r.type)),r.meta&&typeof r.meta.relativePath=="string"&&(e+="-".concat(om(r.meta.relativePath.toLowerCase()))),r.data.size!==void 0&&(e+="-".concat(r.data.size)),r.data.lastModified!==void 0&&(e+="-".concat(r.data.lastModified)),e;}o(UF,"generateFileID");am.exports=UF;});var um=v(function(Jq,lm){"use strict";function DF(r){if(r==null&&typeof navigator!="undefined"&&(r=navigator.userAgent),!r)return!0;var e=/Edge\/(\d+\.\d+)/.exec(r);if(!e)return!0;var t=e[1],_t$split=t.split("."),_t$split2=_slicedToArray(_t$split,2),i=_t$split2[0],s=_t$split2[1];return i=parseInt(i,10),s=parseInt(s,10),i<15||i===15&&s<15063||i>18||i===18&&s>=18218;}o(DF,"supportsUploadProgress");lm.exports=DF;});var hm=v(function(Qq,cm){"use strict";function qF(r,e){return e.name?e.name:r.split("/")[0]==="image"?"".concat(r.split("/")[0],".").concat(r.split("/")[1]):"noname";}o(qF,"getFileName");cm.exports=qF;});var pm=v(function(Zq,dm){"use strict";dm.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};});var Mu=v(function(eN,vm){"use strict";var NF=Ri(),fm=Fu(),Ps=Vf(),mm,gm;function z(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(z,"_classPrivateFieldLooseBase");var IF=0;function Ae(r){return"__private_"+IF++ +"_"+r;}o(Ae,"_classPrivateFieldLooseKey");var BF=Ou(),MF=xu(),LF=mn(),jF=Au(),zF=Du(),HF=gn(),$F=qu(),VF=um(),WF=hm(),KF={version:"2.3.4"},GF=pm(),Me=Ae("plugins"),Wt=Ae("restricter"),vn=Ae("storeUnsubscribe"),Er=Ae("emitter"),Oi=Ae("preProcessors"),xi=Ae("uploaders"),Cr=Ae("postProcessors"),vt=Ae("informAndEmit"),yn=Ae("checkRequiredMetaFieldsOnFile"),Nu=Ae("checkRequiredMetaFields"),bn=Ae("assertNewUploadAllowed"),wn=Ae("checkAndCreateFileStateObject"),_n=Ae("startIfAutoProceed"),Iu=Ae("addListeners"),Kt=Ae("updateOnlineStatus"),Rr=Ae("createUpload"),Bu=Ae("getUpload"),Ti=Ae("removeUpload"),Or=Ae("runUpload");mm=Symbol["for"]("uppy test: getPlugins");gm=Symbol["for"]("uppy test: createUpload");var la=/*#__PURE__*/function(_mm,_gm){function la(e){var _this4=this;_classCallCheck(this,la);Object.defineProperty(this,Or,{value:nE}),Object.defineProperty(this,Ti,{value:sE}),Object.defineProperty(this,Bu,{value:iE}),Object.defineProperty(this,Rr,{value:rE}),Object.defineProperty(this,Iu,{value:tE}),Object.defineProperty(this,_n,{value:eE}),Object.defineProperty(this,wn,{value:ZF}),Object.defineProperty(this,bn,{value:QF}),Object.defineProperty(this,Nu,{value:JF}),Object.defineProperty(this,yn,{value:YF}),Object.defineProperty(this,vt,{value:XF}),Object.defineProperty(this,Me,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Wt,{writable:!0,value:void 0}),Object.defineProperty(this,vn,{writable:!0,value:void 0}),Object.defineProperty(this,Er,{writable:!0,value:MF()}),Object.defineProperty(this,Oi,{writable:!0,value:new Set()}),Object.defineProperty(this,xi,{writable:!0,value:new Set()}),Object.defineProperty(this,Cr,{writable:!0,value:new Set()}),Object.defineProperty(this,Kt,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=GF;var t={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ps.defaultOptions,meta:{},onBeforeFileAdded:function onBeforeFileAdded(i){return i;},onBeforeUpload:function onBeforeUpload(i){return i;},store:jF(),logger:fm.justErrorsLogger,infoTimeout:5e3};this.opts=_objectSpread(_objectSpread(_objectSpread({},t),e),{},{restrictions:_objectSpread(_objectSpread({},t.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=fm.debugLogger),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=LF(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:VF(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:_objectSpread({},this.opts.meta),info:[],recoveredState:null}),z(this,Wt)[Wt]=new Ps.Restricter(function(){return _this4.opts;},this.i18n),z(this,vn)[vn]=this.store.subscribe(function(i,s,n){_this4.emit("state-update",i,s,n),_this4.updateAll(s);}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),z(this,Iu)[Iu]();}_createClass(la,[{key:"emit",value:function emit(e){var _z$Er;for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];(_z$Er=z(this,Er)[Er]).emit.apply(_z$Er,[e].concat(i));}},{key:"on",value:function on(e,t){return z(this,Er)[Er].on(e,t),this;}},{key:"once",value:function once(e,t){return z(this,Er)[Er].once(e,t),this;}},{key:"off",value:function off(e,t){return z(this,Er)[Er].off(e,t),this;}},{key:"updateAll",value:function updateAll(e){this.iteratePlugins(function(t){t.update(e);});}},{key:"setState",value:function setState(e){this.store.setState(e);}},{key:"getState",value:function getState(){return this.store.getState();}},{key:"state",get:function get(){return this.getState();}},{key:"setFileState",value:function setFileState(e,t){if(!this.getState().files[e])throw new Error("Can\u2019t set state for ".concat(e," (the file could have been removed)"));this.setState({files:_objectSpread(_objectSpread({},this.getState().files),{},_defineProperty({},e,_objectSpread(_objectSpread({},this.getState().files[e]),t)))});}},{key:"i18nInit",value:function i18nInit(){var e=new BF([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale;}},{key:"setOptions",value:function setOptions(e){this.opts=_objectSpread(_objectSpread(_objectSpread({},this.opts),e),{},{restrictions:_objectSpread(_objectSpread({},this.opts.restrictions),e&&e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(function(t){t.setOptions();}),this.setState();}},{key:"resetProgress",value:function resetProgress(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=_objectSpread({},this.getState().files),i={};Object.keys(t).forEach(function(s){var n=_objectSpread({},t[s]);n.progress=_objectSpread(_objectSpread({},n.progress),e),i[s]=n;}),this.setState({files:i,totalProgress:0}),this.emit("reset-progress");}},{key:"addPreProcessor",value:function addPreProcessor(e){z(this,Oi)[Oi].add(e);}},{key:"removePreProcessor",value:function removePreProcessor(e){return z(this,Oi)[Oi]["delete"](e);}},{key:"addPostProcessor",value:function addPostProcessor(e){z(this,Cr)[Cr].add(e);}},{key:"removePostProcessor",value:function removePostProcessor(e){return z(this,Cr)[Cr]["delete"](e);}},{key:"addUploader",value:function addUploader(e){z(this,xi)[xi].add(e);}},{key:"removeUploader",value:function removeUploader(e){return z(this,xi)[xi]["delete"](e);}},{key:"setMeta",value:function setMeta(e){var t=_objectSpread(_objectSpread({},this.getState().meta),e),i=_objectSpread({},this.getState().files);Object.keys(i).forEach(function(s){i[s]=_objectSpread(_objectSpread({},i[s]),{},{meta:_objectSpread(_objectSpread({},i[s].meta),e)});}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:i});}},{key:"setFileMeta",value:function setFileMeta(e,t){var i=_objectSpread({},this.getState().files);if(!i[e]){this.log("Was trying to set metadata for a file that has been removed: ",e);return;}var s=_objectSpread(_objectSpread({},i[e].meta),t);i[e]=_objectSpread(_objectSpread({},i[e]),{},{meta:s}),this.setState({files:i});}},{key:"getFile",value:function getFile(e){return this.getState().files[e];}},{key:"getFiles",value:function getFiles(){var _this$getState=this.getState(),e=_this$getState.files;return Object.values(e);}},{key:"getObjectOfFilesPerState",value:function getObjectOfFilesPerState(){var _this$getState2=this.getState(),e=_this$getState2.files,t=_this$getState2.totalProgress,i=_this$getState2.error,s=Object.values(e),n=s.filter(function(b){var E=b.progress;return!E.uploadComplete&&E.uploadStarted;}),a=s.filter(function(b){return!b.progress.uploadStarted;}),l=s.filter(function(b){return b.progress.uploadStarted||b.progress.preprocess||b.progress.postprocess;}),u=s.filter(function(b){return b.progress.uploadStarted;}),c=s.filter(function(b){return b.isPaused;}),h=s.filter(function(b){return b.progress.uploadComplete;}),p=s.filter(function(b){return b.error;}),g=n.filter(function(b){return!b.isPaused;}),w=s.filter(function(b){return b.progress.preprocess||b.progress.postprocess;});return{newFiles:a,startedFiles:l,uploadStartedFiles:u,pausedFiles:c,completeFiles:h,erroredFiles:p,inProgressFiles:n,inProgressNotPausedFiles:g,processingFiles:w,isUploadStarted:u.length>0,isAllComplete:t===100&&h.length===s.length&&w.length===0,isAllErrored:!!i&&p.length===s.length,isAllPaused:n.length!==0&&c.length===n.length,isUploadInProgress:n.length>0,isSomeGhost:s.some(function(b){return b.isGhost;})};}},{key:"validateRestrictions",value:function validateRestrictions(e,t){t===void 0&&(t=this.getFiles());try{return z(this,Wt)[Wt].validate(e,t),{result:!0};}catch(i){return{result:!1,reason:i.message};}}},{key:"checkIfFileAlreadyExists",value:function checkIfFileAlreadyExists(e){var _this$getState3=this.getState(),t=_this$getState3.files;return!!(t[e]&&!t[e].isGhost);}},{key:"addFile",value:function addFile(e){z(this,bn)[bn](e);var _this$getState4=this.getState(),t=_this$getState4.files,i=z(this,wn)[wn](t,e);return t[i.id]&&t[i.id].isGhost&&(i=_objectSpread(_objectSpread({},t[i.id]),{},{data:e.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(i.name,", ").concat(i.id))),this.setState({files:_objectSpread(_objectSpread({},t),{},_defineProperty({},i.id,i))}),this.emit("file-added",i),this.emit("files-added",[i]),this.log("Added file: ".concat(i.name,", ").concat(i.id,", mime type: ").concat(i.type)),z(this,_n)[_n](),i.id;}},{key:"addFiles",value:function addFiles(e){var _this5=this;z(this,bn)[bn]();var t=_objectSpread({},this.getState().files),i=[],s=[];for(var n=0;n<e.length;n++)try{var a=z(this,wn)[wn](t,e[n]);t[a.id]&&t[a.id].isGhost&&(a=_objectSpread(_objectSpread({},t[a.id]),{},{data:e[n].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(a.name,", ").concat(a.id))),t[a.id]=a,i.push(a);}catch(a){a.isRestriction||s.push(a);}if(this.setState({files:t}),i.forEach(function(n){_this5.emit("file-added",n);}),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.keys(i).forEach(function(n){_this5.log("Added file: ".concat(i[n].name,"\n id: ").concat(i[n].id,"\n type: ").concat(i[n].type));}),i.length>0&&z(this,_n)[_n](),s.length>0){var _n2="Multiple errors occurred while adding files:\n";if(s.forEach(function(a){_n2+="\n * ".concat(a.message);}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:_n2},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,_n2);{var _a2=new Error(_n2);throw _a2.errors=s,_a2;}}}},{key:"removeFiles",value:function removeFiles(e,t){var _this6=this;var _this$getState5=this.getState(),i=_this$getState5.files,s=_this$getState5.currentUploads,n=_objectSpread({},i),a=_objectSpread({},s),l=Object.create(null);e.forEach(function(p){i[p]&&(l[p]=i[p],delete n[p]);});function u(p){return l[p]===void 0;}o(u,"fileIsNotRemoved"),Object.keys(a).forEach(function(p){var g=s[p].fileIDs.filter(u);if(g.length===0){delete a[p];return;}var _this6$getState=_this6.getState(),w=_this6$getState.capabilities;if(g.length!==s[p].fileIDs.length&&!w.individualCancellation)throw new Error("individualCancellation is disabled");a[p]=_objectSpread(_objectSpread({},s[p]),{},{fileIDs:g});});var c={currentUploads:a,files:n};Object.keys(n).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var h=Object.keys(l);h.forEach(function(p){_this6.emit("file-removed",l[p],t);}),h.length>5?this.log("Removed ".concat(h.length," files")):this.log("Removed files: ".concat(h.join(", ")));}},{key:"removeFile",value:function removeFile(e,t){t===void 0&&(t=null),this.removeFiles([e],t);}},{key:"pauseResume",value:function pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;var i=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",e,i),i;}},{key:"pauseAll",value:function pauseAll(){var e=_objectSpread({},this.getState().files);Object.keys(e).filter(function(i){return!e[i].progress.uploadComplete&&e[i].progress.uploadStarted;}).forEach(function(i){var s=_objectSpread(_objectSpread({},e[i]),{},{isPaused:!0});e[i]=s;}),this.setState({files:e}),this.emit("pause-all");}},{key:"resumeAll",value:function resumeAll(){var e=_objectSpread({},this.getState().files);Object.keys(e).filter(function(i){return!e[i].progress.uploadComplete&&e[i].progress.uploadStarted;}).forEach(function(i){var s=_objectSpread(_objectSpread({},e[i]),{},{isPaused:!1,error:null});e[i]=s;}),this.setState({files:e}),this.emit("resume-all");}},{key:"retryAll",value:function retryAll(){var e=_objectSpread({},this.getState().files),t=Object.keys(e).filter(function(s){return e[s].error;});if(t.forEach(function(s){var n=_objectSpread(_objectSpread({},e[s]),{},{isPaused:!1,error:null});e[s]=n;}),this.setState({files:e,error:null}),this.emit("retry-all",t),t.length===0)return Promise.resolve({successful:[],failed:[]});var i=z(this,Rr)[Rr](t,{forceAllowNewUpload:!0});return z(this,Or)[Or](i);}},{key:"cancelAll",value:function cancelAll(e){var _ref=e===void 0?{}:e,_ref$reason=_ref.reason,t=_ref$reason===void 0?"user":_ref$reason;if(this.emit("cancel-all",{reason:t}),t==="user"){var _this$getState6=this.getState(),i=_this$getState6.files,s=Object.keys(i);s.length&&this.removeFiles(s,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null});}}},{key:"retryUpload",value:function retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=z(this,Rr)[Rr]([e],{forceAllowNewUpload:!0});return z(this,Or)[Or](t);}},{key:"reset",value:function reset(){this.cancelAll.apply(this,arguments);}},{key:"logout",value:function logout(){this.iteratePlugins(function(e){e.provider&&e.provider.logout&&e.provider.logout();});}},{key:"calculateProgress",value:function calculateProgress(e,t){if(e==null||!this.getFile(e.id)){this.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}var i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:_objectSpread(_objectSpread({},this.getFile(e.id).progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this.calculateTotalProgress();}},{key:"calculateTotalProgress",value:function calculateTotalProgress(){var t=this.getFiles().filter(function(c){return c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess;});if(t.length===0){this.emit("progress",0),this.setState({totalProgress:0});return;}var i=t.filter(function(c){return c.progress.bytesTotal!=null;}),s=t.filter(function(c){return c.progress.bytesTotal==null;});if(i.length===0){var c=t.length*100,h=s.reduce(function(g,w){return g+w.progress.percentage;},0),p=Math.round(h/c*100);this.setState({totalProgress:p});return;}var n=i.reduce(function(c,h){return c+h.progress.bytesTotal;},0),a=n/i.length;n+=a*s.length;var l=0;i.forEach(function(c){l+=c.progress.bytesUploaded;}),s.forEach(function(c){l+=a*(c.progress.percentage||0)/100;});var u=n===0?0:Math.round(l/n*100);u>100&&(u=100),this.setState({totalProgress:u}),this.emit("progress",u);}},{key:"updateOnlineStatus",value:function updateOnlineStatus(){(typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0);}},{key:"getID",value:function getID(){return this.opts.id;}},{key:"use",value:function use(e,t){if(typeof e!="function"){var a="Expected a plugin class, but got ".concat(e===null?"null":_typeof(e),". Please verify that the plugin was imported and spelled correctly.");throw new TypeError(a);}var i=new e(this,t),s=i.id;if(!s)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");var n=this.getPlugin(s);if(n){var _a3="Already found a plugin named '".concat(n.id,"'. Tried to use: '").concat(s,"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.");throw new Error(_a3);}return e.VERSION&&this.log("Using ".concat(s," v").concat(e.VERSION)),i.type in z(this,Me)[Me]?z(this,Me)[Me][i.type].push(i):z(this,Me)[Me][i.type]=[i],i.install(),this;}},{key:"getPlugin",value:function getPlugin(e){for(var _i3=0,_Object$values=Object.values(z(this,Me)[Me]);_i3<_Object$values.length;_i3++){var t=_Object$values[_i3];var i=t.find(function(s){return s.id===e;});if(i!=null)return i;}}},{key:_mm,value:function value(e){return z(this,Me)[Me][e];}},{key:"iteratePlugins",value:function iteratePlugins(e){Object.values(z(this,Me)[Me]).flat(1).forEach(e);}},{key:"removePlugin",value:function removePlugin(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=z(this,Me)[Me][e.type],i=t.findIndex(function(a){return a.id===e.id;});i!==-1&&t.splice(i,1);var n={plugins:_objectSpread(_objectSpread({},this.getState().plugins),{},_defineProperty({},e.id,void 0))};this.setState(n);}},{key:"close",value:function close(e){var _this7=this;var _ref2=e===void 0?{}:e,t=_ref2.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:t}),z(this,vn)[vn](),this.iteratePlugins(function(i){_this7.removePlugin(i);}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",z(this,Kt)[Kt]),window.removeEventListener("offline",z(this,Kt)[Kt]));}},{key:"hideInfo",value:function hideInfo(){var _this$getState7=this.getState(),e=_this$getState7.info;this.setState({info:e.slice(1)}),this.emit("info-hidden");}},{key:"info",value:function info(e,t,i){var _this8=this;t===void 0&&(t="info"),i===void 0&&(i=3e3);var s=_typeof(e)=="object";this.setState({info:[].concat(_toConsumableArray(this.getState().info),[{type:t,message:s?e.message:e,details:s?e.details:null}])}),setTimeout(function(){return _this8.hideInfo();},i),this.emit("info-visible");}},{key:"log",value:function log(e,t){var i=this.opts.logger;switch(t){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e);break;}}},{key:"restore",value:function restore(e){return this.log("Core: attempting to restore upload \"".concat(e,"\"")),this.getState().currentUploads[e]?z(this,Or)[Or](e):(z(this,Ti)[Ti](e),Promise.reject(new Error("Nonexistent upload")));}},{key:_gm,value:function value(){var _z;return(_z=z(this,Rr))[Rr].apply(_z,arguments);}},{key:"addResultData",value:function addResultData(e,t){if(!z(this,Bu)[Bu](e)){this.log("Not setting result for an upload that has been removed: ".concat(e));return;}var _this$getState8=this.getState(),i=_this$getState8.currentUploads,s=_objectSpread(_objectSpread({},i[e]),{},{result:_objectSpread(_objectSpread({},i[e].result),t)});this.setState({currentUploads:_objectSpread(_objectSpread({},i),{},_defineProperty({},e,s))});}},{key:"upload",value:function upload(){var _this9=this;var e;(e=z(this,Me)[Me].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");var _this$getState9=this.getState(),t=_this$getState9.files,i=this.opts.onBeforeUpload(t);return i===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&_typeof(i)=="object"&&(t=i,this.setState({files:t})),Promise.resolve().then(function(){return z(_this9,Wt)[Wt].validateMinNumberOfFiles(t);})["catch"](function(s){throw z(_this9,vt)[vt](s),s;}).then(function(){if(!z(_this9,Nu)[Nu](t))throw new Ps.RestrictionError(_this9.i18n("missingRequiredMetaField"));})["catch"](function(s){throw s;}).then(function(){var _this9$getState=_this9.getState(),s=_this9$getState.currentUploads,n=Object.values(s).flatMap(function(u){return u.fileIDs;}),a=[];Object.keys(t).forEach(function(u){var c=_this9.getFile(u);!c.progress.uploadStarted&&n.indexOf(u)===-1&&a.push(c.id);});var l=z(_this9,Rr)[Rr](a);return z(_this9,Or)[Or](l);})["catch"](function(s){throw _this9.emit("error",s),_this9.log(s,"error"),s;}));}}]);return la;}(mm,gm);o(la,"Uppy");function XF(r,e){var t=r.message,_r$details=r.details,i=_r$details===void 0?"":_r$details;r.isRestriction?this.emit("restriction-failed",e,r):this.emit("error",r),this.info({message:t,details:i},"error",this.opts.infoTimeout),this.log("".concat(t," ").concat(i).trim(),"error");}o(XF,"_informAndEmit2");function YF(r){var _z$Wt$getMissingRequi=z(this,Wt)[Wt].getMissingRequiredMetaFields(r),e=_z$Wt$getMissingRequi.missingFields,t=_z$Wt$getMissingRequi.error;return e.length>0?(this.setFileState(r.id,{missingRequiredMetaFields:e}),this.log(t.message),this.emit("restriction-failed",r,t),!1):!0;}o(YF,"_checkRequiredMetaFieldsOnFile2");function JF(r){var e=!0;for(var _i4=0,_Object$values2=Object.values(r);_i4<_Object$values2.length;_i4++){var t=_Object$values2[_i4];z(this,yn)[yn](t)||(e=!1);}return e;}o(JF,"_checkRequiredMetaFields2");function QF(r){var _this$getState10=this.getState(),e=_this$getState10.allowNewUpload;if(e===!1){var t=new Ps.RestrictionError(this.i18n("noMoreFilesAllowed"));throw z(this,vt)[vt](t,r),t;}}o(QF,"_assertNewUploadAllowed2");function ZF(r,e){var t=zF(e),i=WF(t,e),s=HF(i).extension,n=Boolean(e.isRemote),a=$F(_objectSpread(_objectSpread({},e),{},{type:t}));if(this.checkIfFileAlreadyExists(a)){var p=new Ps.RestrictionError(this.i18n("noDuplicates",{fileName:i}));throw z(this,vt)[vt](p,e),p;}var l=e.meta||{};l.name=i,l.type=t;var u=Number.isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:a,name:i,extension:s||"",meta:_objectSpread(_objectSpread({},this.getState().meta),l),type:t,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:u,uploadComplete:!1,uploadStarted:null},size:u,isRemote:n,remote:e.remote||"",preview:e.preview},h=this.opts.onBeforeFileAdded(c,r);if(h===!1){var _p2=new Ps.RestrictionError("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,_p2),_p2;}else _typeof(h)=="object"&&h!==null&&(c=h);try{var _p3=Object.keys(r).map(function(g){return r[g];});z(this,Wt)[Wt].validate(c,_p3);}catch(p){throw z(this,vt)[vt](p,c),p;}return c;}o(ZF,"_checkAndCreateFileStateObject2");function eE(){var _this10=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){_this10.scheduledAutoProceed=null,_this10.upload()["catch"](function(r){r.isRestriction||_this10.log(r.stack||r.message||r);});},4));}o(eE,"_startIfAutoProceed2");function tE(){var _this11=this;var r=o(function(e,t,i){var s=e.message||"Unknown error";e.details&&(s+=" ".concat(e.details)),_this11.setState({error:s}),t!=null&&t.id in _this11.getState().files&&_this11.setFileState(t.id,{error:s,response:i});},"errorHandler");this.on("error",r),this.on("upload-error",function(e,t,i){if(r(t,e,i),_typeof(t)=="object"&&t.message){var s=new Error(t.message);s.details=t.message,t.details&&(s.details+=" ".concat(t.details)),s.message=_this11.i18n("failedToUpload",{file:e==null?void 0:e.name}),z(_this11,vt)[vt](s);}else z(_this11,vt)[vt](t);}),this.on("upload",function(){_this11.setState({error:null});}),this.on("upload-started",function(e){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}_this11.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}});}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(e,t){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}var i=_this11.getFile(e.id).progress;_this11.setFileState(e.id,{progress:_objectSpread(_objectSpread({},i),{},{postprocess:z(_this11,Cr)[Cr].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal}),response:t,uploadURL:t.uploadURL,isPaused:!1}),e.size==null&&_this11.setFileState(e.id,{size:t.bytesUploaded||i.bytesTotal}),_this11.calculateTotalProgress();}),this.on("preprocess-progress",function(e,t){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}_this11.setFileState(e.id,{progress:_objectSpread(_objectSpread({},_this11.getFile(e.id).progress),{},{preprocess:t})});}),this.on("preprocess-complete",function(e){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}var t=_objectSpread({},_this11.getState().files);t[e.id]=_objectSpread(_objectSpread({},t[e.id]),{},{progress:_objectSpread({},t[e.id].progress)}),delete t[e.id].progress.preprocess,_this11.setState({files:t});}),this.on("postprocess-progress",function(e,t){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}_this11.setFileState(e.id,{progress:_objectSpread(_objectSpread({},_this11.getState().files[e.id].progress),{},{postprocess:t})});}),this.on("postprocess-complete",function(e){if(e==null||!_this11.getFile(e.id)){_this11.log("Not setting progress for a file that has been removed: ".concat(e==null?void 0:e.id));return;}var t=_objectSpread({},_this11.getState().files);t[e.id]=_objectSpread(_objectSpread({},t[e.id]),{},{progress:_objectSpread({},t[e.id].progress)}),delete t[e.id].progress.postprocess,_this11.setState({files:t});}),this.on("restored",function(){_this11.calculateTotalProgress();}),this.on("dashboard:file-edit-complete",function(e){e&&z(_this11,yn)[yn](e);}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",z(this,Kt)[Kt]),window.addEventListener("offline",z(this,Kt)[Kt]),setTimeout(z(this,Kt)[Kt],3e3));}o(tE,"_addListeners2");function rE(r,e){e===void 0&&(e={});var _e2=e,_e2$forceAllowNewUplo=_e2.forceAllowNewUpload,t=_e2$forceAllowNewUplo===void 0?!1:_e2$forceAllowNewUplo,_this$getState11=this.getState(),i=_this$getState11.allowNewUpload,s=_this$getState11.currentUploads;if(!i&&!t)throw new Error("Cannot create a new upload: already uploading.");var n=(0,NF.nanoid)();return this.emit("upload",{id:n,fileIDs:r}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:_objectSpread(_objectSpread({},s),{},_defineProperty({},n,{fileIDs:r,step:0,result:{}}))}),n;}o(rE,"_createUpload2");function iE(r){var _this$getState12=this.getState(),e=_this$getState12.currentUploads;return e[r];}o(iE,"_getUpload2");function sE(r){var e=_objectSpread({},this.getState().currentUploads);delete e[r],this.setState({currentUploads:e});}o(sE,"_removeUpload2");function nE(_x6){return _nE.apply(this,arguments);}function _nE(){_nE=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(r){var _this12=this;var _this$getState13,e,t,i,s,a,l,u,_a4,_l2,_u2,n;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$getState13=this.getState(),e=_this$getState13.currentUploads,t=e[r],i=t.step||0,s=[].concat(_toConsumableArray(z(this,Oi)[Oi]),_toConsumableArray(z(this,xi)[xi]),_toConsumableArray(z(this,Cr)[Cr]));_context.prev=1;a=i;case 3:if(!(a<s.length&&t)){_context.next=13;break;}l=s[a],u=_objectSpread(_objectSpread({},t),{},{step:a});this.setState({currentUploads:_objectSpread(_objectSpread({},e),{},_defineProperty({},r,u))});_context.next=8;return l(u.fileIDs,r);case 8:e=this.getState().currentUploads;t=e[r];case 10:a++;_context.next=3;break;case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context["catch"](1);throw z(this,Ti)[Ti](r),_context.t0;case 18:if(!t){_context.next=25;break;}t.fileIDs.forEach(function(c){var h=_this12.getFile(c);h&&h.progress.postprocess&&_this12.emit("postprocess-complete",h);});_a4=t.fileIDs.map(function(c){return _this12.getFile(c);}),_l2=_a4.filter(function(c){return!c.error;}),_u2=_a4.filter(function(c){return c.error;});_context.next=23;return this.addResultData(r,{successful:_l2,failed:_u2,uploadID:r});case 23:e=this.getState().currentUploads;t=e[r];case 25:return _context.abrupt("return",(t&&(n=t.result,this.emit("complete",n),z(this,Ti)[Ti](r)),n==null&&this.log("Not setting result for an upload that has been removed: ".concat(r)),n));case 26:case"end":return _context.stop();}},_callee,this,[[1,15]]);}));return _nE.apply(this,arguments);}o(nE,"_runUpload2");la.VERSION=KF.version;vm.exports=la;});var I={};qf(I,{Component:function Component(){return Cn;},Fragment:function Fragment(){return En;},cloneElement:function cloneElement(){return hE;},createContext:function createContext(){return dE;},createElement:function createElement(){return Em;},createRef:function createRef(){return aE;},h:function h(){return Em;},hydrate:function hydrate(){return Bm;},isValidElement:function isValidElement(){return bm;},options:function options(){return G;},render:function render(){return Im;},toChildArray:function toChildArray(){return xm;}});function xr(r,e){for(var t in e)r[t]=e[t];return r;}function Fm(r){var e=r.parentNode;e&&e.removeChild(r);}function Em(r,e,t){var i,s,n,a={};for(n in e)n=="key"?i=e[n]:n=="ref"?s=e[n]:a[n]=e[n];if(arguments.length>2&&(a.children=arguments.length>3?Sn.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(n in r.defaultProps)a[n]===void 0&&(a[n]=r.defaultProps[n]);return Fn(r,a,i,s,null);}function Fn(r,e,t,i,s){var n={type:r,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s!==null&&s!==void 0?s:++ym};return s==null&&G.vnode!=null&&G.vnode(n),n;}function aE(){return{current:null};}function En(r){return r.children;}function Cn(r,e){this.props=r,this.context=e;}function Fs(r,e){if(e==null)return r.__?Fs(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Fs(r):null;}function Cm(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break;}return Cm(r);}}function Lu(r){(!r.__d&&(r.__d=!0)&&Pn.push(r)&&!ca.__r++||_m!==G.debounceRendering)&&((_m=G.debounceRendering)||wm)(ca);}function ca(){for(var r;ca.__r=Pn.length;)r=Pn.sort(function(e,t){return e.__v.__b-t.__v.__b;}),Pn=[],r.some(function(e){var _a5;var t,i,s,n,a,l;e.__d&&(a=(n=(t=e).__v).__e,(l=t.__P)&&(i=[],(s=xr({},n)).__v=n.__v+1,ju(l,n,s,t.__n,l.ownerSVGElement!==void 0,n.__h!=null?[a]:null,i,(_a5=a)!==null&&_a5!==void 0?_a5:Fs(n),n.__h),Dm(i,n),n.__e!=a&&Cm(n)));});}function Rm(r,e,t,i,s,n,a,l,u,c){var h,p,g,w,b,E,F,C=i&&i.__k||Pm,j=C.length;for(t.__k=[],h=0;h<e.length;h++)if((w=t.__k[h]=(w=e[h])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Fn(null,w,null,null,w):Array.isArray(w)?Fn(En,{children:w},null,null,null):w.__b>0?Fn(w.type,w.props,w.key,null,w.__v):w)!=null){if(w.__=t,w.__b=t.__b+1,(g=C[h])===null||g&&w.key==g.key&&w.type===g.type)C[h]=void 0;else for(p=0;p<j;p++){if((g=C[p])&&w.key==g.key&&w.type===g.type){C[p]=void 0;break;}g=null;}ju(r,w,g=g||ua,s,n,a,l,u,c),b=w.__e,(p=w.ref)&&g.ref!=p&&(F||(F=[]),g.ref&&F.push(g.ref,null,w),F.push(p,w.__c||b,w)),b!=null?(E==null&&(E=b),typeof w.type=="function"&&w.__k===g.__k?w.__d=u=Om(w,u,r):u=Tm(r,w,g,C,b,u),typeof t.type=="function"&&(t.__d=u)):u&&g.__e==u&&u.parentNode!=r&&(u=Fs(g));}for(t.__e=E,h=j;h--;)C[h]!=null&&(typeof t.type=="function"&&C[h].__e!=null&&C[h].__e==t.__d&&(t.__d=Fs(i,h+1)),Nm(C[h],C[h]));if(F)for(h=0;h<F.length;h++)qm(F[h],F[++h],F[++h]);}function Om(r,e,t){for(var i,s=r.__k,n=0;s&&n<s.length;n++)(i=s[n])&&(i.__=r,e=typeof i.type=="function"?Om(i,e,t):Tm(t,i,i,s,i.__e,e));return e;}function xm(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){xm(t,e);}):e.push(r)),e;}function Tm(r,e,t,i,s,n){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||s!=n||s.parentNode==null)e:if(n==null||n.parentNode!==r)r.appendChild(s),a=null;else{for(l=n,u=0;(l=l.nextSibling)&&u<i.length;u+=2)if(l==s)break e;r.insertBefore(s,n),a=n;}return a!==void 0?a:s.nextSibling;}function lE(r,e,t,i,s){var n;for(n in t)n==="children"||n==="key"||n in e||ha(r,n,null,t[n],i);for(n in e)s&&typeof e[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||t[n]===e[n]||ha(r,n,e[n],t[n],i);}function km(r,e,t){e[0]==="-"?r.setProperty(e,t):r[e]=t==null?"":typeof t!="number"||oE.test(e)?t:t+"px";}function ha(r,e,t,i,s){var n;e:if(e==="style"){if(typeof t=="string")r.style.cssText=t;else{if(typeof i=="string"&&(r.style.cssText=i=""),i)for(e in i)t&&e in t||km(r.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||km(r.style,e,t[e]);}}else if(e[0]==="o"&&e[1]==="n")n=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+n]=t,t?i||r.addEventListener(e,n?Um:Am,n):r.removeEventListener(e,n?Um:Am,n);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t!==null&&t!==void 0?t:"";break e;}catch(_unused){}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?r.setAttribute(e,t):r.removeAttribute(e));}}function Am(r){this.l[r.type+!1](G.event?G.event(r):r);}function Um(r){this.l[r.type+!0](G.event?G.event(r):r);}function ju(r,e,t,i,s,n,a,l,u){var c,h,p,g,w,b,E,F,C,j,W,H=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,l=e.__e=t.__e,e.__h=null,n=[l]),(c=G.__b)&&c(e);try{e:if(typeof H=="function"){if(F=e.props,C=(c=H.contextType)&&i[c.__c],j=c?C?C.props.value:c.__:i,t.__c?E=(h=e.__c=t.__c).__=h.__E:("prototype"in H&&H.prototype.render?e.__c=h=new H(F,j):(e.__c=h=new Cn(F,j),h.constructor=H,h.render=cE),C&&C.sub(h),h.props=F,h.state||(h.state={}),h.context=j,h.__n=i,p=h.__d=!0,h.__h=[]),h.__s==null&&(h.__s=h.state),H.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=xr({},h.__s)),xr(h.__s,H.getDerivedStateFromProps(F,h.__s))),g=h.props,w=h.state,p)H.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(H.getDerivedStateFromProps==null&&F!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(F,j),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(F,h.__s,j)===!1||e.__v===t.__v){h.props=F,h.state=h.__s,e.__v!==t.__v&&(h.__d=!1),h.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(J){J&&(J.__=e);}),h.__h.length&&a.push(h);break e;}h.componentWillUpdate!=null&&h.componentWillUpdate(F,h.__s,j),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,w,b);});}h.context=j,h.props=F,h.state=h.__s,(c=G.__r)&&c(e),h.__d=!1,h.__v=e,h.__P=r,c=h.render(h.props,h.state,h.context),h.state=h.__s,h.getChildContext!=null&&(i=xr(xr({},i),h.getChildContext())),p||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(g,w)),W=c!=null&&c.type===En&&c.key==null?c.props.children:c,Rm(r,Array.isArray(W)?W:[W],e,t,i,s,n,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),E&&(h.__E=h.__=null),h.__e=!1;}else n==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=uE(t.__e,e,t,i,s,n,a,u);(c=G.diffed)&&c(e);}catch(J){e.__v=null,(u||n!=null)&&(e.__e=l,e.__h=!!u,n[n.indexOf(l)]=null),G.__e(J,e,t);}}function Dm(r,e){G.__c&&G.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(i){i.call(t);});}catch(i){G.__e(i,t.__v);}});}function uE(r,e,t,i,s,n,a,l){var u,c,h,p=t.props,g=e.props,w=e.type,b=0;if(w==="svg"&&(s=!0),n!=null){for(;b<n.length;b++)if((u=n[b])&&"setAttribute"in u==!!w&&(w?u.localName===w:u.nodeType===3)){r=u,n[b]=null;break;}}if(r==null){if(w===null)return document.createTextNode(g);r=s?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,g.is&&g),n=null,l=!1;}if(w===null)p===g||l&&r.data===g||(r.data=g);else{if(n=n&&Sn.call(r.childNodes),c=(p=t.props||ua).dangerouslySetInnerHTML,h=g.dangerouslySetInnerHTML,!l){if(n!=null)for(p={},b=0;b<r.attributes.length;b++)p[r.attributes[b].name]=r.attributes[b].value;(h||c)&&(h&&(c&&h.__html==c.__html||h.__html===r.innerHTML)||(r.innerHTML=h&&h.__html||""));}if(lE(r,g,p,s,l),h)e.__k=[];else if(b=e.props.children,Rm(r,Array.isArray(b)?b:[b],e,t,i,s&&w!=="foreignObject",n,a,n?n[0]:t.__k&&Fs(t,0),l),n!=null)for(b=n.length;b--;)n[b]!=null&&Fm(n[b]);l||("value"in g&&(b=g.value)!==void 0&&(b!==p.value||b!==r.value||w==="progress"&&!b)&&ha(r,"value",b,p.value,!1),"checked"in g&&(b=g.checked)!==void 0&&b!==r.checked&&ha(r,"checked",b,p.checked,!1));}return r;}function qm(r,e,t){try{typeof r=="function"?r(e):r.current=e;}catch(i){G.__e(i,t);}}function Nm(r,e,t){var i,s;if(G.unmount&&G.unmount(r),(i=r.ref)&&(i.current&&i.current!==r.__e||qm(i,null,e)),(i=r.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount();}catch(n){G.__e(n,e);}i.base=i.__P=null;}if(i=r.__k)for(s=0;s<i.length;s++)i[s]&&Nm(i[s],e,typeof r.type!="function");t||r.__e==null||Fm(r.__e),r.__e=r.__d=void 0;}function cE(r,e,t){return this.constructor(r,t);}function Im(r,e,t){var i,s,n;G.__&&G.__(r,e),s=(i=typeof t=="function")?null:t&&t.__k||e.__k,n=[],ju(e,r=(!i&&t||e).__k=Em(En,null,[r]),s||ua,ua,e.ownerSVGElement!==void 0,!i&&t?[t]:s?null:e.firstChild?Sn.call(e.childNodes):null,n,!i&&t?t:s?s.__e:e.firstChild,i),Dm(n,r);}function Bm(r,e){Im(r,e,Bm);}function hE(r,e,t){var i,s,n,a=xr({},r.props);for(n in e)n=="key"?i=e[n]:n=="ref"?s=e[n]:a[n]=e[n];return arguments.length>2&&(a.children=arguments.length>3?Sn.call(arguments,2):t),Fn(r.type,a,i||r.key,s||r.ref,null);}function dE(r,e){var t={__c:e="__cC"+Sm++,__:r,Consumer:function Consumer(i,s){return i.children(s);},Provider:function Provider(i){var s,n;return this.getChildContext||(s=[],(n={})[e]=this,this.getChildContext=function(){return n;},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(Lu);},this.sub=function(a){s.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),l&&l.call(a);};}),i.children;}};return t.Provider.__=t.Consumer.contextType=t;}var Sn,G,ym,bm,Pn,wm,_m,Sm,ua,Pm,oE,q=Df(function(){ua={},Pm=[],oE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;o(xr,"a");o(Fm,"h");o(Em,"v");o(Fn,"y");o(aE,"p");o(En,"d");o(Cn,"_");o(Fs,"k");o(Cm,"b");o(Lu,"m");o(ca,"g");o(Rm,"w");o(Om,"x");o(xm,"A");o(Tm,"P");o(lE,"C");o(km,"$");o(ha,"H");o(Am,"I");o(Um,"T");o(ju,"j");o(Dm,"z");o(uE,"L");o(qm,"M");o(Nm,"N");o(cE,"O");o(Im,"S");o(Bm,"q");o(hE,"B");o(dE,"D");Sn=Pm.slice,G={__e:function __e(r,e){for(var t,i,s;e=e.__;)if((t=e.__c)&&!t.__)try{if((i=t.constructor)&&i.getDerivedStateFromError!=null&&(t.setState(i.getDerivedStateFromError(r)),s=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(r),s=t.__d),s)return t.__E=t;}catch(n){r=n;}throw r;}},ym=0,bm=o(function(r){return r!=null&&r.constructor===void 0;},"i"),Cn.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xr({},this.state),typeof r=="function"&&(r=r(xr({},t),this.props)),r&&xr(t,r),r!=null&&this.__v&&(e&&this.__h.push(e),Lu(this));},Cn.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Lu(this));},Cn.prototype.render=En,Pn=[],wm=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ca.__r=0,Sm=0;});var zu=v(function(tN,Mm){"use strict";function pE(r){return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE;}o(pE,"isDOMElement");Mm.exports=pE;});var Hu=v(function(rN,Lm){"use strict";var fE=zu();function mE(r,e){return e===void 0&&(e=document),typeof r=="string"?e.querySelector(r):fE(r)?r:null;}o(mE,"findDOMElement");Lm.exports=mE;});var $u=v(function(iN,jm){"use strict";function gE(r){for(var e;r&&!r.dir;)r=r.parentNode;return(e=r)==null?void 0:e.dir;}o(gE,"getTextDirection");jm.exports=gE;});var Ut=v(function(sN,zm){"use strict";var vE=Ou(),Vu=/*#__PURE__*/function(){function Vu(e,t){_classCallCheck(this,Vu);t===void 0&&(t={}),this.uppy=e,this.opts=t;}_createClass(Vu,[{key:"getPluginState",value:function getPluginState(){var _this$uppy$getState=this.uppy.getState(),e=_this$uppy$getState.plugins;return e[this.id]||{};}},{key:"setPluginState",value:function setPluginState(e){var _this$uppy$getState2=this.uppy.getState(),t=_this$uppy$getState2.plugins;this.uppy.setState({plugins:_objectSpread(_objectSpread({},t),{},_defineProperty({},this.id,_objectSpread(_objectSpread({},t[this.id]),e)))});}},{key:"setOptions",value:function setOptions(e){this.opts=_objectSpread(_objectSpread({},this.opts),e),this.setPluginState(),this.i18nInit();}},{key:"i18nInit",value:function i18nInit(){var e=new vE([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState();}},{key:"addTarget",value:function addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target");}},{key:"install",value:function install(){}},{key:"uninstall",value:function uninstall(){}},{key:"render",value:function render(){throw new Error("Extend the render method to add your plugin to a DOM element");}},{key:"update",value:function update(){}},{key:"afterUpdate",value:function afterUpdate(){}}]);return Vu;}();o(Vu,"BasePlugin");zm.exports=Vu;});var Wu=v(function(nN,Vm){"use strict";var Hm=(q(),N(I));function $m(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o($m,"_classPrivateFieldLooseBase");var yE=0;function bE(r){return"__private_"+yE++ +"_"+r;}o(bE,"_classPrivateFieldLooseKey");var wE=Hu(),_E=$u(),SE=Ut();function PE(r){var e=null,t=null;return function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=s,e||(e=Promise.resolve().then(function(){return e=null,r.apply(void 0,_toConsumableArray(t));})),e;};}o(PE,"debounce");var Rn=bE("updateUI"),On=/*#__PURE__*/function(_SE){_inherits(On,_SE);var _super3=_createSuper(On);function On(){var _this13;_classCallCheck(this,On);_this13=_super3.apply(this,arguments);Object.defineProperty(_assertThisInitialized(_this13),Rn,{writable:!0,value:void 0});return _this13;}_createClass(On,[{key:"mount",value:function mount(e,t){var _this14=this;var i=t.id,s=wE(e);if(s){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),$m(this,Rn)[Rn]=PE(function(u){!_this14.uppy.getPlugin(_this14.id)||((0,Hm.render)(_this14.render(u),l),_this14.afterUpdate());}),this.uppy.log("Installing ".concat(i," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,Hm.render)(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||_E(l)||"ltr",this.onMount(),this.el;}var n;if(_typeof(e)=="object"&&e instanceof On)n=e;else if(typeof e=="function"){var _l3=e;this.uppy.iteratePlugins(function(u){u instanceof _l3&&(n=u);});}if(n)return this.uppy.log("Installing ".concat(i," to ").concat(n.id)),this.parent=n,this.el=n.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(i));var a="Invalid target option given to ".concat(i,".");throw typeof e=="function"?a+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":a+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(a);}},{key:"update",value:function update(e){if(this.el!=null){var t,i;(t=(i=$m(this,Rn))[Rn])==null||t.call(i,e);}}},{key:"unmount",value:function unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove();}this.onUnmount();}},{key:"onMount",value:function onMount(){}},{key:"onUnmount",value:function onUnmount(){}}]);return On;}(SE);o(On,"UIPlugin");Vm.exports=On;});var he=v(function(Tr,Km){"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Uppy=Tr.UIPlugin=Tr.BasePlugin=void 0;Object.defineProperty(Tr,"debugLogger",{enumerable:!0,get:function get(){return Wm.debugLogger;}});var Wm=Fu();Km.exports=Mu();var FE=Wu();Tr.UIPlugin=FE;var EE=Ut();Tr.BasePlugin=EE;var Es=Mu();Tr.Uppy=Es;var CE=Wu(),RE=Ut();Es.Uppy=Es;Es.UIPlugin=CE;Es.BasePlugin=RE;Es.debugLogger=Wm.debugLogger;});var Cs=v(function(oN,Gm){"use strict";var Ku=/*#__PURE__*/function(_Error3){_inherits(Ku,_Error3);var _super4=_createSuper(Ku);function Ku(e,t){var _this15;_classCallCheck(this,Ku);t===void 0&&(t=null);_this15=_super4.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");_this15.cause=e,_this15.isNetworkError=!0,_this15.request=t;return _this15;}return _createClass(Ku);}(/*#__PURE__*/_wrapNativeSuper(Error));o(Ku,"NetworkError");Gm.exports=Ku;});var da=v(function(aN,Xm){"use strict";var OE=Cs();function xE(){return fetch.apply(void 0,arguments)["catch"](function(r){throw r.name==="AbortError"?r:new OE(r);});}o(xE,"fetchWithNetworkError");Xm.exports=xE;});var xn=v(function(lN,Ym){"use strict";var TE=Ss(),Gu=/*#__PURE__*/function(_Error4){_inherits(Gu,_Error4);var _super5=_createSuper(Gu);function Gu(e,t){var _this16;_classCallCheck(this,Gu);t===void 0&&(t={});_this16=_super5.call(this,e);_this16.cause=t.cause,_this16.cause&&TE(_this16.cause,"isNetworkError")&&(_this16.isNetworkError=_this16.cause.isNetworkError);return _this16;}return _createClass(Gu);}(/*#__PURE__*/_wrapNativeSuper(Error));o(Gu,"ErrorWithCause");Ym.exports=Gu;});var Qm=v(function(uN,Jm){"use strict";var Xu=/*#__PURE__*/function(_Error5){_inherits(Xu,_Error5);var _super6=_createSuper(Xu);function Xu(){var _this17;_classCallCheck(this,Xu);_this17=_super6.call(this,"Authorization required");_this17.name="AuthError",_this17.isAuthError=!0;return _this17;}return _createClass(Xu);}(/*#__PURE__*/_wrapNativeSuper(Error));o(Xu,"AuthError");Jm.exports=Xu;});var fa=v(function(cN,eg){"use strict";var Zm;function lt(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(lt,"_classPrivateFieldLooseBase");var kE=0;function pa(r){return"__private_"+kE++ +"_"+r;}o(pa,"_classPrivateFieldLooseKey");var Yu=da(),AE=xn(),UE=Qm(),DE={version:"2.2.2"};function qE(r){return r.replace(/\/$/,"");}o(qE,"stripSlash");function Ju(_x7){return _Ju.apply(this,arguments);}function _Ju(){_Ju=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(r){var e,t,i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(r.status===401)){_context2.next=2;break;}throw new UE();case 2:e=r.json();if(!(r.status<200||r.status>300)){_context2.next=13;break;}t="Failed request with status: ".concat(r.status,". ").concat(r.statusText);_context2.prev=5;_context2.next=8;return e;case 8:i=_context2.sent;t=i.message?"".concat(t," message: ").concat(i.message):t,t=i.requestId?"".concat(t," request-Id: ").concat(i.requestId):t;case 10:_context2.prev=10;throw new Error(t);case 13:return _context2.abrupt("return",e);case 14:case"end":return _context2.stop();}},_callee2,null,[[5,,10,13]]);}));return _Ju.apply(this,arguments);}o(Ju,"handleJSONResponse");var kr=pa("companionHeaders"),ki=pa("getPostResponseFunc"),Ar=pa("getUrl"),Ai=pa("errorHandler");Zm=Symbol["for"]("uppy test: getCompanionHeaders");var si=/*#__PURE__*/function(_Zm){function si(e,t){var _this18=this;_classCallCheck(this,si);Object.defineProperty(this,Ai,{value:IE}),Object.defineProperty(this,Ar,{value:NE}),Object.defineProperty(this,kr,{writable:!0,value:void 0}),Object.defineProperty(this,ki,{writable:!0,value:function value(i){return function(s){return i?s:_this18.onReceiveResponse(s);};}}),this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,lt(this,kr)[kr]=t==null?void 0:t.companionHeaders;}_createClass(si,[{key:"setCompanionHeaders",value:function setCompanionHeaders(e){lt(this,kr)[kr]=e;}},{key:_Zm,value:function value(){return lt(this,kr)[kr];}},{key:"hostname",get:function get(){var _this$uppy$getState3=this.uppy.getState(),e=_this$uppy$getState3.companion,t=this.opts.companionUrl;return qE(e&&e[t]?e[t]:t);}},{key:"headers",value:function headers(){return Promise.resolve(_objectSpread(_objectSpread({},si.defaultHeaders),lt(this,kr)[kr]));}},{key:"onReceiveResponse",value:function onReceiveResponse(e){var i=this.uppy.getState().companion||{},s=this.opts.companionUrl,n=e.headers;return n.has("i-am")&&n.get("i-am")!==i[s]&&this.uppy.setState({companion:_objectSpread(_objectSpread({},i),{},_defineProperty({},s,n.get("i-am")))}),e;}},{key:"preflight",value:function preflight(e){var _this19=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(lt(this,Ar)[Ar](e),{method:"OPTIONS"}).then(function(t){return t.headers.has("access-control-allow-headers")&&(_this19.allowedHeaders=t.headers.get("access-control-allow-headers").split(",").map(function(i){return i.trim().toLowerCase();})),_this19.preflightDone=!0,_this19.allowedHeaders.slice();})["catch"](function(t){return _this19.uppy.log("[CompanionClient] unable to make preflight request ".concat(t),"warning"),_this19.preflightDone=!0,_this19.allowedHeaders.slice();});}},{key:"preflightAndHeaders",value:function preflightAndHeaders(e){var _this20=this;return Promise.all([this.preflight(e),this.headers()]).then(function(t){var _t2=_slicedToArray(t,2),i=_t2[0],s=_t2[1];return Object.keys(s).forEach(function(n){i.includes(n.toLowerCase())||(_this20.uppy.log("[CompanionClient] excluding disallowed header ".concat(n)),delete s[n]);}),s;});}},{key:"get",value:function get(e,t){var _this21=this;var i="get";return this.preflightAndHeaders(e).then(function(s){return Yu(lt(_this21,Ar)[Ar](e),{method:i,headers:s,credentials:_this21.opts.companionCookiesRule||"same-origin"});}).then(lt(this,ki)[ki](t)).then(Ju)["catch"](lt(this,Ai)[Ai](i,e));}},{key:"post",value:function post(e,t,i){var _this22=this;var s="post";return this.preflightAndHeaders(e).then(function(n){return Yu(lt(_this22,Ar)[Ar](e),{method:s,headers:n,credentials:_this22.opts.companionCookiesRule||"same-origin",body:JSON.stringify(t)});}).then(lt(this,ki)[ki](i)).then(Ju)["catch"](lt(this,Ai)[Ai](s,e));}},{key:"delete",value:function _delete(e,t,i){var _this23=this;var s="delete";return this.preflightAndHeaders(e).then(function(n){return Yu("".concat(_this23.hostname,"/").concat(e),{method:s,headers:n,credentials:_this23.opts.companionCookiesRule||"same-origin",body:t?JSON.stringify(t):null});}).then(lt(this,ki)[ki](i)).then(Ju)["catch"](lt(this,Ai)[Ai](s,e));}}]);return si;}(Zm);o(si,"RequestClient");function NE(r){return /^(https?:|)\/\//.test(r)?r:"".concat(this.hostname,"/").concat(r);}o(NE,"_getUrl2");function IE(r,e){var _this24=this;return function(t){var i;return(i=t)!=null&&i.isAuthError||(t=new AE("Could not ".concat(r," ").concat(lt(_this24,Ar)[Ar](e)),{cause:t})),Promise.reject(t);};}o(IE,"_errorHandler2");si.VERSION=DE.version;si.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(si.VERSION)};eg.exports=si;});var tg=v(function(Tn){"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.getItem=ME;Tn.removeItem=LE;Tn.setItem=BE;function BE(r,e){return new Promise(function(t){localStorage.setItem(r,e),t();});}o(BE,"setItem");function ME(r){return Promise.resolve(localStorage.getItem(r));}o(ME,"getItem");function LE(r){return new Promise(function(e){localStorage.removeItem(r),e();});}o(LE,"removeItem");});var ig=v(function(dN,rg){"use strict";var jE=tg(),zE=fa(),HE=o(function(r){return r.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1);}).join(" ");},"getName"),Qu=/*#__PURE__*/function(_zE){_inherits(Qu,_zE);var _super7=_createSuper(Qu);function Qu(e,t){var _this25;_classCallCheck(this,Qu);_this25=_super7.call(this,e,t);_this25.provider=t.provider,_this25.id=_this25.provider,_this25.name=_this25.opts.name||HE(_this25.id),_this25.pluginId=_this25.opts.pluginId,_this25.tokenKey="companion-".concat(_this25.pluginId,"-auth-token"),_this25.companionKeysParams=_this25.opts.companionKeysParams,_this25.preAuthToken=null;return _this25;}_createClass(Qu,[{key:"headers",value:function headers(){var _this26=this;return Promise.all([_get(_getPrototypeOf(Qu.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(e){var _e3=_slicedToArray(e,2),t=_e3[0],i=_e3[1],s={};return i&&(s["uppy-auth-token"]=i),_this26.companionKeysParams&&(s["uppy-credentials-params"]=btoa(JSON.stringify({params:_this26.companionKeysParams}))),_objectSpread(_objectSpread({},t),s);});}},{key:"onReceiveResponse",value:function onReceiveResponse(e){e=_get(_getPrototypeOf(Qu.prototype),"onReceiveResponse",this).call(this,e);var t=this.uppy.getPlugin(this.pluginId),s=t.getPluginState().authenticated?e.status!==401:e.status<400;return t.setPluginState({authenticated:s}),e;}},{key:"setAuthToken",value:function setAuthToken(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e);}},{key:"getAuthToken",value:function getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);}},{key:"ensurePreAuth",value:function(){var _ensurePreAuth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.t0=this.companionKeysParams&&!this.preAuthToken;if(!_context3.t0){_context3.next=5;break;}_context3.next=4;return this.fetchPreAuthToken();case 4:_context3.t0=!this.preAuthToken;case 5:if(!_context3.t0){_context3.next=7;break;}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 7:case"end":return _context3.stop();}},_callee3,this);}));function ensurePreAuth(){return _ensurePreAuth.apply(this,arguments);}return ensurePreAuth;}()},{key:"authUrl",value:function authUrl(e){e===void 0&&(e={});var t=new URLSearchParams(e);return this.preAuthToken&&t.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(t);}},{key:"fileUrl",value:function fileUrl(e){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(e);}},{key:"fetchPreAuthToken",value:function(){var _fetchPreAuthToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var e;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!this.companionKeysParams){_context4.next=11;break;}_context4.prev=1;_context4.next=4;return this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 4:e=_context4.sent;this.preAuthToken=e.token;_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4["catch"](1);this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(_context4.t0),"warning");case 11:case"end":return _context4.stop();}},_callee4,this,[[1,8]]);}));function fetchPreAuthToken(){return _fetchPreAuthToken.apply(this,arguments);}return fetchPreAuthToken;}()},{key:"list",value:function list(e){return this.get("".concat(this.id,"/list/").concat(e||""));}},{key:"logout",value:function logout(){var _this27=this;return this.get("".concat(this.id,"/logout")).then(function(e){return Promise.all([e,_this27.uppy.getPlugin(_this27.pluginId).storage.removeItem(_this27.tokenKey)]);}).then(function(e){var _e4=_slicedToArray(e,1),t=_e4[0];return t;});}}],[{key:"initPlugin",value:function initPlugin(e,t,i){if(e.type="acquirer",e.files=[],i&&(e.opts=_objectSpread(_objectSpread({},i),t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var s=t.companionAllowedHosts;if(typeof s!="string"&&!Array.isArray(s)&&!(s instanceof RegExp))throw new TypeError("".concat(e.id,": the option \"companionAllowedHosts\" must be one of string, Array, RegExp"));e.opts.companionAllowedHosts=s;}else /^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://".concat(t.companionUrl.replace(/^\/\//,"")):e.opts.companionAllowedHosts=new URL(t.companionUrl).origin;e.storage=e.opts.storage||jE;}}]);return Qu;}(zE);o(Qu,"Provider");rg.exports=Qu;});var ng=v(function(pN,sg){"use strict";var $E=fa(),VE=o(function(r){return r.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1);}).join(" ");},"getName"),Zu=/*#__PURE__*/function(_$E){_inherits(Zu,_$E);var _super8=_createSuper(Zu);function Zu(e,t){var _this28;_classCallCheck(this,Zu);_this28=_super8.call(this,e,t);_this28.provider=t.provider,_this28.id=_this28.provider,_this28.name=_this28.opts.name||VE(_this28.id),_this28.pluginId=_this28.opts.pluginId;return _this28;}_createClass(Zu,[{key:"fileUrl",value:function fileUrl(e){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(e);}},{key:"search",value:function search(e,t){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(e)).concat(t?"&".concat(t):""));}}]);return Zu;}($E);o(Zu,"SearchProvider");sg.exports=Zu;});var ug=v(function(fN,lg){"use strict";var og,ag;function Re(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(Re,"_classPrivateFieldLooseBase");var WE=0;function kn(r){return"__private_"+WE++ +"_"+r;}o(kn,"_classPrivateFieldLooseKey");var KE=xu(),Ur=kn("queued"),Ui=kn("emitter"),Gt=kn("isOpen"),Ye=kn("socket"),ec=kn("handleMessage");og=Symbol["for"]("uppy test: getSocket");ag=Symbol["for"]("uppy test: getQueued");var tc=/*#__PURE__*/function(_og,_ag){function tc(e){var _this29=this;_classCallCheck(this,tc);Object.defineProperty(this,Ur,{writable:!0,value:[]}),Object.defineProperty(this,Ui,{writable:!0,value:KE()}),Object.defineProperty(this,Gt,{writable:!0,value:!1}),Object.defineProperty(this,Ye,{writable:!0,value:void 0}),Object.defineProperty(this,ec,{writable:!0,value:function value(t){try{var i=JSON.parse(t.data);_this29.emit(i.action,i.payload);}catch(i){console.log(i);}}}),this.opts=e,(!e||e.autoOpen!==!1)&&this.open();}_createClass(tc,[{key:"isOpen",get:function get(){return Re(this,Gt)[Gt];}},{key:_og,value:function value(){return Re(this,Ye)[Ye];}},{key:_ag,value:function value(){return Re(this,Ur)[Ur];}},{key:"open",value:function open(){var _this30=this;Re(this,Ye)[Ye]=new WebSocket(this.opts.target),Re(this,Ye)[Ye].onopen=function(){for(Re(_this30,Gt)[Gt]=!0;Re(_this30,Ur)[Ur].length>0&&Re(_this30,Gt)[Gt];){var e=Re(_this30,Ur)[Ur].shift();_this30.send(e.action,e.payload);}},Re(this,Ye)[Ye].onclose=function(){Re(_this30,Gt)[Gt]=!1;},Re(this,Ye)[Ye].onmessage=Re(this,ec)[ec];}},{key:"close",value:function close(){var e;(e=Re(this,Ye)[Ye])==null||e.close();}},{key:"send",value:function send(e,t){if(!Re(this,Gt)[Gt]){Re(this,Ur)[Ur].push({action:e,payload:t});return;}Re(this,Ye)[Ye].send(JSON.stringify({action:e,payload:t}));}},{key:"on",value:function on(e,t){Re(this,Ui)[Ui].on(e,t);}},{key:"emit",value:function emit(e,t){Re(this,Ui)[Ui].emit(e,t);}},{key:"once",value:function once(e,t){Re(this,Ui)[Ui].once(e,t);}}]);return tc;}(og,ag);o(tc,"UppySocket");lg.exports=tc;});var Ke=v(function(or){"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.Socket=or.SearchProvider=or.RequestClient=or.Provider=void 0;var GE=fa();or.RequestClient=GE;var XE=ig();or.Provider=XE;var YE=ng();or.SearchProvider=YE;var JE=ug();or.Socket=JE;});var hg=v(function(gN,cg){"use strict";var Ge=(q(),N(I));function QE(){return(0,Ge.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,Ge.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Ge.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,Ge.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,Ge.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,Ge.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,Ge.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,Ge.h)("path",{d:"M4 4h18v18H4z"})));}o(QE,"GoogleIcon");function ZE(r){var e=r.pluginName,t=r.pluginIcon,i=r.i18nArray,s=r.handleAuth,n=e==="Google Drive",a=(0,Ge.h)("span",{className:"uppy-Provider-authTitleName"},e,(0,Ge.h)("br",null));return(0,Ge.h)("div",{className:"uppy-Provider-auth"},(0,Ge.h)("div",{className:"uppy-Provider-authIcon"},t()),(0,Ge.h)("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:a})),n?(0,Ge.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:s,"data-uppy-super-focusable":!0},(0,Ge.h)(QE,null),i("signInWithGoogle")):(0,Ge.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:s,"data-uppy-super-focusable":!0},i("authenticateWith",{pluginName:e})));}o(ZE,"AuthView");cg.exports=ZE;});var fg=v(function(vN,pg){"use strict";var dg=(q(),N(I));pg.exports=function(r){var e=r.i18n,t=r.logout,i=r.username;return[(0,dg.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},i),(0,dg.h)("button",{type:"button",onClick:t,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))];};});var gg=v(function(yN,mg){"use strict";var Rs=(q(),N(I)),e5=o(function(r){var e=r.getFolder,t=r.title,i=r.isLast;return(0,Rs.h)(Rs.Fragment,null,(0,Rs.h)("button",{type:"button",className:"uppy-u-reset",onClick:e},t),i?"":" / ");},"Breadcrumb");mg.exports=function(r){var e=r.getFolder,t=r.title,i=r.breadcrumbsIcon,s=r.directories;return(0,Rs.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,Rs.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},i),s.map(function(n,a){return(0,Rs.h)(e5,{key:n.id,getFolder:function getFolder(){return e(n.id);},title:a===0?t:n.title,isLast:a+1===s.length});}));};});var yg=v(function(bN,vg){"use strict";var t5=fg(),r5=gg();vg.exports=function(r){var e=[];return r.showBreadcrumbs&&e.push(r5({getFolder:r.getFolder,directories:r.directories,breadcrumbsIcon:r.pluginIcon&&r.pluginIcon(),title:r.title})),e.push(t5({logout:r.logout,username:r.username,i18n:r.i18n})),e;};});var yt=v(function(wN,ma){(function(){"use strict";var r={}.hasOwnProperty;function e(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var n=_typeof(s);if(n==="string"||n==="number")t.push(s);else if(Array.isArray(s)){if(s.length){var a=e.apply(null,s);a&&t.push(a);}}else if(n==="object")if(s.toString===Object.prototype.toString)for(var l in s)r.call(s,l)&&s[l]&&t.push(l);else t.push(s.toString());}}return t.join(" ");}o(e,"classNames"),typeof ma!="undefined"&&ma.exports?(e["default"]=e,ma.exports=e):typeof define=="function"&&_typeof(define.amd)=="object"&&define.amd?define("classnames",[],function(){return e;}):window.classNames=e;})();});var rc=v(function(_N,bg){"use strict";var i5=gn();function s5(r){return _objectSpread(_objectSpread({},r),{},{type:r.mimeType,extension:r.name?i5(r.name).extension:null});}o(s5,"remoteFileObjToLocal");bg.exports=s5;});var _g=v(function(SN,wg){"use strict";var ni=(q(),N(I)),ic=/*#__PURE__*/function(_ni$Component){_inherits(ic,_ni$Component);var _super9=_createSuper(ic);function ic(e){var _this31;_classCallCheck(this,ic);_this31=_super9.call(this,e);_this31.preventEnterPress=_this31.preventEnterPress.bind(_assertThisInitialized(_this31));return _this31;}_createClass(ic,[{key:"preventEnterPress",value:function preventEnterPress(e){e.keyCode===13&&(e.stopPropagation(),e.preventDefault());}},{key:"render",value:function render(){var _this$props=this.props,e=_this$props.i18n,t=_this$props.filterInput,i=_this$props.filterQuery;return(0,ni.h)("div",{className:"uppy-ProviderBrowser-filter"},(0,ni.h)("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:e("filter"),"aria-label":e("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function onInput(s){return i(s);},value:t}),(0,ni.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,ni.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),t&&(0,ni.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":e("resetFilter"),title:e("resetFilter"),onClick:i},(0,ni.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,ni.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))));}}]);return ic;}(ni.Component);o(ic,"Filter");wg.exports=ic;});var Pg=v(function(PN,Sg){"use strict";var sc=(q(),N(I));Sg.exports=function(r){var e=r.cancel,t=r.done,i=r.i18n,s=r.selected;return(0,sc.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,sc.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:t,type:"button"},i("selectX",{smart_count:s})),(0,sc.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},i("cancel")));};});var Eg=v(function(FN,Fg){"use strict";var Xt=(q(),N(I));function n5(){return(0,Xt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,Xt.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}));}o(n5,"FileIcon");function o5(){return(0,Xt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,Xt.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}));}o(o5,"FolderIcon");function a5(){return(0,Xt.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,Xt.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,Xt.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}));}o(a5,"VideoIcon");Fg.exports=function(r){var e=r.itemIconString;if(e!==null)switch(e){case"file":return(0,Xt.h)(n5,null);case"folder":return(0,Xt.h)(o5,null);case"video":return(0,Xt.h)(a5,null);default:{var t=r.alt;return(0,Xt.h)("img",{src:e,alt:t});}}};});var Rg=v(function(EN,Cg){"use strict";var ga=(q(),N(I));function l5(r){var e=r.className,t=r.isDisabled,i=r.restrictionReason,s=r.isChecked,n=r.title,a=r.itemIconEl,l=r.showTitles,u=r.toggleCheckbox,c=r.recordShiftKeyPress,h=r.id,p=r.children;return(0,ga.h)("li",{className:e,title:t?i:null},(0,ga.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(s?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:u,onKeyDown:c,name:"listitem",id:h,checked:s,disabled:t,"data-uppy-super-focusable":!0}),(0,ga.h)("label",{htmlFor:h,"aria-label":n,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,ga.h)("span",{className:"uppy-ProviderBrowserItem-inner-relative"},a,l&&n,p)));}o(l5,"GridListItem");Cg.exports=l5;});var xg=v(function(CN,Og){"use strict";var Di=(q(),N(I));function u5(r){var e=r.className,t=r.isDisabled,i=r.restrictionReason,s=r.isCheckboxDisabled,n=r.isChecked,a=r.toggleCheckbox,l=r.recordShiftKeyPress,u=r.type,c=r.id,h=r.itemIconEl,p=r.title,g=r.handleFolderClick,w=r.showTitles,b=r.i18n;return(0,Di.h)("li",{className:e,title:t?i:null},s?null:(0,Di.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(n?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:a,onKeyDown:l,name:"listitem",id:c,checked:n,"aria-label":u==="file"?null:b("allFilesFromFolderNamed",{name:p}),disabled:t,"data-uppy-super-focusable":!0}),u==="file"?(0,Di.h)("label",{htmlFor:c,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,Di.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),w&&p):(0,Di.h)("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:g,"aria-label":b("openFolderNamed",{name:p})},(0,Di.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),w&&(0,Di.h)("span",null,p)));}o(u5,"ListItem");Og.exports=u5;});var Ag=v(function(RN,kg){"use strict";var An=(q(),N(I));function Un(){return Un=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Un.apply(this,arguments);}o(Un,"_extends");var c5=yt(),h5=Eg(),Tg=Rg(),d5=xg();kg.exports=function(r){var e=r.author,t=r.getItemIcon,i=r.isChecked,s=r.isDisabled,n=r.viewType,a=t(),l=c5("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":i},{"uppy-ProviderBrowserItem--disabled":s},{"uppy-ProviderBrowserItem--noPreview":a==="video"}),u=(0,An.h)(h5,{itemIconString:a});switch(n){case"grid":return(0,An.h)(Tg,Un({},r,{className:l,itemIconEl:u}));case"list":return(0,An.h)(d5,Un({},r,{className:l,itemIconEl:u}));case"unsplash":return(0,An.h)(Tg,Un({},r,{className:l,itemIconEl:u}),(0,An.h)("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(n));}};});var nc=v(function(ON,qg){"use strict";var oi=(q(),N(I)),Ug=yt(),p5=rc(),f5=_g(),m5=Pg(),Dg=Ag(),g5="shared-with-me";function v5(r){var e=r.currentSelection,t=r.folders,i=r.files,s=r.uppyFiles,n=r.viewType,a=r.headerComponent,l=r.showBreadcrumbs,u=r.isChecked,c=r.toggleCheckbox,h=r.recordShiftKeyPress,p=r.handleScroll,g=r.showTitles,w=r.i18n,b=r.validateRestrictions,E=r.showFilter,F=r.filterQuery,C=r.filterInput,j=r.getNextFolder,W=r.cancel,H=r.done,J=r.columns,B=e.length;return(0,oi.h)("div",{className:Ug("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(n))},(0,oi.h)("div",{className:"uppy-ProviderBrowser-header"},(0,oi.h)("div",{className:Ug("uppy-ProviderBrowser-headerBar",!l&&"uppy-ProviderBrowser-headerBar--simple")},a)),E&&(0,oi.h)(f5,{i18n:w,filterQuery:F,filterInput:C}),function(){return!t.length&&!i.length?(0,oi.h)("div",{className:"uppy-Provider-empty"},w("noFilesFound")):(0,oi.h)("div",{className:"uppy-ProviderBrowser-body"},(0,oi.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:p,role:"listbox",tabIndex:"-1"},t.map(function(M){var $;return Dg({columns:J,showTitles:g,viewType:n,i18n:w,id:M.id,title:M.name,getItemIcon:function getItemIcon(){return M.icon;},isChecked:u(M),toggleCheckbox:function toggleCheckbox(Y){return c(Y,M);},recordShiftKeyPress:h,type:"folder",isDisabled:($=u(M))==null?void 0:$.loading,isCheckboxDisabled:M.id===g5,handleFolderClick:function handleFolderClick(){return j(M);}});}),i.map(function(M){var $=b(p5(M),[].concat(_toConsumableArray(s),_toConsumableArray(e)));return Dg({id:M.id,title:M.name,author:M.author,getItemIcon:function getItemIcon(){return M.icon;},isChecked:u(M),toggleCheckbox:function toggleCheckbox(Y){return c(Y,M);},recordShiftKeyPress:h,columns:J,showTitles:g,viewType:n,i18n:w,type:"file",isDisabled:!$.result&&!u(M),restrictionReason:$.reason});})));}(),B>0&&(0,oi.h)(m5,{selected:B,done:H,cancel:W,i18n:w}));}o(v5,"Browser");qg.exports=v5;});var oc=v(function(xN,Ig){"use strict";var Ng=(q(),N(I));Ig.exports=function(r){var e=r.i18n;return(0,Ng.h)("div",{className:"uppy-Provider-loading"},(0,Ng.h)("span",null,e("loading")));};});var lc=v(function(TN,Mg){"use strict";var Bg=(q(),N(I)),ac=/*#__PURE__*/function(_Bg$Component){_inherits(ac,_Bg$Component);var _super10=_createSuper(ac);function ac(){_classCallCheck(this,ac);return _super10.apply(this,arguments);}_createClass(ac,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.onUnmount;e();}},{key:"render",value:function render(){var e=this.props.children;return(0,Bg.toChildArray)(e)[0];}}]);return ac;}(Bg.Component);o(ac,"CloseWrapper");Mg.exports=ac;});var uc=v(function(kN,Lg){"use strict";function y5(r){return r?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(r):!1;}o(y5,"isPreviewSupported");Lg.exports=y5;});var zg=v(function(AN,jg){"use strict";var b5=rc(),cc=/*#__PURE__*/function(){function cc(e){_classCallCheck(this,cc);this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this);}_createClass(cc,[{key:"filterItems",value:function filterItems(e){var t=this.plugin.getPluginState();return!t.filterInput||t.filterInput===""?e:e.filter(function(i){return i.name.toLowerCase().indexOf(t.filterInput.toLowerCase())!==-1;});}},{key:"recordShiftKeyPress",value:function recordShiftKeyPress(e){this.isShiftKeyPressed=e.shiftKey;}},{key:"toggleCheckbox",value:function toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var _this$plugin$getPlugi=this.plugin.getPluginState(),i=_this$plugin$getPlugi.folders,s=_this$plugin$getPlugi.files,n=this.filterItems(i.concat(s));if(this.lastCheckbox&&this.isShiftKeyPressed){var l=n.indexOf(this.lastCheckbox),u=n.indexOf(t),c=l<u?n.slice(l,u+1):n.slice(u,l+1),h=[];var _iterator5=_createForOfIteratorHelper(c),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var p=_step5.value;var g=this.plugin.uppy,w=g.validateRestrictions(b5(p),[].concat(_toConsumableArray(g.getFiles()),h));w.result?h.push(p):g.info({message:w.reason},"error",g.opts.infoTimeout);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}this.plugin.setPluginState({currentSelection:h});return;}this.lastCheckbox=t;var _this$plugin$getPlugi2=this.plugin.getPluginState(),a=_this$plugin$getPlugi2.currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:a.filter(function(l){return l.id!==t.id;})}):this.plugin.setPluginState({currentSelection:a.concat([t])});}},{key:"isChecked",value:function isChecked(e){var _this$plugin$getPlugi3=this.plugin.getPluginState(),t=_this$plugin$getPlugi3.currentSelection;return t.some(function(i){return i.id===e.id;});}},{key:"loaderWrapper",value:function loaderWrapper(e,t,i){var _this32=this;e.then(function(s){_this32.plugin.setPluginState({loading:!1}),t(s);})["catch"](function(s){_this32.plugin.setPluginState({loading:!1}),i(s);}),this.plugin.setPluginState({loading:!0});}}]);return cc;}();o(cc,"SharedHandler");jg.exports=cc;});var dc=v(function(UN,Hg){"use strict";var w5=Du(),_5=uc(),S5=qu(),P5=zg(),hc=/*#__PURE__*/function(){function hc(e,t){_classCallCheck(this,hc);this.plugin=e,this.provider=t.provider,this.sharedHandler=new P5(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this);}_createClass(hc,[{key:"providerFileToId",value:function providerFileToId(e){return S5({data:e,name:e.name||e.id,type:e.mimetype});}},{key:"preFirstRender",value:function preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender();}},{key:"shouldHandleScroll",value:function shouldHandleScroll(e){var _e$target=e.target,t=_e$target.scrollHeight,i=_e$target.scrollTop,s=_e$target.offsetHeight;return t-(i+s)<50&&!this.isHandlingScroll;}},{key:"clearSelection",value:function clearSelection(){this.plugin.setPluginState({currentSelection:[]});}},{key:"cancelPicking",value:function cancelPicking(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels();}},{key:"handleError",value:function handleError(e){var t=this.plugin.uppy,i=t.i18n("companionError");t.log(e.toString()),!e.isAuthError&&t.info({message:i,details:e.toString()},"error",5e3);}},{key:"addFile",value:function addFile(e){var t={id:this.providerFileToId(e),source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=w5(t);i&&_5(i)&&(t.preview=e.thumbnail),e.author&&(e.author.name!=null&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(t),!0;}catch(s){return s.isRestriction||this.plugin.uppy.log(s),!1;}}}]);return hc;}();o(hc,"View");Hg.exports=hc;});var Kg=v(function(DN,Wg){"use strict";var Os=(q(),N(I));function $g(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o($g,"_classPrivateFieldLooseBase");var F5=0;function E5(r){return"__private_"+F5++ +"_"+r;}o(E5,"_classPrivateFieldLooseKey");var C5=hg(),R5=yg(),O5=nc(),x5=oc(),pc=lc(),T5=dc(),k5={version:"2.1.3"};function A5(){return location.origin;}o(A5,"getOrigin");function Vg(r){if(typeof r=="string")return new RegExp("^".concat(r,"$"));if(r instanceof RegExp)return r;}o(Vg,"getRegex");function U5(r,e){return(Array.isArray(e)?e.map(Vg):[Vg(e)]).some(function(i){return(i==null?void 0:i.test(r))||(i==null?void 0:i.test("".concat(r,"/")));});}o(U5,"isOriginAllowed");var Dn=E5("updateFilesAndFolders"),xs=/*#__PURE__*/function(_T2){_inherits(xs,_T2);var _super11=_createSuper(xs);function xs(e,t){var _this33;_classCallCheck(this,xs);_this33=_super11.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this33),Dn,{value:D5});var i={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};_this33.opts=_objectSpread(_objectSpread({},i),t),_this33.filterQuery=_this33.filterQuery.bind(_assertThisInitialized(_this33)),_this33.getFolder=_this33.getFolder.bind(_assertThisInitialized(_this33)),_this33.getNextFolder=_this33.getNextFolder.bind(_assertThisInitialized(_this33)),_this33.logout=_this33.logout.bind(_assertThisInitialized(_this33)),_this33.handleAuth=_this33.handleAuth.bind(_assertThisInitialized(_this33)),_this33.handleScroll=_this33.handleScroll.bind(_assertThisInitialized(_this33)),_this33.listAllFiles=_this33.listAllFiles.bind(_assertThisInitialized(_this33)),_this33.donePicking=_this33.donePicking.bind(_assertThisInitialized(_this33)),_this33.render=_this33.render.bind(_assertThisInitialized(_this33)),_this33.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]});return _this33;}_createClass(xs,[{key:"tearDown",value:function tearDown(){}},{key:"getFolder",value:function getFolder(e,t){var _this34=this;return this.sharedHandler.loaderWrapper(this.provider.list(e),function(i){var s=[],n=[],a,l=_this34.plugin.getPluginState(),u=l.directories.findIndex(function(c){return e===c.id;});u!==-1?a=l.directories.slice(0,u+1):a=l.directories.concat([{id:e,title:t}]),_this34.username=i.username||_this34.username,$g(_this34,Dn)[Dn](i,n,s),_this34.plugin.setPluginState({directories:a});},this.handleError);}},{key:"getNextFolder",value:function getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0;}},{key:"logout",value:function logout(){var _this35=this;this.provider.logout().then(function(e){if(e.ok){if(!e.revoked){var i=_this35.plugin.uppy.i18n("companionUnauthorizeHint",{provider:_this35.plugin.title,url:e.manual_revoke_url});_this35.plugin.uppy.info(i,"info",7e3);}var t={authenticated:!1,files:[],folders:[],directories:[]};_this35.plugin.setPluginState(t);}})["catch"](this.handleError);}},{key:"filterQuery",value:function filterQuery(e){var t=this.plugin.getPluginState();this.plugin.setPluginState(_objectSpread(_objectSpread({},t),{},{filterInput:e?e.target.value:""}));}},{key:"addFolder",value:function addFolder(e){var _this36=this;var t=this.providerFileToId(e),i=_objectSpread({},this.plugin.getPluginState().selectedFolders);if(!(t in i&&i[t].loading))return i[t]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:_objectSpread({},i)}),this.listAllFiles(e.requestPath).then(function(s){var n=0;s.forEach(function(u){var c=_this36.providerFileToId(u);_this36.plugin.uppy.checkIfFileAlreadyExists(c)||n++;}),n>0&&s.forEach(function(u){return _this36.addFile(u);});var a=s.map(_this36.providerFileToId);i[t]={loading:!1,files:a},_this36.plugin.setPluginState({selectedFolders:i});var l;n===0?l=_this36.plugin.uppy.i18n("folderAlreadyAdded",{folder:e.name}):s.length?l=_this36.plugin.uppy.i18n("folderAdded",{smart_count:n,folder:e.name}):l=_this36.plugin.uppy.i18n("emptyFolderAdded"),_this36.plugin.uppy.info(l);})["catch"](function(s){var n=_objectSpread({},_this36.plugin.getPluginState().selectedFolders);delete n[t],_this36.plugin.setPluginState({selectedFolders:n}),_this36.handleError(s);});}},{key:"handleAuth",value:function(){var _handleAuth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var _this37=this;var e,t,i,s,n;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.provider.ensurePreAuth();case 2:e=btoa(JSON.stringify({origin:A5()})),t="@uppy/provider-views=".concat(xs.VERSION),i=this.provider.authUrl({state:e,uppyVersions:t}),s=window.open(i,"_blank"),n=o(function(a){if(a.source!==s){_this37.plugin.uppy.log("rejecting event from unknown source");return;}(!U5(a.origin,_this37.plugin.opts.companionAllowedHosts)||a.source!==s)&&_this37.plugin.uppy.log("rejecting event from ".concat(a.origin," vs allowed pattern ").concat(_this37.plugin.opts.companionAllowedHosts));var l=typeof a.data=="string"?JSON.parse(a.data):a.data;if(l.error){_this37.plugin.uppy.log("auth aborted","warning");var u=_this37.plugin.uppy,c=u.i18n("authAborted");u.info({message:c},"warning",5e3);return;}if(!l.token){_this37.plugin.uppy.log("did not receive token from auth window","error");return;}s.close(),window.removeEventListener("message",n),_this37.provider.setAuthToken(l.token),_this37.preFirstRender();},"handleToken");window.addEventListener("message",n);case 4:case"end":return _context5.stop();}},_callee5,this);}));function handleAuth(){return _handleAuth.apply(this,arguments);}return handleAuth;}()},{key:"handleScroll",value:function(){var _handleScroll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(e){var t,i,_this$plugin$getPlugi4,s,n;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:t=this.nextPagePath||null;if(!(this.shouldHandleScroll(e)&&t)){_context6.next=19;break;}this.isHandlingScroll=!0;_context6.prev=3;_context6.next=6;return this.provider.list(t);case 6:i=_context6.sent;_this$plugin$getPlugi4=this.plugin.getPluginState();s=_this$plugin$getPlugi4.files;n=_this$plugin$getPlugi4.folders;$g(this,Dn)[Dn](i,s,n);_context6.next=16;break;case 13:_context6.prev=13;_context6.t0=_context6["catch"](3);this.handleError(_context6.t0);case 16:_context6.prev=16;this.isHandlingScroll=!1;return _context6.finish(16);case 19:case"end":return _context6.stop();}},_callee6,this,[[3,13,16,19]]);}));function handleScroll(_x8){return _handleScroll.apply(this,arguments);}return handleScroll;}()},{key:"listAllFiles",value:function(){var _listAllFiles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e,t){var _this38=this;var i,s;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:t===void 0&&(t=null),t=t||[];_context7.next=3;return this.provider.list(e);case 3:i=_context7.sent;i.items.forEach(function(n){n.isFolder?_this38.addFolder(n):t.push(n);});s=i.nextPagePath;return _context7.abrupt("return",s?this.listAllFiles(s,t):t);case 7:case"end":return _context7.stop();}},_callee7,this);}));function listAllFiles(_x9,_x10){return _listAllFiles.apply(this,arguments);}return listAllFiles;}()},{key:"donePicking",value:function donePicking(){var _this39=this;var _this$plugin$getPlugi5=this.plugin.getPluginState(),e=_this$plugin$getPlugi5.currentSelection,t=e.map(function(i){return i.isFolder?_this39.addFolder(i):_this39.addFile(i);});this.sharedHandler.loaderWrapper(Promise.all(t),function(){_this39.clearSelection();},function(){});}},{key:"render",value:function render(e,t){var i=this;t===void 0&&(t={});var _this$plugin$getPlugi6=this.plugin.getPluginState(),s=_this$plugin$getPlugi6.authenticated,n=_this$plugin$getPlugi6.didFirstRender;n||this.preFirstRender();var a=_objectSpread(_objectSpread({},this.opts),t),_this$plugin$getPlugi7=this.plugin.getPluginState(),l=_this$plugin$getPlugi7.files,u=_this$plugin$getPlugi7.folders,c=_this$plugin$getPlugi7.filterInput,h=_this$plugin$getPlugi7.loading,p=_this$plugin$getPlugi7.currentSelection,_this$sharedHandler=this.sharedHandler,g=_this$sharedHandler.isChecked,w=_this$sharedHandler.toggleCheckbox,b=_this$sharedHandler.recordShiftKeyPress,E=_this$sharedHandler.filterItems,F=c!=="",C={showBreadcrumbs:a.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},j={isChecked:g,toggleCheckbox:w,recordShiftKeyPress:b,currentSelection:p,files:F?E(l):l,folders:F?E(u):u,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:R5(C),title:this.plugin.title,viewType:a.viewType,showTitles:a.showTitles,showFilter:a.showFilter,showBreadcrumbs:a.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function validateRestrictions(){var _i$plugin$uppy;return(_i$plugin$uppy=i.plugin.uppy).validateRestrictions.apply(_i$plugin$uppy,arguments);}};return h?(0,Os.h)(pc,{onUnmount:this.clearSelection},(0,Os.h)(x5,{i18n:this.plugin.uppy.i18n})):s?(0,Os.h)(pc,{onUnmount:this.clearSelection},(0,Os.h)(O5,j)):(0,Os.h)(pc,{onUnmount:this.clearSelection},(0,Os.h)(C5,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}));}}]);return xs;}(T5);o(xs,"ProviderView");function D5(r,e,t){this.nextPagePath=r.nextPagePath,r.items.forEach(function(i){i.isFolder?t.push(i):e.push(i);}),this.plugin.setPluginState({folders:t,files:e});}o(D5,"_updateFilesAndFolders2");xs.VERSION=k5.version;Wg.exports=xs;});var Xg=v(function(qN,Gg){"use strict";Gg.exports=Kg();});var Jg=v(function(NN,Yg){"use strict";var fc=(q(),N(I));Yg.exports=function(r){var e=r.i18n,t=r.search,i,s=o(function(){i.value&&t(i.value);},"validateAndSearch"),n=o(function(a){a.keyCode===13&&s();},"handleKeyPress");return(0,fc.h)("div",{className:"uppy-SearchProvider"},(0,fc.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":e("enterTextToSearch"),placeholder:e("enterTextToSearch"),onKeyUp:n,ref:function ref(a){i=a;},"data-uppy-super-focusable":!0}),(0,fc.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:s},e("searchImages")));};});var Zg=v(function(IN,Qg){"use strict";var va=(q(),N(I)),q5=13;Qg.exports=function(r){var e=r.searchTerm,t=r.i18n,i=r.search,s=o(function(n){n.keyCode===q5&&(n.stopPropagation(),n.preventDefault(),i(n.target.value));},"handleKeyPress");return(0,va.h)("div",{"class":"uppy-ProviderBrowser-search"},(0,va.h)("input",{"class":"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:t("search"),"aria-label":t("search"),value:e,onKeyUp:s,"data-uppy-super-focusable":!0}),(0,va.h)("svg",{"aria-hidden":"true",focusable:"false","class":"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,va.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})));};});var rv=v(function(BN,tv){"use strict";var Ts=(q(),N(I));function ev(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(ev,"_classPrivateFieldLooseBase");var N5=0;function I5(r){return"__private_"+N5++ +"_"+r;}o(I5,"_classPrivateFieldLooseKey");var B5=Jg(),M5=nc(),L5=oc(),j5=Zg(),mc=lc(),z5=dc(),H5={version:"2.1.3"},qn=I5("updateFilesAndInputMode"),ya=/*#__PURE__*/function(_z2){_inherits(ya,_z2);var _super12=_createSuper(ya);function ya(e,t){var _this40;_classCallCheck(this,ya);_this40=_super12.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this40),qn,{value:$5});var i={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};_this40.opts=_objectSpread(_objectSpread({},i),t),_this40.search=_this40.search.bind(_assertThisInitialized(_this40)),_this40.triggerSearchInput=_this40.triggerSearchInput.bind(_assertThisInitialized(_this40)),_this40.addFile=_this40.addFile.bind(_assertThisInitialized(_this40)),_this40.handleScroll=_this40.handleScroll.bind(_assertThisInitialized(_this40)),_this40.donePicking=_this40.donePicking.bind(_assertThisInitialized(_this40)),_this40.render=_this40.render.bind(_assertThisInitialized(_this40)),_this40.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null});return _this40;}_createClass(ya,[{key:"tearDown",value:function tearDown(){}},{key:"clearSelection",value:function clearSelection(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null});}},{key:"search",value:function search(e){var _this41=this;var _this$plugin$getPlugi8=this.plugin.getPluginState(),t=_this$plugin$getPlugi8.searchTerm;if(!(e&&e===t))return this.sharedHandler.loaderWrapper(this.provider.search(e),function(i){ev(_this41,qn)[qn](i,[]);},this.handleError);}},{key:"triggerSearchInput",value:function triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0});}},{key:"handleScroll",value:function(){var _handleScroll2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e){var t,_this$plugin$getPlugi9,i,s,n;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:t=this.nextPageQuery||null;if(!(this.shouldHandleScroll(e)&&t)){_context8.next=19;break;}this.isHandlingScroll=!0;_context8.prev=3;_this$plugin$getPlugi9=this.plugin.getPluginState();i=_this$plugin$getPlugi9.files;s=_this$plugin$getPlugi9.searchTerm;_context8.next=9;return this.provider.search(s,t);case 9:n=_context8.sent;ev(this,qn)[qn](n,i);_context8.next=16;break;case 13:_context8.prev=13;_context8.t0=_context8["catch"](3);this.handleError(_context8.t0);case 16:_context8.prev=16;this.isHandlingScroll=!1;return _context8.finish(16);case 19:case"end":return _context8.stop();}},_callee8,this,[[3,13,16,19]]);}));function handleScroll(_x11){return _handleScroll2.apply(this,arguments);}return handleScroll;}()},{key:"donePicking",value:function donePicking(){var _this42=this;var _this$plugin$getPlugi10=this.plugin.getPluginState(),e=_this$plugin$getPlugi10.currentSelection,t=e.map(function(i){return _this42.addFile(i);});this.sharedHandler.loaderWrapper(Promise.all(t),function(){_this42.clearSelection();},function(){});}},{key:"render",value:function render(e,t){var i=this;t===void 0&&(t={});var _this$plugin$getPlugi11=this.plugin.getPluginState(),s=_this$plugin$getPlugi11.didFirstRender,n=_this$plugin$getPlugi11.isInputMode,a=_this$plugin$getPlugi11.searchTerm;s||this.preFirstRender();var l=_objectSpread(_objectSpread({},this.opts),t),_this$plugin$getPlugi12=this.plugin.getPluginState(),u=_this$plugin$getPlugi12.files,c=_this$plugin$getPlugi12.folders,h=_this$plugin$getPlugi12.filterInput,p=_this$plugin$getPlugi12.loading,g=_this$plugin$getPlugi12.currentSelection,_this$sharedHandler2=this.sharedHandler,w=_this$sharedHandler2.isChecked,b=_this$sharedHandler2.toggleCheckbox,E=_this$sharedHandler2.filterItems,F=h!=="",C={isChecked:w,toggleCheckbox:b,currentSelection:g,files:F?E(u):u,folders:F?E(c):c,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:j5({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:a}),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function validateRestrictions(){var _i$plugin$uppy2;return(_i$plugin$uppy2=i.plugin.uppy).validateRestrictions.apply(_i$plugin$uppy2,arguments);}};return p?(0,Ts.h)(mc,{onUnmount:this.clearSelection},(0,Ts.h)(L5,{i18n:this.plugin.uppy.i18n})):n?(0,Ts.h)(mc,{onUnmount:this.clearSelection},(0,Ts.h)(B5,{search:this.search,i18n:this.plugin.uppy.i18n})):(0,Ts.h)(mc,{onUnmount:this.clearSelection},(0,Ts.h)(M5,C));}}]);return ya;}(z5);o(ya,"SearchProviderView");function $5(r,e){this.nextPageQuery=r.nextPageQuery,r.items.forEach(function(t){e.push(t);}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:r.searchedFor});}o($5,"_updateFilesAndInputMode2");ya.VERSION=H5.version;tv.exports=ya;});var sv=v(function(MN,iv){"use strict";iv.exports=rv();});var ar=v(function(ks){"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.SearchProviderViews=ks.ProviderViews=void 0;var V5=Xg();ks.ProviderViews=V5;var W5=sv();ks.SearchProviderViews=W5;});var uv=v(function(ai,lv){"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.STATE_UPDATE=ai.ReduxStore=void 0;ai.middleware=av;ai.reducer=ov;var K5=Ri(),nv;function lr(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(lr,"_classPrivateFieldLooseBase");var G5=0;function gc(r){return"__private_"+G5++ +"_"+r;}o(gc,"_classPrivateFieldLooseKey");var X5={version:"2.1.1"},ba="uppy/STATE_UPDATE";ai.STATE_UPDATE=ba;var Y5=o(function(r){return function(e){return e.uppy[r];};},"defaultSelector");function J5(r,e){var t=Object.keys(e),i={};return t.forEach(function(s){r[s]!==e[s]&&(i[s]=e[s]);}),i;}o(J5,"getPatch");var Dr=gc("id"),Nn=gc("selector"),qr=gc("store");nv=Symbol["for"]("uppy test: get id");var ur=/*#__PURE__*/function(_nv){function ur(e){_classCallCheck(this,ur);Object.defineProperty(this,Dr,{writable:!0,value:void 0}),Object.defineProperty(this,Nn,{writable:!0,value:void 0}),Object.defineProperty(this,qr,{writable:!0,value:void 0}),lr(this,qr)[qr]=e.store,lr(this,Dr)[Dr]=e.id||(0,K5.nanoid)(),lr(this,Nn)[Nn]=e.selector||Y5(lr(this,Dr)[Dr]),this.setState({});}_createClass(ur,[{key:"setState",value:function setState(e){lr(this,qr)[qr].dispatch({type:ba,id:lr(this,Dr)[Dr],payload:e});}},{key:"getState",value:function getState(){return lr(this,Nn)[Nn](lr(this,qr)[qr].getState());}},{key:"subscribe",value:function subscribe(e){var _this43=this;var t=this.getState();return lr(this,qr)[qr].subscribe(function(){var i=_this43.getState();if(t!==i){var s=J5(t,i);e(t,i,s),t=i;}});}},{key:_nv,value:function value(){return lr(this,Dr)[Dr];}}]);return ur;}(nv);o(ur,"ReduxStore");ai.ReduxStore=ur;ur.VERSION=X5.version;function ov(r,e){if(r===void 0&&(r={}),e.type===ba){var t=_objectSpread(_objectSpread({},r[e.id]),e.payload);return _objectSpread(_objectSpread({},r),{},_defineProperty({},e.id,t));}return r;}o(ov,"reducer");function av(){return function(){return function(r){return function(e){r(e);};};};}o(av,"middleware");lv.exports=ur;ur.ReduxStore=ur;ur.STATE_UPDATE=ba;ur.reducer=ov;ur.middleware=av;});var cr=v(function(jN,cv){"use strict";cv.exports=Array.from;});var wa=v(function(zN,hv){"use strict";hv.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];});var vc=v(function(HN,dv){"use strict";function Q5(r,e){if(e){var t=r.querySelector("[data-uppy-paneltype=\"".concat(e,"\"]"));if(t)return t;}return r;}o(Q5,"getActiveOverlayEl");dv.exports=Q5;});var mv=v(function(_a){"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.forInline=sC;_a.forModal=fv;var Z5=cr(),eC=wa(),tC=vc();function pv(r,e){var t=e[0];t&&(t.focus(),r.preventDefault());}o(pv,"focusOnFirstNode");function rC(r,e){var t=e[e.length-1];t&&(t.focus(),r.preventDefault());}o(rC,"focusOnLastNode");function iC(r){return r.contains(document.activeElement);}o(iC,"isFocusInOverlay");function fv(r,e,t){var i=tC(t,e),s=Z5(i.querySelectorAll(eC)),n=s.indexOf(document.activeElement);iC(i)?r.shiftKey&&n===0?rC(r,s):!r.shiftKey&&n===s.length-1&&pv(r,s):pv(r,s);}o(fv,"trapFocus");function sC(r,e,t){e===null||fv(r,e,t);}o(sC,"forInline");});var vv=v(function(VN,gv){"use strict";function nC(r){if(!r.bytesUploaded)return 0;var e=Date.now()-r.uploadStarted;return r.bytesUploaded/(e/1e3);}o(nC,"getSpeed");gv.exports=nC;});var bv=v(function(WN,yv){"use strict";function oC(r){return r.bytesTotal-r.bytesUploaded;}o(oC,"getBytesRemaining");yv.exports=oC;});var Sa=v(function(KN,wv){"use strict";wv.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};});var Sv=v(function(GN,_v){"use strict";function aC(r){var e=Math.floor(r/3600)%24,t=Math.floor(r/60)%60,i=Math.floor(r%60);return{hours:e,minutes:t,seconds:i};}o(aC,"secondsToTime");_v.exports=aC;});var Fv=v(function(XN,Pv){"use strict";var lC=Sv();function uC(r){var e=lC(r),t=e.hours===0?"":"".concat(e.hours,"h"),i=e.minutes===0?"":"".concat(e.hours===0?e.minutes:" ".concat(e.minutes.toString(10).padStart(2,"0")),"m"),s=e.hours!==0?"":"".concat(e.minutes===0?e.seconds:" ".concat(e.seconds.toString(10).padStart(2,"0")),"s");return"".concat(t).concat(i).concat(s);}o(uC,"prettyETA");Pv.exports=uC;});var Tv=v(function(bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.CancelBtn=gC;bt.DoneBtn=yC;bt.LoadingSpinner=yc;bt.PauseResumeButton=vC;bt.ProgressBarComplete=PC;bt.ProgressBarError=FC;bt.ProgressBarProcessing=bC;bt.ProgressBarUploading=SC;bt.ProgressDetails=Ov;bt.RetryBtn=mC;bt.UploadBtn=fC;var X=(q(),N(I)),Ev=yt(),cC=mn(),Cv=na(),hC=Fv(),dC=Sa(),pC="\xB7",Rv=o(function(){return" ".concat(pC," ");},"renderDot");function fC(r){var e=r.newFiles,t=r.isUploadStarted,i=r.recoveredState,s=r.i18n,n=r.uploadState,a=r.isSomeGhost,l=r.startUpload,u=Ev("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":n===dC.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),c=e&&t&&!i?s("uploadXNewFiles",{smart_count:e}):s("uploadXFiles",{smart_count:e});return(0,X.h)("button",{type:"button",className:u,"aria-label":s("uploadXFiles",{smart_count:e}),onClick:l,disabled:a,"data-uppy-super-focusable":!0},c);}o(fC,"UploadBtn");function mC(r){var e=r.i18n,t=r.uppy;return(0,X.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:function onClick(){return t.retryAll();},"data-uppy-super-focusable":!0},(0,X.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,X.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"));}o(mC,"RetryBtn");function gC(r){var e=r.i18n,t=r.uppy;return(0,X.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:function onClick(){return t.cancelAll();},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,X.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,X.h)("g",{fill:"none",fillRule:"evenodd"},(0,X.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,X.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))));}o(gC,"CancelBtn");function vC(r){var e=r.isAllPaused,t=r.i18n,i=r.isAllComplete,s=r.resumableUploads,n=r.uppy,a=t(e?"resume":"pause");function l(){return i?null:s?e?n.resumeAll():n.pauseAll():n.cancelAll();}return o(l,"togglePauseResume"),(0,X.h)("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-uppy-super-focusable":!0},(0,X.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,X.h)("g",{fill:"none",fillRule:"evenodd"},(0,X.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,X.h)("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))));}o(vC,"PauseResumeButton");function yC(r){var e=r.i18n,t=r.doneButtonHandler;return(0,X.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:t,"data-uppy-super-focusable":!0},e("done"));}o(yC,"DoneBtn");function yc(){return(0,X.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,X.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}));}o(yc,"LoadingSpinner");function bC(r){var e=r.progress,t=e.value,i=e.mode,s=e.message,n=Math.round(t*100),a="\xB7";return(0,X.h)("div",{className:"uppy-StatusBar-content"},(0,X.h)(yc,null),i==="determinate"?"".concat(n,"% ").concat(a," "):"",s);}o(bC,"ProgressBarProcessing");function Ov(r){var e=r.numUploads,t=r.complete,i=r.totalUploadedSize,s=r.totalSize,n=r.totalETA,a=r.i18n,l=e>1;return(0,X.h)("div",{className:"uppy-StatusBar-statusSecondary"},l&&a("filesUploadedOfTotal",{complete:t,smart_count:e}),(0,X.h)("span",{className:"uppy-StatusBar-additionalInfo"},l&&Rv(),a("dataUploadedOfTotal",{complete:Cv(i),total:Cv(s)}),Rv(),a("xTimeLeft",{time:hC(n)})));}o(Ov,"ProgressDetails");function xv(r){var e=r.i18n,t=r.complete,i=r.numUploads;return(0,X.h)("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:t,smart_count:i}));}o(xv,"FileUploadCount");function wC(r){var e=r.i18n,t=r.newFiles,i=r.startUpload,s=Ev("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,X.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,X.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:t})),(0,X.h)("button",{type:"button",className:s,"aria-label":e("uploadXFiles",{smart_count:t}),onClick:i},e("upload")));}o(wC,"UploadNewlyAddedFiles");var _C=cC(Ov,500,{leading:!0,trailing:!0});function SC(r){var e=r.i18n,t=r.supportsUploadProgress,i=r.totalProgress,s=r.showProgressDetails,n=r.isUploadStarted,a=r.isAllComplete,l=r.isAllPaused,u=r.newFiles,c=r.numUploads,h=r.complete,p=r.totalUploadedSize,g=r.totalSize,w=r.totalETA,b=r.startUpload,E=u&&n;if(!n||a)return null;var F=e(l?"paused":"uploading");function C(){return!l&&!E&&s?t?(0,X.h)(_C,{numUploads:c,complete:h,totalUploadedSize:p,totalSize:g,totalETA:w,i18n:e}):(0,X.h)(xv,{i18n:e,complete:h,numUploads:c}):null;}return o(C,"renderProgressDetails"),(0,X.h)("div",{className:"uppy-StatusBar-content","aria-label":F,title:F},l?null:(0,X.h)(yc,null),(0,X.h)("div",{className:"uppy-StatusBar-status"},(0,X.h)("div",{className:"uppy-StatusBar-statusPrimary"},t?"".concat(F,": ").concat(i,"%"):F),C(),E?(0,X.h)(wC,{i18n:e,newFiles:u,startUpload:b}):null));}o(SC,"ProgressBarUploading");function PC(r){var e=r.i18n;return(0,X.h)("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},(0,X.h)("div",{className:"uppy-StatusBar-status"},(0,X.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,X.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,X.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))));}o(PC,"ProgressBarComplete");function FC(r){var e=r.error,t=r.i18n,i=r.complete,s=r.numUploads;function n(){var a="".concat(t("uploadFailed")," \n\n ").concat(e);alert(a);}return o(n,"displayErrorAlert"),(0,X.h)("div",{className:"uppy-StatusBar-content",title:t("uploadFailed")},(0,X.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,X.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,X.h)("div",{className:"uppy-StatusBar-status"},(0,X.h)("div",{className:"uppy-StatusBar-statusPrimary"},t("uploadFailed"),(0,X.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":t("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:n,type:"button"},"?")),(0,X.h)(xv,{i18n:t,complete:i,numUploads:s})));}o(FC,"ProgressBarError");});var Av=v(function(JN,kv){"use strict";function EC(r){var e=[],t,i;for(var _i5=0,_Object$values3=Object.values(r);_i5<_Object$values3.length;_i5++){var _ref3;var n=_Object$values3[_i5].progress;var a=n.preprocess,l=n.postprocess;i==null&&(a||l)&&(_ref3=a||l,t=_ref3.mode,i=_ref3.message,_ref3),(a==null?void 0:a.mode)==="determinate"&&e.push(a.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value);}var s=e.reduce(function(n,a){return n+a/e.length;},0);return{mode:t,message:i,value:s};}o(EC,"calculateProcessingProgress");kv.exports=EC;});var Iv=v(function(QN,Nv){"use strict";var Dt=(q(),N(I)),Nr=Tv(),Uv=yt(),CC=Sa(),bc=Av(),Dv=CC.STATE_ERROR,qv=CC.STATE_WAITING,wc=CC.STATE_PREPROCESSING,Pa=CC.STATE_UPLOADING,_c=CC.STATE_POSTPROCESSING,Fa=CC.STATE_COMPLETE;function RC(r){var e=r.newFiles,t=r.allowNewUpload,i=r.isUploadInProgress,s=r.isAllPaused,n=r.resumableUploads,a=r.error,l=r.hideUploadButton,u=r.hidePauseResumeButton,c=r.hideCancelButton,h=r.hideRetryButton,p=r.recoveredState,g=r.uploadState,w=r.totalProgress,b=r.files,E=r.supportsUploadProgress,F=r.hideAfterFinish,C=r.isSomeGhost,j=r.doneButtonHandler,W=r.isUploadStarted,H=r.i18n,J=r.startUpload,B=r.uppy,M=r.isAllComplete,$=r.showProgressDetails,Y=r.numUploads,ft=r.complete,nt=r.totalSize,U=r.totalETA,K=r.totalUploadedSize;function le(){switch(g){case _c:case wc:{var Tt=bc(b);return Tt.mode==="determinate"?Tt.value*100:w;}case Dv:return null;case Pa:return E?w:null;default:return w;}}o(le,"getProgressValue");function Se(){switch(g){case _c:case wc:{var _bc=bc(b),Tt=_bc.mode;return Tt==="indeterminate";}case Pa:return!E;default:return!1;}}o(Se,"getIsIndeterminate");function fe(){if(p)return!1;switch(g){case qv:return l||e===0;case Fa:return F;default:return!1;}}o(fe,"getIsHidden");var $t=le(),br=fe(),mt=$t!==null&&$t!==void 0?$t:100,xt=!a&&e&&!i&&!s&&t&&!l,wr=!c&&g!==qv&&g!==Fa,Zr=n&&!u&&g===Pa,_r=a&&!M&&!h,_i=j&&g===Fa,Si=Uv("uppy-StatusBar-progress",{"is-indeterminate":Se()}),Sr=Uv("uppy-StatusBar","is-".concat(g),{"has-ghosts":C});return(0,Dt.h)("div",{className:Sr,"aria-hidden":br},(0,Dt.h)("div",{className:Si,style:{width:"".concat(mt,"%")},role:"progressbar","aria-label":"".concat(mt,"%"),"aria-valuetext":"".concat(mt,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":$t}),function(){switch(g){case wc:case _c:return(0,Dt.h)(Nr.ProgressBarProcessing,{progress:bc(b)});case Fa:return(0,Dt.h)(Nr.ProgressBarComplete,{i18n:H});case Dv:return(0,Dt.h)(Nr.ProgressBarError,{error:a,i18n:H,numUploads:Y,complete:ft});case Pa:return(0,Dt.h)(Nr.ProgressBarUploading,{i18n:H,supportsUploadProgress:E,totalProgress:w,showProgressDetails:$,isUploadStarted:W,isAllComplete:M,isAllPaused:s,newFiles:e,numUploads:Y,complete:ft,totalUploadedSize:K,totalSize:nt,totalETA:U,startUpload:J});default:return null;}}(),(0,Dt.h)("div",{className:"uppy-StatusBar-actions"},p||xt?(0,Dt.h)(Nr.UploadBtn,{newFiles:e,isUploadStarted:W,recoveredState:p,i18n:H,isSomeGhost:C,startUpload:J,uploadState:g}):null,_r?(0,Dt.h)(Nr.RetryBtn,{i18n:H,uppy:B}):null,Zr?(0,Dt.h)(Nr.PauseResumeButton,{isAllPaused:s,i18n:H,isAllComplete:M,resumableUploads:n,uppy:B}):null,wr?(0,Dt.h)(Nr.CancelBtn,{i18n:H,uppy:B}):null,_i?(0,Dt.h)(Nr.DoneBtn,{i18n:H,doneButtonHandler:j}):null));}o(RC,"StatusBar");Nv.exports=RC;});var Mv=v(function(ZN,Bv){"use strict";Bv.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};});var jv=v(function(eI,Lv){"use strict";var OC=he(),xC=vv(),TC=bv(),kC=$u(),hr=Sa(),AC=Iv(),UC={version:"2.2.2"},DC=Mv();function qC(r){var e=0;return r.forEach(function(t){e+=xC(t.progress);}),e;}o(qC,"getTotalSpeed");function NC(r){var e=qC(r);if(e===0)return 0;var t=r.reduce(function(i,s){return i+TC(s.progress);},0);return Math.round(t/e*10)/10;}o(NC,"getTotalETA");function IC(r,e,t,i){if(r&&!e)return hr.STATE_ERROR;if(e)return hr.STATE_COMPLETE;if(t)return hr.STATE_WAITING;var s=hr.STATE_WAITING,n=Object.keys(i);for(var a=0;a<n.length;a++){var l=i[n[a]].progress;if(l.uploadStarted&&!l.uploadComplete)return hr.STATE_UPLOADING;l.preprocess&&s!==hr.STATE_UPLOADING&&(s=hr.STATE_PREPROCESSING),l.postprocess&&s!==hr.STATE_UPLOADING&&s!==hr.STATE_PREPROCESSING&&(s=hr.STATE_POSTPROCESSING);}return s;}o(IC,"getUploadingState");var Ea=/*#__PURE__*/function(_OC$UIPlugin){_inherits(Ea,_OC$UIPlugin);var _super13=_createSuper(Ea);function Ea(e,t){var _this44;_classCallCheck(this,Ea);_this44=_super13.call(this,e,t);_this44.startUpload=function(){var _this44$uppy$getState=_this44.uppy.getState(),s=_this44$uppy$getState.recoveredState;if(s){_this44.uppy.emit("restore-confirmed");return;}return _this44.uppy.upload()["catch"](function(){});},_this44.id=_this44.opts.id||"StatusBar",_this44.title="StatusBar",_this44.type="progressindicator",_this44.defaultLocale=DC;var i={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};_this44.opts=_objectSpread(_objectSpread({},i),t),_this44.i18nInit(),_this44.render=_this44.render.bind(_assertThisInitialized(_this44)),_this44.install=_this44.install.bind(_assertThisInitialized(_this44));return _this44;}_createClass(Ea,[{key:"render",value:function render(e){var t=e.capabilities,i=e.files,s=e.allowNewUpload,n=e.totalProgress,a=e.error,l=e.recoveredState,_this$uppy$getObjectO=this.uppy.getObjectOfFilesPerState(),u=_this$uppy$getObjectO.newFiles,c=_this$uppy$getObjectO.startedFiles,h=_this$uppy$getObjectO.completeFiles,p=_this$uppy$getObjectO.inProgressNotPausedFiles,g=_this$uppy$getObjectO.isUploadStarted,w=_this$uppy$getObjectO.isAllComplete,b=_this$uppy$getObjectO.isAllErrored,E=_this$uppy$getObjectO.isAllPaused,F=_this$uppy$getObjectO.isUploadInProgress,C=_this$uppy$getObjectO.isSomeGhost,j=l?Object.values(i):u,W=NC(p),H=!!t.resumableUploads,J=t.uploadProgress!==!1,B=0,M=0;return c.forEach(function($){B+=$.progress.bytesTotal||0,M+=$.progress.bytesUploaded||0;}),AC({error:a,uploadState:IC(a,w,l,e.files||{}),allowNewUpload:s,totalProgress:n,totalSize:B,totalUploadedSize:M,isAllComplete:!1,isAllPaused:E,isAllErrored:b,isUploadStarted:g,isUploadInProgress:F,isSomeGhost:C,recoveredState:l,complete:h.length,newFiles:j.length,numUploads:c.length,totalETA:W,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:H,supportsUploadProgress:J,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl});}},{key:"onMount",value:function onMount(){var e=this.el;kC(e)||(e.dir="ltr");}},{key:"install",value:function install(){var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.unmount();}}]);return Ea;}(OC.UIPlugin);o(Ea,"StatusBar");Ea.VERSION=UC.version;Lv.exports=Ea;});var Sc=v(function(tI,zv){"use strict";zv.exports=jv();});var Vv=v(function(rI,$v){"use strict";var Pc=(q(),N(I)),Hv=300,Fc=/*#__PURE__*/function(_Pc$Component){_inherits(Fc,_Pc$Component);var _super14=_createSuper(Fc);function Fc(){var _this45;_classCallCheck(this,Fc);_this45=_super14.apply(this,arguments);_this45.ref=(0,Pc.createRef)();return _this45;}_createClass(Fc,[{key:"componentWillEnter",value:function componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,Hv);}},{key:"componentWillLeave",value:function componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,Hv);}},{key:"render",value:function render(){var e=this.props.children;return(0,Pc.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e);}}]);return Fc;}(Pc.Component);o(Fc,"FadeIn");$v.exports=Fc;});var Kv=v(function(iI,Wv){"use strict";var Ir=(q(),N(I));function BC(r,e){return Object.assign(r,e);}o(BC,"assign");function MC(r,e){var t;return(t=r==null?void 0:r.key)!=null?t:e;}o(MC,"getKey");function LC(r,e){var t=r._ptgLinkedRefs||(r._ptgLinkedRefs={});return t[e]||(t[e]=function(i){r.refs[e]=i;});}o(LC,"linkRef");function In(r){var e={};for(var t=0;t<r.length;t++)if(r[t]!=null){var i=MC(r[t],t.toString(36));e[i]=r[t];}return e;}o(In,"getChildMapping");function jC(r,e){r=r||{},e=e||{};var t=o(function(a){return e.hasOwnProperty(a)?e[a]:r[a];},"getValueForKey"),i={},s=[];for(var a in r)e.hasOwnProperty(a)?s.length&&(i[a]=s,s=[]):s.push(a);var n={};for(var _a6 in e){if(i.hasOwnProperty(_a6))for(var l=0;l<i[_a6].length;l++){var u=i[_a6][l];n[i[_a6][l]]=t(u);}n[_a6]=t(_a6);}for(var _a7=0;_a7<s.length;_a7++)n[s[_a7]]=t(s[_a7]);return n;}o(jC,"mergeChildMappings");var zC=o(function(r){return r;},"identity"),Ca=/*#__PURE__*/function(_Ir$Component){_inherits(Ca,_Ir$Component);var _super15=_createSuper(Ca);function Ca(e,t){var _this46;_classCallCheck(this,Ca);_this46=_super15.call(this,e,t);_this46.refs={},_this46.state={children:In((0,Ir.toChildArray)((0,Ir.toChildArray)(_this46.props.children))||[])},_this46.performAppear=_this46.performAppear.bind(_assertThisInitialized(_this46)),_this46.performEnter=_this46.performEnter.bind(_assertThisInitialized(_this46)),_this46.performLeave=_this46.performLeave.bind(_assertThisInitialized(_this46));return _this46;}_createClass(Ca,[{key:"componentWillMount",value:function componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[];}},{key:"componentDidMount",value:function componentDidMount(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t);}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=In((0,Ir.toChildArray)(e.children)||[]),i=this.state.children;this.setState(function(n){return{children:jC(n.children,t)};});var s;for(s in t)if(t.hasOwnProperty(s)){var n=i&&i.hasOwnProperty(s);t[s]&&n&&this.currentlyTransitioningKeys[s]?(this.keysToEnter.push(s),this.keysToAbortLeave.push(s)):t[s]&&!n&&!this.currentlyTransitioningKeys[s]&&this.keysToEnter.push(s);}for(s in i)if(i.hasOwnProperty(s)){var _n3=t&&t.hasOwnProperty(s);i[s]&&!_n3&&!this.currentlyTransitioningKeys[s]&&this.keysToLeave.push(s);}}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave);}},{key:"_finishAbort",value:function _finishAbort(e){var t=this.keysToAbortLeave.indexOf(e);t!==-1&&this.keysToAbortLeave.splice(t,1);}},{key:"performAppear",value:function performAppear(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e);}},{key:"_handleDoneAppearing",value:function _handleDoneAppearing(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var i=In((0,Ir.toChildArray)(this.props.children)||[]);(!i||!i.hasOwnProperty(e))&&this.performLeave(e);}},{key:"performEnter",value:function performEnter(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e);}},{key:"_handleDoneEntering",value:function _handleDoneEntering(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var i=In((0,Ir.toChildArray)(this.props.children)||[]);(!i||!i.hasOwnProperty(e))&&this.performLeave(e);}},{key:"performLeave",value:function performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;var i=this.refs[e];i.componentWillLeave?i.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e);}},{key:"_handleDoneLeaving",value:function _handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;var i=this.refs[e];i.componentDidLeave&&i.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var s=In((0,Ir.toChildArray)(this.props.children)||[]);if(s&&s.hasOwnProperty(e))this.performEnter(e);else{var n=BC({},this.state.children);delete n[e],this.setState({children:n});}}},{key:"render",value:function render(e,t){var i=e.childFactory,s=e.transitionLeave,n=e.transitionName,a=e.transitionAppear,l=e.transitionEnter,u=e.transitionLeaveTimeout,c=e.transitionEnterTimeout,h=e.transitionAppearTimeout,p=e.component,g=_objectWithoutProperties(e,_excluded),w=t.children,b=[];for(var E in w)if(w.hasOwnProperty(E)){var F=w[E];if(F){var C=LC(this,E),j=(0,Ir.cloneElement)(i(F),{ref:C,key:E});b.push(j);}}return(0,Ir.h)(p,g,b);}}]);return Ca;}(Ir.Component);o(Ca,"TransitionGroup");Ca.defaultProps={component:"span",childFactory:zC};Wv.exports=Ca;});var Xv=v(function(sI,Gv){"use strict";var Bn=(q(),N(I)),HC=he(),$C=Vv(),VC=Kv(),WC={version:"2.1.1"},Ra=/*#__PURE__*/function(_HC$UIPlugin){_inherits(Ra,_HC$UIPlugin);var _super16=_createSuper(Ra);function Ra(e,t){var _this47;_classCallCheck(this,Ra);_this47=_super16.call(this,e,t);_this47.render=function(s){return(0,Bn.h)("div",{className:"uppy uppy-Informer"},(0,Bn.h)(VC,null,s.info.map(function(n){return(0,Bn.h)($C,{key:n.message},(0,Bn.h)("p",{role:"alert"},n.message," ",n.details&&(0,Bn.h)("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function onClick(){return alert("".concat(n.message," \n\n ").concat(n.details));}},"?")));})));},_this47.type="progressindicator",_this47.id=_this47.opts.id||"Informer",_this47.title="Informer";var i={};_this47.opts=_objectSpread(_objectSpread({},i),t);return _this47;}_createClass(Ra,[{key:"install",value:function install(){var e=this.opts.target;e&&this.mount(e,this);}}]);return Ra;}(HC.UIPlugin);o(Ra,"Informer");Ra.VERSION=WC.version;Gv.exports=Ra;});var Ec=v(function(nI,Yv){"use strict";Yv.exports=Xv();});var hy=v(function(qc){"use strict";function ue(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r;}o(ue,"e");Object.defineProperty(qc,"__esModule",{value:!0});var Jv=typeof self!="undefined"?self:global,Mn=typeof navigator!="undefined",KC=Mn&&typeof HTMLImageElement=="undefined",Qv=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),GC=!!Jv.Buffer,XC=o(function(r){return r!==void 0;},"a");function Zv(r){return r===void 0||(r instanceof Map?r.size===0:Object.values(r).filter(XC).length===0);}o(Zv,"h");function Ne(r){var e=new Error(r);throw delete e.stack,e;}o(Ne,"f");function ey(r){var e=function(t){var i=0;return t.ifd0.enabled&&(i+=1024),t.exif.enabled&&(i+=2048),t.makerNote&&(i+=2048),t.userComment&&(i+=1024),t.gps.enabled&&(i+=512),t.interop.enabled&&(i+=100),t.ifd1.enabled&&(i+=1024),i+2048;}(r);return r.jfif.enabled&&(e+=50),r.xmp.enabled&&(e+=2e4),r.iptc.enabled&&(e+=14e3),r.icc.enabled&&(e+=6e3),e;}o(ey,"o");var Cc=o(function(r){return String.fromCharCode.apply(null,r);},"l"),ty=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,qt=/*#__PURE__*/function(){function qt(e){_classCallCheck(this,qt);var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(typeof s=="boolean"&&(this.le=s),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){i===void 0&&(i=e.byteLength-t);var n=new DataView(e,t,i);this._swapDataView(n);}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof qt){i===void 0&&(i=e.byteLength-t),t+=e.byteOffset,t+i>e.byteOffset+e.byteLength&&Ne("Creating view outside of available memory in ArrayBuffer");var _n4=new DataView(e.buffer,t,i);this._swapDataView(_n4);}else if(typeof e=="number"){var _n5=new DataView(new ArrayBuffer(e));this._swapDataView(_n5);}else Ne("Invalid input argument for BufferView: "+e);}_createClass(qt,[{key:"_swapArrayBuffer",value:function _swapArrayBuffer(e){this._swapDataView(new DataView(e));}},{key:"_swapBuffer",value:function _swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength));}},{key:"_swapDataView",value:function _swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength;}},{key:"_lengthToEnd",value:function _lengthToEnd(e){return this.byteLength-e;}},{key:"set",value:function set(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt;return e instanceof DataView||e instanceof qt?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ne("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new i(this,t,e.byteLength);}},{key:"subarray",value:function subarray(e,t){return t=t||this._lengthToEnd(e),new qt(this,e,t);}},{key:"toUint8",value:function toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength);}},{key:"getUint8Array",value:function getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t);}},{key:"getString",value:function getString(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength;return s=this.getUint8Array(e,t),ty?ty.decode(s):GC?Buffer.from(s).toString("utf8"):decodeURIComponent(escape(Cc(s)));var s;}},{key:"getLatin1String",value:function getLatin1String(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(e,t);return Cc(i);}},{key:"getUnicodeString",value:function getUnicodeString(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=[];for(var s=0;s<t&&e+s<this.byteLength;s+=2)i.push(this.getUint16(e+s));return Cc(i);}},{key:"getInt8",value:function getInt8(e){return this.dataView.getInt8(e);}},{key:"getUint8",value:function getUint8(e){return this.dataView.getUint8(e);}},{key:"getInt16",value:function getInt16(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(e,t);}},{key:"getInt32",value:function getInt32(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(e,t);}},{key:"getUint16",value:function getUint16(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(e,t);}},{key:"getUint32",value:function getUint32(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(e,t);}},{key:"getFloat32",value:function getFloat32(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(e,t);}},{key:"getFloat64",value:function getFloat64(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(e,t);}},{key:"getFloat",value:function getFloat(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(e,t);}},{key:"getDouble",value:function getDouble(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(e,t);}},{key:"getUintBytes",value:function getUintBytes(e,t,i){switch(t){case 1:return this.getUint8(e,i);case 2:return this.getUint16(e,i);case 4:return this.getUint32(e,i);case 8:return this.getUint64&&this.getUint64(e,i);}}},{key:"getUint",value:function getUint(e,t,i){switch(t){case 8:return this.getUint8(e,i);case 16:return this.getUint16(e,i);case 32:return this.getUint32(e,i);case 64:return this.getUint64&&this.getUint64(e,i);}}},{key:"toString",value:function toString(e){return this.dataView.toString(e,this.constructor.name);}},{key:"ensureChunk",value:function ensureChunk(){}}],[{key:"from",value:function from(e,t){return e instanceof this&&e.le===t?e:new qt(e,void 0,void 0,t);}}]);return qt;}();o(qt,"u");function Rc(r,e){Ne("".concat(r," '").concat(e,"' was not loaded, try using full build of exifr."));}o(Rc,"p");var Ln=/*#__PURE__*/function(_Map){_inherits(Ln,_Map);var _super17=_createSuper(Ln);function Ln(e){var _this48;_classCallCheck(this,Ln);_this48=_super17.call(this),_this48.kind=e;return _this48;}_createClass(Ln,[{key:"get",value:function get(e,t){return this.has(e)||Rc(this.kind,e),t&&(e in t||function(i,s){Ne("Unknown ".concat(i," '").concat(s,"'."));}(this.kind,e),t[e].enabled||Rc(this.kind,e)),_get(_getPrototypeOf(Ln.prototype),"get",this).call(this,e);}},{key:"keyList",value:function keyList(){return Array.from(this.keys());}}]);return Ln;}(/*#__PURE__*/_wrapNativeSuper(Map));o(Ln,"c");var ry=new Ln("file parser"),Yt=new Ln("segment parser"),iy=new Ln("file reader"),YC=Jv.fetch;function sy(r,e){return(t=r).startsWith("data:")||t.length>1e4?xc(r,e,"base64"):Qv&&r.includes("://")?Oc(r,e,"url",ny):Qv?xc(r,e,"fs"):Mn?Oc(r,e,"url",ny):void Ne("Invalid input argument");var t;}o(sy,"w");function Oc(_x12,_x13,_x14,_x15){return _Oc.apply(this,arguments);}function _Oc(){_Oc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee29(r,e,t,i){return _regeneratorRuntime().wrap(function _callee29$(_context29){while(1)switch(_context29.prev=_context29.next){case 0:return _context29.abrupt("return",iy.has(t)?xc(r,e,t):i?function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee28(s,n){var a;return _regeneratorRuntime().wrap(function _callee28$(_context28){while(1)switch(_context28.prev=_context28.next){case 0:_context28.next=2;return n(s);case 2:a=_context28.sent;return _context28.abrupt("return",new qt(a));case 4:case"end":return _context28.stop();}},_callee28);}));return function(_x26,_x27){return _ref9.apply(this,arguments);};}()(r,i):void Ne("Parser ".concat(t," is not loaded")));case 1:case"end":return _context29.stop();}},_callee29);}));return _Oc.apply(this,arguments);}o(Oc,"k");function xc(_x16,_x17,_x18){return _xc.apply(this,arguments);}function _xc(){_xc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee30(r,e,t){var i;return _regeneratorRuntime().wrap(function _callee30$(_context30){while(1)switch(_context30.prev=_context30.next){case 0:i=new(iy.get(t))(r,e);_context30.next=3;return i.read();case 3:return _context30.abrupt("return",i);case 4:case"end":return _context30.stop();}},_callee30);}));return _xc.apply(this,arguments);}o(xc,"v");var ny=o(function(r){return YC(r).then(function(e){return e.arrayBuffer();});},"S"),JC=o(function(r){return new Promise(function(e,t){var i=new FileReader();i.onloadend=function(){return e(i.result||new ArrayBuffer());},i.onerror=t,i.readAsArrayBuffer(r);});},"O"),Tc=new Map(),QC=new Map(),ZC=new Map(),Oa=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],oy=["jfif","xmp","icc","iptc","ihdr"],kc=["tiff"].concat(oy),Ie=["ifd0","ifd1","exif","gps","interop"],xa=[].concat(_toConsumableArray(kc),Ie),Ta=["makerNote","userComment"],ay=["translateKeys","translateValues","reviveValues","multiSegment"],ka=[].concat(ay,["sanitize","mergeOutput","silentErrors"]),Aa=/*#__PURE__*/function(){function Aa(){_classCallCheck(this,Aa);}_createClass(Aa,[{key:"translate",get:function get(){return this.translateKeys||this.translateValues||this.reviveValues;}}]);return Aa;}();o(Aa,"z");var qi=/*#__PURE__*/function(_Aa){_inherits(qi,_Aa);var _super18=_createSuper(qi);function qi(e,t,i,s){var _this49;_classCallCheck(this,qi);if(_this49=_super18.call(this),ue(_assertThisInitialized(_this49),"enabled",!1),ue(_assertThisInitialized(_this49),"skip",new Set()),ue(_assertThisInitialized(_this49),"pick",new Set()),ue(_assertThisInitialized(_this49),"deps",new Set()),ue(_assertThisInitialized(_this49),"translateKeys",!1),ue(_assertThisInitialized(_this49),"translateValues",!1),ue(_assertThisInitialized(_this49),"reviveValues",!1),_this49.key=e,_this49.enabled=t,_this49.parse=_this49.enabled,_this49.applyInheritables(s),_this49.canBeFiltered=Ie.includes(e),_this49.canBeFiltered&&(_this49.dict=Tc.get(e)),i!==void 0)if(Array.isArray(i))_this49.parse=_this49.enabled=!0,_this49.canBeFiltered&&i.length>0&&_this49.translateTagSet(i,_this49.pick);else if(_typeof(i)=="object"){if(_this49.enabled=!0,_this49.parse=i.parse!==!1,_this49.canBeFiltered){var n=i.pick,a=i.skip;n&&n.length>0&&_this49.translateTagSet(n,_this49.pick),a&&a.length>0&&_this49.translateTagSet(a,_this49.skip);}_this49.applyInheritables(i);}else i===!0||i===!1?_this49.parse=_this49.enabled=i:Ne("Invalid options argument: ".concat(i));return _possibleConstructorReturn(_this49);}_createClass(qi,[{key:"needed",get:function get(){return this.enabled||this.deps.size>0;}},{key:"applyInheritables",value:function applyInheritables(e){var t,i;for(var _i6=0,_ay=ay;_i6<_ay.length;_i6++){t=_ay[_i6];i=e[t],i!==void 0&&(this[t]=i);}}},{key:"translateTagSet",value:function translateTagSet(e,t){if(this.dict){var i,s,_this$dict=this.dict,n=_this$dict.tagKeys,a=_this$dict.tagValues;var _iterator6=_createForOfIteratorHelper(e),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){i=_step6.value;typeof i=="string"?(s=a.indexOf(i),s===-1&&(s=n.indexOf(Number(i))),s!==-1&&t.add(Number(n[s]))):t.add(i);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}else{var _iterator7=_createForOfIteratorHelper(e),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _i7=_step7.value;t.add(_i7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}},{key:"finalizeFilters",value:function finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Ua(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Ua(this.pick,this.deps);}}]);return qi;}(Aa);o(qi,"j");var Je={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ly=new Map(),jn=/*#__PURE__*/function(_Aa2){_inherits(jn,_Aa2);var _super19=_createSuper(jn);function jn(e){var _this50;_classCallCheck(this,jn);_this50=_super19.call(this),e===!0?_this50.setupFromTrue():e===void 0?_this50.setupFromUndefined():Array.isArray(e)?_this50.setupFromArray(e):_typeof(e)=="object"?_this50.setupFromObject(e):Ne("Invalid options argument ".concat(e)),_this50.firstChunkSize===void 0&&(_this50.firstChunkSize=Mn?_this50.firstChunkSizeBrowser:_this50.firstChunkSizeNode),_this50.mergeOutput&&(_this50.ifd1.enabled=!1),_this50.filterNestedSegmentTags(),_this50.traverseTiffDependencyTree(),_this50.checkLoadedPlugins();return _this50;}_createClass(jn,[{key:"setupFromUndefined",value:function setupFromUndefined(){var e;for(var _i8=0,_Oa=Oa;_i8<_Oa.length;_i8++){e=_Oa[_i8];this[e]=Je[e];}var _iterator8=_createForOfIteratorHelper(ka),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){e=_step8.value;this[e]=Je[e];}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}for(var _i9=0,_Ta=Ta;_i9<_Ta.length;_i9++){e=_Ta[_i9];this[e]=Je[e];}var _iterator9=_createForOfIteratorHelper(xa),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){e=_step9.value;this[e]=new qi(e,Je[e],void 0,this);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}},{key:"setupFromTrue",value:function setupFromTrue(){var e;for(var _i10=0,_Oa2=Oa;_i10<_Oa2.length;_i10++){e=_Oa2[_i10];this[e]=Je[e];}var _iterator10=_createForOfIteratorHelper(ka),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){e=_step10.value;this[e]=Je[e];}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}for(var _i11=0,_Ta2=Ta;_i11<_Ta2.length;_i11++){e=_Ta2[_i11];this[e]=!0;}var _iterator11=_createForOfIteratorHelper(xa),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){e=_step11.value;this[e]=new qi(e,!0,void 0,this);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}},{key:"setupFromArray",value:function setupFromArray(e){var t;for(var _i12=0,_Oa3=Oa;_i12<_Oa3.length;_i12++){t=_Oa3[_i12];this[t]=Je[t];}var _iterator12=_createForOfIteratorHelper(ka),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){t=_step12.value;this[t]=Je[t];}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}for(var _i13=0,_Ta3=Ta;_i13<_Ta3.length;_i13++){t=_Ta3[_i13];this[t]=Je[t];}var _iterator13=_createForOfIteratorHelper(xa),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){t=_step13.value;this[t]=new qi(t,!1,void 0,this);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}this.setupGlobalFilters(e,void 0,Ie);}},{key:"setupFromObject",value:function setupFromObject(e){var t;for(var _i14=0,_arr2=(Ie.ifd0=Ie.ifd0||Ie.image,Ie.ifd1=Ie.ifd1||Ie.thumbnail,Object.assign(this,e),Oa);_i14<_arr2.length;_i14++){t=_arr2[_i14];this[t]=Ac(e[t],Je[t]);}var _iterator14=_createForOfIteratorHelper(ka),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){t=_step14.value;this[t]=Ac(e[t],Je[t]);}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}for(var _i15=0,_Ta4=Ta;_i15<_Ta4.length;_i15++){t=_Ta4[_i15];this[t]=Ac(e[t],Je[t]);}var _iterator15=_createForOfIteratorHelper(kc),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){t=_step15.value;this[t]=new qi(t,Je[t],e[t],this);}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}for(var _i16=0,_Ie=Ie;_i16<_Ie.length;_i16++){t=_Ie[_i16];this[t]=new qi(t,Je[t],e[t],this.tiff);}this.setupGlobalFilters(e.pick,e.skip,Ie,xa),e.tiff===!0?this.batchEnableWithBool(Ie,!0):e.tiff===!1?this.batchEnableWithUserValue(Ie,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Ie):_typeof(e.tiff)=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Ie);}},{key:"batchEnableWithBool",value:function batchEnableWithBool(e,t){var _iterator16=_createForOfIteratorHelper(e),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var i=_step16.value;this[i].enabled=t;}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}}},{key:"batchEnableWithUserValue",value:function batchEnableWithUserValue(e,t){var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var i=_step17.value;var s=t[i];this[i].enabled=s!==!1&&s!==void 0;}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}}},{key:"setupGlobalFilters",value:function setupGlobalFilters(e,t,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;if(e&&e.length){var _iterator18=_createForOfIteratorHelper(s),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var a=_step18.value;this[a].enabled=!1;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}var n=uy(e,i);var _iterator19=_createForOfIteratorHelper(n),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _step19$value=_slicedToArray(_step19.value,2),_a8=_step19$value[0],l=_step19$value[1];Ua(this[_a8].pick,l),this[_a8].enabled=!0;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}}else if(t&&t.length){var _n6=uy(t,i);var _iterator20=_createForOfIteratorHelper(_n6),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _step20$value=_slicedToArray(_step20.value,2),_a9=_step20$value[0],_l4=_step20$value[1];Ua(this[_a9].skip,_l4);}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}},{key:"filterNestedSegmentTags",value:function filterNestedSegmentTags(){var e=this.ifd0,t=this.exif,i=this.xmp,s=this.iptc,n=this.icc;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),i.enabled||e.skip.add(700),s.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675);}},{key:"traverseTiffDependencyTree",value:function traverseTiffDependencyTree(){var _this51=this;var e=this.ifd0,t=this.exif,i=this.gps,s=this.interop;s.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),i.needed&&e.deps.add(34853),this.tiff.enabled=Ie.some(function(n){return _this51[n].enabled===!0;})||this.makerNote||this.userComment;for(var _i17=0,_Ie2=Ie;_i17<_Ie2.length;_i17++){var n=_Ie2[_i17];this[n].finalizeFilters();}}},{key:"onlyTiff",get:function get(){var _this52=this;return!oy.map(function(e){return _this52[e].enabled;}).some(function(e){return e===!0;})&&this.tiff.enabled;}},{key:"checkLoadedPlugins",value:function checkLoadedPlugins(){var _iterator21=_createForOfIteratorHelper(kc),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var e=_step21.value;this[e].enabled&&!Yt.has(e)&&Rc("segment parser",e);}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}}}],[{key:"useCached",value:function useCached(e){var t=ly.get(e);return t!==void 0||(t=new this(e),ly.set(e,t)),t;}}]);return jn;}(Aa);o(jn,"N");function uy(r,e){var t,i,s,n,a=[];var _iterator22=_createForOfIteratorHelper(e),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){s=_step22.value;var _iterator23=_createForOfIteratorHelper((t=Tc.get(s),i=[],t)),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){n=_step23.value;(r.includes(n[0])||r.includes(n[1]))&&i.push(n[0]);}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}i.length&&a.push([s,i]);}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return a;}o(uy,"D");function Ac(r,e){return r!==void 0?r:e!==void 0?e:void 0;}o(Ac,"$");function Ua(r,e){var _iterator24=_createForOfIteratorHelper(e),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var t=_step24.value;r.add(t);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}}o(Ua,"_");ue(jn,"default",Je);var Uc=/*#__PURE__*/function(){function Uc(e){var _this53=this;_classCallCheck(this,Uc);ue(this,"parsers",{}),ue(this,"output",{}),ue(this,"errors",[]),ue(this,"pushToErrors",function(t){return _this53.errors.push(t);}),this.options=jn.useCached(e);}_createClass(Uc,[{key:"read",value:function(){var _read=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e){return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.next=2;return function(t,i){return typeof t=="string"?sy(t,i):Mn&&!KC&&t instanceof HTMLImageElement?sy(t.src,i):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new qt(t):Mn&&t instanceof Blob?Oc(t,i,"blob",JC):void Ne("Invalid input argument");}(e,this.options);case 2:this.file=_context9.sent;case 3:case"end":return _context9.stop();}},_callee9,this);}));function read(_x19){return _read.apply(this,arguments);}return read;}()},{key:"setup",value:function setup(){if(this.fileParser)return;var e=this.file,t=e.getUint16(0);var _iterator25=_createForOfIteratorHelper(ry),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _step25$value=_slicedToArray(_step25.value,2),i=_step25$value[0],s=_step25$value[1];if(s.canHandle(e,t))return this.fileParser=new s(this.options,this.file,this.parsers),e[i]=!0;}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}this.file.close&&this.file.close(),Ne("Unknown file format");}},{key:"parse",value:function(){var _parse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(){var e,t,i;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:e=this.output,t=this.errors;this.setup();if(!this.options.silentErrors){_context10.next=8;break;}_context10.next=5;return this.executeParsers()["catch"](this.pushToErrors);case 5:t.push.apply(t,_toConsumableArray(this.fileParser.errors));_context10.next=10;break;case 8:_context10.next=10;return this.executeParsers();case 10:this.file.close&&this.file.close();this.options.silentErrors&&t.length>0&&(e.errors=t);return _context10.abrupt("return",Zv(i=e)?void 0:i);case 13:case"end":return _context10.stop();}},_callee10,this);}));function parse(){return _parse.apply(this,arguments);}return parse;}()},{key:"executeParsers",value:function(){var _executeParsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(){var _this54=this;var e,t;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:e=this.output;_context12.next=3;return this.fileParser.parse();case 3:t=Object.values(this.parsers).map(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(i){var s;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_context11.next=2;return i.parse();case 2:s=_context11.sent;i.assignToOutput(e,s);case 4:case"end":return _context11.stop();}},_callee11);}));return function(_x20){return _ref4.apply(this,arguments);};}());this.options.silentErrors&&(t=t.map(function(i){return i["catch"](_this54.pushToErrors);}));_context12.next=7;return Promise.all(t);case 7:case"end":return _context12.stop();}},_callee12,this);}));function executeParsers(){return _executeParsers.apply(this,arguments);}return executeParsers;}()},{key:"extractThumbnail",value:function(){var _extractThumbnail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(){var e,t,i,s,n,a,l;return _regeneratorRuntime().wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:this.setup();e=this.options,t=this.file,i=Yt.get("tiff",e);if(!t.tiff){_context13.next=6;break;}s={start:0,type:"tiff"};_context13.next=11;break;case 6:_context13.t0=t.jpeg;if(!_context13.t0){_context13.next=11;break;}_context13.next=10;return this.fileParser.getOrFindSegment("tiff");case 10:s=_context13.sent;case 11:if(!(s===void 0)){_context13.next=13;break;}return _context13.abrupt("return");case 13:_context13.next=15;return this.fileParser.ensureSegmentChunk(s);case 15:n=_context13.sent;a=this.parsers.tiff=new i(n,e,t);_context13.next=19;return a.extractThumbnail();case 19:l=_context13.sent;return _context13.abrupt("return",(t.close&&t.close(),l));case 21:case"end":return _context13.stop();}},_callee13,this);}));function extractThumbnail(){return _extractThumbnail.apply(this,arguments);}return extractThumbnail;}()}]);return Uc;}();o(Uc,"X");var li=/*#__PURE__*/function(){function li(e){var _this55=this;_classCallCheck(this,li);var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;ue(this,"errors",[]),ue(this,"raw",new Map()),ue(this,"handleError",function(s){if(!_this55.options.silentErrors)throw s;_this55.errors.push(s.message);}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate;}_createClass(li,[{key:"normalizeInput",value:function normalizeInput(e){return e instanceof qt?e:new qt(e);}},{key:"translate",value:function translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type));}},{key:"output",get:function get(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0;}},{key:"translateBlock",value:function translateBlock(e,t){var i=ZC.get(t),s=QC.get(t),n=Tc.get(t),a=this.options[t],l=a.reviveValues&&!!i,u=a.translateValues&&!!s,c=a.translateKeys&&!!n,h={};var _iterator26=_createForOfIteratorHelper(e),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _step26$value=_slicedToArray(_step26.value,2),p=_step26$value[0],g=_step26$value[1];l&&i.has(p)?g=i.get(p)(g):u&&s.has(p)&&(g=this.translateValue(g,s.get(p))),c&&n.has(p)&&(p=n.get(p)||p),h[p]=g;}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}return h;}},{key:"translateValue",value:function translateValue(e,t){return t[e]||t.DEFAULT||e;}},{key:"assignToOutput",value:function assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t);}},{key:"assignObjectToOutput",value:function assignObjectToOutput(e,t,i){if(this.globalOptions.mergeOutput)return Object.assign(e,i);e[t]?Object.assign(e[t],i):e[t]=i;}}],[{key:"findPosition",value:function findPosition(e,t){var i=e.getUint16(t+2)+2,s=typeof this.headerLength=="function"?this.headerLength(e,t,i):this.headerLength,n=t+s,a=i-s;return{offset:t,length:i,headerLength:s,start:n,size:a,end:n+a};}},{key:"parse",value:function parse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(e,new jn(_defineProperty({},this.type,t)),e).parse();}}]);return li;}();o(li,"H");ue(li,"headerLength",4),ue(li,"type",void 0),ue(li,"multiSegment",!1),ue(li,"canHandle",function(){return!1;});function eR(r){return r===192||r===194||r===196||r===219||r===221||r===218||r===254;}o(eR,"W");function tR(r){return r>=224&&r<=239;}o(tR,"Y");function rR(r,e,t){var _iterator27=_createForOfIteratorHelper(Yt),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _step27$value=_slicedToArray(_step27.value,2),i=_step27$value[0],s=_step27$value[1];if(s.canHandle(r,e,t))return i;}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}}o(rR,"G");var Da=/*#__PURE__*/function(_ref5){_inherits(Da,_ref5);var _super20=_createSuper(Da);function Da(){var _this56;_classCallCheck(this,Da);_this56=_super20.apply(this,arguments),ue(_assertThisInitialized(_this56),"appSegments",[]),ue(_assertThisInitialized(_this56),"jpegSegments",[]),ue(_assertThisInitialized(_this56),"unknownSegments",[]);return _this56;}_createClass(Da,[{key:"parse",value:function(){var _parse2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(){return _regeneratorRuntime().wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.next=2;return this.findAppSegments();case 2:_context14.next=4;return this.readSegments(this.appSegments);case 4:this.mergeMultiSegments();this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return _context14.stop();}},_callee14,this);}));function parse(){return _parse2.apply(this,arguments);}return parse;}()},{key:"setupSegmentFinderArgs",value:function setupSegmentFinderArgs(e){var _this57=this;e===!0?(this.findAll=!0,this.wanted=new Set(Yt.keyList())):(e=e===void 0?Yt.keyList().filter(function(t){return _this57.options[t].enabled;}):e.filter(function(t){return _this57.options[t].enabled&&Yt.has(t);}),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1;}},{key:"findAppSegments",value:function(){var _findAppSegments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(){var _this58=this;var e,t,i,s,n,a,l,u,c,_args15=arguments;return _regeneratorRuntime().wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:e=_args15.length>0&&_args15[0]!==void 0?_args15[0]:0,t=_args15.length>1?_args15[1]:void 0;this.setupSegmentFinderArgs(t);i=this.file,s=this.findAll,n=this.wanted,a=this.remaining;_context15.t0=!s&&this.file.chunked;if(!_context15.t0){_context15.next=10;break;}s=Array.from(n).some(function(l){var u=Yt.get(l),c=_this58.options[l];return u.multiSegment&&c.multiSegment;});_context15.t1=s;if(!_context15.t1){_context15.next=10;break;}_context15.next=10;return this.file.readWhole();case 10:e=this.findAppSegmentsInRange(e,i.byteLength);if(!(!this.options.onlyTiff&&i.chunked)){_context15.next=30;break;}l=!1;case 13:if(!(a.size>0&&!l&&(i.canReadNextChunk||this.unfinishedMultiSegment))){_context15.next=30;break;}u=i.nextChunkOffset,c=this.appSegments.some(function(h){return!_this58.file.available(h.offset||h.start,h.length||h.size);});if(!(e>u&&!c)){_context15.next=21;break;}_context15.next=18;return i.readNextChunk(e);case 18:_context15.t2=!_context15.sent;_context15.next=24;break;case 21:_context15.next=23;return i.readNextChunk(u);case 23:_context15.t2=!_context15.sent;case 24:l=_context15.t2;e=this.findAppSegmentsInRange(e,i.byteLength);if(!(e===void 0)){_context15.next=28;break;}return _context15.abrupt("return");case 28:_context15.next=13;break;case 30:case"end":return _context15.stop();}},_callee15,this);}));function findAppSegments(){return _findAppSegments.apply(this,arguments);}return findAppSegments;}()},{key:"findAppSegmentsInRange",value:function findAppSegmentsInRange(e,t){t-=2;var i,s,n,a,l,u,c=this.file,h=this.findAll,p=this.wanted,g=this.remaining,w=this.options;for(;e<t;e++)if(c.getUint8(e)===255){if(i=c.getUint8(e+1),tR(i)){if(s=c.getUint16(e+2),n=rR(c,e,s),n&&p.has(n)&&(a=Yt.get(n),l=a.findPosition(c,e),u=w[n],l.type=n,this.appSegments.push(l),!h&&(a.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||g["delete"](n)):g["delete"](n),g.size===0)))break;w.recordUnknownSegments&&(l=li.findPosition(c,e),l.marker=i,this.unknownSegments.push(l)),e+=s+1;}else if(eR(i)){if(s=c.getUint16(e+2),i===218&&w.stopAfterSos!==!1)return;w.recordJpegSegments&&this.jpegSegments.push({offset:e,length:s,marker:i}),e+=s+1;}}return e;}},{key:"mergeMultiSegments",value:function mergeMultiSegments(){var _this59=this;if(!this.appSegments.some(function(t){return t.multiSegment;}))return;var e=function(t,i){var s,n,a,l=new Map();for(var u=0;u<t.length;u++)s=t[u],n=s[i],l.has(n)?a=l.get(n):l.set(n,a=[]),a.push(s);return Array.from(l);}(this.appSegments,"type");this.mergedAppSegments=e.map(function(t){var _t3=_slicedToArray(t,2),i=_t3[0],s=_t3[1],n=Yt.get(i,_this59.options);return n.handleMultiSegments?{type:i,chunk:n.handleMultiSegments(s)}:s[0];});}},{key:"getSegment",value:function getSegment(e){return this.appSegments.find(function(t){return t.type===e;});}},{key:"getOrFindSegment",value:function(){var _getOrFindSegment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(e){var t;return _regeneratorRuntime().wrap(function _callee16$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:t=this.getSegment(e);_context16.t0=t===void 0;if(!_context16.t0){_context16.next=6;break;}_context16.next=5;return this.findAppSegments(0,[e]);case 5:t=this.getSegment(e);case 6:return _context16.abrupt("return",t);case 7:case"end":return _context16.stop();}},_callee16,this);}));function getOrFindSegment(_x21){return _getOrFindSegment.apply(this,arguments);}return getOrFindSegment;}()}],[{key:"canHandle",value:function canHandle(e,t){return t===65496;}}]);return Da;}(/*#__PURE__*/function(){function _class2(e,t,i){var _this60=this;_classCallCheck(this,_class2);ue(this,"errors",[]),ue(this,"ensureSegmentChunk",/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee17(s){var n,a;return _regeneratorRuntime().wrap(function _callee17$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:n=s.start,a=s.size||65536;if(!_this60.file.chunked){_context17.next=17;break;}if(!_this60.file.available(n,a)){_context17.next=6;break;}s.chunk=_this60.file.subarray(n,a);_context17.next=15;break;case 6:_context17.prev=6;_context17.next=9;return _this60.file.readChunk(n,a);case 9:s.chunk=_context17.sent;_context17.next=15;break;case 12:_context17.prev=12;_context17.t0=_context17["catch"](6);Ne("Couldn't read segment: ".concat(JSON.stringify(s),". ").concat(_context17.t0.message));case 15:_context17.next=18;break;case 17:_this60.file.byteLength>n+a?s.chunk=_this60.file.subarray(n,a):s.size===void 0?s.chunk=_this60.file.subarray(n):Ne("Segment unreachable: "+JSON.stringify(s));case 18:return _context17.abrupt("return",s.chunk);case 19:case"end":return _context17.stop();}},_callee17,null,[[6,12]]);}));return function(_x22){return _ref6.apply(this,arguments);};}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=i;}_createClass(_class2,[{key:"injectSegment",value:function injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t);}},{key:"createParser",value:function createParser(e,t){var i=new(Yt.get(e))(t,this.options,this.file);return this.parsers[e]=i;}},{key:"createParsers",value:function createParsers(e){var _iterator28=_createForOfIteratorHelper(e),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var t=_step28.value;var i=t.type,s=t.chunk,n=this.options[i];if(n&&n.enabled){var a=this.parsers[i];a&&a.append||a||this.createParser(i,s);}}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}}},{key:"readSegments",value:function(){var _readSegments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee18(e){var t;return _regeneratorRuntime().wrap(function _callee18$(_context18){while(1)switch(_context18.prev=_context18.next){case 0:t=e.map(this.ensureSegmentChunk);_context18.next=3;return Promise.all(t);case 3:case"end":return _context18.stop();}},_callee18,this);}));function readSegments(_x23){return _readSegments.apply(this,arguments);}return readSegments;}()}]);return _class2;}());o(Da,"K");ue(Da,"type","jpeg"),ry.set("jpeg",Da);var iR=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Dc=/*#__PURE__*/function(_li){_inherits(Dc,_li);var _super21=_createSuper(Dc);function Dc(){_classCallCheck(this,Dc);return _super21.apply(this,arguments);}_createClass(Dc,[{key:"parseHeader",value:function parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0;}},{key:"parseTags",value:function parseTags(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map(),_this$options$t=this.options[t],s=_this$options$t.pick,n=_this$options$t.skip;s=new Set(s);var a=s.size>0,l=n.size===0,u=this.chunk.getUint16(e);e+=2;for(var c=0;c<u;c++){var h=this.chunk.getUint16(e);if(a){if(s.has(h)&&(i.set(h,this.parseTag(e,h,t)),s["delete"](h),s.size===0))break;}else!l&&n.has(h)||i.set(h,this.parseTag(e,h,t));e+=12;}return i;}},{key:"parseTag",value:function parseTag(e,t,i){var s=this.chunk,n=s.getUint16(e+2),a=s.getUint32(e+4),l=iR[n];if(l*a<=4?e+=8:e=s.getUint32(e+8),(n<1||n>13)&&Ne("Invalid TIFF value type. block: ".concat(i.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(n,", offset ").concat(e)),e>s.byteLength&&Ne("Invalid TIFF value offset. block: ".concat(i.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(n,", offset ").concat(e," is outside of chunk size ").concat(s.byteLength)),n===1)return s.getUint8Array(e,a);if(n===2)return(u=function(c){for(;c.endsWith("\0");)c=c.slice(0,-1);return c;}(u=s.getString(e,a)).trim())===""?void 0:u;var u;if(n===7)return s.getUint8Array(e,a);if(a===1)return this.parseTagValue(n,e);{var c=function(g){switch(g){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array;}}(n),h=new c(a),p=l;for(var g=0;g<a;g++)h[g]=this.parseTagValue(n,e),e+=p;return h;}}},{key:"parseTagValue",value:function parseTagValue(e,t){var i=this.chunk;switch(e){case 1:return i.getUint8(t);case 3:return i.getUint16(t);case 4:case 13:return i.getUint32(t);case 5:return i.getUint32(t)/i.getUint32(t+4);case 6:return i.getInt8(t);case 8:return i.getInt16(t);case 9:return i.getInt32(t);case 10:return i.getInt32(t)/i.getInt32(t+4);case 11:return i.getFloat(t);case 12:return i.getDouble(t);default:Ne("Invalid tiff type ".concat(e));}}}]);return Dc;}(li);o(Dc,"J");var zn=/*#__PURE__*/function(_Dc){_inherits(zn,_Dc);var _super22=_createSuper(zn);function zn(){_classCallCheck(this,zn);return _super22.apply(this,arguments);}_createClass(zn,[{key:"parse",value:function(){var _parse3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee19(){var e;return _regeneratorRuntime().wrap(function _callee19$(_context19){while(1)switch(_context19.prev=_context19.next){case 0:this.parseHeader();e=this.options;_context19.t0=e.ifd0.enabled;if(!_context19.t0){_context19.next=6;break;}_context19.next=6;return this.parseIfd0Block();case 6:_context19.t1=e.exif.enabled;if(!_context19.t1){_context19.next=10;break;}_context19.next=10;return this.safeParse("parseExifBlock");case 10:_context19.t2=e.gps.enabled;if(!_context19.t2){_context19.next=14;break;}_context19.next=14;return this.safeParse("parseGpsBlock");case 14:_context19.t3=e.interop.enabled;if(!_context19.t3){_context19.next=18;break;}_context19.next=18;return this.safeParse("parseInteropBlock");case 18:_context19.t4=e.ifd1.enabled;if(!_context19.t4){_context19.next=22;break;}_context19.next=22;return this.safeParse("parseThumbnailBlock");case 22:return _context19.abrupt("return",this.createOutput());case 23:case"end":return _context19.stop();}},_callee19,this);}));function parse(){return _parse3.apply(this,arguments);}return parse;}()},{key:"safeParse",value:function safeParse(e){var t=this[e]();return t["catch"]!==void 0&&(t=t["catch"](this.handleError)),t;}},{key:"findIfd0Offset",value:function findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4));}},{key:"findIfd1Offset",value:function findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t);}}},{key:"parseBlock",value:function parseBlock(e,t){var i=new Map();return this[t]=i,this.parseTags(e,t,i),i;}},{key:"parseIfd0Block",value:function(){var _parseIfd0Block=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee20(){var e,t;return _regeneratorRuntime().wrap(function _callee20$(_context20){while(1)switch(_context20.prev=_context20.next){case 0:if(!this.ifd0){_context20.next=2;break;}return _context20.abrupt("return");case 2:e=this.file;this.findIfd0Offset();this.ifd0Offset<8&&Ne("Malformed EXIF data");!e.chunked&&this.ifd0Offset>e.byteLength&&Ne("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(e.byteLength));_context20.t0=e.tiff;if(!_context20.t0){_context20.next=10;break;}_context20.next=10;return e.ensureChunk(this.ifd0Offset,ey(this.options));case 10:t=this.parseBlock(this.ifd0Offset,"ifd0");return _context20.abrupt("return",t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t["delete"](34665),t["delete"](40965),t["delete"](34853),t["delete"](700),t["delete"](33723),t["delete"](34675)),t):void 0);case 12:case"end":return _context20.stop();}},_callee20,this);}));function parseIfd0Block(){return _parseIfd0Block.apply(this,arguments);}return parseIfd0Block;}()},{key:"parseExifBlock",value:function(){var _parseExifBlock=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee21(){var e;return _regeneratorRuntime().wrap(function _callee21$(_context21){while(1)switch(_context21.prev=_context21.next){case 0:_context21.t0=this.exif;if(_context21.t0){_context21.next=7;break;}_context21.t1=this.ifd0;if(_context21.t1){_context21.next=6;break;}_context21.next=6;return this.parseIfd0Block();case 6:_context21.t0=this.exifOffset===void 0;case 7:if(!_context21.t0){_context21.next=9;break;}return _context21.abrupt("return");case 9:_context21.t2=this.file.tiff;if(!_context21.t2){_context21.next=13;break;}_context21.next=13;return this.file.ensureChunk(this.exifOffset,ey(this.options));case 13:e=this.parseBlock(this.exifOffset,"exif");return _context21.abrupt("return",(this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e["delete"](40965),e["delete"](37500),e["delete"](37510)),this.unpack(e,41728),this.unpack(e,41729),e));case 15:case"end":return _context21.stop();}},_callee21,this);}));function parseExifBlock(){return _parseExifBlock.apply(this,arguments);}return parseExifBlock;}()},{key:"unpack",value:function unpack(e,t){var i=e.get(t);i&&i.length===1&&e.set(t,i[0]);}},{key:"parseGpsBlock",value:function(){var _parseGpsBlock=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee22(){var e;return _regeneratorRuntime().wrap(function _callee22$(_context22){while(1)switch(_context22.prev=_context22.next){case 0:_context22.t0=this.gps;if(_context22.t0){_context22.next=7;break;}_context22.t1=this.ifd0;if(_context22.t1){_context22.next=6;break;}_context22.next=6;return this.parseIfd0Block();case 6:_context22.t0=this.gpsOffset===void 0;case 7:if(!_context22.t0){_context22.next=9;break;}return _context22.abrupt("return");case 9:e=this.parseBlock(this.gpsOffset,"gps");return _context22.abrupt("return",(e&&e.has(2)&&e.has(4)&&(e.set("latitude",cy.apply(void 0,_toConsumableArray(e.get(2)).concat([e.get(1)]))),e.set("longitude",cy.apply(void 0,_toConsumableArray(e.get(4)).concat([e.get(3)])))),e));case 11:case"end":return _context22.stop();}},_callee22,this);}));function parseGpsBlock(){return _parseGpsBlock.apply(this,arguments);}return parseGpsBlock;}()},{key:"parseInteropBlock",value:function(){var _parseInteropBlock=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee23(){return _regeneratorRuntime().wrap(function _callee23$(_context23){while(1)switch(_context23.prev=_context23.next){case 0:_context23.t0=!this.interop;if(!_context23.t0){_context23.next=11;break;}_context23.t1=this.ifd0;if(_context23.t1){_context23.next=6;break;}_context23.next=6;return this.parseIfd0Block();case 6:_context23.t2=this.interopOffset!==void 0||this.exif;if(_context23.t2){_context23.next=10;break;}_context23.next=10;return this.parseExifBlock();case 10:_context23.t0=this.interopOffset!==void 0;case 11:if(!_context23.t0){_context23.next=13;break;}return _context23.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return _context23.stop();}},_callee23,this);}));function parseInteropBlock(){return _parseInteropBlock.apply(this,arguments);}return parseInteropBlock;}()},{key:"parseThumbnailBlock",value:function(){var _parseThumbnailBlock=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee24(){var e,_args24=arguments;return _regeneratorRuntime().wrap(function _callee24$(_context24){while(1)switch(_context24.prev=_context24.next){case 0:e=_args24.length>0&&_args24[0]!==void 0&&_args24[0];if(!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))){_context24.next=3;break;}return _context24.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return _context24.stop();}},_callee24,this);}));function parseThumbnailBlock(){return _parseThumbnailBlock.apply(this,arguments);}return parseThumbnailBlock;}()},{key:"extractThumbnail",value:function(){var _extractThumbnail2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee25(){var e,t;return _regeneratorRuntime().wrap(function _callee25$(_context25){while(1)switch(_context25.prev=_context25.next){case 0:this.headerParsed||this.parseHeader();_context25.t0=this.ifd1Parsed;if(_context25.t0){_context25.next=5;break;}_context25.next=5;return this.parseThumbnailBlock(!0);case 5:if(!(this.ifd1===void 0)){_context25.next=7;break;}return _context25.abrupt("return");case 7:e=this.ifd1.get(513),t=this.ifd1.get(514);return _context25.abrupt("return",this.chunk.getUint8Array(e,t));case 9:case"end":return _context25.stop();}},_callee25,this);}));function extractThumbnail(){return _extractThumbnail2.apply(this,arguments);}return extractThumbnail;}()},{key:"image",get:function get(){return this.ifd0;}},{key:"thumbnail",get:function get(){return this.ifd1;}},{key:"createOutput",value:function createOutput(){var e,t,i,s={};for(var _i18=0,_Ie3=Ie;_i18<_Ie3.length;_i18++){t=_Ie3[_i18];if(e=this[t],!Zv(e))if(i=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(s,i);}else s[t]=i;}return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s;}},{key:"assignToOutput",value:function assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(var _i19=0,_Object$entries=Object.entries(t);_i19<_Object$entries.length;_i19++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i19],2),i=_Object$entries$_i[0],s=_Object$entries$_i[1];this.assignObjectToOutput(e,i,s);}}}],[{key:"canHandle",value:function canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0;}}]);return zn;}(Dc);o(zn,"q");function cy(r,e,t,i){var s=r+e/60+t/3600;return i!=="S"&&i!=="W"||(s*=-1),s;}o(cy,"Q");ue(zn,"type","tiff"),ue(zn,"headerLength",10),Yt.set("tiff",zn);var sR=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),nR=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Hn=!0,$n=!0;if((typeof navigator==="undefined"?"undefined":_typeof(navigator))=="object"){var r=navigator.userAgent;if(r.includes("iPad")||r.includes("iPhone")){var e=r.match(/OS (\d+)_(\d+)/);if(e){var _e5=_slicedToArray(e,3),t=_e5[1],i=_e5[2];Hn=Number(t)+.1*Number(i)<13.4,$n=!1;}}else if(r.includes("OS X 10")){var _r$match=r.match(/OS X 10[_.](\d+)/),_r$match2=_slicedToArray(_r$match,2),_e6=_r$match2[1];Hn=$n=Number(_e6)<15;}if(r.includes("Chrome/")){var _r$match3=r.match(/Chrome\/(\d+)/),_r$match4=_slicedToArray(_r$match3,2),_e7=_r$match4[1];Hn=$n=Number(_e7)<81;}else if(r.includes("Firefox/")){var _r$match5=r.match(/Firefox\/(\d+)/),_r$match6=_slicedToArray(_r$match5,2),_e8=_r$match6[1];Hn=$n=Number(_e8)<77;}}qc.rotation=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee27(r){var e;return _regeneratorRuntime().wrap(function _callee27$(_context27){while(1)switch(_context27.prev=_context27.next){case 0:_context27.next=2;return function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee26(t){var i,s;return _regeneratorRuntime().wrap(function _callee26$(_context26){while(1)switch(_context26.prev=_context26.next){case 0:i=new Uc(sR);_context26.next=3;return i.read(t);case 3:_context26.next=5;return i.parse();case 5:s=_context26.sent;if(!(s&&s.ifd0)){_context26.next=8;break;}return _context26.abrupt("return",s.ifd0[274]);case 8:case"end":return _context26.stop();}},_callee26);}));return function(_x25){return _ref8.apply(this,arguments);};}()(r);case 2:e=_context27.sent;return _context27.abrupt("return",Object.assign({canvas:Hn,css:$n},nR[e]));case 4:case"end":return _context27.stop();}},_callee27);}));return function(_x24){return _ref7.apply(this,arguments);};}();});var py=v(function(aI,dy){"use strict";var oR=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function aR(r,e,t){var i,s;var n=oR.exec(r),a=(i=(s=e.mimeType)!=null?s:n==null?void 0:n[1])!=null?i:"plain/text",l;if(n[2]!=null){var u=atob(decodeURIComponent(n[3])),c=new Uint8Array(u.length);for(var h=0;h<u.length;h++)c[h]=u.charCodeAt(h);l=[c];}else l=[decodeURIComponent(n[3])];return t?new File(l,e.name||"",{type:a}):new Blob(l,{type:a});}o(aR,"dataURItoBlob");dy.exports=aR;});var my=v(function(lI,fy){"use strict";function lR(r){return r.startsWith("blob:");}o(lR,"isObjectURL");fy.exports=lR;});var vy=v(function(uI,gy){"use strict";gy.exports={strings:{generatingThumbnails:"Generating thumbnails..."}};});var Nc=v(function(cI,wy){"use strict";var uR=he(),cR=hy(),hR=py(),yy=my(),by=uc(),dR=vy(),pR={version:"2.2.2"};function fR(r,e,t){try{r.getContext("2d").getImageData(0,0,1,1);}catch(i){if(i.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"));}return r.toBlob?new Promise(function(i){r.toBlob(i,e,t);}).then(function(i){if(i===null)throw new Error("cannot read image, probably an svg with external resources");return i;}):Promise.resolve().then(function(){return hR(r.toDataURL(e,t),{});}).then(function(i){if(i===null)throw new Error("could not extract blob, probably an old browser");return i;});}o(fR,"canvasToBlob");function mR(r,e){var t=r.width,i=r.height;(e.deg===90||e.deg===270)&&(t=r.height,i=r.width);var s=document.createElement("canvas");s.width=t,s.height=i;var n=s.getContext("2d");return n.translate(t/2,i/2),e.canvas&&(n.rotate(e.rad),n.scale(e.scaleX,e.scaleY)),n.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),s;}o(mR,"rotateImage");function gR(r){var e=r.width/r.height,t=5e6,i=4096,s=Math.floor(Math.sqrt(t*e)),n=Math.floor(t/Math.sqrt(t*e));if(s>i&&(s=i,n=Math.round(s/e)),n>i&&(n=i,s=Math.round(e*n)),r.width>s){var a=document.createElement("canvas");return a.width=s,a.height=n,a.getContext("2d").drawImage(r,0,0,s,n),a;}return r;}o(gR,"protect");var Ni=/*#__PURE__*/function(_uR$UIPlugin){_inherits(Ni,_uR$UIPlugin);var _super23=_createSuper(Ni);function Ni(e,t){var _this61;_classCallCheck(this,Ni);_this61=_super23.call(this,e,t);_this61.onFileAdded=function(s){!s.preview&&s.data&&by(s.type)&&!s.isRemote&&_this61.addToQueue(s.id);},_this61.onCancelRequest=function(s){var n=_this61.queue.indexOf(s.id);n!==-1&&_this61.queue.splice(n,1);},_this61.onFileRemoved=function(s){var n=_this61.queue.indexOf(s.id);n!==-1&&_this61.queue.splice(n,1),s.preview&&yy(s.preview)&&URL.revokeObjectURL(s.preview);},_this61.onRestored=function(){_this61.uppy.getFiles().filter(function(n){return n.isRestored;}).forEach(function(n){(!n.preview||yy(n.preview))&&_this61.addToQueue(n.id);});},_this61.onAllFilesRemoved=function(){_this61.queue=[];},_this61.waitUntilAllProcessed=function(s){s.forEach(function(a){var l=_this61.uppy.getFile(a);_this61.uppy.emit("preprocess-progress",l,{mode:"indeterminate",message:_this61.i18n("generatingThumbnails")});});var n=o(function(){s.forEach(function(a){var l=_this61.uppy.getFile(a);_this61.uppy.emit("preprocess-complete",l);});},"emitPreprocessCompleteForAll");return new Promise(function(a){_this61.queueProcessing?_this61.uppy.once("thumbnail:all-generated",function(){n(),a();}):(n(),a());});},_this61.type="modifier",_this61.id=_this61.opts.id||"ThumbnailGenerator",_this61.title="Thumbnail Generator",_this61.queue=[],_this61.queueProcessing=!1,_this61.defaultThumbnailDimension=200,_this61.thumbnailType=_this61.opts.thumbnailType||"image/jpeg",_this61.defaultLocale=dR;var i={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(_this61.opts=_objectSpread(_objectSpread({},i),t),_this61.i18nInit(),_this61.opts.lazy&&_this61.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return _this61;}_createClass(Ni,[{key:"createThumbnail",value:function createThumbnail(e,t,i){var _this62=this;var s=URL.createObjectURL(e.data),n=new Promise(function(l,u){var c=new Image();c.src=s,c.addEventListener("load",function(){URL.revokeObjectURL(s),l(c);}),c.addEventListener("error",function(h){URL.revokeObjectURL(s),u(h.error||new Error("Could not create thumbnail"));});}),a=(0,cR.rotation)(e.data)["catch"](function(){return 1;});return Promise.all([n,a]).then(function(l){var _l5=_slicedToArray(l,2),u=_l5[0],c=_l5[1],h=_this62.getProportionalDimensions(u,t,i,c.deg),p=_this62.rotateImage(u,c),g=_this62.resizeImage(p,h.width,h.height);return _this62.canvasToBlob(g,_this62.thumbnailType,80);}).then(function(l){return URL.createObjectURL(l);});}},{key:"getProportionalDimensions",value:function getProportionalDimensions(e,t,i,s){var n=e.width/e.height;return(s===90||s===270)&&(n=e.height/e.width),t!=null?{width:t,height:Math.round(t/n)}:i!=null?{width:Math.round(i*n),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/n)};}},{key:"resizeImage",value:function resizeImage(e,t,i){var s=this.protect(e),n=Math.ceil(Math.log2(s.width/t));n<1&&(n=1);var a=t*Math.pow(2,n-1),l=i*Math.pow(2,n-1),u=2;for(;n--;){var c=document.createElement("canvas");c.width=a,c.height=l,c.getContext("2d").drawImage(s,0,0,a,l),s=c,a=Math.round(a/u),l=Math.round(l/u);}return s;}},{key:"setPreviewURL",value:function setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t});}},{key:"addToQueue",value:function addToQueue(e){this.queue.push(e),this.queueProcessing===!1&&this.processQueue();}},{key:"processQueue",value:function processQueue(){var _this63=this;if(this.queueProcessing=!0,this.queue.length>0){var e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e)["catch"](function(){}).then(function(){return _this63.processQueue();}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve());}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve();}},{key:"requestThumbnail",value:function requestThumbnail(e){var _this64=this;return by(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(t){_this64.setPreviewURL(e.id,t),_this64.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),_this64.uppy.emit("thumbnail:generated",_this64.uppy.getFile(e.id),t);})["catch"](function(t){_this64.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),_this64.uppy.log(t,"warning"),_this64.uppy.emit("thumbnail:error",_this64.uppy.getFile(e.id),t);}):Promise.resolve();}},{key:"install",value:function install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed);}},{key:"uninstall",value:function uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed);}}]);return Ni;}(uR.UIPlugin);o(Ni,"ThumbnailGenerator");Ni.VERSION=pR.version;wy.exports=Ni;Ni.prototype.canvasToBlob=fR;Ni.prototype.protect=gR;Ni.prototype.rotateImage=mR;});var Sy=v(function(hI,_y){"use strict";var vR=zu();function yR(r){if(typeof r=="string"){var e=document.querySelectorAll(r);return e.length===0?null:Array.from(e);}return _typeof(r)=="object"&&vR(r)?[r]:null;}o(yR,"findAllDOMElements");_y.exports=yR;});var Ey=v(function(dI,Fy){"use strict";function Py(r,e,t,i){var s=i.onSuccess;r.readEntries(function(n){var a=[].concat(_toConsumableArray(e),_toConsumableArray(n));n.length?queueMicrotask(function(){Py(r,a,t,{onSuccess:s});}):s(a);},function(n){t(n),s(e);});}o(Py,"getFilesAndDirectoriesFromDirectory");Fy.exports=Py;});var xy=v(function(pI,Oy){"use strict";var bR=Ey();function Cy(r,e){return r==null?r:{kind:r.isFile?"file":r.isDirectory?"directory":void 0,name:r.name,getFile:function getFile(){return new Promise(function(t,i){return r.file(t,i);});},values:function values(){return _wrapAsyncGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee31(){var t;return _regeneratorRuntime().wrap(function _callee31$(_context31){while(1)switch(_context31.prev=_context31.next){case 0:t=r.createReader();_context31.t0=_asyncGeneratorDelegate;_context31.t1=_asyncIterator;_context31.next=5;return _awaitAsyncGenerator(new Promise(function(s){bR(t,[],e,{onSuccess:function onSuccess(n){return s(n.map(function(a){return Cy(a,e);}));}});}));case 5:_context31.t2=_context31.sent;_context31.t3=(0,_context31.t1)(_context31.t2);_context31.t4=_awaitAsyncGenerator;return _context31.delegateYield((0,_context31.t0)(_context31.t3,_context31.t4),"t5",9);case 9:case"end":return _context31.stop();}},_callee31);}))();}};}o(Cy,"getAsFileSystemHandleFromEntry");function Ry(_x2,_x3){return _Ry.apply(this,arguments);}function _Ry(){_Ry=_wrapAsyncGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee32(r,e){var t,_iteratorAbruptCompletion,_didIteratorError,_iteratorError,_iterator,_step,_t4;return _regeneratorRuntime().wrap(function _callee32$(_context32){while(1)switch(_context32.prev=_context32.next){case 0:if(!(r.kind==="file")){_context32.next=11;break;}_context32.next=3;return _awaitAsyncGenerator(r.getFile());case 3:t=_context32.sent;_context32.t0=t!==null;if(!_context32.t0){_context32.next=9;break;}t.relativePath=e?"".concat(e,"/").concat(r.name):null;_context32.next=9;return t;case 9:_context32.next=40;break;case 11:if(!(r.kind==="directory")){_context32.next=40;break;}_iteratorAbruptCompletion=false;_didIteratorError=false;_context32.prev=14;_iterator=_asyncIterator(r.values());case 16:_context32.next=18;return _awaitAsyncGenerator(_iterator.next());case 18:if(!(_iteratorAbruptCompletion=!(_step=_context32.sent).done)){_context32.next=24;break;}_t4=_step.value;return _context32.delegateYield(_asyncGeneratorDelegate(_asyncIterator(Ry(_t4,"".concat(e,"/").concat(r.name))),_awaitAsyncGenerator),"t1",21);case 21:_iteratorAbruptCompletion=false;_context32.next=16;break;case 24:_context32.next=30;break;case 26:_context32.prev=26;_context32.t2=_context32["catch"](14);_didIteratorError=true;_iteratorError=_context32.t2;case 30:_context32.prev=30;_context32.prev=31;if(!(_iteratorAbruptCompletion&&_iterator["return"]!=null)){_context32.next=35;break;}_context32.next=35;return _awaitAsyncGenerator(_iterator["return"]());case 35:_context32.prev=35;if(!_didIteratorError){_context32.next=38;break;}throw _iteratorError;case 38:return _context32.finish(35);case 39:return _context32.finish(30);case 40:case"end":return _context32.stop();}},_callee32,null,[[14,26,30,40],[31,,35,39]]);}));return _Ry.apply(this,arguments);}o(Ry,"createPromiseToAddFileOrParseDirectory");function wR(_x4,_x5){return _wR.apply(this,arguments);}function _wR(){_wR=_wrapAsyncGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee34(r,e){var t,_iterator29,_step29,_step29$value,i,s;return _regeneratorRuntime().wrap(function _callee34$(_context34){while(1)switch(_context34.prev=_context34.next){case 0:_context34.next=2;return _awaitAsyncGenerator(Promise.all(Array.from(r.items,/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee33(i){var s,n,a;return _regeneratorRuntime().wrap(function _callee33$(_context33){while(1)switch(_context33.prev=_context33.next){case 0:n=i.getAsFile();_context33.next=3;return i.getAsFileSystemHandle==null?void 0:i.getAsFileSystemHandle();case 3:_context33.t0=s=_context33.sent;if(!(_context33.t0!=null)){_context33.next=8;break;}_context33.t1=s;_context33.next=9;break;case 8:_context33.t1=Cy(i.webkitGetAsEntry(),e);case 9:a=_context33.t1;return _context33.abrupt("return",{lastResortFile:n,entry:a});case 11:case"end":return _context33.stop();}},_callee33);}));return function(_x28){return _ref10.apply(this,arguments);};}())));case 2:t=_context34.sent;_iterator29=_createForOfIteratorHelper(t);_context34.prev=4;_iterator29.s();case 6:if((_step29=_iterator29.n()).done){_context34.next=23;break;}_step29$value=_step29.value,i=_step29$value.lastResortFile,s=_step29$value.entry;if(!(s!=null)){_context34.next=21;break;}_context34.prev=9;return _context34.delegateYield(_asyncGeneratorDelegate(_asyncIterator(Ry(s,"")),_awaitAsyncGenerator),"t0",11);case 11:_context34.next=21;break;case 13:_context34.prev=13;_context34.t1=_context34["catch"](9);if(!i){_context34.next=20;break;}_context34.next=18;return i;case 18:_context34.next=21;break;case 20:e(_context34.t1);case 21:_context34.next=6;break;case 23:_context34.next=28;break;case 25:_context34.prev=25;_context34.t2=_context34["catch"](4);_iterator29.e(_context34.t2);case 28:_context34.prev=28;_iterator29.f();return _context34.finish(28);case 31:case"end":return _context34.stop();}},_callee34,null,[[4,25,28,31],[9,13]]);}));return _wR.apply(this,arguments);}o(wR,"getFilesFromDataTransfer");Oy.exports=wR;});var ky=v(function(fI,Ty){"use strict";var _R=cr();function SR(r){var e=_R(r.files);return Promise.resolve(e);}o(SR,"fallbackApi");Ty.exports=SR;});var qa=v(function(mI,Ay){"use strict";var PR=xy(),FR=ky();function ER(_x29,_x30){return _ER.apply(this,arguments);}function _ER(){_ER=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee35(r,e){var _ref11,_ref11$logDropError,t,i,_iteratorAbruptCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,s;return _regeneratorRuntime().wrap(function _callee35$(_context35){while(1)switch(_context35.prev=_context35.next){case 0:_ref11=e===void 0?{}:e,_ref11$logDropError=_ref11.logDropError,t=_ref11$logDropError===void 0?o(function(){},"logDropError"):_ref11$logDropError;_context35.prev=1;i=[];_iteratorAbruptCompletion2=false;_didIteratorError2=false;_context35.prev=5;_iterator2=_asyncIterator(PR(r,t));case 7:_context35.next=9;return _iterator2.next();case 9:if(!(_iteratorAbruptCompletion2=!(_step2=_context35.sent).done)){_context35.next=15;break;}s=_step2.value;i.push(s);case 12:_iteratorAbruptCompletion2=false;_context35.next=7;break;case 15:_context35.next=21;break;case 17:_context35.prev=17;_context35.t0=_context35["catch"](5);_didIteratorError2=true;_iteratorError2=_context35.t0;case 21:_context35.prev=21;_context35.prev=22;if(!(_iteratorAbruptCompletion2&&_iterator2["return"]!=null)){_context35.next=26;break;}_context35.next=26;return _iterator2["return"]();case 26:_context35.prev=26;if(!_didIteratorError2){_context35.next=29;break;}throw _iteratorError2;case 29:return _context35.finish(26);case 30:return _context35.finish(21);case 31:return _context35.abrupt("return",i);case 34:_context35.prev=34;_context35.t1=_context35["catch"](1);return _context35.abrupt("return",FR(r));case 37:case"end":return _context35.stop();}},_callee35,null,[[1,34],[5,17,21,31],[22,,26,30]]);}));return _ER.apply(this,arguments);}o(ER,"getDroppedFiles");Ay.exports=ER;});var qy=v(function(gI,Dy){"use strict";var Uy=Number.isNaN||o(function(e){return typeof e=="number"&&e!==e;},"ponyfill");function CR(r,e){return!!(r===e||Uy(r)&&Uy(e));}o(CR,"isEqual");function RR(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!CR(r[t],e[t]))return!1;return!0;}o(RR,"areInputsEqual");function OR(r,e){e===void 0&&(e=RR);var t,i=[],s,n=!1;function a(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return n&&t===this&&e(l,i)||(s=r.apply(this,l),n=!0,t=this,i=l),s;}return o(a,"memoized"),a;}o(OR,"memoizeOne");Dy.exports=OR;});var My=v(function(vI,By){var xR="Expected a function",Ny=0/0,TR="[object Symbol]",kR=/^\s+|\s+$/g,AR=/^[-+]0x[0-9a-f]+$/i,UR=/^0b[01]+$/i,DR=/^0o[0-7]+$/i,qR=parseInt,NR=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global,IR=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self,BR=NR||IR||Function("return this")(),MR=Object.prototype,LR=MR.toString,jR=Math.max,zR=Math.min,Ic=o(function(){return BR.Date.now();},"now");function HR(r,e,t){var i,s,n,a,l,u,c=0,h=!1,p=!1,g=!0;if(typeof r!="function")throw new TypeError(xR);e=Iy(e)||0,Bc(t)&&(h=!!t.leading,p="maxWait"in t,n=p?jR(Iy(t.maxWait)||0,e):n,g="trailing"in t?!!t.trailing:g);function w(B){var M=i,$=s;return i=s=void 0,c=B,a=r.apply($,M),a;}o(w,"invokeFunc");function b(B){return c=B,l=setTimeout(C,e),h?w(B):a;}o(b,"leadingEdge");function E(B){var M=B-u,$=B-c,Y=e-M;return p?zR(Y,n-$):Y;}o(E,"remainingWait");function F(B){var M=B-u,$=B-c;return u===void 0||M>=e||M<0||p&&$>=n;}o(F,"shouldInvoke");function C(){var B=Ic();if(F(B))return j(B);l=setTimeout(C,E(B));}o(C,"timerExpired");function j(B){return l=void 0,g&&i?w(B):(i=s=void 0,a);}o(j,"trailingEdge");function W(){l!==void 0&&clearTimeout(l),c=0,i=u=s=l=void 0;}o(W,"cancel");function H(){return l===void 0?a:j(Ic());}o(H,"flush");function J(){var B=Ic(),M=F(B);if(i=arguments,s=this,u=B,M){if(l===void 0)return b(u);if(p)return l=setTimeout(C,e),w(u);}return l===void 0&&(l=setTimeout(C,e)),a;}return o(J,"debounced"),J.cancel=W,J.flush=H,J;}o(HR,"debounce");function Bc(r){var e=_typeof(r);return!!r&&(e=="object"||e=="function");}o(Bc,"isObject");function $R(r){return!!r&&_typeof(r)=="object";}o($R,"isObjectLike");function VR(r){return _typeof(r)=="symbol"||$R(r)&&LR.call(r)==TR;}o(VR,"isSymbol");function Iy(r){if(typeof r=="number")return r;if(VR(r))return Ny;if(Bc(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Bc(e)?e+"":e;}if(typeof r!="string")return r===0?r:+r;r=r.replace(kR,"");var t=UR.test(r);return t||DR.test(r)?qR(r.slice(2),t?2:8):AR.test(r)?Ny:+r;}o(Iy,"toNumber");By.exports=HR;});var jy=v(function(yI,Ly){"use strict";var WR=My(),KR=wa(),GR=vc();function XR(){var r=!1;return WR(o(function(t,i){var s=GR(t,i),n=s.contains(document.activeElement);if(n&&r)return;var a=s.querySelector("[data-uppy-super-focusable]");if(!(n&&!a))if(a)a.focus({preventScroll:!0}),r=!0;else{var l=s.querySelector(KR);l==null||l.focus({preventScroll:!0}),r=!1;}},"superFocus"),260);}o(XR,"createSuperFocus");Ly.exports=XR;});var Mc=v(function(bI,zy){"use strict";function YR(){var r=document.body;return!(!("draggable"in r)||!("ondragstart"in r&&"ondrop"in r)||!("FormData"in window)||!("FileReader"in window));}o(YR,"isDragDropSupported");zy.exports=YR;});var $y=v(function(wI,Hy){Hy.exports=o(function(e,t){if(e===t)return!0;for(var i in e)if(!(i in t))return!1;for(var i in t)if(e[i]!==t[i])return!1;return!0;},"isShallowEqual");});var Na=v(function(_I,Vy){"use strict";var Ue=(q(),N(I));function JR(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,Ue.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,Ue.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,Ue.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})));}o(JR,"iconImage");function QR(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}));}o(QR,"iconAudio");function ZR(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}));}o(ZR,"iconVideo");function eO(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}));}o(eO,"iconPDF");function tO(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}));}o(tO,"iconArchive");function rO(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,Ue.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,Ue.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})));}o(rO,"iconFile");function iO(){return(0,Ue.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Ue.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}));}o(iO,"iconText");function sO(r){var e={color:"#838999",icon:rO()};if(!r)return e;var t=r.split("/")[0],i=r.split("/")[1];return t==="text"?{color:"#5a5e69",icon:iO()}:t==="image"?{color:"#686de0",icon:JR()}:t==="audio"?{color:"#068dbb",icon:QR()}:t==="video"?{color:"#19af67",icon:ZR()}:t==="application"&&i==="pdf"?{color:"#e25149",icon:eO()}:t==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(i)!==-1?{color:"#00C469",icon:tO()}:e;}o(sO,"getIconByMime");Vy.exports=sO;});var Lc=v(function(SI,Wy){"use strict";var Vn=(q(),N(I)),nO=Na();function oO(r){var e=r.file;if(e.preview)return(0,Vn.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});var _nO=nO(e.type),t=_nO.color,i=_nO.icon;return(0,Vn.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,Vn.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:t}},i),(0,Vn.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,Vn.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})));}o(oO,"FilePreview");Wy.exports=oO;});var jc=v(function(PI,Gy){"use strict";var Ky=(q(),N(I)),aO=o(function(r,e){return e.filter(function(i){return i.id===r;})[0].name;},"metaFieldIdToName");function lO(r){var e=r.file,t=r.toggleFileCard,i=r.i18n,s=r.metaFields,n=e.missingRequiredMetaFields;if(!(n!=null&&n.length))return null;var a=n.map(function(l){return aO(l,s);}).join(", ");return(0,Ky.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},i("missingRequiredMetaFields",{smart_count:n.length,fields:a})," ",(0,Ky.h)("button",{type:"button","class":"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function onClick(){return t(!0,e.id);}},i("editFile")));}o(lO,"renderMissingMetaFieldsError");Gy.exports=lO;});var Yy=v(function(FI,Xy){"use strict";var Wn=(q(),N(I)),uO=Lc(),cO=jc(),hO=Na();function dO(r){return(0,Wn.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:hO(r.file.type).color}},r.showLinkToFileUploadResult&&r.file.uploadURL&&(0,Wn.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:r.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":r.file.meta.name},(0,Wn.h)("span",{hidden:!0},r.file.meta.name)),(0,Wn.h)(uO,{file:r.file}),(0,Wn.h)(cO,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}));}o(dO,"FilePreviewAndLink");Xy.exports=dO;});var Zy=v(function(EI,Qy){"use strict";var ne=(q(),N(I));function pO(r){if(!r.isUploaded){if(r.error&&!r.hideRetryButton){r.uppy.retryUpload(r.file.id);return;}r.resumableUploads&&!r.hidePauseResumeButton?r.uppy.pauseResume(r.file.id):r.individualCancellation&&!r.hideCancelButton&&r.uppy.removeFile(r.file.id);}}o(pO,"onPauseResumeCancelRetry");function Jy(r){return r.isUploaded?r.i18n("uploadComplete"):r.error?r.i18n("retryUpload"):r.resumableUploads?r.file.isPaused?r.i18n("resumeUpload"):r.i18n("pauseUpload"):r.individualCancellation?r.i18n("cancelUpload"):"";}o(Jy,"progressIndicatorTitle");function zc(r){return(0,ne.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,ne.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Jy(r),title:Jy(r),onClick:function onClick(){return pO(r);}},r.children));}o(zc,"ProgressIndicatorButton");function Ia(r){var e=r.children;return(0,ne.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e);}o(Ia,"ProgressCircleContainer");function Hc(r){var e=r.progress,t=2*Math.PI*15;return(0,ne.h)("g",null,(0,ne.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,ne.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e}));}o(Hc,"ProgressCircle");function fO(r){if(!r.file.progress.uploadStarted)return null;if(r.isUploaded)return(0,ne.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,ne.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,ne.h)(Ia,null,(0,ne.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,ne.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!r.recoveredState)return r.error&&!r.hideRetryButton?(0,ne.h)(zc,r,(0,ne.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,ne.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,ne.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,ne.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,ne.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):r.resumableUploads&&!r.hidePauseResumeButton?(0,ne.h)(zc,r,(0,ne.h)(Ia,null,(0,ne.h)(Hc,{progress:r.file.progress.percentage}),r.file.isPaused?(0,ne.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,ne.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,ne.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,ne.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!r.resumableUploads&&r.individualCancellation&&!r.hideCancelButton?(0,ne.h)(zc,r,(0,ne.h)(Ia,null,(0,ne.h)(Hc,{progress:r.file.progress.percentage}),(0,ne.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):(0,ne.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,ne.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,ne.h)(Ia,null,(0,ne.h)(Hc,{progress:r.file.progress.percentage}))));}o(fO,"FileProgress");Qy.exports=fO;});var t0=v(function(CI,e0){"use strict";var $c="...";function mO(r,e){if(e===0)return"";if(r.length<=e)return r;if(e<=$c.length+1)return"".concat(r.slice(0,e-1),"\u2026");var t=e-$c.length,i=Math.ceil(t/2),s=Math.floor(t/2);return r.slice(0,i)+$c+r.slice(-s);}o(mO,"truncateString");e0.exports=mO;});var s0=v(function(RI,i0){"use strict";var ut=(q(),N(I)),gO=na(),r0=t0(),vO=jc(),yO=o(function(r){var _r$file$meta=r.file.meta,e=_r$file$meta.author,t=_r$file$meta.name;function i(){return r.containerWidth<=352?35:r.containerWidth<=576?60:e?20:30;}return o(i,"getMaxNameLength"),(0,ut.h)("div",{className:"uppy-Dashboard-Item-name",title:t},r0(t,i()));},"renderFileName"),bO=o(function(r){var e=r.file.meta.author,t=r.file.remote.providerName,i="\xB7";return e?(0,ut.h)("div",{className:"uppy-Dashboard-Item-author"},(0,ut.h)("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},r0(e.name,13)),t?(0,ut.h)(ut.Fragment,null," ".concat(i," "),t," ".concat(i," ")):null):null;},"renderAuthor"),wO=o(function(r){return r.file.size&&(0,ut.h)("div",{className:"uppy-Dashboard-Item-statusSize"},gO(r.file.size));},"renderFileSize"),_O=o(function(r){return r.file.isGhost&&(0,ut.h)("span",null," \u2022 ",(0,ut.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:r.toggleAddFilesPanel},r.i18n("reSelect")));},"ReSelectButton"),SO=o(function(r){var e=r.file,t=r.onClick;return e.error?(0,ut.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button"},"?"):null;},"ErrorButton");function PO(r){var e=r.file;return(0,ut.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},(0,ut.h)("div",{className:"uppy-Dashboard-Item-fileName"},yO(r),(0,ut.h)(SO,{file:r.file,onClick:function onClick(){return alert(r.file.error);}})),(0,ut.h)("div",{className:"uppy-Dashboard-Item-status"},bO(r),wO(r),_O(r)),(0,ut.h)(vO,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}));}o(PO,"FileInfo");i0.exports=PO;});var o0=v(function(OI,n0){"use strict";function FO(r,e){return e||(e="Copy the URL below"),new Promise(function(t){var i=document.createElement("textarea");i.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),i.value=r,document.body.appendChild(i),i.select();var s=o(function(){document.body.removeChild(i),window.prompt(e,r),t();},"magicCopyFailed");try{return document.execCommand("copy")?(document.body.removeChild(i),t()):s("copy command unavailable");}catch(n){return document.body.removeChild(i),s(n);}});}o(FO,"copyToClipboard");n0.exports=FO;});var l0=v(function(xI,a0){"use strict";var Le=(q(),N(I)),EO=o0();function CO(r){var e=r.file,t=r.uploadInProgressOrComplete,i=r.metaFields,s=r.canEditFile,n=r.i18n,a=r.onClick;return!t&&i&&i.length>0||!t&&s(e)?(0,Le.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFileWithFilename",{file:e.meta.name}),title:n("editFileWithFilename",{file:e.meta.name}),onClick:function onClick(){return a();}},(0,Le.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,Le.h)("g",{fillRule:"evenodd"},(0,Le.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,Le.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,Le.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null;}o(CO,"EditButton");function RO(r){var e=r.i18n,t=r.onClick,i=r.file;return(0,Le.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:i.meta.name}),title:e("removeFile",{file:i.meta.name}),onClick:function onClick(){return t();}},(0,Le.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,Le.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,Le.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})));}o(RO,"RemoveButton");var OO=o(function(r,e){EO(e.file.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(function(){e.uppy.log("Link copied to clipboard."),e.uppy.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3);})["catch"](e.uppy.log).then(function(){return r.target.focus({preventScroll:!0});});},"copyLinkToClipboard");function xO(r){var e=r.i18n;return(0,Le.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:function onClick(t){return OO(t,r);}},(0,Le.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,Le.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})));}o(xO,"CopyLinkButton");function TO(r){var e=r.uppy,t=r.file,i=r.uploadInProgressOrComplete,s=r.canEditFile,n=r.metaFields,a=r.showLinkToFileUploadResult,l=r.showRemoveButton,u=r.i18n,c=r.toggleFileCard,h=r.openFileEditor,p=o(function(){n&&n.length>0?c(!0,t.id):h(t);},"editAction");return(0,Le.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,Le.h)(CO,{i18n:u,file:t,uploadInProgressOrComplete:i,canEditFile:s,metaFields:n,onClick:p}),a&&t.uploadURL?(0,Le.h)(xO,{file:t,uppy:e,i18n:u}):null,l?(0,Le.h)(RO,{i18n:u,file:t,uppy:e,onClick:function onClick(){return r.uppy.removeFile(t.id,"removed-by-user");}}):null);}o(TO,"Buttons");a0.exports=TO;});var c0=v(function(TI,u0){"use strict";var ui=(q(),N(I)),kO=yt(),AO=$y(),UO=Yy(),DO=Zy(),qO=s0(),NO=l0(),Vc=/*#__PURE__*/function(_ui$Component){_inherits(Vc,_ui$Component);var _super24=_createSuper(Vc);function Vc(){_classCallCheck(this,Vc);return _super24.apply(this,arguments);}_createClass(Vc,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e);}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!AO(this.props,e);}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e);}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e);}},{key:"render",value:function render(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,i=e.progress.uploadComplete&&!t&&!e.error,s=e.progress.uploadStarted||t,n=e.progress.uploadStarted&&!e.progress.uploadComplete||t,a=e.error||!1,l=e.isGhost,u=(this.props.individualCancellation||!n)&&!i;i&&this.props.showRemoveButtonAfterComplete&&(u=!0);var c=kO({"uppy-Dashboard-Item":!0,"is-inprogress":n&&!this.props.recoveredState,"is-processing":t,"is-complete":i,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return(0,ui.h)("div",{className:c,id:"uppy_".concat(e.id),role:this.props.role},(0,ui.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,ui.h)(UO,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,ui.h)(DO,{uppy:this.props.uppy,file:e,error:a,isUploaded:i,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,ui.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,ui.h)(qO,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,ui.h)(NO,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:u,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:s,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})));}}]);return Vc;}(ui.Component);o(Vc,"FileItem");u0.exports=Vc;});var d0=v(function(kI,h0){"use strict";var Ba=(q(),N(I));function Wc(){return Wc=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Wc.apply(this,arguments);}o(Wc,"_extends");var IO={position:"relative",width:"100%",minHeight:"100%"},BO={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},Kc=/*#__PURE__*/function(_Ba$Component){_inherits(Kc,_Ba$Component);var _super25=_createSuper(Kc);function Kc(e){var _this65;_classCallCheck(this,Kc);_this65=_super25.call(this,e);_this65.handleScroll=function(){_this65.setState({offset:_this65.base.scrollTop});},_this65.handleResize=function(){_this65.resize();},_this65.focusElement=null,_this65.state={offset:0,height:0};return _this65;}_createClass(Kc,[{key:"componentDidMount",value:function componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize);}},{key:"componentWillUpdate",value:function componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement);}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleResize);}},{key:"resize",value:function resize(){var e=this.state.height;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight});}},{key:"render",value:function render(e){var t=e.data,i=e.rowHeight,s=e.renderRow,_e$overscanCount=e.overscanCount,n=_e$overscanCount===void 0?10:_e$overscanCount,a=_objectWithoutProperties(e,_excluded2),_this$state=this.state,l=_this$state.offset,u=_this$state.height,c=Math.floor(l/i),h=Math.floor(u/i);n&&(c=Math.max(0,c-c%n),h+=n);var p=c+h+4,g=t.slice(c,p),w=_objectSpread(_objectSpread({},IO),{},{height:t.length*i}),b=_objectSpread(_objectSpread({},BO),{},{top:c*i});return(0,Ba.h)("div",Wc({onScroll:this.handleScroll},a),(0,Ba.h)("div",{role:"presentation",style:w},(0,Ba.h)("div",{role:"presentation",style:b},g.map(s))));}}]);return Kc;}(Ba.Component);o(Kc,"VirtualList");h0.exports=Kc;});var f0=v(function(AI,p0){"use strict";var Gc=(q(),N(I));function Xc(){return Xc=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Xc.apply(this,arguments);}o(Xc,"_extends");var MO=yt(),LO=c0(),jO=d0();function zO(r,e){var t=[],i=[];return r.forEach(function(s){i.length<e?i.push(s):(t.push(i),i=[s]);}),i.length&&t.push(i),t;}o(zO,"chunks");p0.exports=function(r){var e=r.totalFileCount===0,t=MO("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),i=r.itemsPerRow===1?71:200,s={id:r.id,error:r.error,i18n:r.i18n,uppy:r.uppy,acquirers:r.acquirers,resumableUploads:r.resumableUploads,individualCancellation:r.individualCancellation,hideRetryButton:r.hideRetryButton,hidePauseResumeButton:r.hidePauseResumeButton,hideCancelButton:r.hideCancelButton,showLinkToFileUploadResult:r.showLinkToFileUploadResult,showRemoveButtonAfterComplete:r.showRemoveButtonAfterComplete,isWide:r.isWide,metaFields:r.metaFields,recoveredState:r.recoveredState,toggleFileCard:r.toggleFileCard,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail},n=o(function(c,h){return r.files[h].isGhost-r.files[c].isGhost;},"sortByGhostComesFirst"),a=Object.keys(r.files);r.recoveredState&&a.sort(n);var l=zO(a,r.itemsPerRow),u=o(function(c){return(0,Gc.h)("div",{role:"presentation",key:c[0]},c.map(function(h){return(0,Gc.h)(LO,Xc({key:h,uppy:r.uppy},s,{role:"listitem",openFileEditor:r.openFileEditor,canEditFile:r.canEditFile,toggleAddFilesPanel:r.toggleAddFilesPanel,file:r.files[h]}));}));},"renderRow");return(0,Gc.h)(jO,{"class":t,role:"list",data:l,renderRow:u,rowHeight:i});};});var Jc=v(function(UI,g0){"use strict";var ve=(q(),N(I)),m0;m0=Symbol["for"]("uppy test: disable unused locale key warning");var Yc=/*#__PURE__*/function(_ve$Component,_m2){_inherits(Yc,_ve$Component);var _super26=_createSuper(Yc);function Yc(){var _this66;_classCallCheck(this,Yc);_this66=_super26.apply(this,arguments);_this66.triggerFileInputClick=function(){_this66.fileInput.click();},_this66.triggerFolderInputClick=function(){_this66.folderInput.click();},_this66.onFileInputChange=function(e){_this66.props.handleInputChange(e),e.target.value=null;},_this66.renderHiddenInput=function(e,t){return(0,ve.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:_this66.props.maxNumberOfFiles!==1,onChange:_this66.onFileInputChange,accept:_this66.props.allowedFileTypes,ref:t});},_this66.renderMyDeviceAcquirer=function(){return(0,ve.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,ve.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:_this66.triggerFileInputClick},(0,ve.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,ve.h)("g",{fill:"none",fillRule:"evenodd"},(0,ve.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),(0,ve.h)("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),(0,ve.h)("div",{className:"uppy-DashboardTab-name"},_this66.props.i18n("myDevice"))));},_this66.renderBrowseButton=function(e,t){var i=_this66.props.acquirers.length;return(0,ve.h)("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":i===0},e);},_this66.renderDropPasteBrowseTagline=function(){var e=_this66.props.acquirers.length,t=_this66.renderBrowseButton(_this66.props.i18n("browseFiles"),_this66.triggerFileInputClick),i=_this66.renderBrowseButton(_this66.props.i18n("browseFolders"),_this66.triggerFolderInputClick),s=_this66.props.fileManagerSelectionType,n=s.charAt(0).toUpperCase()+s.slice(1);return(0,ve.h)("div",{"class":"uppy-Dashboard-AddFiles-title"},_this66.props.disableLocalFiles?_this66.props.i18n("importFiles"):e>0?_this66.props.i18nArray("dropPasteImport".concat(n),{browseFiles:t,browseFolders:i,browse:t}):_this66.props.i18nArray("dropPaste".concat(n),{browseFiles:t,browseFolders:i,browse:t}));},_this66.renderAcquirer=function(e){return(0,ve.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},(0,ve.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":"uppy-DashboardContent-panel--".concat(e.id),"aria-selected":_this66.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:function onClick(){return _this66.props.showPanel(e.id);}},e.icon(),(0,ve.h)("div",{className:"uppy-DashboardTab-name"},e.name)));},_this66.renderAcquirers=function(e,t){var i=_toConsumableArray(e),s=i.splice(e.length-2,e.length);return(0,ve.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!t&&_this66.renderMyDeviceAcquirer(),i.map(function(n){return _this66.renderAcquirer(n);}),(0,ve.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(n){return _this66.renderAcquirer(n);})));};return _this66;}_createClass(Yc,[{key:_m2,value:function value(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders");}},{key:"renderPoweredByUppy",value:function renderPoweredByUppy(){var e=this.props.i18nArray,t=(0,ve.h)("span",null,(0,ve.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,ve.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,ve.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),i=e("poweredBy",{uppy:t});return(0,ve.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},i);}},{key:"render",value:function render(){var _this67=this;return(0,ve.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(e){_this67.fileInput=e;}),this.renderHiddenInput(!0,function(e){_this67.folderInput=e;}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),(0,ve.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,ve.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)));}}]);return Yc;}(ve.Component,m0);o(Yc,"AddFiles");g0.exports=Yc;});var y0=v(function(DI,v0){"use strict";var Kn=(q(),N(I)),HO=yt(),$O=Jc(),VO=o(function(r){return(0,Kn.h)("div",{className:HO("uppy-Dashboard-AddFilesPanel",r.className),"data-uppy-panelType":"AddFiles","aria-hidden":r.showAddFilesPanel},(0,Kn.h)("div",{className:"uppy-DashboardContent-bar"},(0,Kn.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18n("addingMoreFiles")),(0,Kn.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function onClick(){return r.toggleAddFilesPanel(!1);}},r.i18n("back"))),(0,Kn.h)($O,r));},"AddFilesPanel");v0.exports=VO;});var Qc=v(function(qI,b0){"use strict";function WO(r){var e=r.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){r.stopPropagation();return;}r.preventDefault(),r.stopPropagation();}o(WO,"ignoreEvent");b0.exports=WO;});var _0=v(function(NI,w0){"use strict";var Gn=(q(),N(I)),KO=yt(),Ma=Qc();function GO(r){var e=r.activePickerPanel,t=r.className,i=r.hideAllPanels,s=r.i18n,n=r.state,a=r.uppy;return(0,Gn.h)("div",{className:KO("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(e.id),onDragOver:Ma,onDragLeave:Ma,onDrop:Ma,onPaste:Ma},(0,Gn.h)("div",{className:"uppy-DashboardContent-bar"},(0,Gn.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},s("importFrom",{name:e.name})),(0,Gn.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i},s("cancel"))),(0,Gn.h)("div",{className:"uppy-DashboardContent-panelBody"},a.getPlugin(e.id).render(n)));}o(GO,"PickerPanelContent");w0.exports=GO;});var P0=v(function(II,S0){"use strict";var Ii=(q(),N(I)),XO=yt();function YO(r){var e=r.files[r.fileCardFor];return(0,Ii.h)("div",{className:XO("uppy-DashboardContent-panel",r.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,Ii.h)("div",{className:"uppy-DashboardContent-bar"},(0,Ii.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18nArray("editing",{file:(0,Ii.h)("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),(0,Ii.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r.hideAllPanels},r.i18n("cancel")),(0,Ii.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:r.saveFileEditor},r.i18n("save"))),(0,Ii.h)("div",{className:"uppy-DashboardContent-panelBody"},r.editors.map(function(t){return r.uppy.getPlugin(t.id).render(r.state);})));}o(YO,"EditorPanel");S0.exports=YO;});var E0=v(function(BI,F0){"use strict";var dr=(q(),N(I)),pr={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function JO(r,e,t,i){if(i===void 0&&(i={}),r)return pr.STATE_ERROR;if(e)return pr.STATE_COMPLETE;if(t)return pr.STATE_PAUSED;var s=pr.STATE_WAITING,n=Object.keys(i);for(var a=0;a<n.length;a++){var l=i[n[a]].progress;if(l.uploadStarted&&!l.uploadComplete)return pr.STATE_UPLOADING;l.preprocess&&s!==pr.STATE_UPLOADING&&(s=pr.STATE_PREPROCESSING),l.postprocess&&s!==pr.STATE_UPLOADING&&s!==pr.STATE_PREPROCESSING&&(s=pr.STATE_POSTPROCESSING);}return s;}o(JO,"getUploadingState");function QO(r){var e=r.files,t=r.i18n,i=r.isAllComplete,s=r.isAllErrored,n=r.isAllPaused,a=r.inProgressNotPausedFiles,l=r.newFiles,u=r.processingFiles;switch(JO(s,i,n,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:u.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:l.length});case"complete":return t("uploadComplete");default:}}o(QO,"UploadStatus");function ZO(r){var e=r.i18n,t=r.isAllComplete,i=r.hideCancelButton,s=r.maxNumberOfFiles,n=r.toggleAddFilesPanel,a=r.uppy,l=r.allowNewUpload;return l&&s&&(l=r.totalFileCount<r.maxNumberOfFiles),(0,dr.h)("div",{className:"uppy-DashboardContent-bar"},!t&&!i?(0,dr.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function onClick(){return a.cancelAll();}},e("cancel")):(0,dr.h)("div",null),(0,dr.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,dr.h)(QO,r)),l?(0,dr.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:function onClick(){return n(!0);}},(0,dr.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,dr.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,dr.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):(0,dr.h)("div",null));}o(ZO,"PanelTopBar");F0.exports=ZO;});var R0=v(function(MI,C0){"use strict";var Be=(q(),N(I)),ex=Ri(),tx=yt(),rx=Na(),La=Qc(),ix=Lc(),Zc=/*#__PURE__*/function(_Be$Component){_inherits(Zc,_Be$Component);var _super27=_createSuper(Zc);function Zc(e){var _this68;_classCallCheck(this,Zc);_this68=_super27.call(this,e);_this68.form=document.createElement("form"),_this68.updateMeta=function(n,a){_this68.setState(function(l){var u=l.formState;return{formState:_objectSpread(_objectSpread({},u),{},_defineProperty({},a,n))};});},_this68.handleSave=function(n){n.preventDefault();var a=_this68.props.fileCardFor;_this68.props.saveFileCard(_this68.state.formState,a);},_this68.handleCancel=function(){var n=_this68.props.files[_this68.props.fileCardFor];_this68.props.uppy.emit("file-editor:cancel",n),_this68.props.toggleFileCard(!1);},_this68.saveOnEnter=function(n){if(n.keyCode===13){n.stopPropagation(),n.preventDefault();var a=_this68.props.files[_this68.props.fileCardFor];_this68.props.saveFileCard(_this68.state.formState,a.id);}},_this68.renderMetaFields=function(){var n=_this68.getMetaFields()||[],a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return n.map(function(l){var u="uppy-Dashboard-FileCard-input-".concat(l.id),c=_this68.props.requiredMetaFields.includes(l.id);return(0,Be.h)("fieldset",{key:l.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,Be.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:u},l.name),l.render!==void 0?l.render({value:_this68.state.formState[l.id],onChange:function onChange(h){return _this68.updateMeta(h,l.id);},fieldCSSClasses:a,required:c,form:_this68.form.id},Be.h):(0,Be.h)("input",{className:a.text,id:u,form:_this68.form.id,type:l.type||"text",required:c,value:_this68.state.formState[l.id],placeholder:l.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:_this68.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:_this68.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:_this68.saveOnEnter,onInput:function onInput(h){return _this68.updateMeta(h.target.value,l.id);},"data-uppy-super-focusable":!0}));});};var t=_this68.props.files[_this68.props.fileCardFor],i=_this68.getMetaFields()||[],s={};i.forEach(function(n){s[n.id]=t.meta[n.id]||"";}),_this68.state={formState:s},_this68.form.id=(0,ex.nanoid)();return _this68;}_createClass(Zc,[{key:"componentWillMount",value:function componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form);}},{key:"getMetaFields",value:function getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields;}},{key:"render",value:function render(){var _this69=this;var e=this.props.files[this.props.fileCardFor],t=this.props.canEditFile(e);return(0,Be.h)("div",{className:tx("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:La,onDragLeave:La,onDrop:La,onPaste:La},(0,Be.h)("div",{className:"uppy-DashboardContent-bar"},(0,Be.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:(0,Be.h)("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),(0,Be.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),(0,Be.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,Be.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:rx(e.type).color}},(0,Be.h)(ix,{file:e}),t&&(0,Be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function onClick(i){_this69.handleSave(i),_this69.props.openFileEditor(e);},form:this.form.id},this.props.i18n("editFile"))),(0,Be.h)("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),(0,Be.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,Be.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),(0,Be.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))));}}]);return Zc;}(Be.Component);o(Zc,"FileCard");C0.exports=Zc;});var T0=v(function(LI,x0){"use strict";var eh=(q(),N(I)),sx=yt(),As="uppy-transition-slideDownUp",O0=250,th=/*#__PURE__*/function(_eh$Component){_inherits(th,_eh$Component);var _super28=_createSuper(th);function th(e){var _this70;_classCallCheck(this,th);_this70=_super28.call(this,e);_this70.state={cachedChildren:null,className:""};return _this70;}_createClass(th,[{key:"componentWillUpdate",value:function componentWillUpdate(e){var _this71=this;var t=this.state.cachedChildren,i=(0,eh.toChildArray)(e.children)[0];if(t===i)return null;var s={cachedChildren:i};i&&!t&&(s.className="".concat(As,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){_this71.setState({className:"".concat(As,"-enter ").concat(As,"-enter-active")}),_this71.enterTimeout=setTimeout(function(){_this71.setState({className:""});},O0);})),t&&!i&&this.leaveTimeout===void 0&&(s.cachedChildren=t,s.className="".concat(As,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){_this71.setState({className:"".concat(As,"-leave ").concat(As,"-leave-active")}),_this71.leaveTimeout=setTimeout(function(){_this71.setState({cachedChildren:null,className:""});},O0);})),this.setState(s);}},{key:"render",value:function render(){var _this$state2=this.state,e=_this$state2.cachedChildren,t=_this$state2.className;return e?(0,eh.cloneElement)(e,{className:sx(t,e.props.className)}):null;}}]);return th;}(eh.Component);o(th,"Slide");x0.exports=th;});var D0=v(function(jI,U0){"use strict";var ce=(q(),N(I));function ci(){return ci=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},ci.apply(this,arguments);}o(ci,"_extends");var nx=yt(),ox=Mc(),ax=f0(),lx=Jc(),ux=y0(),cx=_0(),hx=P0(),dx=E0(),px=R0(),ja=T0(),k0=900,A0=700,rh=576,fx=400;function mx(r){var e=r.totalFileCount===0,t=r.containerWidth>rh,i=nx({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":r.disabled,"uppy-Dashboard--animateOpenClose":r.animateOpenClose,"uppy-Dashboard--isClosing":r.isClosing,"uppy-Dashboard--isDraggingOver":r.isDraggingOver,"uppy-Dashboard--modal":!r.inline,"uppy-size--md":r.containerWidth>rh,"uppy-size--lg":r.containerWidth>A0,"uppy-size--xl":r.containerWidth>k0,"uppy-size--height-md":r.containerHeight>fx,"uppy-Dashboard--isAddFilesPanelVisible":r.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":r.areInsidesReadyToBeVisible}),s=1;r.containerWidth>k0?s=5:r.containerWidth>A0?s=4:r.containerWidth>rh&&(s=3);var n=r.showSelectedFiles&&!e,a=r.recoveredState?Object.keys(r.recoveredState.files).length:null,l=r.files?Object.keys(r.files).filter(function(h){return r.files[h].isGhost;}).length:null,u=o(function(){return l>0?r.i18n("recoveredXFiles",{smart_count:l}):r.i18n("recoveredAllFiles");},"renderRestoredText");return(0,ce.h)("div",{className:i,"data-uppy-theme":r.theme,"data-uppy-num-acquirers":r.acquirers.length,"data-uppy-drag-drop-supported":!r.disableLocalFiles&&ox(),"aria-hidden":r.inline?"false":r.isHidden,"aria-disabled":r.disabled,"aria-label":r.inline?r.i18n("dashboardTitle"):r.i18n("dashboardWindowTitle"),onPaste:r.handlePaste,onDragOver:r.handleDragOver,onDragLeave:r.handleDragLeave,onDrop:r.handleDrop},(0,ce.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:r.handleClickOutside}),(0,ce.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!r.inline&&"true",role:!r.inline&&"dialog",style:{width:r.inline&&r.width?r.width:"",height:r.inline&&r.height?r.height:""}},r.inline?null:(0,ce.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":r.i18n("closeModal"),title:r.i18n("closeModal"),onClick:r.closeModal},(0,ce.h)("span",{"aria-hidden":"true"},"\xD7")),(0,ce.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,ce.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},r.i18n("dropHint")),n&&(0,ce.h)(dx,r),a&&(0,ce.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,ce.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,ce.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,ce.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,ce.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,ce.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,ce.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},r.i18n("sessionRestored")),(0,ce.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},u())),n?(0,ce.h)(ax,ci({},r,{itemsPerRow:s})):(0,ce.h)(lx,ci({},r,{isSizeMD:t})),(0,ce.h)(ja,null,r.showAddFilesPanel?(0,ce.h)(ux,ci({key:"AddFiles"},r,{isSizeMD:t})):null),(0,ce.h)(ja,null,r.fileCardFor?(0,ce.h)(px,ci({key:"FileCard"},r)):null),(0,ce.h)(ja,null,r.activePickerPanel?(0,ce.h)(cx,ci({key:"Picker"},r)):null),(0,ce.h)(ja,null,r.showFileEditor?(0,ce.h)(hx,ci({key:"Editor"},r)):null),(0,ce.h)("div",{className:"uppy-Dashboard-progressindicators"},r.progressindicators.map(function(h){return r.uppy.getPlugin(h.id).render(r.state);})))));}o(mx,"Dashboard");U0.exports=mx;});var N0=v(function(zI,q0){"use strict";q0.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}};});var $0=v(function(HI,H0){"use strict";var I0=(q(),N(I)),gx=he(),vx=Ri(),B0=mv();function Nt(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(Nt,"_classPrivateFieldLooseBase");var yx=0;function Us(r){return"__private_"+yx++ +"_"+r;}o(Us,"_classPrivateFieldLooseKey");var bx=Sc(),wx=Ec(),_x=Nc(),M0=Sy(),ih=cr(),Sx=qa(),L0=qy(),Px=wa(),Fx=jy(),Ex=D0(),Cx={version:"2.4.3"},Rx=N0(),sh=L0["default"]||L0,j0=9,Ox=27;function z0(){var r={};return r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t;}),r;}o(z0,"createPromise");function xx(){return(0,I0.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,I0.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}));}o(xx,"defaultPickerIcon");var Xn=Us("openFileEditorWhenFilesAdded"),Bi=Us("attachRenderFunctionToTarget"),nh=Us("isTargetSupported"),oh=Us("getAcquirers"),ah=Us("getProgressIndicators"),Br=Us("getEditors"),za=/*#__PURE__*/function(_gx$UIPlugin){_inherits(za,_gx$UIPlugin);var _super29=_createSuper(za);function za(e,t){var _this72;_classCallCheck(this,za);var i;_this72=_super29.call(this,e,t);i=_assertThisInitialized(_this72),_this72.removeTarget=function(n){var l=_this72.getPluginState().targets.filter(function(u){return u.id!==n.id;});_this72.setPluginState({targets:l});},_this72.addTarget=function(n){var a=n.id||n.constructor.name,l=n.title||a,u=n.type;if(u!=="acquirer"&&u!=="progressindicator"&&u!=="editor"){var g="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";_this72.uppy.log(g,"error");return;}var c={id:a,name:l,type:u},p=_this72.getPluginState().targets.slice();return p.push(c),_this72.setPluginState({targets:p}),_this72.el;},_this72.hideAllPanels=function(){var n=_this72.getPluginState(),a={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===a.activePickerPanel&&n.showAddFilesPanel===a.showAddFilesPanel&&n.showFileEditor===a.showFileEditor&&n.activeOverlayType===a.activeOverlayType||_this72.setPluginState(a);},_this72.showPanel=function(n){var _this72$getPluginStat=_this72.getPluginState(),a=_this72$getPluginStat.targets,l=a.filter(function(u){return u.type==="acquirer"&&u.id===n;})[0];_this72.setPluginState({activePickerPanel:l,activeOverlayType:"PickerPanel"});},_this72.canEditFile=function(n){var _this72$getPluginStat2=_this72.getPluginState(),a=_this72$getPluginStat2.targets;return Nt(_assertThisInitialized(_this72),Br)[Br](a).some(function(u){return _this72.uppy.getPlugin(u.id).canEditFile(n);});},_this72.openFileEditor=function(n){var _this72$getPluginStat3=_this72.getPluginState(),a=_this72$getPluginStat3.targets,l=Nt(_assertThisInitialized(_this72),Br)[Br](a);_this72.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),l.forEach(function(u){_this72.uppy.getPlugin(u.id).selectFile(n);});},_this72.saveFileEditor=function(){var _this72$getPluginStat4=_this72.getPluginState(),n=_this72$getPluginStat4.targets;Nt(_assertThisInitialized(_this72),Br)[Br](n).forEach(function(l){_this72.uppy.getPlugin(l.id).save();}),_this72.hideAllPanels();},_this72.openModal=function(){var _z3=z0(),n=_z3.promise,a=_z3.resolve;if(_this72.savedScrollPosition=window.pageYOffset,_this72.savedActiveElement=document.activeElement,_this72.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),_this72.opts.animateOpenClose&&_this72.getPluginState().isClosing){var l=o(function(){_this72.setPluginState({isHidden:!1}),_this72.el.removeEventListener("animationend",l,!1),a();},"handler");_this72.el.addEventListener("animationend",l,!1);}else _this72.setPluginState({isHidden:!1}),a();return _this72.opts.browserBackButtonClose&&_this72.updateBrowserHistory(),document.addEventListener("keydown",_this72.handleKeyDownInModal),_this72.uppy.emit("dashboard:modal-open"),n;},_this72.closeModal=function(n){n===void 0&&(n={});var _n7=n,_n7$manualClose=_n7.manualClose,a=_n7$manualClose===void 0?!0:_n7$manualClose,_i$getPluginState=i.getPluginState(),l=_i$getPluginState.isHidden,u=_i$getPluginState.isClosing;if(l||u)return;var _z4=z0(),c=_z4.promise,h=_z4.resolve;if(i.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),i.opts.animateOpenClose){i.setPluginState({isClosing:!0});var g=o(function(){i.setPluginState({isHidden:!0,isClosing:!1}),i.superFocus.cancel(),i.savedActiveElement.focus(),i.el.removeEventListener("animationend",g,!1),h();},"handler");i.el.addEventListener("animationend",g,!1);}else i.setPluginState({isHidden:!0}),i.superFocus.cancel(),i.savedActiveElement.focus(),h();if(document.removeEventListener("keydown",i.handleKeyDownInModal),a&&i.opts.browserBackButtonClose){var p;(p=history.state)!=null&&p[i.modalName]&&history.back();}return i.uppy.emit("dashboard:modal-closed"),c;},_this72.isModalOpen=function(){return!_this72.getPluginState().isHidden||!1;},_this72.requestCloseModal=function(){return _this72.opts.onRequestCloseModal?_this72.opts.onRequestCloseModal():_this72.closeModal();},_this72.setDarkModeCapability=function(n){var _this72$uppy$getState=_this72.uppy.getState(),a=_this72$uppy$getState.capabilities;_this72.uppy.setState({capabilities:_objectSpread(_objectSpread({},a),{},{darkMode:n})});},_this72.handleSystemDarkModeChange=function(n){var a=n.matches;_this72.uppy.log("[Dashboard] Dark mode is ".concat(a?"on":"off")),_this72.setDarkModeCapability(a);},_this72.toggleFileCard=function(n,a){var l=_this72.uppy.getFile(a);n?_this72.uppy.emit("dashboard:file-edit-start",l):_this72.uppy.emit("dashboard:file-edit-complete",l),_this72.setPluginState({fileCardFor:n?a:null,activeOverlayType:n?"FileCard":null});},_this72.toggleAddFilesPanel=function(n){_this72.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null});},_this72.addFiles=function(n){var a=n.map(function(l){return{source:_this72.id,name:l.name,type:l.type,data:l,meta:{relativePath:l.relativePath||l.webkitRelativePath||null}};});try{_this72.uppy.addFiles(a);}catch(l){_this72.uppy.log(l);}},_this72.startListeningToResize=function(){_this72.resizeObserver=new ResizeObserver(function(n){var a=n[0],_a$contentRect=a.contentRect,l=_a$contentRect.width,u=_a$contentRect.height;_this72.uppy.log("[Dashboard] resized: ".concat(l," / ").concat(u),"debug"),_this72.setPluginState({containerWidth:l,containerHeight:u,areInsidesReadyToBeVisible:!0});}),_this72.resizeObserver.observe(_this72.el.querySelector(".uppy-Dashboard-inner")),_this72.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var n=_this72.getPluginState(),a=!_this72.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!a&&(_this72.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),_this72.setPluginState({areInsidesReadyToBeVisible:!0}));},1e3);},_this72.stopListeningToResize=function(){_this72.resizeObserver.disconnect(),clearTimeout(_this72.makeDashboardInsidesVisibleAnywayTimeout);},_this72.recordIfFocusedOnUppyRecently=function(n){_this72.el.contains(n.target)?_this72.ifFocusedOnUppyRecently=!0:(_this72.ifFocusedOnUppyRecently=!1,_this72.superFocus.cancel());},_this72.disableAllFocusableElements=function(n){var a=ih(_this72.el.querySelectorAll(Px));n?a.forEach(function(l){var u=l.getAttribute("tabindex");u&&(l.dataset.inertTabindex=u),l.setAttribute("tabindex","-1");}):a.forEach(function(l){"inertTabindex"in l.dataset?l.setAttribute("tabindex",l.dataset.inertTabindex):l.removeAttribute("tabindex");}),_this72.dashboardIsDisabled=n;},_this72.updateBrowserHistory=function(){var n;(n=history.state)!=null&&n[_this72.modalName]||history.pushState(_objectSpread(_objectSpread({},history.state),{},_defineProperty({},_this72.modalName,!0)),""),window.addEventListener("popstate",_this72.handlePopState,!1);},_this72.handlePopState=function(n){var a;_this72.isModalOpen()&&(!n.state||!n.state[_this72.modalName])&&_this72.closeModal({manualClose:!1}),!_this72.isModalOpen()&&(a=n.state)!=null&&a[_this72.modalName]&&history.back();},_this72.handleKeyDownInModal=function(n){n.keyCode===Ox&&_this72.requestCloseModal(n),n.keyCode===j0&&B0.forModal(n,_this72.getPluginState().activeOverlayType,_this72.el);},_this72.handleClickOutside=function(){_this72.opts.closeModalOnClickOutside&&_this72.requestCloseModal();},_this72.handlePaste=function(n){_this72.uppy.iteratePlugins(function(l){l.type==="acquirer"&&(l.handleRootPaste==null||l.handleRootPaste(n));});var a=ih(n.clipboardData.files);a.length>0&&(_this72.uppy.log("[Dashboard] Files pasted"),_this72.addFiles(a));},_this72.handleInputChange=function(n){n.preventDefault();var a=ih(n.target.files);a.length>0&&(_this72.uppy.log("[Dashboard] Files selected through input"),_this72.addFiles(a));},_this72.handleDragOver=function(n){var a,l;n.preventDefault(),n.stopPropagation();var u=o(function(){var g=!0;return _this72.uppy.iteratePlugins(function(w){w.canHandleRootDrop!=null&&w.canHandleRootDrop(n)&&(g=!0);}),g;},"canSomePluginHandleRootDrop"),c=o(function(){var g=n.dataTransfer.types;return g.some(function(w){return w==="Files";});},"doesEventHaveFiles"),h=u(n),p=c(n);if(!h&&!p||_this72.opts.disabled||_this72.opts.disableLocalFiles&&(p||!h)||!_this72.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none",clearTimeout(_this72.removeDragOverClassTimeout);return;}n.dataTransfer.dropEffect="copy",clearTimeout(_this72.removeDragOverClassTimeout),_this72.setPluginState({isDraggingOver:!0}),(a=(l=_this72.opts).onDragOver)==null||a.call(l,n);},_this72.handleDragLeave=function(n){var a,l;n.preventDefault(),n.stopPropagation(),clearTimeout(_this72.removeDragOverClassTimeout),_this72.removeDragOverClassTimeout=setTimeout(function(){_this72.setPluginState({isDraggingOver:!1});},50),(a=(l=_this72.opts).onDragLeave)==null||a.call(l,n);},_this72.handleDrop=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee36(n){var a,l,u,c,h;return _regeneratorRuntime().wrap(function _callee36$(_context36){while(1)switch(_context36.prev=_context36.next){case 0:n.preventDefault(),n.stopPropagation(),clearTimeout(_this72.removeDragOverClassTimeout),_this72.setPluginState({isDraggingOver:!1}),_this72.uppy.iteratePlugins(function(p){p.type==="acquirer"&&(p.handleRootDrop==null||p.handleRootDrop(n));});u=!1;c=o(function(p){_this72.uppy.log(p,"error"),u||(_this72.uppy.info(p.message,"error"),u=!0);},"logDropError");_context36.next=5;return Sx(n.dataTransfer,{logDropError:c});case 5:h=_context36.sent;h.length>0&&(_this72.uppy.log("[Dashboard] Files dropped"),_this72.addFiles(h)),(a=(l=_this72.opts).onDrop)==null||a.call(l,n);case 7:case"end":return _context36.stop();}},_callee36);}));return function(_x31){return _ref12.apply(this,arguments);};}(),_this72.handleRequestThumbnail=function(n){_this72.opts.waitForThumbnailsBeforeUpload||_this72.uppy.emit("thumbnail:request",n);},_this72.handleCancelThumbnail=function(n){_this72.opts.waitForThumbnailsBeforeUpload||_this72.uppy.emit("thumbnail:cancel",n);},_this72.handleKeyDownInInline=function(n){n.keyCode===j0&&B0.forInline(n,_this72.getPluginState().activeOverlayType,_this72.el);},_this72.handlePasteOnBody=function(n){_this72.el.contains(document.activeElement)&&_this72.handlePaste(n);},_this72.handleComplete=function(n){var a=n.failed;_this72.opts.closeAfterFinish&&a.length===0&&_this72.requestCloseModal();},_this72.handleCancelRestore=function(){_this72.uppy.emit("restore-canceled");},Object.defineProperty(_assertThisInitialized(_this72),Xn,{writable:!0,value:function value(n){var a=n[0];_this72.canEditFile(a)&&_this72.openFileEditor(a);}}),_this72.initEvents=function(){if(_this72.opts.trigger&&!_this72.opts.inline){var n=M0(_this72.opts.trigger);n?n.forEach(function(a){return a.addEventListener("click",_this72.openModal);}):_this72.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning");}_this72.startListeningToResize(),document.addEventListener("paste",_this72.handlePasteOnBody),_this72.uppy.on("plugin-remove",_this72.removeTarget),_this72.uppy.on("file-added",_this72.hideAllPanels),_this72.uppy.on("dashboard:modal-closed",_this72.hideAllPanels),_this72.uppy.on("file-editor:complete",_this72.hideAllPanels),_this72.uppy.on("complete",_this72.handleComplete),document.addEventListener("focus",_this72.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",_this72.recordIfFocusedOnUppyRecently,!0),_this72.opts.inline&&_this72.el.addEventListener("keydown",_this72.handleKeyDownInInline),_this72.opts.autoOpenFileEditor&&_this72.uppy.on("files-added",Nt(_assertThisInitialized(_this72),Xn)[Xn]);},_this72.removeEvents=function(){var n=M0(_this72.opts.trigger);!_this72.opts.inline&&n&&n.forEach(function(a){return a.removeEventListener("click",_this72.openModal);}),_this72.stopListeningToResize(),document.removeEventListener("paste",_this72.handlePasteOnBody),window.removeEventListener("popstate",_this72.handlePopState,!1),_this72.uppy.off("plugin-remove",_this72.removeTarget),_this72.uppy.off("file-added",_this72.hideAllPanels),_this72.uppy.off("dashboard:modal-closed",_this72.hideAllPanels),_this72.uppy.off("file-editor:complete",_this72.hideAllPanels),_this72.uppy.off("complete",_this72.handleComplete),document.removeEventListener("focus",_this72.recordIfFocusedOnUppyRecently),document.removeEventListener("click",_this72.recordIfFocusedOnUppyRecently),_this72.opts.inline&&_this72.el.removeEventListener("keydown",_this72.handleKeyDownInInline),_this72.opts.autoOpenFileEditor&&_this72.uppy.off("files-added",Nt(_assertThisInitialized(_this72),Xn)[Xn]);},_this72.superFocusOnEachUpdate=function(){var n=_this72.el.contains(document.activeElement),a=document.activeElement===document.body||document.activeElement===null,l=_this72.uppy.getState().info.length===0,u=!_this72.opts.inline;l&&(u||n||a&&_this72.ifFocusedOnUppyRecently)?_this72.superFocus(_this72.el,_this72.getPluginState().activeOverlayType):_this72.superFocus.cancel();},_this72.afterUpdate=function(){if(_this72.opts.disabled&&!_this72.dashboardIsDisabled){_this72.disableAllFocusableElements(!0);return;}!_this72.opts.disabled&&_this72.dashboardIsDisabled&&_this72.disableAllFocusableElements(!1),_this72.superFocusOnEachUpdate();},_this72.saveFileCard=function(n,a){_this72.uppy.setFileMeta(a,n),_this72.toggleFileCard(!1,a);},Object.defineProperty(_assertThisInitialized(_this72),Bi,{writable:!0,value:function value(n){var a=_this72.uppy.getPlugin(n.id);return _objectSpread(_objectSpread({},n),{},{icon:a.icon||_this72.opts.defaultPickerIcon,render:a.render});}}),Object.defineProperty(_assertThisInitialized(_this72),nh,{writable:!0,value:function value(n){var a=_this72.uppy.getPlugin(n.id);return typeof a.isSupported!="function"?!0:a.isSupported();}}),Object.defineProperty(_assertThisInitialized(_this72),oh,{writable:!0,value:sh(function(n){return n.filter(function(a){return a.type==="acquirer"&&Nt(_assertThisInitialized(_this72),nh)[nh](a);}).map(Nt(_assertThisInitialized(_this72),Bi)[Bi]);})}),Object.defineProperty(_assertThisInitialized(_this72),ah,{writable:!0,value:sh(function(n){return n.filter(function(a){return a.type==="progressindicator";}).map(Nt(_assertThisInitialized(_this72),Bi)[Bi]);})}),Object.defineProperty(_assertThisInitialized(_this72),Br,{writable:!0,value:sh(function(n){return n.filter(function(a){return a.type==="editor";}).map(Nt(_assertThisInitialized(_this72),Bi)[Bi]);})}),_this72.render=function(n){var a=_this72.getPluginState(),l=n.files,u=n.capabilities,c=n.allowNewUpload,_this72$uppy$getObjec=_this72.uppy.getObjectOfFilesPerState(),h=_this72$uppy$getObjec.newFiles,p=_this72$uppy$getObjec.uploadStartedFiles,g=_this72$uppy$getObjec.completeFiles,w=_this72$uppy$getObjec.erroredFiles,b=_this72$uppy$getObjec.inProgressFiles,E=_this72$uppy$getObjec.inProgressNotPausedFiles,F=_this72$uppy$getObjec.processingFiles,C=_this72$uppy$getObjec.isUploadStarted,j=_this72$uppy$getObjec.isAllComplete,W=_this72$uppy$getObjec.isAllErrored,H=_this72$uppy$getObjec.isAllPaused,J=Nt(_assertThisInitialized(_this72),oh)[oh](a.targets),B=Nt(_assertThisInitialized(_this72),ah)[ah](a.targets),M=Nt(_assertThisInitialized(_this72),Br)[Br](a.targets),$;return _this72.opts.theme==="auto"?$=u.darkMode?"dark":"light":$=_this72.opts.theme,["files","folders","both"].indexOf(_this72.opts.fileManagerSelectionType)<0&&(_this72.opts.fileManagerSelectionType="files",console.warn("Unsupported option for \"fileManagerSelectionType\". Using default of \"".concat(_this72.opts.fileManagerSelectionType,"\"."))),Ex({state:n,isHidden:a.isHidden,files:l,newFiles:h,uploadStartedFiles:p,completeFiles:g,erroredFiles:w,inProgressFiles:b,inProgressNotPausedFiles:E,processingFiles:F,isUploadStarted:C,isAllComplete:j,isAllErrored:W,isAllPaused:H,totalFileCount:Object.keys(l).length,totalProgress:n.totalProgress,allowNewUpload:c,acquirers:J,theme:$,disabled:_this72.opts.disabled,disableLocalFiles:_this72.opts.disableLocalFiles,direction:_this72.opts.direction,activePickerPanel:a.activePickerPanel,showFileEditor:a.showFileEditor,saveFileEditor:_this72.saveFileEditor,disableAllFocusableElements:_this72.disableAllFocusableElements,animateOpenClose:_this72.opts.animateOpenClose,isClosing:a.isClosing,progressindicators:B,editors:M,autoProceed:_this72.uppy.opts.autoProceed,id:_this72.id,closeModal:_this72.requestCloseModal,handleClickOutside:_this72.handleClickOutside,handleInputChange:_this72.handleInputChange,handlePaste:_this72.handlePaste,inline:_this72.opts.inline,showPanel:_this72.showPanel,hideAllPanels:_this72.hideAllPanels,i18n:_this72.i18n,i18nArray:_this72.i18nArray,uppy:_this72.uppy,note:_this72.opts.note,recoveredState:n.recoveredState,metaFields:a.metaFields,resumableUploads:u.resumableUploads||!1,individualCancellation:u.individualCancellation,isMobileDevice:u.isMobileDevice,fileCardFor:a.fileCardFor,toggleFileCard:_this72.toggleFileCard,toggleAddFilesPanel:_this72.toggleAddFilesPanel,showAddFilesPanel:a.showAddFilesPanel,saveFileCard:_this72.saveFileCard,openFileEditor:_this72.openFileEditor,canEditFile:_this72.canEditFile,width:_this72.opts.width,height:_this72.opts.height,showLinkToFileUploadResult:_this72.opts.showLinkToFileUploadResult,fileManagerSelectionType:_this72.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:_this72.opts.proudlyDisplayPoweredByUppy,hideCancelButton:_this72.opts.hideCancelButton,hideRetryButton:_this72.opts.hideRetryButton,hidePauseResumeButton:_this72.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:_this72.opts.showRemoveButtonAfterComplete,containerWidth:a.containerWidth,containerHeight:a.containerHeight,areInsidesReadyToBeVisible:a.areInsidesReadyToBeVisible,isTargetDOMEl:_this72.isTargetDOMEl,parentElement:_this72.el,allowedFileTypes:_this72.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:_this72.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:_this72.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:_this72.opts.showSelectedFiles,handleCancelRestore:_this72.handleCancelRestore,handleRequestThumbnail:_this72.handleRequestThumbnail,handleCancelThumbnail:_this72.handleCancelThumbnail,isDraggingOver:a.isDraggingOver,handleDragOver:_this72.handleDragOver,handleDragLeave:_this72.handleDragLeave,handleDrop:_this72.handleDrop});},_this72.discoverProviderPlugins=function(){_this72.uppy.iteratePlugins(function(n){n&&!n.target&&n.opts&&n.opts.target===_this72.constructor&&_this72.addTarget(n);});},_this72.install=function(){_this72.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:_this72.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var _this72$opts=_this72.opts,n=_this72$opts.inline,a=_this72$opts.closeAfterFinish;if(n&&a)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var _this72$uppy$opts=_this72.uppy.opts,l=_this72$uppy$opts.allowMultipleUploads,u=_this72$uppy$opts.allowMultipleUploadBatches;(l||u)&&a&&_this72.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var c=_this72.opts.target;c&&_this72.mount(c,_assertThisInitialized(_this72)),(_this72.opts.plugins||[]).forEach(function(g){var w=_this72.uppy.getPlugin(g);w&&w.mount(_assertThisInitialized(_this72),w);}),_this72.opts.disableStatusBar||_this72.uppy.use(bx,{id:"".concat(_this72.id,":StatusBar"),target:_assertThisInitialized(_this72),hideUploadButton:_this72.opts.hideUploadButton,hideRetryButton:_this72.opts.hideRetryButton,hidePauseResumeButton:_this72.opts.hidePauseResumeButton,hideCancelButton:_this72.opts.hideCancelButton,showProgressDetails:_this72.opts.showProgressDetails,hideAfterFinish:_this72.opts.hideProgressAfterFinish,locale:_this72.opts.locale,doneButtonHandler:_this72.opts.doneButtonHandler}),_this72.opts.disableInformer||_this72.uppy.use(wx,{id:"".concat(_this72.id,":Informer"),target:_assertThisInitialized(_this72)}),_this72.opts.disableThumbnailGenerator||_this72.uppy.use(_x,{id:"".concat(_this72.id,":ThumbnailGenerator"),thumbnailWidth:_this72.opts.thumbnailWidth,thumbnailHeight:_this72.opts.thumbnailHeight,thumbnailType:_this72.opts.thumbnailType,waitForThumbnailsBeforeUpload:_this72.opts.waitForThumbnailsBeforeUpload,lazy:!_this72.opts.waitForThumbnailsBeforeUpload}),_this72.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var p=_this72.darkModeMediaQuery?_this72.darkModeMediaQuery.matches:!1;_this72.uppy.log("[Dashboard] Dark mode is ".concat(p?"on":"off")),_this72.setDarkModeCapability(p),_this72.opts.theme==="auto"&&_this72.darkModeMediaQuery.addListener(_this72.handleSystemDarkModeChange),_this72.discoverProviderPlugins(),_this72.initEvents();},_this72.uninstall=function(){if(!_this72.opts.disableInformer){var a=_this72.uppy.getPlugin("".concat(_this72.id,":Informer"));a&&_this72.uppy.removePlugin(a);}if(!_this72.opts.disableStatusBar){var _a10=_this72.uppy.getPlugin("".concat(_this72.id,":StatusBar"));_a10&&_this72.uppy.removePlugin(_a10);}if(!_this72.opts.disableThumbnailGenerator){var _a11=_this72.uppy.getPlugin("".concat(_this72.id,":ThumbnailGenerator"));_a11&&_this72.uppy.removePlugin(_a11);}(_this72.opts.plugins||[]).forEach(function(a){var l=_this72.uppy.getPlugin(a);l&&l.unmount();}),_this72.opts.theme==="auto"&&_this72.darkModeMediaQuery.removeListener(_this72.handleSystemDarkModeChange),_this72.unmount(),_this72.removeEvents();},_this72.id=_this72.opts.id||"Dashboard",_this72.title="Dashboard",_this72.type="orchestrator",_this72.modalName="uppy-Dashboard-".concat((0,vx.nanoid)()),_this72.defaultLocale=Rx;var s={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:xx,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function doneButtonHandler(){_this72.uppy.reset(),_this72.requestCloseModal();},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function onRequestCloseModal(){return _this72.closeModal();},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};_this72.opts=_objectSpread(_objectSpread({},s),t),_this72.i18nInit(),_this72.superFocus=Fx(),_this72.ifFocusedOnUppyRecently=!1,_this72.makeDashboardInsidesVisibleAnywayTimeout=null,_this72.removeDragOverClassTimeout=null;return _this72;}return _createClass(za);}(gx.UIPlugin);o(za,"Dashboard");za.VERSION=Cx.version;H0.exports=za;});var lh=v(function($I,V0){"use strict";V0.exports=$0();});var K0=v(function(VI,W0){"use strict";W0.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};});var X0=v(function(WI,G0){"use strict";var Tx=he(),hi=(q(),N(I)),kx=cr(),Ax=Mc(),Ux=qa(),Dx={version:"2.1.2"},qx=K0(),Ds=/*#__PURE__*/function(_Tx$UIPlugin){_inherits(Ds,_Tx$UIPlugin);var _super30=_createSuper(Ds);function Ds(e,t){var _this73;_classCallCheck(this,Ds);_this73=_super30.call(this,e,t);_this73.handleDrop=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee37(s){var n,a,l,u;return _regeneratorRuntime().wrap(function _callee37$(_context37){while(1)switch(_context37.prev=_context37.next){case 0:s.preventDefault(),s.stopPropagation(),clearTimeout(_this73.removeDragOverClassTimeout),_this73.setPluginState({isDraggingOver:!1});l=o(function(c){_this73.uppy.log(c,"error");},"logDropError");_context37.next=4;return Ux(s.dataTransfer,{logDropError:l});case 4:u=_context37.sent;u.length>0&&(_this73.uppy.log("[DragDrop] Files dropped"),_this73.addFiles(u)),(n=(a=_this73.opts).onDrop)==null||n.call(a,s);case 6:case"end":return _context37.stop();}},_callee37);}));return function(_x32){return _ref13.apply(this,arguments);};}(),_this73.type="acquirer",_this73.id=_this73.opts.id||"DragDrop",_this73.title="Drag & Drop",_this73.defaultLocale=qx;var i={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};_this73.opts=_objectSpread(_objectSpread({},i),t),_this73.i18nInit(),_this73.isDragDropSupported=Ax(),_this73.removeDragOverClassTimeout=null,_this73.onInputChange=_this73.onInputChange.bind(_assertThisInitialized(_this73)),_this73.handleDragOver=_this73.handleDragOver.bind(_assertThisInitialized(_this73)),_this73.handleDragLeave=_this73.handleDragLeave.bind(_assertThisInitialized(_this73)),_this73.handleDrop=_this73.handleDrop.bind(_assertThisInitialized(_this73)),_this73.addFiles=_this73.addFiles.bind(_assertThisInitialized(_this73)),_this73.render=_this73.render.bind(_assertThisInitialized(_this73));return _this73;}_createClass(Ds,[{key:"addFiles",value:function addFiles(e){var _this74=this;var t=e.map(function(i){return{source:_this74.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||null}};});try{this.uppy.addFiles(t);}catch(i){this.uppy.log(i);}}},{key:"onInputChange",value:function onInputChange(e){var t=kx(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null;}},{key:"handleDragOver",value:function handleDragOver(e){var t,i;e.preventDefault(),e.stopPropagation();var s=e.dataTransfer.types,n=s.some(function(l){return l==="Files";}),_this$uppy$getState4=this.uppy.getState(),a=_this$uppy$getState4.allowNewUpload;if(!n||!a){e.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return;}e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(t=(i=this.opts).onDragOver)==null||t.call(i,e);}},{key:"handleDragLeave",value:function handleDragLeave(e){var _this75=this;var t,i;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){_this75.setPluginState({isDraggingOver:!1});},50),(t=(i=this.opts).onDragLeave)==null||t.call(i,e);}},{key:"renderHiddenFileInput",value:function renderHiddenFileInput(){var _this76=this;var e=this.uppy.opts.restrictions;return(0,hi.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function ref(t){_this76.fileInputRef=t;},name:this.opts.inputName,multiple:e.maxNumberOfFiles!==1,accept:e.allowedFileTypes,onChange:this.onInputChange});}},{key:"renderLabel",value:function renderLabel(){return(0,hi.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,hi.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}));}},{key:"renderNote",value:function renderNote(){return(0,hi.h)("span",{className:"uppy-DragDrop-note"},this.opts.note);}},{key:"render",value:function render(){var _this77=this;var e="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),t={width:this.opts.width,height:this.opts.height};return(0,hi.h)("button",{type:"button",className:e,style:t,onClick:function onClick(){return _this77.fileInputRef.click();},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,hi.h)("div",{className:"uppy-DragDrop-inner"},Ds.renderArrowSvg(),this.renderLabel(),this.renderNote()));}},{key:"install",value:function install(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.unmount();}}],[{key:"renderArrowSvg",value:function renderArrowSvg(){return(0,hi.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,hi.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}));}}]);return Ds;}(Tx.UIPlugin);o(Ds,"DragDrop");Ds.VERSION=Dx.version;G0.exports=Ds;});var J0=v(function(KI,Y0){"use strict";Y0.exports=X0();});var Z0=v(function(GI,Q0){"use strict";var Nx=Ut(),Ix=qa(),Bx=cr(),Mx={version:"1.1.4"};function Lx(r){var e,t;return(e=(t=r.dataTransfer.types)==null?void 0:t.some(function(i){return i==="Files";}))!=null?e:!1;}o(Lx,"isFileTransfer");var Ha=/*#__PURE__*/function(_Nx){_inherits(Ha,_Nx);var _super31=_createSuper(Ha);function Ha(e,t){var _this78;_classCallCheck(this,Ha);_this78=_super31.call(this,e,t);_this78.addFiles=function(s){var n=s.map(function(a){return{source:_this78.id,name:a.name,type:a.type,data:a,meta:{relativePath:a.relativePath||null}};});try{_this78.uppy.addFiles(n);}catch(a){_this78.uppy.log(a);}},_this78.isFileTransfer=Lx,_this78.handleDrop=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee38(s){var n,a,l,u,c;return _regeneratorRuntime().wrap(function _callee38$(_context38){while(1)switch(_context38.prev=_context38.next){case 0:if(_this78.isFileTransfer(s)){_context38.next=2;break;}return _context38.abrupt("return");case 2:s.preventDefault(),s.stopPropagation(),clearTimeout(_this78.removeDragOverClassTimeout),s.currentTarget.classList.remove("uppy-is-drag-over"),_this78.setPluginState({isDraggingOver:!1}),_this78.uppy.iteratePlugins(function(h){h.type==="acquirer"&&(h.handleRootDrop==null||h.handleRootDrop(s));});l=!1;u=o(function(h){_this78.uppy.log(h,"error"),l||(_this78.uppy.info(h.message,"error"),l=!0);},"logDropError");_context38.next=7;return Ix(s.dataTransfer,{logDropError:u});case 7:c=_context38.sent;c.length>0&&(_this78.uppy.log("[DropTarget] Files were dropped"),_this78.addFiles(c)),(n=(a=_this78.opts).onDrop)==null||n.call(a,s);case 9:case"end":return _context38.stop();}},_callee38);}));return function(_x33){return _ref14.apply(this,arguments);};}(),_this78.handleDragOver=function(s){var n,a;!_this78.isFileTransfer(s)||(s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="copy",clearTimeout(_this78.removeDragOverClassTimeout),s.currentTarget.classList.add("uppy-is-drag-over"),_this78.setPluginState({isDraggingOver:!0}),(n=(a=_this78.opts).onDragOver)==null||n.call(a,s));},_this78.handleDragLeave=function(s){var n,a;if(!_this78.isFileTransfer(s))return;s.preventDefault(),s.stopPropagation();var l=s.currentTarget;clearTimeout(_this78.removeDragOverClassTimeout),_this78.removeDragOverClassTimeout=setTimeout(function(){l.classList.remove("uppy-is-drag-over"),_this78.setPluginState({isDraggingOver:!1});},50),(n=(a=_this78.opts).onDragLeave)==null||n.call(a,s);},_this78.addListeners=function(){var s=_this78.opts.target;if(s instanceof Element?_this78.nodes=[s]:typeof s=="string"&&(_this78.nodes=Bx(document.querySelectorAll(s))),!_this78.nodes&&!_this78.nodes.length>0)throw new Error("\"".concat(s,"\" does not match any HTML elements"));_this78.nodes.forEach(function(n){n.addEventListener("dragover",_this78.handleDragOver,!1),n.addEventListener("dragleave",_this78.handleDragLeave,!1),n.addEventListener("drop",_this78.handleDrop,!1);});},_this78.removeListeners=function(){_this78.nodes&&_this78.nodes.forEach(function(s){s.removeEventListener("dragover",_this78.handleDragOver,!1),s.removeEventListener("dragleave",_this78.handleDragLeave,!1),s.removeEventListener("drop",_this78.handleDrop,!1);});},_this78.type="acquirer",_this78.id=_this78.opts.id||"DropTarget",_this78.title="Drop Target";var i={target:null};_this78.opts=_objectSpread(_objectSpread({},i),t),_this78.removeDragOverClassTimeout=null;return _this78;}_createClass(Ha,[{key:"install",value:function install(){this.setPluginState({isDraggingOver:!1}),this.addListeners();}},{key:"uninstall",value:function uninstall(){this.removeListeners();}}]);return Ha;}(Nx);o(Ha,"DropTarget");Ha.VERSION=Mx.version;Q0.exports=Ha;});var tb=v(function(XI,eb){"use strict";eb.exports={strings:{chooseFiles:"Choose files"}};});var ib=v(function(YI,rb){"use strict";var jx=he(),uh=(q(),N(I)),zx=cr(),Hx={version:"2.1.2"},$x=tb(),$a=/*#__PURE__*/function(_jx$UIPlugin){_inherits($a,_jx$UIPlugin);var _super32=_createSuper($a);function $a(e,t){var _this79;_classCallCheck(this,$a);_this79=_super32.call(this,e,t);_this79.id=_this79.opts.id||"FileInput",_this79.title="File Input",_this79.type="acquirer",_this79.defaultLocale=$x;var i={target:null,pretty:!0,inputName:"files[]"};_this79.opts=_objectSpread(_objectSpread({},i),t),_this79.i18nInit(),_this79.render=_this79.render.bind(_assertThisInitialized(_this79)),_this79.handleInputChange=_this79.handleInputChange.bind(_assertThisInitialized(_this79)),_this79.handleClick=_this79.handleClick.bind(_assertThisInitialized(_this79));return _this79;}_createClass($a,[{key:"addFiles",value:function addFiles(e){var _this80=this;var t=e.map(function(i){return{source:_this80.id,name:i.name,type:i.type,data:i};});try{this.uppy.addFiles(t);}catch(i){this.uppy.log(i);}}},{key:"handleInputChange",value:function handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");var t=zx(e.target.files);this.addFiles(t),e.target.value=null;}},{key:"handleClick",value:function handleClick(){this.input.click();}},{key:"render",value:function render(){var _this81=this;var e={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},t=this.uppy.opts.restrictions,i=t.allowedFileTypes?t.allowedFileTypes.join(","):null;return(0,uh.h)("div",{className:"uppy-FileInput-container"},(0,uh.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&e,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:t.maxNumberOfFiles!==1,accept:i,ref:function ref(s){_this81.input=s;}}),this.opts.pretty&&(0,uh.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")));}},{key:"install",value:function install(){var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.unmount();}}]);return $a;}(jx.UIPlugin);o($a,"FileInput");$a.VERSION=Hx.version;rb.exports=$a;});var nb=v(function(JI,sb){"use strict";sb.exports=ib();});var dh=v(function(ch,hh){(function(r,e){_typeof(ch)=="object"&&typeof hh!="undefined"?hh.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.Cropper=e());})(ch,function(){"use strict";function r(y){return typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?r=o(function(d){return _typeof(d);},"_typeof"):r=o(function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":_typeof(d);},"_typeof"),r(y);}o(r,"_typeof");function e(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function");}o(e,"_classCallCheck");function t(y,d){for(var m=0;m<d.length;m++){var f=d[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f);}}o(t,"_defineProperties");function i(y,d,m){return d&&t(y.prototype,d),m&&t(y,m),y;}o(i,"_createClass");function s(y,d,m){return d in y?Object.defineProperty(y,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):y[d]=m,y;}o(s,"_defineProperty");function n(y,d){var m=Object.keys(y);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(y);d&&(f=f.filter(function(S){return Object.getOwnPropertyDescriptor(y,S).enumerable;})),m.push.apply(m,f);}return m;}o(n,"ownKeys");function a(y){for(var d=1;d<arguments.length;d++){var m=arguments[d]!=null?arguments[d]:{};d%2?n(Object(m),!0).forEach(function(f){s(y,f,m[f]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):n(Object(m)).forEach(function(f){Object.defineProperty(y,f,Object.getOwnPropertyDescriptor(m,f));});}return y;}o(a,"_objectSpread2");function l(y){return u(y)||c(y)||h(y)||g();}o(l,"_toConsumableArray");function u(y){if(Array.isArray(y))return p(y);}o(u,"_arrayWithoutHoles");function c(y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(y))return Array.from(y);}o(c,"_iterableToArray");function h(y,d){if(!!y){if(typeof y=="string")return p(y,d);var m=Object.prototype.toString.call(y).slice(8,-1);if(m==="Object"&&y.constructor&&(m=y.constructor.name),m==="Map"||m==="Set")return Array.from(y);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return p(y,d);}}o(h,"_unsupportedIterableToArray");function p(y,d){(d==null||d>y.length)&&(d=y.length);for(var m=0,f=new Array(d);m<d;m++)f[m]=y[m];return f;}o(p,"_arrayLikeToArray");function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}o(g,"_nonIterableSpread");var w=typeof window!="undefined"&&typeof window.document!="undefined",b=w?window:{},E=w&&b.document.documentElement?"ontouchstart"in b.document.documentElement:!1,F=w?"PointerEvent"in b:!1,C="cropper",j="all",W="crop",H="move",J="zoom",B="e",M="w",$="s",Y="n",ft="ne",nt="nw",U="se",K="sw",le="".concat(C,"-crop"),Se="".concat(C,"-disabled"),fe="".concat(C,"-hidden"),$t="".concat(C,"-hide"),br="".concat(C,"-invisible"),mt="".concat(C,"-modal"),xt="".concat(C,"-move"),wr="".concat(C,"Action"),Zr="".concat(C,"Preview"),_r="crop",_i="move",Si="none",Sr="crop",Tt="cropend",ms="cropmove",gs="cropstart",hn="dblclick",ea=E?"touchstart":"mousedown",df=E?"touchmove":"mousemove",mu=E?"touchend touchcancel":"mouseup",pf=F?"pointerdown":ea,ff=F?"pointermove":df,mf=F?"pointerup pointercancel":mu,gf="ready",vf="resize",yf="wheel",gu="zoom",bf="image/jpeg",o3=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,a3=/^data:/,l3=/^data:image\/jpeg;base64,/,u3=/^img|canvas$/i,wf={viewMode:0,dragMode:_r,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},c3='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',h3=Number.isNaN||b.isNaN;function re(y){return typeof y=="number"&&!h3(y);}o(re,"isNumber");var _f=o(function(d){return d>0&&d<1/0;},"isPositiveNumber");function vu(y){return typeof y=="undefined";}o(vu,"isUndefined");function Pi(y){return r(y)==="object"&&y!==null;}o(Pi,"isObject");var d3=Object.prototype.hasOwnProperty;function vs(y){if(!Pi(y))return!1;try{var d=y.constructor,m=d.prototype;return d&&m&&d3.call(m,"isPrototypeOf");}catch(_unused3){return!1;}}o(vs,"isPlainObject");function ot(y){return typeof y=="function";}o(ot,"isFunction");var p3=Array.prototype.slice;function Sf(y){return Array.from?Array.from(y):p3.call(y);}o(Sf,"toArray");function Ee(y,d){return y&&ot(d)&&(Array.isArray(y)||re(y.length)?Sf(y).forEach(function(m,f){d.call(y,m,f,y);}):Pi(y)&&Object.keys(y).forEach(function(m){d.call(y,y[m],m,y);})),y;}o(Ee,"forEach");var me=Object.assign||o(function(d){for(var m=arguments.length,f=new Array(m>1?m-1:0),S=1;S<m;S++)f[S-1]=arguments[S];return Pi(d)&&f.length>0&&f.forEach(function(_){Pi(_)&&Object.keys(_).forEach(function(P){d[P]=_[P];});}),d;},"assign"),f3=/\.\d*(?:0|9){12}\d*$/;function ys(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return f3.test(y)?Math.round(y*d)/d:y;}o(ys,"normalizeDecimalNumber");var m3=/^width|height|left|top|marginLeft|marginTop$/;function ei(y,d){var m=y.style;Ee(d,function(f,S){m3.test(S)&&re(f)&&(f="".concat(f,"px")),m[S]=f;});}o(ei,"setStyle");function g3(y,d){return y.classList?y.classList.contains(d):y.className.indexOf(d)>-1;}o(g3,"hasClass");function De(y,d){if(!!d){if(re(y.length)){Ee(y,function(f){De(f,d);});return;}if(y.classList){y.classList.add(d);return;}var m=y.className.trim();m?m.indexOf(d)<0&&(y.className="".concat(m," ").concat(d)):y.className=d;}}o(De,"addClass");function ir(y,d){if(!!d){if(re(y.length)){Ee(y,function(m){ir(m,d);});return;}if(y.classList){y.classList.remove(d);return;}y.className.indexOf(d)>=0&&(y.className=y.className.replace(d,""));}}o(ir,"removeClass");function bs(y,d,m){if(!!d){if(re(y.length)){Ee(y,function(f){bs(f,d,m);});return;}m?De(y,d):ir(y,d);}}o(bs,"toggleClass");var v3=/([a-z\d])([A-Z])/g;function yu(y){return y.replace(v3,"$1-$2").toLowerCase();}o(yu,"toParamCase");function bu(y,d){return Pi(y[d])?y[d]:y.dataset?y.dataset[d]:y.getAttribute("data-".concat(yu(d)));}o(bu,"getData");function dn(y,d,m){Pi(m)?y[d]=m:y.dataset?y.dataset[d]=m:y.setAttribute("data-".concat(yu(d)),m);}o(dn,"setData");function y3(y,d){if(Pi(y[d]))try{delete y[d];}catch(_unused4){y[d]=void 0;}else if(y.dataset)try{delete y.dataset[d];}catch(_unused5){y.dataset[d]=void 0;}else y.removeAttribute("data-".concat(yu(d)));}o(y3,"removeData");var Pf=/\s\s*/,Ff=function(){var y=!1;if(w){var d=!1,m=o(function(){},"listener"),f=Object.defineProperty({},"once",{get:o(function(){return y=!0,d;},"get"),set:o(function(_){d=_;},"set")});b.addEventListener("test",m,f),b.removeEventListener("test",m,f);}return y;}();function Vt(y,d,m){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=m;d.trim().split(Pf).forEach(function(_){if(!Ff){var P=y.listeners;P&&P[_]&&P[_][m]&&(S=P[_][m],delete P[_][m],Object.keys(P[_]).length===0&&delete P[_],Object.keys(P).length===0&&delete y.listeners);}y.removeEventListener(_,S,f);});}o(Vt,"removeListener");function kt(y,d,m){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=m;d.trim().split(Pf).forEach(function(_){if(f.once&&!Ff){var P=y.listeners,R=P===void 0?{}:P;S=o(function(){delete R[_][m],y.removeEventListener(_,S,f);for(var T=arguments.length,x=new Array(T),O=0;O<T;O++)x[O]=arguments[O];m.apply(y,x);},"handler"),R[_]||(R[_]={}),R[_][m]&&y.removeEventListener(_,R[_][m],f),R[_][m]=S,y.listeners=R;}y.addEventListener(_,S,f);});}o(kt,"addListener");function ws(y,d,m){var f;return ot(Event)&&ot(CustomEvent)?f=new CustomEvent(d,{detail:m,bubbles:!0,cancelable:!0}):(f=document.createEvent("CustomEvent"),f.initCustomEvent(d,!0,!0,m)),y.dispatchEvent(f);}o(ws,"dispatchEvent");function Ef(y){var d=y.getBoundingClientRect();return{left:d.left+(window.pageXOffset-document.documentElement.clientLeft),top:d.top+(window.pageYOffset-document.documentElement.clientTop)};}o(Ef,"getOffset");var wu=b.location,b3=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Cf(y){var d=y.match(b3);return d!==null&&(d[1]!==wu.protocol||d[2]!==wu.hostname||d[3]!==wu.port);}o(Cf,"isCrossOriginURL");function Rf(y){var d="timestamp=".concat(new Date().getTime());return y+(y.indexOf("?")===-1?"?":"&")+d;}o(Rf,"addTimestamp");function pn(y){var d=y.rotate,m=y.scaleX,f=y.scaleY,S=y.translateX,_=y.translateY,P=[];re(S)&&S!==0&&P.push("translateX(".concat(S,"px)")),re(_)&&_!==0&&P.push("translateY(".concat(_,"px)")),re(d)&&d!==0&&P.push("rotate(".concat(d,"deg)")),re(m)&&m!==1&&P.push("scaleX(".concat(m,")")),re(f)&&f!==1&&P.push("scaleY(".concat(f,")"));var R=P.length?P.join(" "):"none";return{WebkitTransform:R,msTransform:R,transform:R};}o(pn,"getTransforms");function w3(y){var d=a({},y),m=[];return Ee(y,function(f,S){delete d[S],Ee(d,function(_){var P=Math.abs(f.startX-_.startX),R=Math.abs(f.startY-_.startY),A=Math.abs(f.endX-_.endX),T=Math.abs(f.endY-_.endY),x=Math.sqrt(P*P+R*R),O=Math.sqrt(A*A+T*T),k=(O-x)/x;m.push(k);});}),m.sort(function(f,S){return Math.abs(f)<Math.abs(S);}),m[0];}o(w3,"getMaxZoomRatio");function ta(y,d){var m=y.pageX,f=y.pageY,S={endX:m,endY:f};return d?S:a({startX:m,startY:f},S);}o(ta,"getPointer");function _3(y){var d=0,m=0,f=0;return Ee(y,function(S){var _=S.startX,P=S.startY;d+=_,m+=P,f+=1;}),d/=f,m/=f,{pageX:d,pageY:m};}o(_3,"getPointersCenter");function ti(y){var d=y.aspectRatio,m=y.height,f=y.width,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",_=_f(f),P=_f(m);if(_&&P){var R=m*d;S==="contain"&&R>f||S==="cover"&&R<f?m=f/d:f=m*d;}else _?m=f/d:P&&(f=m*d);return{width:f,height:m};}o(ti,"getAdjustedSizes");function S3(y){var d=y.width,m=y.height,f=y.degree;if(f=Math.abs(f)%180,f===90)return{width:m,height:d};var S=f%90*Math.PI/180,_=Math.sin(S),P=Math.cos(S),R=d*P+m*_,A=d*_+m*P;return f>90?{width:A,height:R}:{width:R,height:A};}o(S3,"getRotatedSizes");function P3(y,d,m,f){var S=d.aspectRatio,_=d.naturalWidth,P=d.naturalHeight,R=d.rotate,A=R===void 0?0:R,T=d.scaleX,x=T===void 0?1:T,O=d.scaleY,k=O===void 0?1:O,se=m.aspectRatio,ie=m.naturalWidth,ge=m.naturalHeight,oe=f.fillColor,Te=oe===void 0?"transparent":oe,qe=f.imageSmoothingEnabled,Ce=qe===void 0?!0:qe,Pr=f.imageSmoothingQuality,gt=Pr===void 0?"low":Pr,D=f.maxWidth,ae=D===void 0?1/0:D,ke=f.maxHeight,At=ke===void 0?1/0:ke,Fr=f.minWidth,Fi=Fr===void 0?0:Fr,Ei=f.minHeight,ri=Ei===void 0?0:Ei,sr=document.createElement("canvas"),at=sr.getContext("2d"),Ci=ti({aspectRatio:se,width:ae,height:At}),ra=ti({aspectRatio:se,width:Fi,height:ri},"cover"),_u=Math.min(Ci.width,Math.max(ra.width,ie)),Su=Math.min(Ci.height,Math.max(ra.height,ge)),Tf=ti({aspectRatio:S,width:ae,height:At}),kf=ti({aspectRatio:S,width:Fi,height:ri},"cover"),Af=Math.min(Tf.width,Math.max(kf.width,_)),Uf=Math.min(Tf.height,Math.max(kf.height,P)),I3=[-Af/2,-Uf/2,Af,Uf];return sr.width=ys(_u),sr.height=ys(Su),at.fillStyle=Te,at.fillRect(0,0,_u,Su),at.save(),at.translate(_u/2,Su/2),at.rotate(A*Math.PI/180),at.scale(x,k),at.imageSmoothingEnabled=Ce,at.imageSmoothingQuality=gt,at.drawImage.apply(at,[y].concat(l(I3.map(function(B3){return Math.floor(ys(B3));})))),at.restore(),sr;}o(P3,"getSourceCanvas");var Of=String.fromCharCode;function F3(y,d,m){var f="";m+=d;for(var S=d;S<m;S+=1)f+=Of(y.getUint8(S));return f;}o(F3,"getStringFromCharCode");var E3=/^data:.*,/;function C3(y){var d=y.replace(E3,""),m=atob(d),f=new ArrayBuffer(m.length),S=new Uint8Array(f);return Ee(S,function(_,P){S[P]=m.charCodeAt(P);}),f;}o(C3,"dataURLToArrayBuffer");function R3(y,d){for(var m=[],f=8192,S=new Uint8Array(y);S.length>0;)m.push(Of.apply(null,Sf(S.subarray(0,f)))),S=S.subarray(f);return"data:".concat(d,";base64,").concat(btoa(m.join("")));}o(R3,"arrayBufferToDataURL");function O3(y){var d=new DataView(y),m;try{var f,S,_;if(d.getUint8(0)===255&&d.getUint8(1)===216)for(var P=d.byteLength,R=2;R+1<P;){if(d.getUint8(R)===255&&d.getUint8(R+1)===225){S=R;break;}R+=1;}if(S){var A=S+4,T=S+10;if(F3(d,A,4)==="Exif"){var x=d.getUint16(T);if(f=x===18761,(f||x===19789)&&d.getUint16(T+2,f)===42){var O=d.getUint32(T+4,f);O>=8&&(_=T+O);}}}if(_){var k=d.getUint16(_,f),se,ie;for(ie=0;ie<k;ie+=1)if(se=_+ie*12+2,d.getUint16(se,f)===274){se+=8,m=d.getUint16(se,f),d.setUint16(se,1,f);break;}}}catch(_unused6){m=1;}return m;}o(O3,"resetAndGetOrientation");function x3(y){var d=0,m=1,f=1;switch(y){case 2:m=-1;break;case 3:d=-180;break;case 4:f=-1;break;case 5:d=90,f=-1;break;case 6:d=90;break;case 7:d=90,m=-1;break;case 8:d=-90;break;}return{rotate:d,scaleX:m,scaleY:f};}o(x3,"parseOrientation");var T3={render:o(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox();},"render"),initContainer:o(function(){var d=this.element,m=this.options,f=this.container,S=this.cropper;De(S,fe),ir(d,fe);var _={width:Math.max(f.offsetWidth,Number(m.minContainerWidth)||200),height:Math.max(f.offsetHeight,Number(m.minContainerHeight)||100)};this.containerData=_,ei(S,{width:_.width,height:_.height}),De(d,fe),ir(S,fe);},"initContainer"),initCanvas:o(function(){var d=this.containerData,m=this.imageData,f=this.options.viewMode,S=Math.abs(m.rotate)%180==90,_=S?m.naturalHeight:m.naturalWidth,P=S?m.naturalWidth:m.naturalHeight,R=_/P,A=d.width,T=d.height;d.height*R>d.width?f===3?A=d.height*R:T=d.width/R:f===3?T=d.width/R:A=d.height*R;var x={aspectRatio:R,naturalWidth:_,naturalHeight:P,width:A,height:T};x.left=(d.width-A)/2,x.top=(d.height-T)/2,x.oldLeft=x.left,x.oldTop=x.top,this.canvasData=x,this.limited=f===1||f===2,this.limitCanvas(!0,!0),this.initialImageData=me({},m),this.initialCanvasData=me({},x);},"initCanvas"),limitCanvas:o(function(d,m){var f=this.options,S=this.containerData,_=this.canvasData,P=this.cropBoxData,R=f.viewMode,A=_.aspectRatio,T=this.cropped&&P;if(d){var x=Number(f.minCanvasWidth)||0,O=Number(f.minCanvasHeight)||0;R>1?(x=Math.max(x,S.width),O=Math.max(O,S.height),R===3&&(O*A>x?x=O*A:O=x/A)):R>0&&(x?x=Math.max(x,T?P.width:0):O?O=Math.max(O,T?P.height:0):T&&(x=P.width,O=P.height,O*A>x?x=O*A:O=x/A));var k=ti({aspectRatio:A,width:x,height:O});x=k.width,O=k.height,_.minWidth=x,_.minHeight=O,_.maxWidth=1/0,_.maxHeight=1/0;}if(m)if(R>(T?0:1)){var se=S.width-_.width,ie=S.height-_.height;_.minLeft=Math.min(0,se),_.minTop=Math.min(0,ie),_.maxLeft=Math.max(0,se),_.maxTop=Math.max(0,ie),T&&this.limited&&(_.minLeft=Math.min(P.left,P.left+(P.width-_.width)),_.minTop=Math.min(P.top,P.top+(P.height-_.height)),_.maxLeft=P.left,_.maxTop=P.top,R===2&&(_.width>=S.width&&(_.minLeft=Math.min(0,se),_.maxLeft=Math.max(0,se)),_.height>=S.height&&(_.minTop=Math.min(0,ie),_.maxTop=Math.max(0,ie))));}else _.minLeft=-_.width,_.minTop=-_.height,_.maxLeft=S.width,_.maxTop=S.height;},"limitCanvas"),renderCanvas:o(function(d,m){var f=this.canvasData,S=this.imageData;if(m){var _=S3({width:S.naturalWidth*Math.abs(S.scaleX||1),height:S.naturalHeight*Math.abs(S.scaleY||1),degree:S.rotate||0}),P=_.width,R=_.height,A=f.width*(P/f.naturalWidth),T=f.height*(R/f.naturalHeight);f.left-=(A-f.width)/2,f.top-=(T-f.height)/2,f.width=A,f.height=T,f.aspectRatio=P/R,f.naturalWidth=P,f.naturalHeight=R,this.limitCanvas(!0,!1);}(f.width>f.maxWidth||f.width<f.minWidth)&&(f.left=f.oldLeft),(f.height>f.maxHeight||f.height<f.minHeight)&&(f.top=f.oldTop),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),this.limitCanvas(!1,!0),f.left=Math.min(Math.max(f.left,f.minLeft),f.maxLeft),f.top=Math.min(Math.max(f.top,f.minTop),f.maxTop),f.oldLeft=f.left,f.oldTop=f.top,ei(this.canvas,me({width:f.width,height:f.height},pn({translateX:f.left,translateY:f.top}))),this.renderImage(d),this.cropped&&this.limited&&this.limitCropBox(!0,!0);},"renderCanvas"),renderImage:o(function(d){var m=this.canvasData,f=this.imageData,S=f.naturalWidth*(m.width/m.naturalWidth),_=f.naturalHeight*(m.height/m.naturalHeight);me(f,{width:S,height:_,left:(m.width-S)/2,top:(m.height-_)/2}),ei(this.image,me({width:f.width,height:f.height},pn(me({translateX:f.left,translateY:f.top},f)))),d&&this.output();},"renderImage"),initCropBox:o(function(){var d=this.options,m=this.canvasData,f=d.aspectRatio||d.initialAspectRatio,S=Number(d.autoCropArea)||.8,_={width:m.width,height:m.height};f&&(m.height*f>m.width?_.height=_.width/f:_.width=_.height*f),this.cropBoxData=_,this.limitCropBox(!0,!0),_.width=Math.min(Math.max(_.width,_.minWidth),_.maxWidth),_.height=Math.min(Math.max(_.height,_.minHeight),_.maxHeight),_.width=Math.max(_.minWidth,_.width*S),_.height=Math.max(_.minHeight,_.height*S),_.left=m.left+(m.width-_.width)/2,_.top=m.top+(m.height-_.height)/2,_.oldLeft=_.left,_.oldTop=_.top,this.initialCropBoxData=me({},_);},"initCropBox"),limitCropBox:o(function(d,m){var f=this.options,S=this.containerData,_=this.canvasData,P=this.cropBoxData,R=this.limited,A=f.aspectRatio;if(d){var T=Number(f.minCropBoxWidth)||0,x=Number(f.minCropBoxHeight)||0,O=R?Math.min(S.width,_.width,_.width+_.left,S.width-_.left):S.width,k=R?Math.min(S.height,_.height,_.height+_.top,S.height-_.top):S.height;T=Math.min(T,S.width),x=Math.min(x,S.height),A&&(T&&x?x*A>T?x=T/A:T=x*A:T?x=T/A:x&&(T=x*A),k*A>O?k=O/A:O=k*A),P.minWidth=Math.min(T,O),P.minHeight=Math.min(x,k),P.maxWidth=O,P.maxHeight=k;}m&&(R?(P.minLeft=Math.max(0,_.left),P.minTop=Math.max(0,_.top),P.maxLeft=Math.min(S.width,_.left+_.width)-P.width,P.maxTop=Math.min(S.height,_.top+_.height)-P.height):(P.minLeft=0,P.minTop=0,P.maxLeft=S.width-P.width,P.maxTop=S.height-P.height));},"limitCropBox"),renderCropBox:o(function(){var d=this.options,m=this.containerData,f=this.cropBoxData;(f.width>f.maxWidth||f.width<f.minWidth)&&(f.left=f.oldLeft),(f.height>f.maxHeight||f.height<f.minHeight)&&(f.top=f.oldTop),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),this.limitCropBox(!1,!0),f.left=Math.min(Math.max(f.left,f.minLeft),f.maxLeft),f.top=Math.min(Math.max(f.top,f.minTop),f.maxTop),f.oldLeft=f.left,f.oldTop=f.top,d.movable&&d.cropBoxMovable&&dn(this.face,wr,f.width>=m.width&&f.height>=m.height?H:j),ei(this.cropBox,me({width:f.width,height:f.height},pn({translateX:f.left,translateY:f.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output();},"renderCropBox"),output:o(function(){this.preview(),ws(this.element,Sr,this.getData());},"output")},k3={initPreview:o(function(){var d=this.element,m=this.crossOrigin,f=this.options.preview,S=m?this.crossOriginUrl:this.url,_=d.alt||"The image to preview",P=document.createElement("img");if(m&&(P.crossOrigin=m),P.src=S,P.alt=_,this.viewBox.appendChild(P),this.viewBoxImage=P,!!f){var R=f;typeof f=="string"?R=d.ownerDocument.querySelectorAll(f):f.querySelector&&(R=[f]),this.previews=R,Ee(R,function(A){var T=document.createElement("img");dn(A,Zr,{width:A.offsetWidth,height:A.offsetHeight,html:A.innerHTML}),m&&(T.crossOrigin=m),T.src=S,T.alt=_,T.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',A.innerHTML="",A.appendChild(T);});}},"initPreview"),resetPreview:o(function(){Ee(this.previews,function(d){var m=bu(d,Zr);ei(d,{width:m.width,height:m.height}),d.innerHTML=m.html,y3(d,Zr);});},"resetPreview"),preview:o(function(){var d=this.imageData,m=this.canvasData,f=this.cropBoxData,S=f.width,_=f.height,P=d.width,R=d.height,A=f.left-m.left-d.left,T=f.top-m.top-d.top;!this.cropped||this.disabled||(ei(this.viewBoxImage,me({width:P,height:R},pn(me({translateX:-A,translateY:-T},d)))),Ee(this.previews,function(x){var O=bu(x,Zr),k=O.width,se=O.height,ie=k,ge=se,oe=1;S&&(oe=k/S,ge=_*oe),_&&ge>se&&(oe=se/_,ie=S*oe,ge=se),ei(x,{width:ie,height:ge}),ei(x.getElementsByTagName("img")[0],me({width:P*oe,height:R*oe},pn(me({translateX:-A*oe,translateY:-T*oe},d))));}));},"preview")},A3={bind:o(function(){var d=this.element,m=this.options,f=this.cropper;ot(m.cropstart)&&kt(d,gs,m.cropstart),ot(m.cropmove)&&kt(d,ms,m.cropmove),ot(m.cropend)&&kt(d,Tt,m.cropend),ot(m.crop)&&kt(d,Sr,m.crop),ot(m.zoom)&&kt(d,gu,m.zoom),kt(f,pf,this.onCropStart=this.cropStart.bind(this)),m.zoomable&&m.zoomOnWheel&&kt(f,yf,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),m.toggleDragModeOnDblclick&&kt(f,hn,this.onDblclick=this.dblclick.bind(this)),kt(d.ownerDocument,ff,this.onCropMove=this.cropMove.bind(this)),kt(d.ownerDocument,mf,this.onCropEnd=this.cropEnd.bind(this)),m.responsive&&kt(window,vf,this.onResize=this.resize.bind(this));},"bind"),unbind:o(function(){var d=this.element,m=this.options,f=this.cropper;ot(m.cropstart)&&Vt(d,gs,m.cropstart),ot(m.cropmove)&&Vt(d,ms,m.cropmove),ot(m.cropend)&&Vt(d,Tt,m.cropend),ot(m.crop)&&Vt(d,Sr,m.crop),ot(m.zoom)&&Vt(d,gu,m.zoom),Vt(f,pf,this.onCropStart),m.zoomable&&m.zoomOnWheel&&Vt(f,yf,this.onWheel,{passive:!1,capture:!0}),m.toggleDragModeOnDblclick&&Vt(f,hn,this.onDblclick),Vt(d.ownerDocument,ff,this.onCropMove),Vt(d.ownerDocument,mf,this.onCropEnd),m.responsive&&Vt(window,vf,this.onResize);},"unbind")},U3={resize:o(function(){if(!this.disabled){var d=this.options,m=this.container,f=this.containerData,S=m.offsetWidth/f.width;if(S!==1||m.offsetHeight!==f.height){var _,P;d.restore&&(_=this.getCanvasData(),P=this.getCropBoxData()),this.render(),d.restore&&(this.setCanvasData(Ee(_,function(R,A){_[A]=R*S;})),this.setCropBoxData(Ee(P,function(R,A){P[A]=R*S;})));}}},"resize"),dblclick:o(function(){this.disabled||this.options.dragMode===Si||this.setDragMode(g3(this.dragBox,le)?_i:_r);},"dblclick"),wheel:o(function(d){var m=this,f=Number(this.options.wheelZoomRatio)||.1,S=1;this.disabled||(d.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){m.wheeling=!1;},50),d.deltaY?S=d.deltaY>0?1:-1:d.wheelDelta?S=-d.wheelDelta/120:d.detail&&(S=d.detail>0?1:-1),this.zoom(-S*f,d)));},"wheel"),cropStart:o(function(d){var m=d.buttons,f=d.button;if(!(this.disabled||(d.type==="mousedown"||d.type==="pointerdown"&&d.pointerType==="mouse")&&(re(m)&&m!==1||re(f)&&f!==0||d.ctrlKey))){var S=this.options,_=this.pointers,P;d.changedTouches?Ee(d.changedTouches,function(R){_[R.identifier]=ta(R);}):_[d.pointerId||0]=ta(d),Object.keys(_).length>1&&S.zoomable&&S.zoomOnTouch?P=J:P=bu(d.target,wr),!!o3.test(P)&&ws(this.element,gs,{originalEvent:d,action:P})!==!1&&(d.preventDefault(),this.action=P,this.cropping=!1,P===W&&(this.cropping=!0,De(this.dragBox,mt)));}},"cropStart"),cropMove:o(function(d){var m=this.action;if(!(this.disabled||!m)){var f=this.pointers;d.preventDefault(),ws(this.element,ms,{originalEvent:d,action:m})!==!1&&(d.changedTouches?Ee(d.changedTouches,function(S){me(f[S.identifier]||{},ta(S,!0));}):me(f[d.pointerId||0]||{},ta(d,!0)),this.change(d));}},"cropMove"),cropEnd:o(function(d){if(!this.disabled){var m=this.action,f=this.pointers;d.changedTouches?Ee(d.changedTouches,function(S){delete f[S.identifier];}):delete f[d.pointerId||0],!!m&&(d.preventDefault(),Object.keys(f).length||(this.action=""),this.cropping&&(this.cropping=!1,bs(this.dragBox,mt,this.cropped&&this.options.modal)),ws(this.element,Tt,{originalEvent:d,action:m}));}},"cropEnd")},D3={change:o(function(d){var m=this.options,f=this.canvasData,S=this.containerData,_=this.cropBoxData,P=this.pointers,R=this.action,A=m.aspectRatio,T=_.left,x=_.top,O=_.width,k=_.height,se=T+O,ie=x+k,ge=0,oe=0,Te=S.width,qe=S.height,Ce=!0,Pr;!A&&d.shiftKey&&(A=O&&k?O/k:1),this.limited&&(ge=_.minLeft,oe=_.minTop,Te=ge+Math.min(S.width,f.width,f.left+f.width),qe=oe+Math.min(S.height,f.height,f.top+f.height));var gt=P[Object.keys(P)[0]],D={x:gt.endX-gt.startX,y:gt.endY-gt.startY},ae=o(function(At){switch(At){case B:se+D.x>Te&&(D.x=Te-se);break;case M:T+D.x<ge&&(D.x=ge-T);break;case Y:x+D.y<oe&&(D.y=oe-x);break;case $:ie+D.y>qe&&(D.y=qe-ie);break;}},"check");switch(R){case j:T+=D.x,x+=D.y;break;case B:if(D.x>=0&&(se>=Te||A&&(x<=oe||ie>=qe))){Ce=!1;break;}ae(B),O+=D.x,O<0&&(R=M,O=-O,T-=O),A&&(k=O/A,x+=(_.height-k)/2);break;case Y:if(D.y<=0&&(x<=oe||A&&(T<=ge||se>=Te))){Ce=!1;break;}ae(Y),k-=D.y,x+=D.y,k<0&&(R=$,k=-k,x-=k),A&&(O=k*A,T+=(_.width-O)/2);break;case M:if(D.x<=0&&(T<=ge||A&&(x<=oe||ie>=qe))){Ce=!1;break;}ae(M),O-=D.x,T+=D.x,O<0&&(R=B,O=-O,T-=O),A&&(k=O/A,x+=(_.height-k)/2);break;case $:if(D.y>=0&&(ie>=qe||A&&(T<=ge||se>=Te))){Ce=!1;break;}ae($),k+=D.y,k<0&&(R=Y,k=-k,x-=k),A&&(O=k*A,T+=(_.width-O)/2);break;case ft:if(A){if(D.y<=0&&(x<=oe||se>=Te)){Ce=!1;break;}ae(Y),k-=D.y,x+=D.y,O=k*A;}else ae(Y),ae(B),D.x>=0?se<Te?O+=D.x:D.y<=0&&x<=oe&&(Ce=!1):O+=D.x,D.y<=0?x>oe&&(k-=D.y,x+=D.y):(k-=D.y,x+=D.y);O<0&&k<0?(R=K,k=-k,O=-O,x-=k,T-=O):O<0?(R=nt,O=-O,T-=O):k<0&&(R=U,k=-k,x-=k);break;case nt:if(A){if(D.y<=0&&(x<=oe||T<=ge)){Ce=!1;break;}ae(Y),k-=D.y,x+=D.y,O=k*A,T+=_.width-O;}else ae(Y),ae(M),D.x<=0?T>ge?(O-=D.x,T+=D.x):D.y<=0&&x<=oe&&(Ce=!1):(O-=D.x,T+=D.x),D.y<=0?x>oe&&(k-=D.y,x+=D.y):(k-=D.y,x+=D.y);O<0&&k<0?(R=U,k=-k,O=-O,x-=k,T-=O):O<0?(R=ft,O=-O,T-=O):k<0&&(R=K,k=-k,x-=k);break;case K:if(A){if(D.x<=0&&(T<=ge||ie>=qe)){Ce=!1;break;}ae(M),O-=D.x,T+=D.x,k=O/A;}else ae($),ae(M),D.x<=0?T>ge?(O-=D.x,T+=D.x):D.y>=0&&ie>=qe&&(Ce=!1):(O-=D.x,T+=D.x),D.y>=0?ie<qe&&(k+=D.y):k+=D.y;O<0&&k<0?(R=ft,k=-k,O=-O,x-=k,T-=O):O<0?(R=U,O=-O,T-=O):k<0&&(R=nt,k=-k,x-=k);break;case U:if(A){if(D.x>=0&&(se>=Te||ie>=qe)){Ce=!1;break;}ae(B),O+=D.x,k=O/A;}else ae($),ae(B),D.x>=0?se<Te?O+=D.x:D.y>=0&&ie>=qe&&(Ce=!1):O+=D.x,D.y>=0?ie<qe&&(k+=D.y):k+=D.y;O<0&&k<0?(R=nt,k=-k,O=-O,x-=k,T-=O):O<0?(R=K,O=-O,T-=O):k<0&&(R=ft,k=-k,x-=k);break;case H:this.move(D.x,D.y),Ce=!1;break;case J:this.zoom(w3(P),d),Ce=!1;break;case W:if(!D.x||!D.y){Ce=!1;break;}Pr=Ef(this.cropper),T=gt.startX-Pr.left,x=gt.startY-Pr.top,O=_.minWidth,k=_.minHeight,D.x>0?R=D.y>0?U:ft:D.x<0&&(T-=O,R=D.y>0?K:nt),D.y<0&&(x-=k),this.cropped||(ir(this.cropBox,fe),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break;}Ce&&(_.width=O,_.height=k,_.left=T,_.top=x,this.action=R,this.renderCropBox()),Ee(P,function(ke){ke.startX=ke.endX,ke.startY=ke.endY;});},"change")},q3={crop:o(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&De(this.dragBox,mt),ir(this.cropBox,fe),this.setCropBoxData(this.initialCropBoxData)),this;},"crop"),reset:o(function(){return this.ready&&!this.disabled&&(this.imageData=me({},this.initialImageData),this.canvasData=me({},this.initialCanvasData),this.cropBoxData=me({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this;},"reset"),clear:o(function(){return this.cropped&&!this.disabled&&(me(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ir(this.dragBox,mt),De(this.cropBox,fe)),this;},"clear"),replace:o(function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&d&&(this.isImg&&(this.element.src=d),m?(this.url=d,this.image.src=d,this.ready&&(this.viewBoxImage.src=d,Ee(this.previews,function(f){f.getElementsByTagName("img")[0].src=d;}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(d))),this;},"replace"),enable:o(function(){return this.ready&&this.disabled&&(this.disabled=!1,ir(this.cropper,Se)),this;},"enable"),disable:o(function(){return this.ready&&!this.disabled&&(this.disabled=!0,De(this.cropper,Se)),this;},"disable"),destroy:o(function(){var d=this.element;return d[C]?(d[C]=void 0,this.isImg&&this.replaced&&(d.src=this.originalUrl),this.uncreate(),this):this;},"destroy"),move:o(function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,f=this.canvasData,S=f.left,_=f.top;return this.moveTo(vu(d)?d:S+Number(d),vu(m)?m:_+Number(m));},"move"),moveTo:o(function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,f=this.canvasData,S=!1;return d=Number(d),m=Number(m),this.ready&&!this.disabled&&this.options.movable&&(re(d)&&(f.left=d,S=!0),re(m)&&(f.top=m,S=!0),S&&this.renderCanvas(!0)),this;},"moveTo"),zoom:o(function(d,m){var f=this.canvasData;return d=Number(d),d<0?d=1/(1-d):d=1+d,this.zoomTo(f.width*d/f.naturalWidth,null,m);},"zoom"),zoomTo:o(function(d,m,f){var S=this.options,_=this.canvasData,P=_.width,R=_.height,A=_.naturalWidth,T=_.naturalHeight;if(d=Number(d),d>=0&&this.ready&&!this.disabled&&S.zoomable){var x=A*d,O=T*d;if(ws(this.element,gu,{ratio:d,oldRatio:P/A,originalEvent:f})===!1)return this;if(f){var k=this.pointers,se=Ef(this.cropper),ie=k&&Object.keys(k).length?_3(k):{pageX:f.pageX,pageY:f.pageY};_.left-=(x-P)*((ie.pageX-se.left-_.left)/P),_.top-=(O-R)*((ie.pageY-se.top-_.top)/R);}else vs(m)&&re(m.x)&&re(m.y)?(_.left-=(x-P)*((m.x-_.left)/P),_.top-=(O-R)*((m.y-_.top)/R)):(_.left-=(x-P)/2,_.top-=(O-R)/2);_.width=x,_.height=O,this.renderCanvas(!0);}return this;},"zoomTo"),rotate:o(function(d){return this.rotateTo((this.imageData.rotate||0)+Number(d));},"rotate"),rotateTo:o(function(d){return d=Number(d),re(d)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=d%360,this.renderCanvas(!0,!0)),this;},"rotateTo"),scaleX:o(function(d){var m=this.imageData.scaleY;return this.scale(d,re(m)?m:1);},"scaleX"),scaleY:o(function(d){var m=this.imageData.scaleX;return this.scale(re(m)?m:1,d);},"scaleY"),scale:o(function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,f=this.imageData,S=!1;return d=Number(d),m=Number(m),this.ready&&!this.disabled&&this.options.scalable&&(re(d)&&(f.scaleX=d,S=!0),re(m)&&(f.scaleY=m,S=!0),S&&this.renderCanvas(!0,!0)),this;},"scale"),getData:o(function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,m=this.options,f=this.imageData,S=this.canvasData,_=this.cropBoxData,P;if(this.ready&&this.cropped){P={x:_.left-S.left,y:_.top-S.top,width:_.width,height:_.height};var R=f.width/f.naturalWidth;if(Ee(P,function(x,O){P[O]=x/R;}),d){var A=Math.round(P.y+P.height),T=Math.round(P.x+P.width);P.x=Math.round(P.x),P.y=Math.round(P.y),P.width=T-P.x,P.height=A-P.y;}}else P={x:0,y:0,width:0,height:0};return m.rotatable&&(P.rotate=f.rotate||0),m.scalable&&(P.scaleX=f.scaleX||1,P.scaleY=f.scaleY||1),P;},"getData"),setData:o(function(d){var m=this.options,f=this.imageData,S=this.canvasData,_={};if(this.ready&&!this.disabled&&vs(d)){var P=!1;m.rotatable&&re(d.rotate)&&d.rotate!==f.rotate&&(f.rotate=d.rotate,P=!0),m.scalable&&(re(d.scaleX)&&d.scaleX!==f.scaleX&&(f.scaleX=d.scaleX,P=!0),re(d.scaleY)&&d.scaleY!==f.scaleY&&(f.scaleY=d.scaleY,P=!0)),P&&this.renderCanvas(!0,!0);var R=f.width/f.naturalWidth;re(d.x)&&(_.left=d.x*R+S.left),re(d.y)&&(_.top=d.y*R+S.top),re(d.width)&&(_.width=d.width*R),re(d.height)&&(_.height=d.height*R),this.setCropBoxData(_);}return this;},"setData"),getContainerData:o(function(){return this.ready?me({},this.containerData):{};},"getContainerData"),getImageData:o(function(){return this.sized?me({},this.imageData):{};},"getImageData"),getCanvasData:o(function(){var d=this.canvasData,m={};return this.ready&&Ee(["left","top","width","height","naturalWidth","naturalHeight"],function(f){m[f]=d[f];}),m;},"getCanvasData"),setCanvasData:o(function(d){var m=this.canvasData,f=m.aspectRatio;return this.ready&&!this.disabled&&vs(d)&&(re(d.left)&&(m.left=d.left),re(d.top)&&(m.top=d.top),re(d.width)?(m.width=d.width,m.height=d.width/f):re(d.height)&&(m.height=d.height,m.width=d.height*f),this.renderCanvas(!0)),this;},"setCanvasData"),getCropBoxData:o(function(){var d=this.cropBoxData,m;return this.ready&&this.cropped&&(m={left:d.left,top:d.top,width:d.width,height:d.height}),m||{};},"getCropBoxData"),setCropBoxData:o(function(d){var m=this.cropBoxData,f=this.options.aspectRatio,S,_;return this.ready&&this.cropped&&!this.disabled&&vs(d)&&(re(d.left)&&(m.left=d.left),re(d.top)&&(m.top=d.top),re(d.width)&&d.width!==m.width&&(S=!0,m.width=d.width),re(d.height)&&d.height!==m.height&&(_=!0,m.height=d.height),f&&(S?m.height=m.width/f:_&&(m.width=m.height*f)),this.renderCropBox()),this;},"setCropBoxData"),getCroppedCanvas:o(function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var m=this.canvasData,f=P3(this.image,this.imageData,m,d);if(!this.cropped)return f;var S=this.getData(),_=S.x,P=S.y,R=S.width,A=S.height,T=f.width/Math.floor(m.naturalWidth);T!==1&&(_*=T,P*=T,R*=T,A*=T);var x=R/A,O=ti({aspectRatio:x,width:d.maxWidth||1/0,height:d.maxHeight||1/0}),k=ti({aspectRatio:x,width:d.minWidth||0,height:d.minHeight||0},"cover"),se=ti({aspectRatio:x,width:d.width||(T!==1?f.width:R),height:d.height||(T!==1?f.height:A)}),ie=se.width,ge=se.height;ie=Math.min(O.width,Math.max(k.width,ie)),ge=Math.min(O.height,Math.max(k.height,ge));var oe=document.createElement("canvas"),Te=oe.getContext("2d");oe.width=ys(ie),oe.height=ys(ge),Te.fillStyle=d.fillColor||"transparent",Te.fillRect(0,0,ie,ge);var qe=d.imageSmoothingEnabled,Ce=qe===void 0?!0:qe,Pr=d.imageSmoothingQuality;Te.imageSmoothingEnabled=Ce,Pr&&(Te.imageSmoothingQuality=Pr);var gt=f.width,D=f.height,ae=_,ke=P,At,Fr,Fi,Ei,ri,sr;ae<=-R||ae>gt?(ae=0,At=0,Fi=0,ri=0):ae<=0?(Fi=-ae,ae=0,At=Math.min(gt,R+ae),ri=At):ae<=gt&&(Fi=0,At=Math.min(R,gt-ae),ri=At),At<=0||ke<=-A||ke>D?(ke=0,Fr=0,Ei=0,sr=0):ke<=0?(Ei=-ke,ke=0,Fr=Math.min(D,A+ke),sr=Fr):ke<=D&&(Ei=0,Fr=Math.min(A,D-ke),sr=Fr);var at=[ae,ke,At,Fr];if(ri>0&&sr>0){var Ci=ie/R;at.push(Fi*Ci,Ei*Ci,ri*Ci,sr*Ci);}return Te.drawImage.apply(Te,[f].concat(l(at.map(function(ra){return Math.floor(ys(ra));})))),oe;},"getCroppedCanvas"),setAspectRatio:o(function(d){var m=this.options;return!this.disabled&&!vu(d)&&(m.aspectRatio=Math.max(0,d)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this;},"setAspectRatio"),setDragMode:o(function(d){var m=this.options,f=this.dragBox,S=this.face;if(this.ready&&!this.disabled){var _=d===_r,P=m.movable&&d===_i;d=_||P?d:Si,m.dragMode=d,dn(f,wr,d),bs(f,le,_),bs(f,xt,P),m.cropBoxMovable||(dn(S,wr,d),bs(S,le,_),bs(S,xt,P));}return this;},"setDragMode")},N3=b.Cropper,xf=function(){function y(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,y),!d||!u3.test(d.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=d,this.options=me({},wf,vs(m)&&m),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init();}return o(y,"Cropper"),i(y,[{key:"init",value:o(function(){var m=this.element,f=m.tagName.toLowerCase(),S;if(!m[C]){if(m[C]=this,f==="img"){if(this.isImg=!0,S=m.getAttribute("src")||"",this.originalUrl=S,!S)return;S=m.src;}else f==="canvas"&&window.HTMLCanvasElement&&(S=m.toDataURL());this.load(S);}},"init")},{key:"load",value:o(function(m){var f=this;if(!!m){this.url=m,this.imageData={};var S=this.element,_=this.options;if(!_.rotatable&&!_.scalable&&(_.checkOrientation=!1),!_.checkOrientation||!window.ArrayBuffer){this.clone();return;}if(a3.test(m)){l3.test(m)?this.read(C3(m)):this.clone();return;}var P=new XMLHttpRequest(),R=this.clone.bind(this);this.reloading=!0,this.xhr=P,P.onabort=R,P.onerror=R,P.ontimeout=R,P.onprogress=function(){P.getResponseHeader("content-type")!==bf&&P.abort();},P.onload=function(){f.read(P.response);},P.onloadend=function(){f.reloading=!1,f.xhr=null;},_.checkCrossOrigin&&Cf(m)&&S.crossOrigin&&(m=Rf(m)),P.open("GET",m),P.responseType="arraybuffer",P.withCredentials=S.crossOrigin==="use-credentials",P.send();}},"load")},{key:"read",value:o(function(m){var f=this.options,S=this.imageData,_=O3(m),P=0,R=1,A=1;if(_>1){this.url=R3(m,bf);var T=x3(_);P=T.rotate,R=T.scaleX,A=T.scaleY;}f.rotatable&&(S.rotate=P),f.scalable&&(S.scaleX=R,S.scaleY=A),this.clone();},"read")},{key:"clone",value:o(function(){var m=this.element,f=this.url,S=m.crossOrigin,_=f;this.options.checkCrossOrigin&&Cf(f)&&(S||(S="anonymous"),_=Rf(f)),this.crossOrigin=S,this.crossOriginUrl=_;var P=document.createElement("img");S&&(P.crossOrigin=S),P.src=_||f,P.alt=m.alt||"The image to crop",this.image=P,P.onload=this.start.bind(this),P.onerror=this.stop.bind(this),De(P,$t),m.parentNode.insertBefore(P,m.nextSibling);},"clone")},{key:"start",value:o(function(){var m=this,f=this.image;f.onload=null,f.onerror=null,this.sizing=!0;var S=b.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(b.navigator.userAgent),_=o(function(T,x){me(m.imageData,{naturalWidth:T,naturalHeight:x,aspectRatio:T/x}),m.sizing=!1,m.sized=!0,m.build();},"done");if(f.naturalWidth&&!S){_(f.naturalWidth,f.naturalHeight);return;}var P=document.createElement("img"),R=document.body||document.documentElement;this.sizingImage=P,P.onload=function(){_(P.width,P.height),S||R.removeChild(P);},P.src=f.src,S||(P.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",R.appendChild(P));},"start")},{key:"stop",value:o(function(){var m=this.image;m.onload=null,m.onerror=null,m.parentNode.removeChild(m),this.image=null;},"stop")},{key:"build",value:o(function(){if(!(!this.sized||this.ready)){var m=this.element,f=this.options,S=this.image,_=m.parentNode,P=document.createElement("div");P.innerHTML=c3;var R=P.querySelector(".".concat(C,"-container")),A=R.querySelector(".".concat(C,"-canvas")),T=R.querySelector(".".concat(C,"-drag-box")),x=R.querySelector(".".concat(C,"-crop-box")),O=x.querySelector(".".concat(C,"-face"));this.container=_,this.cropper=R,this.canvas=A,this.dragBox=T,this.cropBox=x,this.viewBox=R.querySelector(".".concat(C,"-view-box")),this.face=O,A.appendChild(S),De(m,fe),_.insertBefore(R,m.nextSibling),this.isImg||ir(S,$t),this.initPreview(),this.bind(),f.initialAspectRatio=Math.max(0,f.initialAspectRatio)||NaN,f.aspectRatio=Math.max(0,f.aspectRatio)||NaN,f.viewMode=Math.max(0,Math.min(3,Math.round(f.viewMode)))||0,De(x,fe),f.guides||De(x.getElementsByClassName("".concat(C,"-dashed")),fe),f.center||De(x.getElementsByClassName("".concat(C,"-center")),fe),f.background&&De(R,"".concat(C,"-bg")),f.highlight||De(O,br),f.cropBoxMovable&&(De(O,xt),dn(O,wr,j)),f.cropBoxResizable||(De(x.getElementsByClassName("".concat(C,"-line")),fe),De(x.getElementsByClassName("".concat(C,"-point")),fe)),this.render(),this.ready=!0,this.setDragMode(f.dragMode),f.autoCrop&&this.crop(),this.setData(f.data),ot(f.ready)&&kt(m,gf,f.ready,{once:!0}),ws(m,gf);}},"build")},{key:"unbuild",value:o(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),ir(this.element,fe));},"unbuild")},{key:"uncreate",value:o(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop();},"uncreate")}],[{key:"noConflict",value:o(function(){return window.Cropper=N3,y;},"noConflict")},{key:"setDefaults",value:o(function(m){me(wf,vs(m)&&m);},"setDefaults")}]),y;}();return me(xf.prototype,T3,k3,A3,U3,D3,q3),xf;});});var ab=v(function(QI,ob){"use strict";var Q=(q(),N(I)),Vx=dh()["default"]||dh(),ph=/*#__PURE__*/function(_Q$Component){_inherits(ph,_Q$Component);var _super33=_createSuper(ph);function ph(e){var _this82;_classCallCheck(this,ph);_this82=_super33.call(this,e);_this82.granularRotateOnChange=function(t){var _this82$state=_this82.state,i=_this82$state.rotationAngle,s=_this82$state.rotationDelta,n=Number(t.target.value)-s;if(cancelAnimationFrame(_this82.granularRotateOnInputNextFrame),n!==0){var a=i+n;_this82.granularRotateOnInputNextFrame=requestAnimationFrame(function(){_this82.cropper.rotateTo(a);});}},_this82.state={rotationAngle:0,rotationDelta:0};return _this82;}_createClass(ph,[{key:"componentDidMount",value:function componentDidMount(){var _this83=this;var _this$props2=this.props,e=_this$props2.opts,t=_this$props2.storeCropperInstance;this.cropper=new Vx(this.imgElement,e.cropperOptions),t(this.cropper),e.actions.granularRotate&&this.imgElement.addEventListener("crop",function(i){var s=i.detail.rotate;_this83.setState({rotationAngle:s,rotationDelta:(s+405)%90-45});});}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cropper.destroy();}},{key:"renderGranularRotate",value:function renderGranularRotate(){var e=this.props.i18n,_this$state3=this.state,t=_this$state3.rotationDelta,i=_this$state3.rotationAngle;return(0,Q.h)("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(i,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},(0,Q.h)("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:t,min:"-45",max:"44","aria-label":e("rotate")}));}},{key:"renderRevert",value:function renderRevert(){var _this84=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("revert"),"data-microtip-position":"top",onClick:function onClick(){_this84.cropper.reset(),_this84.cropper.setAspectRatio(0);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Q.h)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})));}},{key:"renderRotate",value:function renderRotate(){var _this85=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return _this85.cropper.rotate(-90);},"aria-label":e("rotate"),"data-microtip-position":"top"},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),(0,Q.h)("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})));}},{key:"renderFlip",value:function renderFlip(){var _this86=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("flipHorizontal"),"data-microtip-position":"top",onClick:function onClick(){return _this86.cropper.scaleX(-_this86.cropper.getData().scaleX||-1);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Q.h)("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})));}},{key:"renderZoomIn",value:function renderZoomIn(){var _this87=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomIn"),"data-microtip-position":"top",onClick:function onClick(){return _this87.cropper.zoom(.1);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},(0,Q.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,Q.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),(0,Q.h)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})));}},{key:"renderZoomOut",value:function renderZoomOut(){var _this88=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomOut"),"data-microtip-position":"top",onClick:function onClick(){return _this88.cropper.zoom(-.1);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,Q.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})));}},{key:"renderCropSquare",value:function renderCropSquare(){var _this89=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioSquare"),"data-microtip-position":"top",onClick:function onClick(){return _this89.cropper.setAspectRatio(1);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Q.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})));}},{key:"renderCropWidescreen",value:function renderCropWidescreen(){var _this90=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioLandscape"),"data-microtip-position":"top",onClick:function onClick(){return _this90.cropper.setAspectRatio(16/9);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),(0,Q.h)("path",{fill:"none",d:"M0 0h24v24H0z"})));}},{key:"renderCropWidescreenVertical",value:function renderCropWidescreenVertical(){var _this91=this;var e=this.props.i18n;return(0,Q.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioPortrait"),"data-microtip-position":"top",onClick:function onClick(){return _this91.cropper.setAspectRatio(9/16);}},(0,Q.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Q.h)("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),(0,Q.h)("path",{d:"M0 0h24v24H0z",fill:"none"})));}},{key:"render",value:function render(){var _this92=this;var _this$props3=this.props,e=_this$props3.currentImage,t=_this$props3.opts,i=t.actions,s=URL.createObjectURL(e.data);return(0,Q.h)("div",{className:"uppy-ImageCropper"},(0,Q.h)("div",{className:"uppy-ImageCropper-container"},(0,Q.h)("img",{className:"uppy-ImageCropper-image",alt:e.name,src:s,ref:function ref(n){_this92.imgElement=n;}})),(0,Q.h)("div",{className:"uppy-ImageCropper-controls"},i.revert&&this.renderRevert(),i.rotate&&this.renderRotate(),i.granularRotate&&this.renderGranularRotate(),i.flip&&this.renderFlip(),i.zoomIn&&this.renderZoomIn(),i.zoomOut&&this.renderZoomOut(),i.cropSquare&&this.renderCropSquare(),i.cropWidescreen&&this.renderCropWidescreen(),i.cropWidescreenVertical&&this.renderCropWidescreenVertical()));}}]);return ph;}(Q.Component);o(ph,"Editor");ob.exports=ph;});var ub=v(function(ZI,lb){"use strict";lb.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};});var hb=v(function(eB,cb){"use strict";var Wx=he(),Kx=(q(),N(I)),Gx=ab(),Xx={version:"1.4.2"},Yx=ub(),Va=/*#__PURE__*/function(_Wx$UIPlugin){_inherits(Va,_Wx$UIPlugin);var _super34=_createSuper(Va);function Va(e,t){var _this93;_classCallCheck(this,Va);_this93=_super34.call(this,e,t);_this93.save=function(){var a=o(function(u){var _this93$getPluginStat2=_this93.getPluginState(),c=_this93$getPluginStat2.currentImage;_this93.uppy.setFileState(c.id,{data:u,size:u.size,preview:null});var h=_this93.uppy.getFile(c.id);_this93.uppy.emit("thumbnail:request",h),_this93.setPluginState({currentImage:h}),_this93.uppy.emit("file-editor:complete",h);},"saveBlobCallback"),_this93$getPluginStat=_this93.getPluginState(),l=_this93$getPluginStat.currentImage;_this93.cropper.getCroppedCanvas(_this93.opts.cropperOptions.croppedCanvasOptions).toBlob(a,l.type,_this93.opts.quality);},_this93.storeCropperInstance=function(a){_this93.cropper=a;},_this93.selectFile=function(a){_this93.uppy.emit("file-editor:start",a),_this93.setPluginState({currentImage:a});},_this93.id=_this93.opts.id||"ImageEditor",_this93.title="Image Editor",_this93.type="editor",_this93.defaultLocale=Yx;var i={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},s={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},n={quality:.8};_this93.opts=_objectSpread(_objectSpread(_objectSpread({},n),t),{},{actions:_objectSpread(_objectSpread({},s),t.actions),cropperOptions:_objectSpread(_objectSpread({},i),t.cropperOptions)}),_this93.i18nInit();return _this93;}_createClass(Va,[{key:"canEditFile",value:function canEditFile(e){if(!e.type||e.isRemote)return!1;var t=e.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(t);}},{key:"install",value:function install(){this.setPluginState({currentImage:null});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){var _this$getPluginState=this.getPluginState(),e=_this$getPluginState.currentImage;if(e){var t=this.uppy.getFile(e.id);this.uppy.emit("file-editor:cancel",t);}this.unmount();}},{key:"render",value:function render(){var _this$getPluginState2=this.getPluginState(),e=_this$getPluginState2.currentImage;return e===null||e.isRemote?null:(0,Kx.h)(Gx,{currentImage:e,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n});}}]);return Va;}(Wx.UIPlugin);o(Va,"ImageEditor");Va.VERSION=Xx.version;cb.exports=Va;});var pb=v(function(tB,db){"use strict";db.exports=hb();});var mb=v(function(rB,fb){"use strict";var fh=(q(),N(I)),Jx=he(),Qx={version:"2.1.2"},Wa=/*#__PURE__*/function(_Jx$UIPlugin){_inherits(Wa,_Jx$UIPlugin);var _super35=_createSuper(Wa);function Wa(e,t){var _this94;_classCallCheck(this,Wa);_this94=_super35.call(this,e,t);_this94.id=_this94.opts.id||"ProgressBar",_this94.title="Progress Bar",_this94.type="progressindicator";var i={target:"body",fixed:!1,hideAfterFinish:!0};_this94.opts=_objectSpread(_objectSpread({},i),t),_this94.render=_this94.render.bind(_assertThisInitialized(_this94));return _this94;}_createClass(Wa,[{key:"render",value:function render(e){var t=e.totalProgress||0,i=(t===0||t===100)&&this.opts.hideAfterFinish;return(0,fh.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":i},(0,fh.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,fh.h)("div",{className:"uppy-ProgressBar-percentage"},t));}},{key:"install",value:function install(){var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.unmount();}}]);return Wa;}(Jx.UIPlugin);o(Wa,"ProgressBar");Wa.VERSION=Qx.version;fb.exports=Wa;});var vb=v(function(iB,gb){"use strict";gb.exports=mb();});var Ka=v(function(sB,yb){"use strict";var Zx={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function eT(r){var _r$split,_r$split2;return(_r$split=r.split(";",1),_r$split2=_slicedToArray(_r$split,1),r=_r$split2[0]),Zx[r]||null;}o(eT,"getFileTypeExtension");yb.exports=eT;});var wb=v(function(nB,bb){"use strict";function tT(){var r;return typeof MediaRecorder=="function"&&typeof((r=MediaRecorder.prototype)==null?void 0:r.start)=="function";}o(tT,"supportsMediaRecorder");bb.exports=tT;});var Ab={};qf(Ab,{useCallback:function useCallback(){return nT;},useContext:function useContext(){return oT;},useDebugValue:function useDebugValue(){return aT;},useEffect:function useEffect(){return rT;},useErrorBoundary:function useErrorBoundary(){return lT;},useImperativeHandle:function useImperativeHandle(){return sT;},useLayoutEffect:function useLayoutEffect(){return xb;},useMemo:function useMemo(){return gh;},useReducer:function useReducer(){return Ob;},useRef:function useRef(){return iT;},useState:function useState(){return Rb;}});function Ns(r,e){G.__h&&G.__h(je,r,qs||e),qs=0;var t=je.__H||(je.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({}),t.__[r];}function Rb(r){return qs=1,Ob(kb,r);}function Ob(r,e,t){var i=Ns(Mi++,2);return i.t=r,i.__c||(i.__=[t?t(e):kb(void 0,e),function(s){var n=i.t(i.__[0],s);i.__[0]!==n&&(i.__=[n,i.__[1]],i.__c.setState({}));}],i.__c=je),i.__;}function rT(r,e){var t=Ns(Mi++,3);!G.__s&&yh(t.__H,e)&&(t.__=r,t.__H=e,je.__H.__h.push(t));}function xb(r,e){var t=Ns(Mi++,4);!G.__s&&yh(t.__H,e)&&(t.__=r,t.__H=e,je.__h.push(t));}function iT(r){return qs=5,gh(function(){return{current:r};},[]);}function sT(r,e,t){qs=6,xb(function(){typeof r=="function"?r(e()):r&&(r.current=e());},t==null?t:t.concat(r));}function gh(r,e){var t=Ns(Mi++,7);return yh(t.__H,e)&&(t.__=r(),t.__H=e,t.__h=r),t.__;}function nT(r,e){return qs=8,gh(function(){return r;},e);}function oT(r){var e=je.context[r.__c],t=Ns(Mi++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(je)),e.props.value):r.__;}function aT(r,e){G.useDebugValue&&G.useDebugValue(e?e(r):r);}function lT(r){var e=Ns(Mi++,10),t=Rb();return e.__=r,je.componentDidCatch||(je.componentDidCatch=function(i){e.__&&e.__(i),t[1](i);}),[t[0],function(){t[1](void 0);}];}function uT(){var r;for(mh.sort(function(e,t){return e.__v.__b-t.__v.__b;});r=mh.pop();)if(r.__P)try{r.__H.__h.forEach(Ga),r.__H.__h.forEach(vh),r.__H.__h=[];}catch(e){r.__H.__h=[],G.__e(e,r.__v);}}function cT(r){var e,t=o(function(){clearTimeout(i),Tb&&cancelAnimationFrame(e),setTimeout(r);},"u"),i=setTimeout(t,100);Tb&&(e=requestAnimationFrame(t));}function Ga(r){var e=je,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),je=e;}function vh(r){var e=je;r.__c=r.__(),je=e;}function yh(r,e){return!r||r.length!==e.length||e.some(function(t,i){return t!==r[i];});}function kb(r,e){return typeof e=="function"?e(r):e;}var Mi,je,_b,qs,mh,Sb,Pb,Fb,Eb,Cb,Tb,Ub=Df(function(){q();qs=0,mh=[],Sb=G.__b,Pb=G.__r,Fb=G.diffed,Eb=G.__c,Cb=G.unmount;o(Ns,"m");o(Rb,"l");o(Ob,"p");o(rT,"y");o(xb,"h");o(iT,"s");o(sT,"_");o(gh,"d");o(nT,"A");o(oT,"F");o(aT,"T");o(lT,"q");o(uT,"x");G.__b=function(r){je=null,Sb&&Sb(r);},G.__r=function(r){Pb&&Pb(r),Mi=0;var e=(je=r.__c).__H;e&&(e.__h.forEach(Ga),e.__h.forEach(vh),e.__h=[]);},G.diffed=function(r){Fb&&Fb(r);var e=r.__c;e&&e.__H&&e.__H.__h.length&&(mh.push(e)!==1&&_b===G.requestAnimationFrame||((_b=G.requestAnimationFrame)||cT)(uT)),je=null;},G.__c=function(r,e){e.some(function(t){try{t.__h.forEach(Ga),t.__h=t.__h.filter(function(i){return!i.__||vh(i);});}catch(i){e.some(function(s){s.__h&&(s.__h=[]);}),e=[],G.__e(i,t.__v);}}),Eb&&Eb(r,e);},G.unmount=function(r){Cb&&Cb(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Ga(i);}catch(s){e=s;}}),e&&G.__e(e,t.__v));};Tb=typeof requestAnimationFrame=="function";o(cT,"g");o(Ga,"j");o(vh,"k");o(yh,"w");o(kb,"z");});var qb=v(function(aB,Db){"use strict";var Is=(q(),N(I));function hT(r){var e=r.recording,t=r.onStartRecording,i=r.onStopRecording,s=r.i18n;return e?(0,Is.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("stopAudioRecording"),"aria-label":s("stopAudioRecording"),onClick:i,"data-uppy-super-focusable":!0},(0,Is.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,Is.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,Is.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("startAudioRecording"),"aria-label":s("startAudioRecording"),onClick:t,"data-uppy-super-focusable":!0},(0,Is.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},(0,Is.h)("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})));}o(hT,"RecordButton");Db.exports=hT;});var Ib=v(function(lB,Nb){"use strict";function dT(r){return"".concat(Math.floor(r/60),":").concat(String(r%60).padStart(2,0));}o(dT,"formatSeconds");Nb.exports=dT;});var Mb=v(function(uB,Bb){"use strict";var pT=(q(),N(I)),fT=Ib();function mT(r){var e=r.recordingLengthSeconds,t=r.i18n,i=fT(e);return(0,pT.h)("span",{"aria-label":t("recordingLength",{recording_length:i})},i);}o(mT,"RecordingLength");Bb.exports=mT;});var jb=v(function(cB,Lb){"use strict";var bh=(q(),N(I));Lb.exports=function(r){var e=r.currentDeviceId,t=r.audioSources,i=r.onChangeSource;return(0,bh.h)("div",{className:"uppy-Audio-videoSource"},(0,bh.h)("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:function onChange(s){i(s.target.value);}},t.map(function(s){return(0,bh.h)("option",{key:s.deviceId,value:s.deviceId,selected:s.deviceId===e},s.label);})));};});var $b=v(function(hB,Hb){"use strict";function gT(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(gT,"_classPrivateFieldLooseBase");var vT=0;function yT(r){return"__private_"+vT++ +"_"+r;}o(yT,"_classPrivateFieldLooseKey");function zb(r){return typeof r=="function";}o(zb,"isFunction");function Yn(r){return zb(r)?r():r;}o(Yn,"result");var wh=yT("draw"),_h=/*#__PURE__*/function(){function _h(e,t){var _this95=this;_classCallCheck(this,_h);t===void 0&&(t={}),Object.defineProperty(this,wh,{writable:!0,value:function value(){return _this95.draw();}});var i=t.canvas||{},s=t.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=Yn(i.width)||this.canvas.width,this.height=Yn(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=Yn(s.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=Yn(s.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=Yn(s.lineWidth)||1,this.onDrawFrame=zb(t.onDrawFrame)?t.onDrawFrame:function(){};}_createClass(_h,[{key:"addSource",value:function addSource(e){this.streamSource=e,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser);}},{key:"draw",value:function draw(){var e=this.analyser,t=this.dataArray,i=this.bufferLength,s=this.canvasContext,n=this.width,a=this.height;e&&e.getByteTimeDomainData(t),s.fillRect(0,0,n,a),s.beginPath();var l=n*1/i,u=0;i||s.moveTo(0,this.height/2);for(var c=0;c<i;c++){var p=t[c]/128*(a/2);c===0?s.moveTo(u,p):s.lineTo(u,p),u+=l;}s.lineTo(n,a/2),s.stroke(),this.onDrawFrame(this),requestAnimationFrame(gT(this,wh)[wh]);}}]);return _h;}();o(_h,"AudioOscilloscope");Hb.exports=_h;});var Wb=v(function(dB,Vb){"use strict";var Sh=(q(),N(I));function bT(r){var e=r.onSubmit,t=r.i18n;return(0,Sh.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:t("submitRecordedFile"),"aria-label":t("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,Sh.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,Sh.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})));}o(bT,"SubmitButton");Vb.exports=bT;});var Gb=v(function(pB,Kb){"use strict";var Jn=(q(),N(I));function wT(r){var e=r.onDiscard,t=r.i18n;return(0,Jn.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:t("discardRecordedFile"),"aria-label":t("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,Jn.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},(0,Jn.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,Jn.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,Jn.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))));}o(wT,"DiscardButton");Kb.exports=wT;});var Yb=v(function(fB,Xb){"use strict";var It=(q(),N(I)),Xa=(Ub(),N(Ab)),_T=qb(),ST=Mb(),PT=jb(),FT=$b(),ET=Wb(),CT=Gb();function RT(r){var e=r.stream,t=r.recordedAudio,i=r.onStop,s=r.recording,n=r.supportsRecording,a=r.audioSources,l=r.showAudioSourceDropdown,u=r.onSubmit,c=r.i18n,h=r.onStartRecording,p=r.onStopRecording,g=r.onDiscardRecordedAudio,w=r.recordingLengthSeconds,b=(0,Xa.useRef)(null),E=(0,Xa.useRef)(null);(0,Xa.useEffect)(function(){return function(){E.current=null,i();};},[i]),(0,Xa.useEffect)(function(){if(!t&&(E.current=new FT(b.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),E.current.draw(),e)){var H=new AudioContext().createMediaStreamSource(e);E.current.addSource(H);}},[t,e]);var F=t!=null,C=!F&&n,j=l&&!F&&a&&a.length>1;return(0,It.h)("div",{className:"uppy-Audio-container"},(0,It.h)("div",{className:"uppy-Audio-audioContainer"},F?(0,It.h)("audio",{className:"uppy-Audio-player",controls:!0,src:t}):(0,It.h)("canvas",{ref:b,className:"uppy-Audio-canvas"})),(0,It.h)("div",{className:"uppy-Audio-footer"},(0,It.h)("div",{className:"uppy-Audio-audioSourceContainer"},j?PT(r):null),(0,It.h)("div",{className:"uppy-Audio-buttonContainer"},C&&(0,It.h)(_T,{recording:s,onStartRecording:h,onStopRecording:p,i18n:c}),F&&(0,It.h)(ET,{onSubmit:u,i18n:c}),F&&(0,It.h)(CT,{onDiscard:g,i18n:c})),(0,It.h)("div",{className:"uppy-Audio-recordingLength"},!F&&(0,It.h)(ST,{recordingLengthSeconds:w,i18n:c}))));}o(RT,"RecordingScreen");Xb.exports=RT;});var Qb=v(function(mB,Jb){"use strict";var Ya=(q(),N(I));Jb.exports=function(r){var e=r.icon,t=r.hasAudio,i=r.i18n;return(0,Ya.h)("div",{className:"uppy-Audio-permissons"},(0,Ya.h)("div",{className:"uppy-Audio-permissonsIcon"},e()),(0,Ya.h)("h1",{className:"uppy-Audio-title"},i(t?"allowAudioAccessTitle":"noAudioTitle")),(0,Ya.h)("p",null,i(t?"allowAudioAccessDescription":"noAudioDescription")));};});var e1=v(function(gB,Zb){"use strict";Zb.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};});var r1=v(function(vB,t1){"use strict";var Bs=(q(),N(I)),OT=he();function Ph(){return Ph=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Ph.apply(this,arguments);}o(Ph,"_extends");function L(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(L,"_classPrivateFieldLooseBase");var xT=0;function ze(r){return"__private_"+xT++ +"_"+r;}o(ze,"_classPrivateFieldLooseKey");var TT=Ka(),kT=wb(),AT=Yb(),UT=Qb(),DT=e1(),qT={version:"0.3.3"},He=ze("stream"),Mr=ze("audioActive"),ye=ze("recordingChunks"),be=ze("recorder"),Lr=ze("capturedMediaFile"),$e=ze("mediaDevices"),Qn=ze("supportsUserMedia"),Fh=ze("hasAudioCheck"),Li=ze("start"),Eh=ze("startRecording"),Zn=ze("stopRecording"),Ch=ze("discardRecordedAudio"),Rh=ze("submit"),jr=ze("stop"),Oh=ze("getAudio"),xh=ze("changeSource"),ji=ze("updateSources"),Ja=/*#__PURE__*/function(_OT$UIPlugin){_inherits(Ja,_OT$UIPlugin);var _super36=_createSuper(Ja);function Ja(e,t){var _this96;_classCallCheck(this,Ja);var i;_this96=_super36.call(this,e,t);i=_assertThisInitialized(_this96),Object.defineProperty(_assertThisInitialized(_this96),Oh,{value:IT}),Object.defineProperty(_assertThisInitialized(_this96),Fh,{value:NT}),Object.defineProperty(_assertThisInitialized(_this96),He,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),Mr,{writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(_this96),ye,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),be,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),Lr,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),$e,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),Qn,{writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(_this96),Li,{writable:!0,value:function value(s){if(s===void 0&&(s=null),!L(i,Qn)[Qn])return Promise.reject(new Error("Microphone access not supported"));L(i,Mr)[Mr]=!0,L(i,Fh)[Fh]().then(function(n){return i.setPluginState({hasAudio:n}),L(i,$e)[$e].getUserMedia({audio:!0}).then(function(a){L(i,He)[He]=a;var l=null,u=a.getAudioTracks();!s||!s.deviceId?l=u[0].getSettings().deviceId:u.forEach(function(c){c.getSettings().deviceId===s.deviceId&&(l=c.getSettings().deviceId);}),L(i,ji)[ji](),i.setPluginState({currentDeviceId:l,audioReady:!0});})["catch"](function(a){i.setPluginState({audioReady:!1,cameraError:a}),i.uppy.info(a.message,"error");});});}}),Object.defineProperty(_assertThisInitialized(_this96),Eh,{writable:!0,value:function value(){L(_assertThisInitialized(_this96),be)[be]=new MediaRecorder(L(_assertThisInitialized(_this96),He)[He]),L(_assertThisInitialized(_this96),ye)[ye]=[];var s=!1;L(_assertThisInitialized(_this96),be)[be].addEventListener("dataavailable",function(n){L(_assertThisInitialized(_this96),ye)[ye].push(n.data);var a=_this96.uppy.opts.restrictions;if(L(_assertThisInitialized(_this96),ye)[ye].length>1&&a.maxFileSize!=null&&!s){var l=L(_assertThisInitialized(_this96),ye)[ye].reduce(function(p,g){return p+g.size;},0),c=(l-L(_assertThisInitialized(_this96),ye)[ye][0].size)/(L(_assertThisInitialized(_this96),ye)[ye].length-1)*3,h=Math.max(0,a.maxFileSize-c);l>h&&(s=!0,_this96.uppy.info(_this96.i18n("recordingStoppedMaxSize"),"warning",4e3),L(_assertThisInitialized(_this96),Zn)[Zn]());}}),L(_assertThisInitialized(_this96),be)[be].start(500),_this96.recordingLengthTimer=setInterval(function(){var n=_this96.getPluginState().recordingLengthSeconds;_this96.setPluginState({recordingLengthSeconds:n+1});},1e3),_this96.setPluginState({isRecording:!0});}}),Object.defineProperty(_assertThisInitialized(_this96),Zn,{writable:!0,value:function value(){return new Promise(function(n){L(_assertThisInitialized(_this96),be)[be].addEventListener("stop",function(){n();}),L(_assertThisInitialized(_this96),be)[be].stop(),clearInterval(_this96.recordingLengthTimer),_this96.setPluginState({recordingLengthSeconds:0});}).then(function(){return _this96.setPluginState({isRecording:!1}),L(_assertThisInitialized(_this96),Oh)[Oh]();}).then(function(n){try{L(_assertThisInitialized(_this96),Lr)[Lr]=n,_this96.setPluginState({recordedAudio:URL.createObjectURL(n.data)});}catch(a){a.isRestriction||_this96.uppy.log(a);}}).then(function(){L(_assertThisInitialized(_this96),ye)[ye]=null,L(_assertThisInitialized(_this96),be)[be]=null;},function(n){throw L(_assertThisInitialized(_this96),ye)[ye]=null,L(_assertThisInitialized(_this96),be)[be]=null,n;});}}),Object.defineProperty(_assertThisInitialized(_this96),Ch,{writable:!0,value:function value(){_this96.setPluginState({recordedAudio:null}),L(_assertThisInitialized(_this96),Lr)[Lr]=null;}}),Object.defineProperty(_assertThisInitialized(_this96),Rh,{writable:!0,value:function value(){try{L(_assertThisInitialized(_this96),Lr)[Lr]&&_this96.uppy.addFile(L(_assertThisInitialized(_this96),Lr)[Lr]);}catch(s){s.isRestriction||_this96.uppy.log(s,"error");}}}),Object.defineProperty(_assertThisInitialized(_this96),jr,{writable:!0,value:function(){var _value=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee39(){return _regeneratorRuntime().wrap(function _callee39$(_context39){while(1)switch(_context39.prev=_context39.next){case 0:L(_assertThisInitialized(_this96),He)[He]&&L(_assertThisInitialized(_this96),He)[He].getAudioTracks().forEach(function(n){return n.stop();});_context39.t0=L(_assertThisInitialized(_this96),be)[be];if(!_context39.t0){_context39.next=5;break;}_context39.next=5;return new Promise(function(s){L(_assertThisInitialized(_this96),be)[be].addEventListener("stop",s,{once:!0}),L(_assertThisInitialized(_this96),be)[be].stop(),clearInterval(_this96.recordingLengthTimer);});case 5:L(_assertThisInitialized(_this96),ye)[ye]=null;L(_assertThisInitialized(_this96),be)[be]=null;L(_assertThisInitialized(_this96),Mr)[Mr]=!1;L(_assertThisInitialized(_this96),He)[He]=null;_this96.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 10:case"end":return _context39.stop();}},_callee39);}));function value(){return _value.apply(this,arguments);}return value;}()}),Object.defineProperty(_assertThisInitialized(_this96),xh,{writable:!0,value:function value(s){L(_assertThisInitialized(_this96),jr)[jr](),L(_assertThisInitialized(_this96),Li)[Li]({deviceId:s});}}),Object.defineProperty(_assertThisInitialized(_this96),ji,{writable:!0,value:function value(){L(_assertThisInitialized(_this96),$e)[$e].enumerateDevices().then(function(s){_this96.setPluginState({audioSources:s.filter(function(n){return n.kind==="audioinput";})});});}}),L(_assertThisInitialized(_this96),$e)[$e]=navigator.mediaDevices,L(_assertThisInitialized(_this96),Qn)[Qn]=L(_assertThisInitialized(_this96),$e)[$e]!=null,_this96.id=_this96.opts.id||"Audio",_this96.type="acquirer",_this96.icon=function(){return(0,Bs.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},(0,Bs.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Bs.h)("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),(0,Bs.h)("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})));},_this96.defaultLocale=DT,_this96.opts=_objectSpread({},t),_this96.i18nInit(),_this96.title=_this96.i18n("pluginNameAudio"),_this96.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null});return _this96;}_createClass(Ja,[{key:"render",value:function render(){L(this,Mr)[Mr]||L(this,Li)[Li]();var e=this.getPluginState();return!e.audioReady||!e.hasAudio?(0,Bs.h)(UT,{icon:this.icon,i18n:this.i18n,hasAudio:e.hasAudio}):(0,Bs.h)(AT,Ph({},e,{audioActive:L(this,Mr)[Mr],onChangeSource:L(this,xh)[xh],onStartRecording:L(this,Eh)[Eh],onStopRecording:L(this,Zn)[Zn],onDiscardRecordedAudio:L(this,Ch)[Ch],onSubmit:L(this,Rh)[Rh],onStop:L(this,jr)[jr],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:kT(),recording:e.isRecording,stream:L(this,He)[He]}));}},{key:"install",value:function install(){var _this97=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var e=this.opts.target;e&&this.mount(e,this),L(this,$e)[$e]&&(L(this,ji)[ji](),L(this,$e)[$e].ondevicechange=function(){if(L(_this97,ji)[ji](),L(_this97,He)[He]){var t=!0,_this97$getPluginStat=_this97.getPluginState(),i=_this97$getPluginStat.audioSources,s=_this97$getPluginStat.currentDeviceId;i.forEach(function(n){s===n.deviceId&&(t=!1);}),t&&(L(_this97,jr)[jr](),L(_this97,Li)[Li]());}});}},{key:"uninstall",value:function uninstall(){L(this,He)[He]&&L(this,jr)[jr](),this.unmount();}}]);return Ja;}(OT.UIPlugin);o(Ja,"Audio");function NT(){return L(this,$e)[$e]?L(this,$e)[$e].enumerateDevices().then(function(r){return r.some(function(e){return e.kind==="audioinput";});}):Promise.resolve(!1);}o(NT,"_hasAudioCheck2");function IT(){var r=L(this,ye)[ye].find(function(n){var a;return((a=n.type)==null?void 0:a.length)>0;}).type,e=TT(r);if(!e)return Promise.reject(new Error("Could not retrieve recording: Unsupported media type \"".concat(r,"\"")));var t="audio-".concat(Date.now(),".").concat(e),i=new Blob(L(this,ye)[ye],{type:r}),s={source:this.id,name:t,data:new Blob([i],{type:r}),type:r};return Promise.resolve(s);}o(IT,"_getAudio2");Ja.VERSION=qT.version;t1.exports=Ja;});var s1=v(function(yB,i1){"use strict";i1.exports=r1();});var o1=v(function(bB,n1){"use strict";n1.exports={strings:{pluginNameBox:"Box"}};});var u1=v(function(wB,l1){"use strict";var BT=he(),a1=Ke(),MT=ar(),Ms=(q(),N(I)),LT=o1(),jT={version:"1.0.8"},Qa=/*#__PURE__*/function(_BT$UIPlugin){_inherits(Qa,_BT$UIPlugin);var _super37=_createSuper(Qa);function Qa(e,t){var _this98;_classCallCheck(this,Qa);_this98=_super37.call(this,e,t);_this98.id=_this98.opts.id||"Box",a1.Provider.initPlugin(_assertThisInitialized(_this98),t),_this98.title=_this98.opts.title||"Box",_this98.icon=function(){return(0,Ms.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Ms.h)("g",{fill:"none",fillRule:"evenodd"},(0,Ms.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),(0,Ms.h)("g",{fill:"#fff",fillRule:"nonzero"},(0,Ms.h)("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),(0,Ms.h)("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))));},_this98.provider=new a1.Provider(e,{companionUrl:_this98.opts.companionUrl,companionHeaders:_this98.opts.companionHeaders,companionKeysParams:_this98.opts.companionKeysParams,companionCookiesRule:_this98.opts.companionCookiesRule,provider:"box",pluginId:_this98.id}),_this98.defaultLocale=LT,_this98.i18nInit(),_this98.title=_this98.i18n("pluginNameBox"),_this98.onFirstRender=_this98.onFirstRender.bind(_assertThisInitialized(_this98)),_this98.render=_this98.render.bind(_assertThisInitialized(_this98));return _this98;}_createClass(Qa,[{key:"install",value:function install(){this.view=new MT.ProviderViews(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return this.view.getFolder();}},{key:"render",value:function render(e){return this.view.render(e);}}]);return Qa;}(BT.UIPlugin);o(Qa,"Box");Qa.VERSION=jT.version;l1.exports=Qa;});var Th=v(function(_B,c1){"use strict";c1.exports=u1();});var d1=v(function(SB,h1){"use strict";h1.exports={strings:{pluginNameDropbox:"Dropbox"}};});var m1=v(function(PB,f1){"use strict";var zT=he(),p1=Ke(),HT=ar(),Za=(q(),N(I)),$T={version:"2.0.8"},VT=d1(),el=/*#__PURE__*/function(_zT$UIPlugin){_inherits(el,_zT$UIPlugin);var _super38=_createSuper(el);function el(e,t){var _this99;_classCallCheck(this,el);_this99=_super38.call(this,e,t);_this99.id=_this99.opts.id||"Dropbox",p1.Provider.initPlugin(_assertThisInitialized(_this99),t),_this99.title=_this99.opts.title||"Dropbox",_this99.icon=function(){return(0,Za.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Za.h)("g",{fill:"none",fillRule:"evenodd"},(0,Za.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),(0,Za.h)("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})));},_this99.provider=new p1.Provider(e,{companionUrl:_this99.opts.companionUrl,companionHeaders:_this99.opts.companionHeaders,companionKeysParams:_this99.opts.companionKeysParams,companionCookiesRule:_this99.opts.companionCookiesRule,provider:"dropbox",pluginId:_this99.id}),_this99.defaultLocale=VT,_this99.i18nInit(),_this99.title=_this99.i18n("pluginNameDropbox"),_this99.onFirstRender=_this99.onFirstRender.bind(_assertThisInitialized(_this99)),_this99.render=_this99.render.bind(_assertThisInitialized(_this99));return _this99;}_createClass(el,[{key:"install",value:function install(){this.view=new HT.ProviderViews(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()]);}},{key:"render",value:function render(e){return this.view.render(e);}}]);return el;}(zT.UIPlugin);o(el,"Dropbox");el.VERSION=$T.version;f1.exports=el;});var kh=v(function(FB,g1){"use strict";g1.exports=m1();});var y1=v(function(EB,v1){"use strict";v1.exports={strings:{pluginNameFacebook:"Facebook"}};});var _1=v(function(CB,w1){"use strict";var WT=he(),b1=Ke(),KT=ar(),tl=(q(),N(I)),GT={version:"2.0.8"},XT=y1(),rl=/*#__PURE__*/function(_WT$UIPlugin){_inherits(rl,_WT$UIPlugin);var _super39=_createSuper(rl);function rl(e,t){var _this100;_classCallCheck(this,rl);_this100=_super39.call(this,e,t);_this100.id=_this100.opts.id||"Facebook",b1.Provider.initPlugin(_assertThisInitialized(_this100),t),_this100.title=_this100.opts.title||"Facebook",_this100.icon=function(){return(0,tl.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,tl.h)("g",{fill:"none",fillRule:"evenodd"},(0,tl.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),(0,tl.h)("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})));},_this100.provider=new b1.Provider(e,{companionUrl:_this100.opts.companionUrl,companionHeaders:_this100.opts.companionHeaders,companionKeysParams:_this100.opts.companionKeysParams,companionCookiesRule:_this100.opts.companionCookiesRule,provider:"facebook",pluginId:_this100.id}),_this100.defaultLocale=XT,_this100.i18nInit(),_this100.title=_this100.i18n("pluginNameFacebook"),_this100.onFirstRender=_this100.onFirstRender.bind(_assertThisInitialized(_this100)),_this100.render=_this100.render.bind(_assertThisInitialized(_this100));return _this100;}_createClass(rl,[{key:"install",value:function install(){this.view=new KT.ProviderViews(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()]);}},{key:"render",value:function render(e){var t={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(t.viewType="grid",t.showFilter=!1,t.showTitles=!1),this.view.render(e,t);}}]);return rl;}(WT.UIPlugin);o(rl,"Facebook");rl.VERSION=GT.version;w1.exports=rl;});var Ah=v(function(RB,S1){"use strict";S1.exports=_1();});var F1=v(function(OB,P1){"use strict";var YT=ar(),Uh=/*#__PURE__*/function(_YT$ProviderViews){_inherits(Uh,_YT$ProviderViews);var _super40=_createSuper(Uh);function Uh(){_classCallCheck(this,Uh);return _super40.apply(this,arguments);}_createClass(Uh,[{key:"toggleCheckbox",value:function toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),t.custom.isSharedDrive||_get(_getPrototypeOf(Uh.prototype),"toggleCheckbox",this).call(this,e,t);}}]);return Uh;}(YT.ProviderViews);o(Uh,"DriveProviderViews");P1.exports=Uh;});var C1=v(function(xB,E1){"use strict";E1.exports={strings:{pluginNameGoogleDrive:"Google Drive"}};});var x1=v(function(TB,O1){"use strict";var JT=he(),R1=Ke(),il=(q(),N(I)),QT={version:"2.1.2"},ZT=F1(),ek=C1(),sl=/*#__PURE__*/function(_JT$UIPlugin){_inherits(sl,_JT$UIPlugin);var _super41=_createSuper(sl);function sl(e,t){var _this101;_classCallCheck(this,sl);_this101=_super41.call(this,e,t);_this101.id=_this101.opts.id||"GoogleDrive",_this101.title=_this101.opts.title||"Google Drive",R1.Provider.initPlugin(_assertThisInitialized(_this101),t),_this101.title=_this101.opts.title||"Google Drive",_this101.icon=function(){return(0,il.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,il.h)("g",{fill:"none",fillRule:"evenodd"},(0,il.h)("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),(0,il.h)("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})));},_this101.provider=new R1.Provider(e,{companionUrl:_this101.opts.companionUrl,companionHeaders:_this101.opts.companionHeaders,companionKeysParams:_this101.opts.companionKeysParams,companionCookiesRule:_this101.opts.companionCookiesRule,provider:"drive",pluginId:_this101.id}),_this101.defaultLocale=ek,_this101.i18nInit(),_this101.title=_this101.i18n("pluginNameGoogleDrive"),_this101.onFirstRender=_this101.onFirstRender.bind(_assertThisInitialized(_this101)),_this101.render=_this101.render.bind(_assertThisInitialized(_this101));return _this101;}_createClass(sl,[{key:"install",value:function install(){this.view=new ZT(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")]);}},{key:"render",value:function render(e){return this.view.render(e);}}]);return sl;}(JT.UIPlugin);o(sl,"GoogleDrive");sl.VERSION=QT.version;O1.exports=sl;});var Dh=v(function(kB,T1){"use strict";T1.exports=x1();});var A1=v(function(AB,k1){"use strict";k1.exports={strings:{pluginNameInstagram:"Instagram"}};});var q1=v(function(UB,D1){"use strict";var nl=(q(),N(I)),tk=he(),U1=Ke(),rk=ar(),ik={version:"2.1.2"},sk=A1(),ol=/*#__PURE__*/function(_tk$UIPlugin){_inherits(ol,_tk$UIPlugin);var _super42=_createSuper(ol);function ol(e,t){var _this102;_classCallCheck(this,ol);_this102=_super42.call(this,e,t);_this102.id=_this102.opts.id||"Instagram",U1.Provider.initPlugin(_assertThisInitialized(_this102),t),_this102.icon=function(){return(0,nl.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,nl.h)("g",{fill:"none",fillRule:"evenodd"},(0,nl.h)("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),(0,nl.h)("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})));},_this102.defaultLocale=sk,_this102.i18nInit(),_this102.title=_this102.i18n("pluginNameInstagram"),_this102.provider=new U1.Provider(e,{companionUrl:_this102.opts.companionUrl,companionHeaders:_this102.opts.companionHeaders,companionKeysParams:_this102.opts.companionKeysParams,companionCookiesRule:_this102.opts.companionCookiesRule,provider:"instagram",pluginId:_this102.id}),_this102.onFirstRender=_this102.onFirstRender.bind(_assertThisInitialized(_this102)),_this102.render=_this102.render.bind(_assertThisInitialized(_this102));return _this102;}_createClass(ol,[{key:"install",value:function install(){this.view=new rk.ProviderViews(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")]);}},{key:"render",value:function render(e){return this.view.render(e);}}]);return ol;}(tk.UIPlugin);o(ol,"Instagram");ol.VERSION=ik.version;D1.exports=ol;});var qh=v(function(DB,N1){"use strict";N1.exports=q1();});var B1=v(function(qB,I1){"use strict";I1.exports={strings:{pluginNameOneDrive:"OneDrive"}};});var j1=v(function(NB,L1){"use strict";var Ls=(q(),N(I)),nk=he(),M1=Ke(),ok=ar(),ak={version:"2.1.2"},lk=B1(),al=/*#__PURE__*/function(_nk$UIPlugin){_inherits(al,_nk$UIPlugin);var _super43=_createSuper(al);function al(e,t){var _this103;_classCallCheck(this,al);_this103=_super43.call(this,e,t);_this103.id=_this103.opts.id||"OneDrive",M1.Provider.initPlugin(_assertThisInitialized(_this103),t),_this103.title=_this103.opts.title||"OneDrive",_this103.icon=function(){return(0,Ls.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Ls.h)("g",{fill:"none",fillRule:"evenodd"},(0,Ls.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),(0,Ls.h)("g",{fill:"#FFF",fillRule:"nonzero"},(0,Ls.h)("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),(0,Ls.h)("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))));},_this103.provider=new M1.Provider(e,{companionUrl:_this103.opts.companionUrl,companionHeaders:_this103.opts.companionHeaders,companionCookiesRule:_this103.opts.companionCookiesRule,provider:"onedrive",pluginId:_this103.id}),_this103.defaultLocale=lk,_this103.i18nInit(),_this103.title=_this103.i18n("pluginNameOneDrive"),_this103.onFirstRender=_this103.onFirstRender.bind(_assertThisInitialized(_this103)),_this103.render=_this103.render.bind(_assertThisInitialized(_this103));return _this103;}_createClass(al,[{key:"install",value:function install(){this.view=new ok.ProviderViews(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()]);}},{key:"render",value:function render(e){return this.view.render(e);}}]);return al;}(nk.UIPlugin);o(al,"OneDrive");al.VERSION=ak.version;L1.exports=al;});var Nh=v(function(IB,z1){"use strict";z1.exports=j1();});var V1=v(function(BB,$1){"use strict";var ll=(q(),N(I)),uk=he(),H1=Ke(),ck=ar(),hk={version:"2.1.1"},ul=/*#__PURE__*/function(_uk$UIPlugin){_inherits(ul,_uk$UIPlugin);var _super44=_createSuper(ul);function ul(e,t){var _this104;_classCallCheck(this,ul);_this104=_super44.call(this,e,t);if(_this104.id=_this104.opts.id||"Unsplash",_this104.title=_this104.opts.title||"Unsplash",H1.Provider.initPlugin(_assertThisInitialized(_this104),t,{}),_this104.icon=function(){return(0,ll.h)("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},(0,ll.h)("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),(0,ll.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),(0,ll.h)("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}));},!_this104.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");_this104.hostname=_this104.opts.companionUrl,_this104.provider=new H1.SearchProvider(e,{companionUrl:_this104.opts.companionUrl,companionHeaders:_this104.opts.companionHeaders,companionCookiesRule:_this104.opts.companionCookiesRule,provider:"unsplash",pluginId:_this104.id});return _this104;}_createClass(ul,[{key:"install",value:function install(){this.view=new ck.SearchProviderViews(this,{provider:this.provider,viewType:"unsplash"});var e=this.opts.target;e&&this.mount(e,this);}},{key:"onFirstRender",value:function onFirstRender(){}},{key:"render",value:function render(e){return this.view.render(e);}},{key:"uninstall",value:function uninstall(){this.unmount();}}]);return ul;}(uk.UIPlugin);o(ul,"Unsplash");ul.VERSION=hk.version;$1.exports=ul;});var Ih=v(function(MB,W1){"use strict";W1.exports=V1();});var G1=v(function(LB,K1){"use strict";var cl=(q(),N(I)),Bh=/*#__PURE__*/function(_cl$Component){_inherits(Bh,_cl$Component);var _super45=_createSuper(Bh);function Bh(e){var _this105;_classCallCheck(this,Bh);_this105=_super45.call(this,e);_this105.handleKeyPress=_this105.handleKeyPress.bind(_assertThisInitialized(_this105)),_this105.handleClick=_this105.handleClick.bind(_assertThisInitialized(_this105));return _this105;}_createClass(Bh,[{key:"componentDidMount",value:function componentDidMount(){this.input.value="";}},{key:"handleKeyPress",value:function handleKeyPress(e){var t=this.props.addFile;e.keyCode===13&&t(this.input.value);}},{key:"handleClick",value:function handleClick(){var e=this.props.addFile;e(this.input.value);}},{key:"render",value:function render(){var _this106=this;var e=this.props.i18n;return(0,cl.h)("div",{className:"uppy-Url"},(0,cl.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":e("enterUrlToImport"),placeholder:e("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:function ref(t){_this106.input=t;},"data-uppy-super-focusable":!0}),(0,cl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},e("import")));}}]);return Bh;}(cl.Component);o(Bh,"UrlUI");K1.exports=Bh;});var Y1=v(function(jB,X1){"use strict";var dk=cr();function pk(r,e,t){var i=dk(r.items),s;switch(e){case"paste":{if(i.some(function(a){return a.kind==="file";}))return;s=i.filter(function(a){return a.kind==="string"&&a.type==="text/plain";});break;}case"drop":{s=i.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list";});break;}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(e));}s.forEach(function(n){n.getAsString(function(a){return t(a);});});}o(pk,"forEachDroppedOrPastedUrl");X1.exports=pk;});var Q1=v(function(zB,J1){"use strict";J1.exports={strings:{"import":"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};});var tw=v(function(HB,ew){"use strict";var js=(q(),N(I)),fk=he(),mk=Ke(),gk=cr(),vk=G1(),Z1=Y1(),yk={version:"2.2.1"},bk=Q1();function wk(){return(0,js.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,js.h)("g",{fill:"none",fillRule:"evenodd"},(0,js.h)("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),(0,js.h)("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})));}o(wk,"UrlIcon");function _k(r){var e=/^[a-z0-9]+:\/\//,t="http://";return e.test(r)?r:t+r;}o(_k,"addProtocolToURL");function Sk(r){return gk(r.dataTransfer.items).filter(function(i){return i.kind==="string"&&i.type==="text/uri-list";}).length>0;}o(Sk,"canHandleRootDrop");function Pk(r){if(!r)return!1;var e=r.match(/^([a-z0-9]+):\/\//)[1];return!(e!=="http"&&e!=="https");}o(Pk,"checkIfCorrectURL");function Fk(r){var _URL=new URL(r),e=_URL.pathname;return e.substring(e.lastIndexOf("/")+1);}o(Fk,"getFileNameFromUrl");var di=/*#__PURE__*/function(_fk$UIPlugin){_inherits(di,_fk$UIPlugin);var _super46=_createSuper(di);function di(e,t){var _this107;_classCallCheck(this,di);_this107=_super46.call(this,e,t);_this107.id=_this107.opts.id||"Url",_this107.title=_this107.opts.title||"Link",_this107.type="acquirer",_this107.icon=function(){return(0,js.h)(wk,null);},_this107.defaultLocale=bk;var i={};if(_this107.opts=_objectSpread(_objectSpread({},i),t),_this107.i18nInit(),_this107.hostname=_this107.opts.companionUrl,!_this107.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");_this107.getMeta=_this107.getMeta.bind(_assertThisInitialized(_this107)),_this107.addFile=_this107.addFile.bind(_assertThisInitialized(_this107)),_this107.handleRootDrop=_this107.handleRootDrop.bind(_assertThisInitialized(_this107)),_this107.handleRootPaste=_this107.handleRootPaste.bind(_assertThisInitialized(_this107)),_this107.client=new mk.RequestClient(e,{companionUrl:_this107.opts.companionUrl,companionHeaders:_this107.opts.companionHeaders,companionCookiesRule:_this107.opts.companionCookiesRule});return _this107;}_createClass(di,[{key:"getMeta",value:function getMeta(e){var _this108=this;return this.client.post("url/meta",{url:e}).then(function(t){if(t.error)throw _this108.uppy.log("[URL] Error:"),_this108.uppy.log(t.error),new Error("Failed to fetch the file");return t;});}},{key:"addFile",value:function(){var _addFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee40(e,t){var i,s,n;return _regeneratorRuntime().wrap(function _callee40$(_context40){while(1)switch(_context40.prev=_context40.next){case 0:t===void 0&&(t=void 0);i=this.addProtocolToURL(e);if(this.checkIfCorrectURL(i)){_context40.next=5;break;}this.uppy.log("[URL] Incorrect URL entered: ".concat(i)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return _context40.abrupt("return");case 5:_context40.prev=5;_context40.next=8;return this.getMeta(i);case 8:s=_context40.sent;n={meta:t,source:this.id,name:this.getFileNameFromUrl(i),type:s.type,data:{size:s.size},isRemote:!0,body:{url:i},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:i,url:i},providerOptions:this.client.opts}};this.uppy.log("[Url] Adding remote file");_context40.prev=11;return _context40.abrupt("return",this.uppy.addFile(n));case 15:_context40.prev=15;_context40.t0=_context40["catch"](11);return _context40.abrupt("return",(_context40.t0.isRestriction||this.uppy.log(_context40.t0),_context40.t0));case 18:_context40.next=23;break;case 20:_context40.prev=20;_context40.t1=_context40["catch"](5);return _context40.abrupt("return",(this.uppy.log(_context40.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:_context40.t1},"error",4e3),_context40.t1));case 23:case"end":return _context40.stop();}},_callee40,this,[[5,20],[11,15]]);}));function addFile(_x34,_x35){return _addFile.apply(this,arguments);}return addFile;}()},{key:"handleRootDrop",value:function handleRootDrop(e){var _this109=this;Z1(e.dataTransfer,"drop",function(t){_this109.uppy.log("[URL] Adding file from dropped url: ".concat(t)),_this109.addFile(t);});}},{key:"handleRootPaste",value:function handleRootPaste(e){var _this110=this;Z1(e.clipboardData,"paste",function(t){_this110.uppy.log("[URL] Adding file from pasted url: ".concat(t)),_this110.addFile(t);});}},{key:"render",value:function render(){return(0,js.h)(vk,{i18n:this.i18n,addFile:this.addFile});}},{key:"install",value:function install(){var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.unmount();}}]);return di;}(fk.UIPlugin);o(di,"Url");di.VERSION=yk.version;ew.exports=di;di.prototype.addProtocolToURL=_k;di.prototype.canHandleRootDrop=Sk;di.prototype.checkIfCorrectURL=Pk;di.prototype.getFileNameFromUrl=Fk;});var Mh=v(function($B,rw){"use strict";rw.exports=tw();});var sw=v(function(VB,iw){"use strict";iw.exports={strings:{pluginNameZoom:"Zoom"}};});var aw=v(function(WB,ow){"use strict";var eo=(q(),N(I)),Ek=he(),nw=Ke(),Ck=ar(),Rk={version:"1.1.2"},Ok=sw(),hl=/*#__PURE__*/function(_Ek$UIPlugin){_inherits(hl,_Ek$UIPlugin);var _super47=_createSuper(hl);function hl(e,t){var _this111;_classCallCheck(this,hl);_this111=_super47.call(this,e,t);_this111.id=_this111.opts.id||"Zoom",nw.Provider.initPlugin(_assertThisInitialized(_this111),t),_this111.title=_this111.opts.title||"Zoom",_this111.icon=function(){return(0,eo.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,eo.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),(0,eo.h)("g",{fill:"none",fillRule:"evenodd"},(0,eo.h)("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),(0,eo.h)("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}})));},_this111.provider=new nw.Provider(e,{companionUrl:_this111.opts.companionUrl,companionHeaders:_this111.opts.companionHeaders,companionKeysParams:_this111.opts.companionKeysParams,companionCookiesRule:_this111.opts.companionCookiesRule,provider:"zoom",pluginId:_this111.id}),_this111.defaultLocale=Ok,_this111.i18nInit(),_this111.title=_this111.i18n("pluginNameZoom"),_this111.onFirstRender=_this111.onFirstRender.bind(_assertThisInitialized(_this111)),_this111.render=_this111.render.bind(_assertThisInitialized(_this111));return _this111;}_createClass(hl,[{key:"install",value:function install(){this.view=new Ck.ProviderViews(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.view.tearDown(),this.unmount();}},{key:"onFirstRender",value:function onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()]);}},{key:"render",value:function render(e){return this.view.render(e);}}]);return hl;}(Ek.UIPlugin);o(hl,"Zoom");hl.VERSION=Rk.version;ow.exports=hl;});var Lh=v(function(KB,lw){"use strict";lw.exports=aw();});var hw=v(function(GB,cw){"use strict";var xk=he();function jh(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(jh,"_classPrivateFieldLooseBase");var Tk=0;function kk(r){return"__private_"+Tk++ +"_"+r;}o(kk,"_classPrivateFieldLooseKey");var Ak=lh(),Uk=kh(),Dk=Dh(),qk=qh(),Nk=Ah(),Ik=Nh(),Bk=Th(),Mk=Ih(),Lk=Mh(),jk=Lh(),zk={version:"0.1.2"},uw=[Bk,Uk,Nk,Dk,qk,Ik,Mk,Lk,jk],zi=kk("installedPlugins"),dl=/*#__PURE__*/function(_xk$BasePlugin){_inherits(dl,_xk$BasePlugin);var _super48=_createSuper(dl);function dl(e,t){var _this112;_classCallCheck(this,dl);_this112=_super48.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this112),zi,{writable:!0,value:new Set()}),_this112.id=_this112.opts.id||"RemoteSources",_this112.type="acquirer";var i={sources:["Box","Dropbox","Facebook","GoogleDrive","Instagram","OneDrive","Unsplash","Url"],target:Ak};if(_this112.opts=_objectSpread(_objectSpread({},i),t),_this112.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl");return _this112;}_createClass(dl,[{key:"setOptions",value:function setOptions(e){this.uninstall(),_get(_getPrototypeOf(dl.prototype),"setOptions",this).call(this,e),this.install();}},{key:"install",value:function install(){var _this113=this;this.opts.sources.forEach(function(e){var t=_objectSpread(_objectSpread({},_this113.opts),{},{sources:void 0}),i=uw.find(function(s){return s.name===e;});if(i==null){var s=uw.map(function(a){return a.name;}),n=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error("Invalid plugin: \"".concat(e,"\" is not one of: ").concat(n.format(s),"."));}_this113.uppy.use(i,t),jh(_this113,zi)[zi].add(_this113.uppy.getPlugin(e));});}},{key:"uninstall",value:function uninstall(){var _iterator30=_createForOfIteratorHelper(jh(this,zi)[zi]),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var e=_step30.value;this.uppy.removePlugin(e);}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}jh(this,zi)[zi].clear();}}]);return dl;}(xk.BasePlugin);o(dl,"RemoteSources");dl.VERSION=zk.version;cw.exports=dl;});var pw=v(function(XB,dw){"use strict";var to=(q(),N(I));dw.exports=function(){return(0,to.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,to.h)("g",{fill:"none",fillRule:"evenodd"},(0,to.h)("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),(0,to.h)("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),(0,to.h)("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})));};});var mw=v(function(YB,fw){"use strict";var zs=(q(),N(I));function Hk(r){var e=r.recording,t=r.onStartRecording,i=r.onStopRecording,s=r.i18n;return e?(0,zs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:s("stopCapturing"),"aria-label":s("stopCapturing"),onClick:i,"data-uppy-super-focusable":!0},(0,zs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,zs.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,zs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:s("startCapturing"),"aria-label":s("startCapturing"),onClick:t,"data-uppy-super-focusable":!0},(0,zs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,zs.h)("circle",{cx:"50",cy:"50",r:"40"})));}o(Hk,"RecordButton");fw.exports=Hk;});var vw=v(function(JB,gw){"use strict";var zh=(q(),N(I));function $k(r){var e=r.recording,t=r.recordedVideo,i=r.onSubmit,s=r.i18n;return t&&!e?(0,zh.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:s("submitRecordedFile"),"aria-label":s("submitRecordedFile"),onClick:i,"data-uppy-super-focusable":!0},(0,zh.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,zh.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null;}o($k,"SubmitButton");gw.exports=$k;});var bw=v(function(QB,yw){"use strict";var Hs=(q(),N(I)),Hh=/*#__PURE__*/function(_Hs$Component){_inherits(Hh,_Hs$Component);var _super49=_createSuper(Hh);function Hh(e){var _this114;_classCallCheck(this,Hh);_this114=_super49.call(this,e);_this114.state={elapsedTime:0},_this114.wrapperStyle={width:"100%",height:"100%",display:"flex"},_this114.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},_this114.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},_this114.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},_this114.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"};return _this114;}_createClass(Hh,[{key:"startTimer",value:function startTimer(){this.timerTick(),this.timerRunning=!0;}},{key:"resetTimer",value:function resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1;}},{key:"timerTick",value:function timerTick(){var _this115=this;this.timer=setTimeout(function(){_this115.setState(function(e){return{elapsedTime:e.elapsedTime+1};}),_this115.timerTick();},1e3);}},{key:"fmtMSS",value:function fmtMSS(e){return(e-(e%=60))/60+(e>9?":":":0")+e;}},{key:"render",value:function render(){var _this$props4=_objectSpread({},this.props),e=_this$props4.recording,t=_this$props4.i18n,i=this.state.elapsedTime,s=this.fmtMSS(i);return e&&!this.timerRunning&&this.startTimer(),!e&&this.timerRunning&&this.resetTimer(),e?(0,Hs.h)("div",{style:this.wrapperStyle},(0,Hs.h)("div",{style:this.overlayStyle}),(0,Hs.h)("div",{style:this.infoContainerStyle},(0,Hs.h)("div",{style:this.infotextStyle},t("recording")),(0,Hs.h)("div",{style:this.timeStyle},s))):null;}}]);return Hh;}(Hs.Component);o(Hh,"Stopwatch");yw.exports=Hh;});var _w=v(function(ZB,ww){"use strict";var fr=(q(),N(I));ww.exports=function(r){var e=r.streamActive,t=r.i18n;return e?(0,fr.h)("div",{title:t("streamActive"),"aria-label":t("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},(0,fr.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,fr.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,fr.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,fr.h)("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):(0,fr.h)("div",{title:t("streamPassive"),"aria-label":t("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},(0,fr.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,fr.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,fr.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,fr.h)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})));};});var Pw=v(function(e7,Sw){"use strict";var zr=(q(),N(I));function $h(){return $h=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},$h.apply(this,arguments);}o($h,"_extends");var Vk=mw(),Wk=vw(),Kk=bw(),Gk=_w(),Vh=/*#__PURE__*/function(_zr$Component){_inherits(Vh,_zr$Component);var _super50=_createSuper(Vh);function Vh(){_classCallCheck(this,Vh);return _super50.apply(this,arguments);}_createClass(Vh,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.onStop;e();}},{key:"render",value:function render(){var _this116=this;var _this$props5=this.props,e=_this$props5.recording,t=_this$props5.stream,i=_this$props5.recordedVideo,s={playsinline:!0};return(e||!i&&!e)&&(s.muted=!0,s.autoplay=!0,s.srcObject=t),i&&!e&&(s.muted=!1,s.controls=!0,s.src=i,this.videoElement&&(this.videoElement.srcObject=void 0)),(0,zr.h)("div",{className:"uppy uppy-ScreenCapture-container"},(0,zr.h)("div",{className:"uppy-ScreenCapture-videoContainer"},(0,zr.h)(Gk,this.props),(0,zr.h)("video",$h({ref:function ref(n){_this116.videoElement=n;},className:"uppy-ScreenCapture-video"},s)),(0,zr.h)(Kk,this.props)),(0,zr.h)("div",{className:"uppy-ScreenCapture-buttonContainer"},(0,zr.h)(Vk,this.props),(0,zr.h)(Wk,this.props)));}}]);return Vh;}(zr.Component);o(Vh,"RecorderScreen");Sw.exports=Vh;});var Ew=v(function(t7,Fw){"use strict";Fw.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};});var Ow=v(function(r7,Rw){"use strict";var Xk=(q(),N(I)),Yk=he();function Wh(){return Wh=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Wh.apply(this,arguments);}o(Wh,"_extends");var Cw=Ka(),Jk=pw(),Qk=Pw(),Zk={version:"2.1.2"},eA=Ew();function tA(){var r;return window.MediaRecorder&&((r=navigator.mediaDevices)==null?void 0:r.getDisplayMedia);}o(tA,"isScreenRecordingSupported");function rA(){return window.MediaRecorder&&navigator.mediaDevices;}o(rA,"getMediaDevices");var pl=/*#__PURE__*/function(_Yk$UIPlugin){_inherits(pl,_Yk$UIPlugin);var _super51=_createSuper(pl);function pl(e,t){var _this117;_classCallCheck(this,pl);_this117=_super51.call(this,e,t);_this117.mediaDevices=rA(),_this117.protocol=location.protocol==="https:"?"https":"http",_this117.id=_this117.opts.id||"ScreenCapture",_this117.title=_this117.opts.title||"Screencast",_this117.type="acquirer",_this117.icon=Jk,_this117.defaultLocale=eA;var i={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};_this117.opts=_objectSpread(_objectSpread({},i),t),_this117.i18nInit(),_this117.install=_this117.install.bind(_assertThisInitialized(_this117)),_this117.setPluginState=_this117.setPluginState.bind(_assertThisInitialized(_this117)),_this117.render=_this117.render.bind(_assertThisInitialized(_this117)),_this117.start=_this117.start.bind(_assertThisInitialized(_this117)),_this117.stop=_this117.stop.bind(_assertThisInitialized(_this117)),_this117.startRecording=_this117.startRecording.bind(_assertThisInitialized(_this117)),_this117.stopRecording=_this117.stopRecording.bind(_assertThisInitialized(_this117)),_this117.submit=_this117.submit.bind(_assertThisInitialized(_this117)),_this117.streamInterrupted=_this117.streamInactivated.bind(_assertThisInitialized(_this117)),_this117.captureActive=!1,_this117.capturedMediaFile=null;return _this117;}_createClass(pl,[{key:"install",value:function install(){if(!tA())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var e=this.opts.target;e&&this.mount(e,this);}},{key:"uninstall",value:function uninstall(){this.videoStream&&this.stop(),this.unmount();}},{key:"start",value:function start(){var _this118=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(e){e===!1&&_this118.parent&&_this118.parent.hideAllPanels&&(_this118.parent.hideAllPanels(),_this118.captureActive=!1);})):Promise.reject(new Error("Screen recorder access not supported"));}},{key:"selectVideoStreamSource",value:function selectVideoStreamSource(){var _this119=this;return this.videoStream?new Promise(function(e){return e(_this119.videoStream);}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(e){return _this119.videoStream=e,_this119.videoStream.addEventListener("inactive",function(){_this119.streamInactivated();}),_this119.setPluginState({streamActive:!0}),e;})["catch"](function(e){return _this119.setPluginState({screenRecError:e}),_this119.userDenied=!0,setTimeout(function(){_this119.userDenied=!1;},1e3),!1;});}},{key:"selectAudioStreamSource",value:function selectAudioStreamSource(){var _this120=this;return this.audioStream?new Promise(function(e){return e(_this120.audioStream);}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(e){return _this120.audioStream=e,_this120.setPluginState({audioStreamActive:!0}),e;})["catch"](function(e){return e.name==="NotAllowedError"&&_this120.uppy.info(_this120.i18n("micDisabled"),"error",5e3),!1;});}},{key:"startRecording",value:function startRecording(){var _this121=this;var e={};this.capturedMediaFile=null,this.recordingChunks=[];var t=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(i){t&&MediaRecorder.isTypeSupported(t)&&Cw(t)&&(e.mimeType=t);var s=[i.getVideoTracks()[0]];_this121.audioStream&&s.push(_this121.audioStream.getAudioTracks()[0]),_this121.outputStream=new MediaStream(s),_this121.recorder=new MediaRecorder(_this121.outputStream,e),_this121.recorder.addEventListener("dataavailable",function(n){_this121.recordingChunks.push(n.data);}),_this121.recorder.start(),_this121.setPluginState({recording:!0});})["catch"](function(i){_this121.uppy.log(i,"error");});}},{key:"streamInactivated",value:function streamInactivated(){var _this$getPluginState3=_objectSpread({},this.getPluginState()),e=_this$getPluginState3.recordedVideo,t=_this$getPluginState3.recording;!e&&!t?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():t&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1});}},{key:"stopRecording",value:function stopRecording(){var _this122=this;return new Promise(function(t){_this122.recorder.addEventListener("stop",function(){t();}),_this122.recorder.stop();}).then(function(){return _this122.setPluginState({recording:!1}),_this122.getVideo();}).then(function(t){_this122.capturedMediaFile=t,_this122.setPluginState({recordedVideo:URL.createObjectURL(t.data)});}).then(function(){_this122.recordingChunks=null,_this122.recorder=null;},function(t){throw _this122.recordingChunks=null,_this122.recorder=null,t;});}},{key:"submit",value:function submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile);}catch(e){e.isRestriction||this.uppy.log(e,"error");}}},{key:"stop",value:function stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(e){e.stop();}),this.videoStream.getAudioTracks().forEach(function(e){e.stop();}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(e){e.stop();}),this.audioStream.getVideoTracks().forEach(function(e){e.stop();}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(e){e.stop();}),this.outputStream.getVideoTracks().forEach(function(e){e.stop();}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1;}},{key:"getVideo",value:function getVideo(){var e=this.recordingChunks[0].type,t=Cw(e);if(!t)return Promise.reject(new Error("Could not retrieve recording: Unsupported media type \"".concat(e,"\"")));var i="screencap-".concat(Date.now(),".").concat(t),s=new Blob(this.recordingChunks,{type:e}),n={source:this.id,name:i,data:new Blob([s],{type:e}),type:e};return Promise.resolve(n);}},{key:"render",value:function render(){var e=this.getPluginState();return!e.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),(0,Xk.h)(Qk,Wh({},e,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}));}}]);return pl;}(Yk.UIPlugin);o(pl,"ScreenCapture");pl.VERSION=Zk.version;Rw.exports=pl;});var Tw=v(function(i7,xw){"use strict";xw.exports=Ow();});var Aw=v(function(s7,kw){"use strict";function iA(r,e,t){return new Promise(function(i){r.toBlob(i,e,t);});}o(iA,"canvasToBlob");kw.exports=iA;});var Dw=v(function(n7,Uw){"use strict";function sA(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function";}o(sA,"supportsMediaRecorder");Uw.exports=sA;});var Kh=v(function(o7,Nw){"use strict";var qw=(q(),N(I));Nw.exports=function(){return(0,qw.h)("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},(0,qw.h)("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}));};});var Bw=v(function(a7,Iw){"use strict";var nA=(q(),N(I)),oA=Kh();Iw.exports=function(r){var e=r.onSnapshot,t=r.i18n;return(0,nA.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:t("takePicture"),"aria-label":t("takePicture"),onClick:e,"data-uppy-super-focusable":!0},oA());};});var Lw=v(function(l7,Mw){"use strict";var $s=(q(),N(I));function aA(r){var e=r.recording,t=r.onStartRecording,i=r.onStopRecording,s=r.i18n;return e?(0,$s.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("stopRecording"),"aria-label":s("stopRecording"),onClick:i,"data-uppy-super-focusable":!0},(0,$s.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,$s.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,$s.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("startRecording"),"aria-label":s("startRecording"),onClick:t,"data-uppy-super-focusable":!0},(0,$s.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,$s.h)("circle",{cx:"50",cy:"50",r:"40"})));}o(aA,"RecordButton");Mw.exports=aA;});var zw=v(function(u7,jw){"use strict";function lA(r){return"".concat(Math.floor(r/60),":").concat(String(r%60).padStart(2,0));}o(lA,"formatSeconds");jw.exports=lA;});var $w=v(function(c7,Hw){"use strict";var uA=(q(),N(I)),cA=zw();function hA(r){var e=r.recordingLengthSeconds,t=r.i18n,i=cA(e);return(0,uA.h)("span",{"aria-label":t("recordingLength",{recording_length:i})},i);}o(hA,"RecordingLength");Hw.exports=hA;});var Ww=v(function(h7,Vw){"use strict";var Gh=(q(),N(I));Vw.exports=function(r){var e=r.currentDeviceId,t=r.videoSources,i=r.onChangeVideoSource;return(0,Gh.h)("div",{className:"uppy-Webcam-videoSource"},(0,Gh.h)("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function onChange(s){i(s.target.value);}},t.map(function(s){return(0,Gh.h)("option",{key:s.deviceId,value:s.deviceId,selected:s.deviceId===e},s.label);})));};});var Gw=v(function(d7,Kw){"use strict";var Xh=(q(),N(I));function dA(r){var e=r.onSubmit,t=r.i18n;return(0,Xh.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:t("submitRecordedFile"),"aria-label":t("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,Xh.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,Xh.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})));}o(dA,"SubmitButton");Kw.exports=dA;});var Yw=v(function(p7,Xw){"use strict";var ro=(q(),N(I));function pA(r){var e=r.onDiscard,t=r.i18n;return(0,ro.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:t("discardRecordedFile"),"aria-label":t("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,ro.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,ro.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,ro.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,ro.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))));}o(pA,"DiscardButton");Xw.exports=pA;});var Qw=v(function(f7,Jw){"use strict";var wt=(q(),N(I));function Yh(){return Yh=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Yh.apply(this,arguments);}o(Yh,"_extends");var fA=Bw(),mA=Lw(),gA=$w(),vA=Ww(),yA=Gw(),bA=Yw();function fl(r,e){return r.indexOf(e)!==-1;}o(fl,"isModeAvailable");var Jh=/*#__PURE__*/function(_wt$Component){_inherits(Jh,_wt$Component);var _super52=_createSuper(Jh);function Jh(){_classCallCheck(this,Jh);return _super52.apply(this,arguments);}_createClass(Jh,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.onFocus;e();}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.onStop;e();}},{key:"render",value:function render(){var _this123=this;var _this$props6=this.props,e=_this$props6.src,t=_this$props6.recordedVideo,i=_this$props6.recording,s=_this$props6.modes,n=_this$props6.supportsRecording,a=_this$props6.videoSources,l=_this$props6.showVideoSourceDropdown,u=_this$props6.showRecordingLength,c=_this$props6.onSubmit,h=_this$props6.i18n,p=_this$props6.mirror,g=_this$props6.onSnapshot,w=_this$props6.onStartRecording,b=_this$props6.onStopRecording,E=_this$props6.onDiscardRecordedVideo,F=_this$props6.recordingLengthSeconds,C=!!t,j=!C&&n&&(fl(s,"video-only")||fl(s,"audio-only")||fl(s,"video-audio")),W=!C&&fl(s,"picture"),H=n&&u&&!C,J=l&&a&&a.length>1,B={playsinline:!0};return t?(B.muted=!1,B.controls=!0,B.src=t,this.videoElement&&(this.videoElement.srcObject=void 0)):(B.muted=!0,B.autoplay=!0,B.srcObject=e),(0,wt.h)("div",{className:"uppy uppy-Webcam-container"},(0,wt.h)("div",{className:"uppy-Webcam-videoContainer"},(0,wt.h)("video",Yh({ref:function ref(M){return _this123.videoElement=M;},className:"uppy-Webcam-video  ".concat(p?"uppy-Webcam-video--mirrored":"")},B))),(0,wt.h)("div",{className:"uppy-Webcam-footer"},(0,wt.h)("div",{className:"uppy-Webcam-videoSourceContainer"},J?vA(this.props):null),(0,wt.h)("div",{className:"uppy-Webcam-buttonContainer"},W&&(0,wt.h)(fA,{onSnapshot:g,i18n:h}),j&&(0,wt.h)(mA,{recording:i,onStartRecording:w,onStopRecording:b,i18n:h}),C&&(0,wt.h)(yA,{onSubmit:c,i18n:h}),C&&(0,wt.h)(bA,{onDiscard:E,i18n:h})),(0,wt.h)("div",{className:"uppy-Webcam-recordingLength"},H&&(0,wt.h)(gA,{recordingLengthSeconds:F,i18n:h}))));}}]);return Jh;}(wt.Component);o(Jh,"CameraScreen");Jw.exports=Jh;});var e_=v(function(m7,Zw){"use strict";var ml=(q(),N(I));Zw.exports=function(r){var e=r.icon,t=r.i18n,i=r.hasCamera;return(0,ml.h)("div",{className:"uppy-Webcam-permissons"},(0,ml.h)("div",{className:"uppy-Webcam-permissonsIcon"},e()),(0,ml.h)("h1",{className:"uppy-Webcam-title"},t(i?"allowAccessTitle":"noCameraTitle")),(0,ml.h)("p",null,t(i?"allowAccessDescription":"noCameraDescription")));};});var r_=v(function(g7,t_){"use strict";t_.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};});var n_=v(function(v7,s_){"use strict";var Vs=(q(),N(I)),wA=he();function Qh(){return Qh=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},Qh.apply(this,arguments);}o(Qh,"_extends");function io(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(io,"_classPrivateFieldLooseBase");var _A=0;function SA(r){return"__private_"+_A++ +"_"+r;}o(SA,"_classPrivateFieldLooseKey");var Zh=Ka(),PA=Uu(),FA=Aw(),EA=Dw(),CA=Kh(),RA=Qw(),OA=e_(),xA={version:"2.2.2"},TA=r_();function i_(r){return r[0]==="."?PA[r.slice(1)]:r;}o(i_,"toMimeType");function kA(r){return /^video\/[^*]+$/.test(r);}o(kA,"isVideoMimeType");function AA(r){return /^image\/[^*]+$/.test(r);}o(AA,"isImageMimeType");function UA(){return navigator.mediaDevices;}o(UA,"getMediaDevices");var Jt=SA("enableMirror"),gl=/*#__PURE__*/function(_wA$UIPlugin){_inherits(gl,_wA$UIPlugin);var _super53=_createSuper(gl);function gl(e,t){var _this124;_classCallCheck(this,gl);_this124=_super53.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this124),Jt,{writable:!0,value:void 0}),_this124.mediaDevices=UA(),_this124.supportsUserMedia=!!_this124.mediaDevices,_this124.protocol=location.protocol.match(/https/i)?"https":"http",_this124.id=_this124.opts.id||"Webcam",_this124.type="acquirer",_this124.capturedMediaFile=null,_this124.icon=function(){return(0,Vs.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Vs.h)("g",{fill:"none",fillRule:"evenodd"},(0,Vs.h)("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),(0,Vs.h)("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})));},_this124.defaultLocale=TA;var i={onBeforeSnapshot:function onBeforeSnapshot(){return Promise.resolve();},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};_this124.opts=_objectSpread(_objectSpread({},i),t),_this124.i18nInit(),_this124.title=_this124.i18n("pluginNameCamera"),io(_assertThisInitialized(_this124),Jt)[Jt]=_this124.opts.mirror,_this124.install=_this124.install.bind(_assertThisInitialized(_this124)),_this124.setPluginState=_this124.setPluginState.bind(_assertThisInitialized(_this124)),_this124.render=_this124.render.bind(_assertThisInitialized(_this124)),_this124.start=_this124.start.bind(_assertThisInitialized(_this124)),_this124.stop=_this124.stop.bind(_assertThisInitialized(_this124)),_this124.takeSnapshot=_this124.takeSnapshot.bind(_assertThisInitialized(_this124)),_this124.startRecording=_this124.startRecording.bind(_assertThisInitialized(_this124)),_this124.stopRecording=_this124.stopRecording.bind(_assertThisInitialized(_this124)),_this124.discardRecordedVideo=_this124.discardRecordedVideo.bind(_assertThisInitialized(_this124)),_this124.submit=_this124.submit.bind(_assertThisInitialized(_this124)),_this124.oneTwoThreeSmile=_this124.oneTwoThreeSmile.bind(_assertThisInitialized(_this124)),_this124.focus=_this124.focus.bind(_assertThisInitialized(_this124)),_this124.changeVideoSource=_this124.changeVideoSource.bind(_assertThisInitialized(_this124)),_this124.webcamActive=!1,_this124.opts.countdown&&(_this124.opts.onBeforeSnapshot=_this124.oneTwoThreeSmile),_this124.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null});return _this124;}_createClass(gl,[{key:"setOptions",value:function setOptions(e){_get(_getPrototypeOf(gl.prototype),"setOptions",this).call(this,_objectSpread(_objectSpread({},e),{},{videoConstraints:_objectSpread(_objectSpread({},this.opts.videoConstraints),e==null?void 0:e.videoConstraints)}));}},{key:"hasCameraCheck",value:function hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(e){return e.some(function(t){return t.kind==="videoinput";});}):Promise.resolve(!1);}},{key:"isAudioOnly",value:function isAudioOnly(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only";}},{key:"getConstraints",value:function getConstraints(e){e===void 0&&(e=null);var t=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,i=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),s=_objectSpread(_objectSpread({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),e?{deviceId:e,facingMode:null}:{});return{audio:t,video:i?s:!1};}},{key:"start",value:function start(e){var _this125=this;if(e===void 0&&(e=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(io(this,Jt)[Jt]=!0);var t=this.getConstraints(e&&e.deviceId?e.deviceId:null);this.hasCameraCheck().then(function(i){return _this125.setPluginState({hasCamera:i}),_this125.mediaDevices.getUserMedia(t).then(function(s){_this125.stream=s;var n=null,a=_this125.isAudioOnly()?s.getAudioTracks():s.getVideoTracks();!e||!e.deviceId?n=a[0].getSettings().deviceId:a.forEach(function(l){l.getSettings().deviceId===e.deviceId&&(n=l.getSettings().deviceId);}),_this125.updateVideoSources(),_this125.setPluginState({currentDeviceId:n,cameraReady:!0});})["catch"](function(s){_this125.setPluginState({cameraReady:!1,cameraError:s}),_this125.uppy.info(s.message,"error");});});}},{key:"getMediaRecorderOptions",value:function getMediaRecorderOptions(){var e={};if(MediaRecorder.isTypeSupported){var t=this.uppy.opts.restrictions,i=[];this.opts.preferredVideoMimeType?i=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(i=t.allowedFileTypes.map(i_).filter(kA));var s=o(function(a){return MediaRecorder.isTypeSupported(a)&&Zh(a);},"filterSupportedTypes"),n=i.filter(s);n.length>0&&(e.mimeType=n[0]);}return e;}},{key:"startRecording",value:function startRecording(){var _this126=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var e=!1;this.recorder.addEventListener("dataavailable",function(t){_this126.recordingChunks.push(t.data);var i=_this126.uppy.opts.restrictions;if(_this126.recordingChunks.length>1&&i.maxFileSize!=null&&!e){var s=_this126.recordingChunks.reduce(function(u,c){return u+c.size;},0),a=(s-_this126.recordingChunks[0].size)/(_this126.recordingChunks.length-1)*3,l=Math.max(0,i.maxFileSize-a);s>l&&(e=!0,_this126.uppy.info(_this126.i18n("recordingStoppedMaxSize"),"warning",4e3),_this126.stopRecording());}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var t=_this126.getPluginState().recordingLengthSeconds;_this126.setPluginState({recordingLengthSeconds:t+1});},1e3)),this.setPluginState({isRecording:!0});}},{key:"stopRecording",value:function stopRecording(){var _this127=this;return new Promise(function(t){_this127.recorder.addEventListener("stop",function(){t();}),_this127.recorder.stop(),_this127.opts.showRecordingLength&&(clearInterval(_this127.recordingLengthTimer),_this127.setPluginState({recordingLengthSeconds:0}));}).then(function(){return _this127.setPluginState({isRecording:!1}),_this127.getVideo();}).then(function(t){try{_this127.capturedMediaFile=t,_this127.setPluginState({recordedVideo:URL.createObjectURL(t.data)}),io(_this127,Jt)[Jt]=!1;}catch(i){i.isRestriction||_this127.uppy.log(i);}}).then(function(){_this127.recordingChunks=null,_this127.recorder=null;},function(t){throw _this127.recordingChunks=null,_this127.recorder=null,t;});}},{key:"discardRecordedVideo",value:function discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(io(this,Jt)[Jt]=!0),this.capturedMediaFile=null;}},{key:"submit",value:function submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile);}catch(e){e.isRestriction||this.uppy.log(e,"error");}}},{key:"stop",value:function(){var _stop=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee41(){var _this128=this;var e,t;return _regeneratorRuntime().wrap(function _callee41$(_context41){while(1)switch(_context41.prev=_context41.next){case 0:if(this.stream){e=this.stream.getAudioTracks(),t=this.stream.getVideoTracks();e.concat(t).forEach(function(i){return i.stop();});}_context41.t0=this.recorder;if(!_context41.t0){_context41.next=5;break;}_context41.next=5;return new Promise(function(e){_this128.recorder.addEventListener("stop",e,{once:!0}),_this128.recorder.stop(),_this128.opts.showRecordingLength&&clearInterval(_this128.recordingLengthTimer);});case 5:this.recordingChunks=null;this.recorder=null;this.webcamActive=!1;this.stream=null;this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 10:case"end":return _context41.stop();}},_callee41,this);}));function stop(){return _stop.apply(this,arguments);}return stop;}()},{key:"getVideoElement",value:function getVideoElement(){return this.el.querySelector(".uppy-Webcam-video");}},{key:"oneTwoThreeSmile",value:function oneTwoThreeSmile(){var _this129=this;return new Promise(function(e,t){var i=_this129.opts.countdown,s=setInterval(function(){if(!_this129.webcamActive)return clearInterval(s),_this129.captureInProgress=!1,t(new Error("Webcam is not active"));i>0?(_this129.uppy.info("".concat(i,"..."),"warning",800),i--):(clearInterval(s),_this129.uppy.info(_this129.i18n("smile"),"success",1500),setTimeout(function(){return e();},1500));},1e3);});}},{key:"takeSnapshot",value:function takeSnapshot(){var _this130=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot()["catch"](function(e){var t=_typeof(e)=="object"?e.message:e;return _this130.uppy.info(t,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(t)));}).then(function(){return _this130.getImage();}).then(function(e){_this130.captureInProgress=!1;try{_this130.uppy.addFile(e);}catch(t){t.isRestriction||_this130.uppy.log(t);}},function(e){throw _this130.captureInProgress=!1,e;}));}},{key:"getImage",value:function getImage(){var _this131=this;var e=this.getVideoElement();if(!e)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var t=e.videoWidth,i=e.videoHeight,s=document.createElement("canvas");s.width=t,s.height=i,s.getContext("2d").drawImage(e,0,0);var a=this.uppy.opts.restrictions,l=[];this.opts.preferredImageMimeType?l=[this.opts.preferredImageMimeType]:a.allowedFileTypes&&(l=a.allowedFileTypes.map(i_).filter(AA));var u=l[0]||"image/jpeg",c=Zh(u)||"jpg",h="cam-".concat(Date.now(),".").concat(c);return FA(s,u).then(function(p){return{source:_this131.id,name:h,data:new Blob([p],{type:u}),type:u};});}},{key:"getVideo",value:function getVideo(){var e=this.recordingChunks.find(function(a){var l;return((l=a.type)==null?void 0:l.length)>0;}).type,t=Zh(e);if(!t)return Promise.reject(new Error("Could not retrieve recording: Unsupported media type \"".concat(e,"\"")));var i="webcam-".concat(Date.now(),".").concat(t),s=new Blob(this.recordingChunks,{type:e}),n={source:this.id,name:i,data:new Blob([s],{type:e}),type:e};return Promise.resolve(n);}},{key:"focus",value:function focus(){var _this132=this;!this.opts.countdown||setTimeout(function(){_this132.uppy.info(_this132.i18n("smile"),"success",1500);},1e3);}},{key:"changeVideoSource",value:function changeVideoSource(e){this.stop(),this.start({deviceId:e});}},{key:"updateVideoSources",value:function updateVideoSources(){var _this133=this;this.mediaDevices.enumerateDevices().then(function(e){_this133.setPluginState({videoSources:e.filter(function(t){return t.kind==="videoinput";})});});}},{key:"render",value:function render(){this.webcamActive||this.start();var e=this.getPluginState();return!e.cameraReady||!e.hasCamera?(0,Vs.h)(OA,{icon:CA,i18n:this.i18n,hasCamera:e.hasCamera}):(0,Vs.h)(RA,Qh({},e,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:EA(),recording:e.isRecording,mirror:io(this,Jt)[Jt],src:this.stream}));}},{key:"install",value:function install(){var _this134=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var e=this.opts.target;e&&this.mount(e,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(_this134.updateVideoSources(),_this134.stream){var t=!0,_this134$getPluginSta=_this134.getPluginState(),i=_this134$getPluginSta.videoSources,s=_this134$getPluginSta.currentDeviceId;i.forEach(function(n){s===n.deviceId&&(t=!1);}),t&&(_this134.stop(),_this134.start());}});}},{key:"uninstall",value:function uninstall(){this.stop(),this.unmount();}},{key:"onUnmount",value:function onUnmount(){this.stop();}}]);return gl;}(wA.UIPlugin);o(gl,"Webcam");gl.VERSION=xA.version;s_.exports=gl;});var a_=v(function(y7,o_){"use strict";o_.exports=n_();});var pi=v(function(Ws){"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.internalRateLimitedQueue=Ws.RateLimitedQueue=void 0;function V(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(V,"_classPrivateFieldLooseBase");var DA=0;function ct(r){return"__private_"+DA++ +"_"+r;}o(ct,"_classPrivateFieldLooseKey");function qA(){return new Error("Cancelled");}o(qA,"createCancelError");var _t=ct("activeRequests"),Qe=ct("queuedHandlers"),St=ct("paused"),Hi=ct("pauseTimer"),Ze=ct("downLimit"),$i=ct("upperLimit"),Hr=ct("rateLimitingTimer"),so=ct("call"),$r=ct("queueNext"),ed=ct("next"),td=ct("queue"),rd=ct("dequeue"),id=ct("resume"),Vi=ct("increaseLimit"),sd=/*#__PURE__*/function(){function sd(e){var _this135=this;_classCallCheck(this,sd);Object.defineProperty(this,rd,{value:LA}),Object.defineProperty(this,td,{value:MA}),Object.defineProperty(this,ed,{value:BA}),Object.defineProperty(this,$r,{value:IA}),Object.defineProperty(this,so,{value:NA}),Object.defineProperty(this,_t,{writable:!0,value:0}),Object.defineProperty(this,Qe,{writable:!0,value:[]}),Object.defineProperty(this,St,{writable:!0,value:!1}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),Object.defineProperty(this,Ze,{writable:!0,value:1}),Object.defineProperty(this,$i,{writable:!0,value:void 0}),Object.defineProperty(this,Hr,{writable:!0,value:void 0}),Object.defineProperty(this,id,{writable:!0,value:function value(){return _this135.resume();}}),Object.defineProperty(this,Vi,{writable:!0,value:function value(){if(V(_this135,St)[St]){V(_this135,Hr)[Hr]=setTimeout(V(_this135,Vi)[Vi],0);return;}V(_this135,Ze)[Ze]=_this135.limit,_this135.limit=Math.ceil((V(_this135,$i)[$i]+V(_this135,Ze)[Ze])/2);for(var t=V(_this135,Ze)[Ze];t<=_this135.limit;t++)V(_this135,$r)[$r]();V(_this135,$i)[$i]-V(_this135,Ze)[Ze]>3?V(_this135,Hr)[Hr]=setTimeout(V(_this135,Vi)[Vi],2e3):V(_this135,Ze)[Ze]=Math.floor(V(_this135,Ze)[Ze]/2);}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e;}_createClass(sd,[{key:"run",value:function run(e,t){return!V(this,St)[St]&&V(this,_t)[_t]<this.limit?V(this,so)[so](e):V(this,td)[td](e,t);}},{key:"wrapPromiseFunction",value:function wrapPromiseFunction(e,t){var i=this;return function(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];var l,u=new Promise(function(c,h){l=i.run(function(){var p,g;try{g=Promise.resolve(e.apply(void 0,n));}catch(w){g=Promise.reject(w);}return g.then(function(w){p?h(p):(l.done(),c(w));},function(w){p?h(p):(l.done(),h(w));}),function(){p=qA();};},t);});return u.abort=function(){l.abort();},u;};}},{key:"resume",value:function resume(){V(this,St)[St]=!1,clearTimeout(V(this,Hi)[Hi]);for(var e=0;e<this.limit;e++)V(this,$r)[$r]();}},{key:"pause",value:function pause(e){e===void 0&&(e=null),V(this,St)[St]=!0,clearTimeout(V(this,Hi)[Hi]),e!=null&&(V(this,Hi)[Hi]=setTimeout(V(this,id)[id],e));}},{key:"rateLimit",value:function rateLimit(e){clearTimeout(V(this,Hr)[Hr]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(V(this,$i)[$i]=this.limit-1,this.limit=V(this,Ze)[Ze],V(this,Hr)[Hr]=setTimeout(V(this,Vi)[Vi],e));}},{key:"isPaused",get:function get(){return V(this,St)[St];}}]);return sd;}();o(sd,"RateLimitedQueue");Ws.RateLimitedQueue=sd;function NA(r){var _this136=this;V(this,_t)[_t]+=1;var e=!1,t;try{t=r();}catch(i){throw V(this,_t)[_t]-=1,i;}return{abort:function abort(){e||(e=!0,V(_this136,_t)[_t]-=1,t(),V(_this136,$r)[$r]());},done:function done(){e||(e=!0,V(_this136,_t)[_t]-=1,V(_this136,$r)[$r]());}};}o(NA,"_call2");function IA(){var _this137=this;queueMicrotask(function(){return V(_this137,ed)[ed]();});}o(IA,"_queueNext2");function BA(){if(V(this,St)[St]||V(this,_t)[_t]>=this.limit||V(this,Qe)[Qe].length===0)return;var r=V(this,Qe)[Qe].shift(),e=V(this,so)[so](r.fn);r.abort=e.abort,r.done=e.done;}o(BA,"_next2");function MA(r,e){var _this138=this;e===void 0&&(e={});var t={fn:r,priority:e.priority||0,abort:function abort(){V(_this138,rd)[rd](t);},done:function done(){throw new Error("Cannot mark a queued request as done: this indicates a bug");}},i=V(this,Qe)[Qe].findIndex(function(s){return t.priority>s.priority;});return i===-1?V(this,Qe)[Qe].push(t):V(this,Qe)[Qe].splice(i,0,t),t;}o(MA,"_queue2");function LA(r){var e=V(this,Qe)[Qe].indexOf(r);e!==-1&&V(this,Qe)[Qe].splice(e,1);}o(LA,"_dequeue2");var jA=Symbol("__queue");Ws.internalRateLimitedQueue=jA;});var no=v(function(w7,l_){"use strict";var zA=mn();function HA(r,e,t){var i=e.progress,s=e.bytesUploaded,n=e.bytesTotal;i&&(r.uppy.log("Upload progress: ".concat(i)),r.uppy.emit("upload-progress",t,{uploader:r,bytesUploaded:s,bytesTotal:n}));}o(HA,"emitSocketProgress");l_.exports=zA(HA,300,{leading:!0,trailing:!0});});var oo=v(function(_7,u_){"use strict";function $A(r){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(r)[1];return"".concat(/^http:\/\//i.test(r)?"ws":"wss","://").concat(t);}o($A,"getSocketHost");u_.exports=$A;});var uo=v(function(S7,h_){"use strict";function ao(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(ao,"_classPrivateFieldLooseBase");var VA=0;function c_(r){return"__private_"+VA++ +"_"+r;}o(c_,"_classPrivateFieldLooseKey");var Wi=c_("emitter"),lo=c_("events"),nd=/*#__PURE__*/function(){function nd(e){_classCallCheck(this,nd);Object.defineProperty(this,Wi,{writable:!0,value:void 0}),Object.defineProperty(this,lo,{writable:!0,value:[]}),ao(this,Wi)[Wi]=e;}_createClass(nd,[{key:"on",value:function on(e,t){return ao(this,lo)[lo].push([e,t]),ao(this,Wi)[Wi].on(e,t);}},{key:"remove",value:function remove(){var _iterator31=_createForOfIteratorHelper(ao(this,lo)[lo].splice(0)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _step31$value=_slicedToArray(_step31.value,2),e=_step31$value[0],t=_step31$value[1];ao(this,Wi)[Wi].off(e,t);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}}}]);return nd;}();o(nd,"EventTracker");h_.exports=nd;});var ad=v(function(P7,d_){"use strict";function Bt(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(Bt,"_classPrivateFieldLooseBase");var WA=0;function vl(r){return"__private_"+WA++ +"_"+r;}o(vl,"_classPrivateFieldLooseKey");var Vr=vl("aliveTimer"),Ki=vl("isDone"),co=vl("onTimedOut"),Gi=vl("timeout"),od=/*#__PURE__*/function(){function od(e,t){_classCallCheck(this,od);Object.defineProperty(this,Vr,{writable:!0,value:void 0}),Object.defineProperty(this,Ki,{writable:!0,value:!1}),Object.defineProperty(this,co,{writable:!0,value:void 0}),Object.defineProperty(this,Gi,{writable:!0,value:void 0}),Bt(this,Gi)[Gi]=e,Bt(this,co)[co]=t;}_createClass(od,[{key:"progress",value:function progress(){Bt(this,Ki)[Ki]||Bt(this,Gi)[Gi]>0&&(clearTimeout(Bt(this,Vr)[Vr]),Bt(this,Vr)[Vr]=setTimeout(Bt(this,co)[co],Bt(this,Gi)[Gi]));}},{key:"done",value:function done(){Bt(this,Ki)[Ki]||(clearTimeout(Bt(this,Vr)[Vr]),Bt(this,Vr)[Vr]=null,Bt(this,Ki)[Ki]=!0);}}]);return od;}();o(od,"ProgressTimeout");d_.exports=od;});var yl=v(function(F7,p_){"use strict";function KA(r){return r?r.readyState!==0&&r.readyState!==4||r.status===0:!1;}o(KA,"isNetworkError");p_.exports=KA;});var y_=v(function(E7,v_){"use strict";var GA=Ri(),ld=Ke(),XA=pi();function ht(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(ht,"_classPrivateFieldLooseBase");var YA=0;function Xi(r){return"__private_"+YA++ +"_"+r;}o(Xi,"_classPrivateFieldLooseKey");var JA=no(),QA=oo(),f_=uo(),ZA=ad(),m_=xn(),e4=Cs(),t4=yl();function g_(r,e){if(t4(r))return new e4(e,r);var t=new m_("Upload error",{cause:e});return t.request=r,t;}o(g_,"buildResponseError");function r4(r){return r.data.slice(0,r.data.size,r.meta.type);}o(r4,"setTypeInBlob");function i4(r,e,t){(Array.isArray(t.metaFields)?t.metaFields:Object.keys(e)).forEach(function(s){r.append(s,e[s]);});}o(i4,"addMetadata");function s4(r,e){var t=new FormData();i4(t,r.meta,e);var i=r4(r);return r.name?t.append(e.fieldName,i,r.meta.name):t.append(e.fieldName,i),t;}o(s4,"createFormDataUpload");var n4=o(function(r){return r.data;},"createBareUpload"),ho=Xi("queueRequestSocketToken"),Yi=Xi("getOptions"),Ji=Xi("addEventHandlerForFile"),Qi=Xi("addEventHandlerIfFileStillExists"),ud=Xi("uploadLocalFile"),cd=Xi("requestSocketToken"),hd=Xi("uploadRemoteFile"),dd=/*#__PURE__*/function(){function dd(e,t){var _this139=this;_classCallCheck(this,dd);Object.defineProperty(this,hd,{value:c4}),Object.defineProperty(this,ud,{value:u4}),Object.defineProperty(this,Qi,{value:l4}),Object.defineProperty(this,Ji,{value:a4}),Object.defineProperty(this,Yi,{value:o4}),Object.defineProperty(this,ho,{writable:!0,value:void 0}),Object.defineProperty(this,cd,{writable:!0,value:function(){var _value2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee42(i){var s,n,a,l;return _regeneratorRuntime().wrap(function _callee42$(_context42){while(1)switch(_context42.prev=_context42.next){case 0:s=ht(_this139,Yi)[Yi](i),n=i.remote.providerOptions.provider?ld.Provider:ld.RequestClient,a=new n(_this139.uppy,i.remote.providerOptions),l=Array.isArray(s.metaFields)?s.metaFields:Object.keys(i.meta);i.tus&&Object.assign(s,i.tus);_context42.next=4;return a.post(i.remote.url,_objectSpread(_objectSpread({},i.remote.body),{},{endpoint:s.endpoint,size:i.data.size,fieldname:s.fieldName,metadata:Object.fromEntries(l.map(function(c){return[c,i.meta[c]];})),httpMethod:s.method,useFormData:s.formData,headers:s.headers}));case 4:return _context42.abrupt("return",_context42.sent.token);case 5:case"end":return _context42.stop();}},_callee42);}));function value(_x36){return _value2.apply(this,arguments);}return value;}()}),this.uppy=e,this.opts=_objectSpread({validateStatus:function validateStatus(i){return i>=200&&i<300;}},t),this.requests=t[XA.internalRateLimitedQueue],this.uploaderEvents=Object.create(null),this.i18n=t.i18n,ht(this,ho)[ho]=this.requests.wrapPromiseFunction(ht(this,cd)[cd],{priority:-1});}_createClass(dd,[{key:"uploadFile",value:function uploadFile(e,t,i){var s=this.uppy.getFile(e);if(s.error)throw new Error(s.error);return s.isRemote?ht(this,hd)[hd](s,t,i):ht(this,ud)[ud](s,t,i);}},{key:"connectToServerSocket",value:function connectToServerSocket(e){var _this140=this;return new Promise(function(t,i){var s=ht(_this140,Yi)[Yi](e),n=e.serverToken,a=QA(e.remote.companionUrl),l,u=o(function(){l==null&&(l=new ld.Socket({target:"".concat(a,"/api/").concat(n)}),l.on("progress",function(p){return JA(_this140,p,e);}),l.on("success",function(p){var g=s.getResponseData(p.response.responseText,p.response),w=g[s.responseUrlFieldName],b={status:p.response.status,body:g,uploadURL:w,bytesUploaded:p.bytesUploaded};return _this140.uppy.emit("upload-success",e,b),c.done(),l.close(),_this140.uploaderEvents[e.id]&&(_this140.uploaderEvents[e.id].remove(),_this140.uploaderEvents[e.id]=null),t();}),l.on("error",function(p){var g=p.response,w=g?s.getResponseError(g.responseText,g):new m_(p.error.message,{cause:p.error});_this140.uppy.emit("upload-error",e,w),c.done(),_this140.uploaderEvents[e.id]&&(_this140.uploaderEvents[e.id].remove(),_this140.uploaderEvents[e.id]=null),i(w);}));},"createSocket");_this140.uploaderEvents[e.id]=new f_(_this140.uppy);var c=_this140.requests.run(function(){if(e.isPaused){var p;(p=l)==null||p.send("pause",{});}else u();return function(){return l.close();};});ht(_this140,Ji)[Ji]("file-removed",e.id,function(){var p;(p=l)==null||p.send("cancel",{}),c.abort(),t("upload ".concat(e.id," was removed"));}),ht(_this140,Qi)[Qi]("cancel-all",e.id,function(p){var _ref15=p===void 0?{}:p,g=_ref15.reason;if(g==="user"){var w;(w=l)==null||w.send("cancel",{}),c.abort();}t("upload ".concat(e.id," was canceled"));});var h=o(function(){l==null?c.abort():(l.send("pause",{}),c.done()),c=_this140.requests.run(function(){return e.isPaused||(l==null?u():l.send("resume",{})),function(){return l.close();};});},"onRetryRequest");ht(_this140,Ji)[Ji]("upload-retry",e.id,h),ht(_this140,Qi)[Qi]("retry-all",e.id,h);})["catch"](function(t){return _this140.uppy.emit("upload-error",e,t),Promise.reject(t);});}}]);return dd;}();o(dd,"MiniXHRUpload");function o4(r){var e;var t=this.uppy,i=t.getState().xhrUpload;return _objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.opts),i||{}),r.xhrUpload||{}),{},{headers:_objectSpread(_objectSpread(_objectSpread({},this.opts.headers),i==null?void 0:i.headers),(e=r.xhrUpload)==null?void 0:e.headers)});}o(o4,"_getOptions2");function a4(r,e,t){this.uploaderEvents[e].on(r,function(i){e===i&&t();});}o(a4,"_addEventHandlerForFile2");function l4(r,e,t){var i=this;this.uploaderEvents[e].on(r,function(){i.uppy.getFile(e)&&t.apply(void 0,arguments);});}o(l4,"_addEventHandlerIfFileStillExists2");function u4(r,e,t){var _this141=this;var i=ht(this,Yi)[Yi](r);return this.uppy.log("uploading ".concat(e," of ").concat(t)),new Promise(function(s,n){var a=i.formData?s4(r,i):n4(r,i),l=new XMLHttpRequest();_this141.uploaderEvents[r.id]=new f_(_this141.uppy);var u=new ZA(i.timeout,function(){l.abort(),h.done();var p=new Error(_this141.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));_this141.uppy.emit("upload-error",r,p),n(p);}),c=(0,GA.nanoid)();l.upload.addEventListener("loadstart",function(){_this141.uppy.log("[AwsS3/XHRUpload] ".concat(c," started"));}),l.upload.addEventListener("progress",function(p){_this141.uppy.log("[AwsS3/XHRUpload] ".concat(c," progress: ").concat(p.loaded," / ").concat(p.total)),u.progress(),p.lengthComputable&&_this141.uppy.emit("upload-progress",r,{uploader:_this141,bytesUploaded:p.loaded,bytesTotal:p.total});}),l.addEventListener("load",function(p){if(_this141.uppy.log("[AwsS3/XHRUpload] ".concat(c," finished")),u.done(),h.done(),_this141.uploaderEvents[r.id]&&(_this141.uploaderEvents[r.id].remove(),_this141.uploaderEvents[r.id]=null),i.validateStatus(p.target.status,l.responseText,l)){var E=i.getResponseData(l.responseText,l),F=E[i.responseUrlFieldName],C={status:p.target.status,body:E,uploadURL:F};return _this141.uppy.emit("upload-success",r,C),F&&_this141.uppy.log("Download ".concat(r.name," from ").concat(F)),s(r);}var g=i.getResponseData(l.responseText,l),w=g_(l,i.getResponseError(l.responseText,l)),b={status:p.target.status,body:g};return _this141.uppy.emit("upload-error",r,w,b),n(w);}),l.addEventListener("error",function(){_this141.uppy.log("[AwsS3/XHRUpload] ".concat(c," errored")),u.done(),h.done(),_this141.uploaderEvents[r.id]&&(_this141.uploaderEvents[r.id].remove(),_this141.uploaderEvents[r.id]=null);var p=g_(l,i.getResponseError(l.responseText,l));return _this141.uppy.emit("upload-error",r,p),n(p);}),l.open(i.method.toUpperCase(),i.endpoint,!0),l.withCredentials=Boolean(i.withCredentials),i.responseType!==""&&(l.responseType=i.responseType),Object.keys(i.headers).forEach(function(p){l.setRequestHeader(p,i.headers[p]);});var h=_this141.requests.run(function(){return l.send(a),function(){u.done(),l.abort();};},{priority:1});ht(_this141,Ji)[Ji]("file-removed",r.id,function(){h.abort(),n(new Error("File removed"));}),ht(_this141,Qi)[Qi]("cancel-all",r.id,function(p){var _ref16=p===void 0?{}:p,g=_ref16.reason;g==="user"&&h.abort(),n(new Error("Upload cancelled"));});});}o(u4,"_uploadLocalFile2");function c4(_x37){return _c2.apply(this,arguments);}function _c2(){_c2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee43(r){var e;return _regeneratorRuntime().wrap(function _callee43$(_context43){while(1)switch(_context43.prev=_context43.next){case 0:_context43.prev=0;if(!r.serverToken){_context43.next=3;break;}return _context43.abrupt("return",this.connectToServerSocket(r));case 3:_context43.next=5;return ht(this,ho)[ho](r);case 5:e=_context43.sent;return _context43.abrupt("return",this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:e}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0);case 9:_context43.prev=9;_context43.t0=_context43["catch"](0);throw this.uppy.emit("upload-error",r,_context43.t0),_context43.t0;case 12:case"end":return _context43.stop();}},_callee43,this,[[0,9]]);}));return _c2.apply(this,arguments);}o(c4,"_uploadRemoteFile2");v_.exports=dd;});var w_=v(function(C7,b_){"use strict";function h4(r){return r.replace(/;.*$/,"");}o(h4,"removeMimeParameters");function d4(r,e){var t=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof t=="string"){var i=h4(t).toLowerCase();if(i==="application/xml"||i==="text/xml"||i==="text/html"&&/^<\?xml /.test(r))return!0;}return!1;}o(d4,"isXml");b_.exports=d4;});var S_=v(function(R7,__){"use strict";__.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};});var O_=v(function(O7,R_){"use strict";var P_=pi(),p4=Ke(),F_;function et(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(et,"_classPrivateFieldLooseBase");var f4=0;function po(r){return"__private_"+f4++ +"_"+r;}o(po,"_classPrivateFieldLooseKey");var m4=Ut(),g4={version:"2.2.4"},v4=y_(),E_=w_(),y4=S_();function b4(r,e){return new URL(e,r||void 0).toString();}o(b4,"resolveUrl");function fo(r,e){var t=r.indexOf("<".concat(e,">")),i=r.indexOf("</".concat(e,">"),t);return t!==-1&&i!==-1?r.slice(t+e.length+2,i):"";}o(fo,"getXmlValue");function w4(r){if(r&&r.error){var e=new Error(r.message);throw Object.assign(e,r.error),e;}return r;}o(w4,"assertServerError");function _4(r,e){if(!(e!=null&&typeof e.url=="string"&&(_typeof(e.fields)=="object"||e.fields==null)))throw new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(r.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));if(!(e.method==null||/^p(u|os)t$/i.test(e.method)))throw new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(r.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));}o(_4,"validateParameters");function S4(r,e){if(!E_(r,e))return;var t=fo(r,"Message");return new Error(t);}o(S4,"defaultGetResponseError");var C_=!1,Pt=po("client"),Zi=po("requests"),mo=po("uploader"),go=po("handleUpload"),vo=po("setCompanionHeaders");F_=Symbol["for"]("uppy test: getClient");var bl=/*#__PURE__*/function(_m3,_F_){_inherits(bl,_m3);var _super54=_createSuper(bl);function bl(e,t){var _this142;_classCallCheck(this,bl);_this142=_super54.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this142),Pt,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this142),Zi,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this142),mo,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this142),go,{writable:!0,value:function value(s){var n=Object.create(null);function a(c){var h;var p=c.id;(h=n[p])==null||h.abort();}o(a,"onremove"),_this142.uppy.on("file-removed",a),s.forEach(function(c){var h=_this142.uppy.getFile(c);_this142.uppy.emit("upload-started",h);});var l=et(_assertThisInitialized(_this142),Zi)[Zi].wrapPromiseFunction(function(c){return _this142.opts.getUploadParameters(c);}),u=s.length;return Promise.allSettled(s.map(function(c,h){return n[c]=l(_this142.uppy.getFile(c)),n[c].then(function(p){delete n[c];var g=_this142.uppy.getFile(c);_4(g,p);var _p$method=p.method,w=_p$method===void 0?"post":_p$method,b=p.url,E=p.fields,F=p.headers,C={method:w,formData:w.toLowerCase()==="post",endpoint:b,metaFields:E?Object.keys(E):[]};return F&&(C.headers=F),_this142.uppy.setFileState(g.id,{meta:_objectSpread(_objectSpread({},g.meta),E),xhrUpload:C}),et(_assertThisInitialized(_this142),mo)[mo].uploadFile(g.id,h,u);})["catch"](function(p){delete n[c];var g=_this142.uppy.getFile(c);return _this142.uppy.emit("upload-error",g,p),Promise.reject(p);});}))["finally"](function(){_this142.uppy.off("file-removed",a);});}}),Object.defineProperty(_assertThisInitialized(_this142),vo,{writable:!0,value:function value(){return et(_assertThisInitialized(_this142),Pt)[Pt].setCompanionHeaders(_this142.opts.companionHeaders),Promise.resolve();}}),_this142.type="uploader",_this142.id=_this142.opts.id||"AwsS3",_this142.title="AWS S3",_this142.defaultLocale=y4;var i={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:_this142.getUploadParameters.bind(_assertThisInitialized(_this142)),companionHeaders:{}};_this142.opts=_objectSpread(_objectSpread({},i),t),_this142.i18nInit(),et(_assertThisInitialized(_this142),Pt)[Pt]=new p4.RequestClient(e,t),et(_assertThisInitialized(_this142),Zi)[Zi]=new P_.RateLimitedQueue(_this142.opts.limit);return _this142;}_createClass(bl,[{key:_F_,value:function value(){return et(this,Pt)[Pt];}},{key:"client",get:function get(){return et(this,Pt)[Pt];}},{key:"client",set:function set(e){et(this,Pt)[Pt]=e;}},{key:"getUploadParameters",value:function getUploadParameters(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var t=e.meta.name,i=e.meta.type,s=Object.fromEntries(this.opts.metaFields.filter(function(a){return e.meta[a]!=null;}).map(function(a){return["metadata[".concat(a,"]"),e.meta[a].toString()];})),n=new URLSearchParams(_objectSpread({filename:t,type:i},s));return et(this,Pt)[Pt].get("s3/params?".concat(n)).then(w4);}},{key:"install",value:function install(){var _i20;var e=this.uppy;e.addPreProcessor(et(this,vo)[vo]),e.addUploader(et(this,go)[go]);function t(s,n){var a=this;return E_(s,n)?{location:b4(n.responseURL,fo(s,"Location")),bucket:fo(s,"Bucket"),key:fo(s,"Key"),etag:fo(s,"ETag")}:a.method.toUpperCase()==="POST"?(C_||(e.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),C_=!0),{location:null}):n.responseURL?{location:n.responseURL.replace(/\?.*$/,"")}:{location:null};}o(t,"defaultGetResponseData");var i=(_i20={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},_defineProperty(_i20,P_.internalRateLimitedQueue,et(this,Zi)[Zi]),_defineProperty(_i20,"responseType","text"),_defineProperty(_i20,"getResponseData",this.opts.getResponseData||t),_defineProperty(_i20,"getResponseError",S4),_i20);i.i18n=this.i18n,et(this,mo)[mo]=new v4(e,i);}},{key:"uninstall",value:function uninstall(){this.uppy.removePreProcessor(et(this,vo)[vo]),this.uppy.removeUploader(et(this,go)[go]);}}]);return bl;}(m4,F_);o(bl,"AwsS3");bl.VERSION=g4.version;R_.exports=bl;});var pd=v(function(fi){"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.createAbortError=fi.AbortSignal=fi.AbortController=void 0;var P4=_globalThis.AbortController;fi.AbortController=P4;var F4=_globalThis.AbortSignal;fi.AbortSignal=F4;var E4=o(function(r){return r===void 0&&(r="Aborted"),new DOMException(r,"AbortError");},"createAbortError");fi.createAbortError=E4;});var k_=v(function(T7,T_){"use strict";var x_=pd();function C4(r,e){return new Promise(function(t,i){var s,n;if(e!=null&&(s=e.signal)!=null&&s.aborted)return i((0,x_.createAbortError)());var a=setTimeout(function(){u(),t();},r);function l(){clearTimeout(a),u(),i((0,x_.createAbortError)());}o(l,"onabort"),e==null||(n=e.signal)==null||n.addEventListener("abort",l);function u(){var c;e==null||(c=e.signal)==null||c.removeEventListener("abort",l);}o(u,"cleanup");});}o(C4,"delay");T_.exports=C4;});var q_=v(function(k7,D_){"use strict";var es=pd();function de(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(de,"_classPrivateFieldLooseBase");var R4=0;function tt(r){return"__private_"+R4++ +"_"+r;}o(tt,"_classPrivateFieldLooseKey");var O4=k_(),x4=1024*1024,A_={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function getChunkSize(r){return Math.ceil(r.size/1e4);},onStart:function onStart(){},onProgress:function onProgress(){},onPartComplete:function onPartComplete(){},onSuccess:function onSuccess(){},onError:function onError(r){throw r;}};function U_(r){if(typeof r=="string")return parseInt(r,10);if(typeof r=="number")return r;throw new TypeError("Expected a number");}o(U_,"ensureInt");var Wr=tt("aborted"),fd=tt("initChunks"),md=tt("createUpload"),gd=tt("resumeUpload"),ts=tt("uploadParts"),yo=tt("retryable"),vd=tt("prepareUploadParts"),yd=tt("uploadPartRetryable"),bd=tt("uploadPart"),bo=tt("onPartProgress"),wd=tt("onPartComplete"),_d=tt("uploadPartBytes"),Sd=tt("completeUpload"),Pd=tt("abortUpload"),Kr=tt("onError"),Fd=/*#__PURE__*/function(){function Fd(e,t){_classCallCheck(this,Fd);Object.defineProperty(this,Kr,{value:$4}),Object.defineProperty(this,Pd,{value:H4}),Object.defineProperty(this,Sd,{value:z4}),Object.defineProperty(this,_d,{value:j4}),Object.defineProperty(this,wd,{value:L4}),Object.defineProperty(this,bo,{value:M4}),Object.defineProperty(this,bd,{value:B4}),Object.defineProperty(this,yd,{value:I4}),Object.defineProperty(this,vd,{value:N4}),Object.defineProperty(this,yo,{value:q4}),Object.defineProperty(this,ts,{value:D4}),Object.defineProperty(this,gd,{value:U4}),Object.defineProperty(this,md,{value:A4}),Object.defineProperty(this,fd,{value:k4}),Object.defineProperty(this,Wr,{value:T4}),this.options=_objectSpread(_objectSpread({},A_),t),this.options.getChunkSize||(this.options.getChunkSize=A_.getChunkSize),this.file=e,this.abortController=new es.AbortController(),this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,de(this,fd)[fd](),this.createdPromise["catch"](function(){});}_createClass(Fd,[{key:"start",value:function start(){this.isPaused=!1,this.uploadId?de(this,gd)[gd]():de(this,md)[md]();}},{key:"pause",value:function pause(){this.abortController.abort(),this.abortController=new es.AbortController(),this.isPaused=!0;}},{key:"abort",value:function abort(e){var t;e===void 0&&(e=void 0),(t=e)!=null&&t.really?de(this,Pd)[Pd]():this.pause();}}]);return Fd;}();o(Fd,"MultipartUploader");function T4(){return this.abortController.signal.aborted;}o(T4,"_aborted2");function k4(){var r=[],e=this.options.getChunkSize(this.file),t=Math.max(5*x4,Math.ceil(this.file.size/1e4)),i=Math.max(e,t);if(this.file.size===0)r.push(this.file);else for(var s=0;s<this.file.size;s+=i){var n=Math.min(this.file.size,s+i);r.push(this.file.slice(s,n));}this.chunks=r,this.chunkState=r.map(function(){return{uploaded:0,busy:!1,done:!1};});}o(k4,"_initChunks2");function A4(){var _this143=this;return this.createdPromise=Promise.resolve().then(function(){return _this143.options.createMultipartUpload();}),this.createdPromise.then(function(r){if(de(_this143,Wr)[Wr]())throw(0,es.createAbortError)();if(!(_typeof(r)=="object"&&r&&typeof r.uploadId=="string"&&typeof r.key=="string"))throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");_this143.key=r.key,_this143.uploadId=r.uploadId,_this143.options.onStart(r),de(_this143,ts)[ts]();})["catch"](function(r){de(_this143,Kr)[Kr](r);});}o(A4,"_createUpload2");function U4(){return _U2.apply(this,arguments);}function _U2(){_U2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee44(){var _this149=this;var r;return _regeneratorRuntime().wrap(function _callee44$(_context44){while(1)switch(_context44.prev=_context44.next){case 0:_context44.prev=0;_context44.next=3;return this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:r=_context44.sent;if(!de(this,Wr)[Wr]()){_context44.next=6;break;}throw(0,es.createAbortError)();case 6:r.forEach(function(e){var t=e.PartNumber-1;_this149.chunkState[t]={uploaded:U_(e.Size),etag:e.ETag,done:!0},_this149.parts.some(function(i){return i.PartNumber===e.PartNumber;})||_this149.parts.push({PartNumber:e.PartNumber,ETag:e.ETag});}),de(this,ts)[ts]();_context44.next=12;break;case 9:_context44.prev=9;_context44.t0=_context44["catch"](0);de(this,Kr)[Kr](_context44.t0);case 12:case"end":return _context44.stop();}},_callee44,this,[[0,9]]);}));return _U2.apply(this,arguments);}o(U4,"_resumeUpload2");function D4(){var _this144=this;if(this.isPaused)return;if(this.chunkState.every(function(n){return n.done;})){de(this,Sd)[Sd]();return;}var r=this.options.limit-this.partsInProgress,e=this.chunkState.filter(function(n){return n.done;}).length,t=this.chunks.length-e,i=Math.ceil(this.options.limit/2);if(i>t&&(i=t),r<i)return;var s=[];for(var n=0;n<this.chunkState.length;n++){var a=this.chunkState[n];if(!(a.done||a.busy)&&(s.push(n),s.length>=r))break;}s.length!==0&&de(this,vd)[vd](s).then(function(n){s.forEach(function(a){var l=a+1,u={url:n.presignedUrls[l],headers:n.headers};de(_this144,yd)[yd](a,u).then(function(){de(_this144,ts)[ts]();},function(c){de(_this144,Kr)[Kr](c);});});});}o(D4,"_uploadParts2");function q4(r){var _this145=this;var e=r.before,t=r.attempt,i=r.after,s=this.options.retryDelays,n=this.abortController.signal;e&&e();function a(u){if(u.source&&typeof u.source.status=="number"){var c=u.source.status;return c===0||c===409||c===423||c>=500&&c<600;}return!1;}o(a,"shouldRetry");var l=o(function(u){return t()["catch"](function(c){if(de(_this145,Wr)[Wr]())throw(0,es.createAbortError)();if(a(c)&&u<s.length)return O4(s[u],{signal:n}).then(function(){return l(u+1);});throw c;});},"doAttempt");return l(0).then(function(u){return i&&i(),u;},function(u){throw i&&i(),u;});}o(q4,"_retryable2");function N4(_x38){return _N2.apply(this,arguments);}function _N2(){_N2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee45(r){var _this150=this;var e;return _regeneratorRuntime().wrap(function _callee45$(_context45){while(1)switch(_context45.prev=_context45.next){case 0:r.forEach(function(t){_this150.chunkState[t].busy=!0;});_context45.next=3;return de(this,yo)[yo]({attempt:function attempt(){return _this150.options.prepareUploadParts({key:_this150.key,uploadId:_this150.uploadId,partNumbers:r.map(function(t){return t+1;}),chunks:r.reduce(function(t,i){return _objectSpread(_objectSpread({},t),{},_defineProperty({},i+1,_this150.chunks[i]));},{})});}});case 3:e=_context45.sent;if(!(_typeof(e==null?void 0:e.presignedUrls)!="object")){_context45.next=6;break;}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return _context45.abrupt("return",e);case 7:case"end":return _context45.stop();}},_callee45,this);}));return _N2.apply(this,arguments);}o(N4,"_prepareUploadParts2");function I4(r,e){var _this146=this;return de(this,yo)[yo]({before:function before(){_this146.chunkState[r].busy=!0,_this146.partsInProgress+=1;},attempt:function attempt(){return de(_this146,bd)[bd](r,e);},after:function after(){_this146.chunkState[r].busy=!1,_this146.partsInProgress-=1;}});}o(I4,"_uploadPartRetryable2");function B4(r,e){if(!(typeof(e==null?void 0:e.url)=="string"))throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var i=e.url,s=e.headers;if(de(this,Wr)[Wr]())throw(0,es.createAbortError)();return de(this,_d)[_d](r,i,s);}o(B4,"_uploadPart2");function M4(r,e){this.chunkState[r].uploaded=U_(e);var t=this.chunkState.reduce(function(i,s){return i+s.uploaded;},0);this.options.onProgress(t,this.file.size);}o(M4,"_onPartProgress2");function L4(r,e){this.chunkState[r].etag=e,this.chunkState[r].done=!0;var t={PartNumber:r+1,ETag:e};this.parts.push(t),this.options.onPartComplete(t);}o(L4,"_onPartComplete2");function j4(r,e,t){var _this147=this;var i=this.chunks[r],s=this.abortController.signal,n,a=new Promise(function(h,p){n={resolve:h,reject:p};}),l=new XMLHttpRequest();l.open("PUT",e,!0),t&&Object.keys(t).forEach(function(h){l.setRequestHeader(h,t[h]);}),l.responseType="text";function u(){s.removeEventListener("abort",c);}o(u,"cleanup");function c(){l.abort();}return o(c,"onabort"),s.addEventListener("abort",c),l.upload.addEventListener("progress",function(h){!h.lengthComputable||de(_this147,bo)[bo](r,h.loaded,h.total);}),l.addEventListener("abort",function(){u(),n.reject((0,es.createAbortError)());}),l.addEventListener("load",function(h){if(u(),h.target.status<200||h.target.status>=300){var g=new Error("Non 2xx");g.source=h.target,n.reject(g);return;}_this147.chunks[r]=null,de(_this147,bo)[bo](r,i.size,i.size);var p=h.target.getResponseHeader("ETag");if(p===null){n.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return;}de(_this147,wd)[wd](r,p),n.resolve();}),l.addEventListener("error",function(h){u();var p=new Error("Unknown error");p.source=h.target,n.reject(p);}),l.send(i),a;}o(j4,"_uploadPartBytes2");function z4(){return _z5.apply(this,arguments);}function _z5(){_z5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee46(){var r;return _regeneratorRuntime().wrap(function _callee46$(_context46){while(1)switch(_context46.prev=_context46.next){case 0:this.parts.sort(function(r,e){return r.PartNumber-e.PartNumber;});_context46.prev=1;_context46.next=4;return this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:r=_context46.sent;this.options.onSuccess(r);_context46.next=11;break;case 8:_context46.prev=8;_context46.t0=_context46["catch"](1);de(this,Kr)[Kr](_context46.t0);case 11:case"end":return _context46.stop();}},_callee46,this,[[1,8]]);}));return _z5.apply(this,arguments);}o(z4,"_completeUpload2");function H4(){var _this148=this;this.abortController.abort(),this.createdPromise.then(function(){return _this148.options.abortMultipartUpload({key:_this148.key,uploadId:_this148.uploadId});})["catch"](function(){});}o(H4,"_abortUpload2");function $4(r){r&&r.name==="AbortError"||this.options.onError(r);}o($4,"_onError2");D_.exports=Fd;});var M_=v(function(A7,B_){"use strict";var wl=Ke(),V4=pi(),N_;function rt(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(rt,"_classPrivateFieldLooseBase");var W4=0;function _l(r){return"__private_"+W4++ +"_"+r;}o(_l,"_classPrivateFieldLooseKey");var K4=Ut(),I_=uo(),G4=no(),X4=oo(),Y4={version:"2.4.3"},J4=q_();function wo(r){if(r&&r.error){var e=new Error(r.message);throw Object.assign(e,r.error),e;}return r;}o(wo,"assertServerError");var _o=_l("queueRequestSocketToken"),Pe=_l("client"),Ed=_l("requestSocketToken"),So=_l("setCompanionHeaders");N_=Symbol["for"]("uppy test: getClient");var Sl=/*#__PURE__*/function(_K,_N_){_inherits(Sl,_K);var _super55=_createSuper(Sl);function Sl(e,t){var _this151;_classCallCheck(this,Sl);_this151=_super55.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this151),_o,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this151),Pe,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this151),Ed,{writable:!0,value:function(){var _value3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee47(s){var n,a,l;return _regeneratorRuntime().wrap(function _callee47$(_context47){while(1)switch(_context47.prev=_context47.next){case 0:n=s.remote.providerOptions.provider?wl.Provider:wl.RequestClient,a=new n(_this151.uppy,s.remote.providerOptions),l=_objectSpread({},_this151.opts);s.tus&&Object.assign(l,s.tus);_context47.next=4;return a.post(s.remote.url,_objectSpread(_objectSpread({},s.remote.body),{},{protocol:"s3-multipart",size:s.data.size,metadata:s.meta}));case 4:return _context47.abrupt("return",_context47.sent.token);case 5:case"end":return _context47.stop();}},_callee47);}));function value(_x39){return _value3.apply(this,arguments);}return value;}()}),Object.defineProperty(_assertThisInitialized(_this151),So,{writable:!0,value:function value(){return rt(_assertThisInitialized(_this151),Pe)[Pe].setCompanionHeaders(_this151.opts.companionHeaders),Promise.resolve();}}),_this151.type="uploader",_this151.id=_this151.opts.id||"AwsS3Multipart",_this151.title="AWS S3 Multipart",rt(_assertThisInitialized(_this151),Pe)[Pe]=new wl.RequestClient(e,t);var i={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:_this151.createMultipartUpload.bind(_assertThisInitialized(_this151)),listParts:_this151.listParts.bind(_assertThisInitialized(_this151)),prepareUploadParts:_this151.prepareUploadParts.bind(_assertThisInitialized(_this151)),abortMultipartUpload:_this151.abortMultipartUpload.bind(_assertThisInitialized(_this151)),completeMultipartUpload:_this151.completeMultipartUpload.bind(_assertThisInitialized(_this151)),companionHeaders:{}};_this151.opts=_objectSpread(_objectSpread({},i),t),_this151.upload=_this151.upload.bind(_assertThisInitialized(_this151)),_this151.requests=new V4.RateLimitedQueue(_this151.opts.limit),_this151.uploaders=Object.create(null),_this151.uploaderEvents=Object.create(null),_this151.uploaderSockets=Object.create(null),rt(_assertThisInitialized(_this151),_o)[_o]=_this151.requests.wrapPromiseFunction(rt(_assertThisInitialized(_this151),Ed)[Ed]);return _this151;}_createClass(Sl,[{key:_N_,value:function value(){return rt(this,Pe)[Pe];}},{key:"client",get:function get(){return rt(this,Pe)[Pe];}},{key:"client",set:function set(e){rt(this,Pe)[Pe]=e;}},{key:"resetUploaderReferences",value:function resetUploaderReferences(e,t){t===void 0&&(t={}),this.uploaders[e]&&(this.uploaders[e].abort({really:t.abort||!1}),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null);}},{key:"assertHost",value:function assertHost(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(e,"` implementation."));}},{key:"createMultipartUpload",value:function createMultipartUpload(e){this.assertHost("createMultipartUpload");var t={};return Object.keys(e.meta).forEach(function(i){e.meta[i]!=null&&(t[i]=e.meta[i].toString());}),rt(this,Pe)[Pe].post("s3/multipart",{filename:e.name,type:e.type,metadata:t}).then(wo);}},{key:"listParts",value:function listParts(e,t){var i=t.key,s=t.uploadId;this.assertHost("listParts");var n=encodeURIComponent(i);return rt(this,Pe)[Pe].get("s3/multipart/".concat(s,"?key=").concat(n)).then(wo);}},{key:"prepareUploadParts",value:function prepareUploadParts(e,t){var i=t.key,s=t.uploadId,n=t.partNumbers;this.assertHost("prepareUploadParts");var a=encodeURIComponent(i);return rt(this,Pe)[Pe].get("s3/multipart/".concat(s,"/batch?key=").concat(a,"&partNumbers=").concat(n.join(","))).then(wo);}},{key:"completeMultipartUpload",value:function completeMultipartUpload(e,t){var i=t.key,s=t.uploadId,n=t.parts;this.assertHost("completeMultipartUpload");var a=encodeURIComponent(i),l=encodeURIComponent(s);return rt(this,Pe)[Pe].post("s3/multipart/".concat(l,"/complete?key=").concat(a),{parts:n}).then(wo);}},{key:"abortMultipartUpload",value:function abortMultipartUpload(e,t){var i=t.key,s=t.uploadId;this.assertHost("abortMultipartUpload");var n=encodeURIComponent(i),a=encodeURIComponent(s);return rt(this,Pe)[Pe]["delete"]("s3/multipart/".concat(a,"?key=").concat(n)).then(wo);}},{key:"uploadFile",value:function uploadFile(e){var _this152=this;var t=this;return new Promise(function(i,s){var n,a=o(function(g){var w=_this152.uppy.getFile(e.id);_this152.uppy.setFileState(e.id,{s3Multipart:_objectSpread(_objectSpread({},w.s3Multipart),{},{key:g.key,uploadId:g.uploadId})});},"onStart"),l=o(function(g,w){_this152.uppy.emit("upload-progress",e,{uploader:_this152,bytesUploaded:g,bytesTotal:w});},"onProgress"),u=o(function(g){_this152.uppy.log(g),_this152.uppy.emit("upload-error",e,g),n.done(),_this152.resetUploaderReferences(e.id),s(g);},"onError"),c=o(function(g){var w=p,b={body:_objectSpread({},g),uploadURL:g.location};n.done(),_this152.resetUploaderReferences(e.id);var E=_this152.uppy.getFile(e.id);_this152.uppy.emit("upload-success",E||e,b),g.location&&_this152.uppy.log("Download ".concat(w.file.name," from ").concat(g.location)),i(w);},"onSuccess"),h=o(function(g){var w=_this152.uppy.getFile(e.id);!w||_this152.uppy.emit("s3-multipart:part-uploaded",w,g);},"onPartComplete"),p=new J4(e.data,_objectSpread({createMultipartUpload:_this152.opts.createMultipartUpload.bind(_this152,e),listParts:_this152.opts.listParts.bind(_this152,e),prepareUploadParts:_this152.opts.prepareUploadParts.bind(_this152,e),completeMultipartUpload:_this152.opts.completeMultipartUpload.bind(_this152,e),abortMultipartUpload:_this152.opts.abortMultipartUpload.bind(_this152,e),getChunkSize:_this152.opts.getChunkSize?_this152.opts.getChunkSize.bind(_this152):null,onStart:a,onProgress:l,onError:u,onSuccess:c,onPartComplete:h,limit:_this152.opts.limit||5,retryDelays:_this152.opts.retryDelays||[]},e.s3Multipart));_this152.uploaders[e.id]=p,_this152.uploaderEvents[e.id]=new I_(_this152.uppy),n=_this152.requests.run(function(){return e.isPaused||p.start(),function(){};}),_this152.onFileRemove(e.id,function(g){n.abort(),_this152.resetUploaderReferences(e.id,{abort:!0}),i("upload ".concat(g.id," was removed"));}),_this152.onCancelAll(e.id,function(g){var _ref17=g===void 0?{}:g,w=_ref17.reason;w==="user"&&(n.abort(),t.resetUploaderReferences(e.id,{abort:!0})),i("upload ".concat(e.id," was canceled"));}),_this152.onFilePause(e.id,function(g){g?(n.abort(),p.pause()):(n.abort(),n=_this152.requests.run(function(){return p.start(),function(){};}));}),_this152.onPauseAll(e.id,function(){n.abort(),p.pause();}),_this152.onResumeAll(e.id,function(){n.abort(),e.error&&p.abort(),n=_this152.requests.run(function(){return p.start(),function(){};});}),(!e.progress.uploadStarted||!e.isRestored)&&_this152.uppy.emit("upload-started",e);});}},{key:"uploadRemote",value:function(){var _uploadRemote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee48(e){var t;return _regeneratorRuntime().wrap(function _callee48$(_context48){while(1)switch(_context48.prev=_context48.next){case 0:this.resetUploaderReferences(e.id),(!e.progress.uploadStarted||!e.isRestored)&&this.uppy.emit("upload-started",e);_context48.prev=1;if(!e.serverToken){_context48.next=4;break;}return _context48.abrupt("return",this.connectToServerSocket(e));case 4:_context48.next=6;return rt(this,_o)[_o](e);case 6:t=_context48.sent;return _context48.abrupt("return",(this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))));case 10:_context48.prev=10;_context48.t0=_context48["catch"](1);throw this.uppy.emit("upload-error",e,_context48.t0),_context48.t0;case 13:case"end":return _context48.stop();}},_callee48,this,[[1,10]]);}));function uploadRemote(_x40){return _uploadRemote.apply(this,arguments);}return uploadRemote;}()},{key:"connectToServerSocket",value:function connectToServerSocket(e){var _this153=this;var t=this;return new Promise(function(i,s){var n,a=e.serverToken,l=X4(e.remote.companionUrl),u=new wl.Socket({target:"".concat(l,"/api/").concat(a)});_this153.uploaderSockets[e.id]=u,_this153.uploaderEvents[e.id]=new I_(_this153.uppy),_this153.onFileRemove(e.id,function(){n.abort(),u.send("cancel",{}),_this153.resetUploaderReferences(e.id,{abort:!0}),i("upload ".concat(e.id," was removed"));}),_this153.onFilePause(e.id,function(c){c?(n.abort(),u.send("pause",{})):(n.abort(),n=_this153.requests.run(function(){return u.send("resume",{}),function(){};}));}),_this153.onPauseAll(e.id,function(){n.abort(),u.send("pause",{});}),_this153.onCancelAll(e.id,function(c){var _ref18=c===void 0?{}:c,h=_ref18.reason;h==="user"&&(n.abort(),u.send("cancel",{}),t.resetUploaderReferences(e.id)),i("upload ".concat(e.id," was canceled"));}),_this153.onResumeAll(e.id,function(){n.abort(),e.error&&u.send("pause",{}),n=_this153.requests.run(function(){u.send("resume",{});});}),_this153.onRetry(e.id,function(){u.isOpen&&(u.send("pause",{}),u.send("resume",{}));}),_this153.onRetryAll(e.id,function(){u.isOpen&&(u.send("pause",{}),u.send("resume",{}));}),u.on("progress",function(c){return G4(_this153,c,e);}),u.on("error",function(c){_this153.uppy.emit("upload-error",e,new Error(c.error)),_this153.resetUploaderReferences(e.id),n.done(),s(new Error(c.error));}),u.on("success",function(c){var h={uploadURL:c.url};_this153.uppy.emit("upload-success",e,h),_this153.resetUploaderReferences(e.id),n.done(),i();}),n=_this153.requests.run(function(){return e.isPaused&&u.send("pause",{}),function(){};});});}},{key:"upload",value:function upload(e){var _this154=this;if(e.length===0)return Promise.resolve();var t=e.map(function(i){var s=_this154.uppy.getFile(i);return s.isRemote?_this154.uploadRemote(s):_this154.uploadFile(s);});return Promise.all(t);}},{key:"onFileRemove",value:function onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",function(i){e===i.id&&t(i.id);});}},{key:"onFilePause",value:function onFilePause(e,t){this.uploaderEvents[e].on("upload-pause",function(i,s){e===i&&t(s);});}},{key:"onRetry",value:function onRetry(e,t){this.uploaderEvents[e].on("upload-retry",function(i){e===i&&t();});}},{key:"onRetryAll",value:function onRetryAll(e,t){var _this155=this;this.uploaderEvents[e].on("retry-all",function(){!_this155.uppy.getFile(e)||t();});}},{key:"onPauseAll",value:function onPauseAll(e,t){var _this156=this;this.uploaderEvents[e].on("pause-all",function(){!_this156.uppy.getFile(e)||t();});}},{key:"onCancelAll",value:function onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",function(){!i.uppy.getFile(e)||t.apply(void 0,arguments);});}},{key:"onResumeAll",value:function onResumeAll(e,t){var _this157=this;this.uploaderEvents[e].on("resume-all",function(){!_this157.uppy.getFile(e)||t();});}},{key:"install",value:function install(){var _this$uppy$getState5=this.uppy.getState(),e=_this$uppy$getState5.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{resumableUploads:!0})}),this.uppy.addPreProcessor(rt(this,So)[So]),this.uppy.addUploader(this.upload);}},{key:"uninstall",value:function uninstall(){var _this$uppy$getState6=this.uppy.getState(),e=_this$uppy$getState6.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{resumableUploads:!1})}),this.uppy.removePreProcessor(rt(this,So)[So]),this.uppy.removeUploader(this.upload);}}]);return Sl;}(K4,N_);o(Sl,"AwsS3Multipart");Sl.VERSION=Y4.version;B_.exports=Sl;});var L_=v(function(Cd,Ks){(function(r,e){_typeof(Cd)=="object"&&typeof Ks!="undefined"?Ks.exports=e(r):typeof define=="function"&&define.amd?define(e):e(r);})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:Cd,function(r){"use strict";r=r||{};var e=r.Base64,t="2.6.4",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(U){for(var K={},le=0,Se=U.length;le<Se;le++)K[U.charAt(le)]=le;return K;}(i),n=String.fromCharCode,a=o(function(U){if(U.length<2){var K=U.charCodeAt(0);return K<128?U:K<2048?n(192|K>>>6)+n(128|K&63):n(224|K>>>12&15)+n(128|K>>>6&63)+n(128|K&63);}else{var K=65536+(U.charCodeAt(0)-55296)*1024+(U.charCodeAt(1)-56320);return n(240|K>>>18&7)+n(128|K>>>12&63)+n(128|K>>>6&63)+n(128|K&63);}},"cb_utob"),l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u=o(function(U){return U.replace(l,a);},"utob"),c=o(function(U){var K=[0,2,1][U.length%3],le=U.charCodeAt(0)<<16|(U.length>1?U.charCodeAt(1):0)<<8|(U.length>2?U.charCodeAt(2):0),Se=[i.charAt(le>>>18),i.charAt(le>>>12&63),K>=2?"=":i.charAt(le>>>6&63),K>=1?"=":i.charAt(le&63)];return Se.join("");},"cb_encode"),h=r.btoa&&typeof r.btoa=="function"?function(U){return r.btoa(U);}:function(U){if(U.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return U.replace(/[\s\S]{1,3}/g,c);},p=o(function(U){return h(u(String(U)));},"_encode"),g=o(function(U){return U.replace(/[+\/]/g,function(K){return K=="+"?"-":"_";}).replace(/=/g,"");},"mkUriSafe"),w=o(function(U,K){return K?g(p(U)):p(U);},"encode"),b=o(function(U){return w(U,!0);},"encodeURI"),E;r.Uint8Array&&(E=o(function(U,K){for(var le="",Se=0,fe=U.length;Se<fe;Se+=3){var $t=U[Se],br=U[Se+1],mt=U[Se+2],xt=$t<<16|br<<8|mt;le+=i.charAt(xt>>>18)+i.charAt(xt>>>12&63)+(typeof br!="undefined"?i.charAt(xt>>>6&63):"=")+(typeof mt!="undefined"?i.charAt(xt&63):"=");}return K?g(le):le;},"fromUint8Array"));var F=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,C=o(function(U){switch(U.length){case 4:var K=(7&U.charCodeAt(0))<<18|(63&U.charCodeAt(1))<<12|(63&U.charCodeAt(2))<<6|63&U.charCodeAt(3),le=K-65536;return n((le>>>10)+55296)+n((le&1023)+56320);case 3:return n((15&U.charCodeAt(0))<<12|(63&U.charCodeAt(1))<<6|63&U.charCodeAt(2));default:return n((31&U.charCodeAt(0))<<6|63&U.charCodeAt(1));}},"cb_btou"),j=o(function(U){return U.replace(F,C);},"btou"),W=o(function(U){var K=U.length,le=K%4,Se=(K>0?s[U.charAt(0)]<<18:0)|(K>1?s[U.charAt(1)]<<12:0)|(K>2?s[U.charAt(2)]<<6:0)|(K>3?s[U.charAt(3)]:0),fe=[n(Se>>>16),n(Se>>>8&255),n(Se&255)];return fe.length-=[0,0,2,1][le],fe.join("");},"cb_decode"),H=r.atob&&typeof r.atob=="function"?function(U){return r.atob(U);}:function(U){return U.replace(/\S{1,4}/g,W);},J=o(function(U){return H(String(U).replace(/[^A-Za-z0-9\+\/]/g,""));},"atob"),B=o(function(U){return j(H(U));},"_decode"),M=o(function(U){return String(U).replace(/[-_]/g,function(K){return K=="-"?"+":"/";}).replace(/[^A-Za-z0-9\+\/]/g,"");},"_fromURI"),$=o(function(U){return B(M(U));},"decode"),Y;r.Uint8Array&&(Y=o(function(U){return Uint8Array.from(J(M(U)),function(K){return K.charCodeAt(0);});},"toUint8Array"));var ft=o(function(){var U=r.Base64;return r.Base64=e,U;},"noConflict");if(r.Base64={VERSION:t,atob:J,btoa:h,fromBase64:$,toBase64:w,utob:u,encode:w,encodeURI:b,btou:j,decode:$,noConflict:ft,fromUint8Array:E,toUint8Array:Y},typeof Object.defineProperty=="function"){var nt=o(function(U){return{value:U,enumerable:!1,writable:!0,configurable:!0};},"noEnum");r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",nt(function(){return $(this);})),Object.defineProperty(String.prototype,"toBase64",nt(function(U){return w(this,U);})),Object.defineProperty(String.prototype,"toBase64URI",nt(function(){return w(this,!0);}));};}return r.Meteor&&(Base64=r.Base64),typeof Ks!="undefined"&&Ks.exports?Ks.exports.Base64=r.Base64:typeof define=="function"&&define.amd&&define([],function(){return r.Base64;}),{Base64:r.Base64};});});var z_=v(function(U7,j_){"use strict";j_.exports=o(function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1;}return e!==0;},"required");});var V_=v(function(Rd){"use strict";var Q4=Object.prototype.hasOwnProperty,Z4;function H_(r){try{return decodeURIComponent(r.replace(/\+/g," "));}catch(_unused7){return null;}}o(H_,"decode");function $_(r){try{return encodeURIComponent(r);}catch(_unused8){return null;}}o($_,"encode");function e8(r){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},i;i=e.exec(r);){var s=H_(i[1]),n=H_(i[2]);s===null||n===null||s in t||(t[s]=n);}return t;}o(e8,"querystring");function t8(r,e){e=e||"";var t=[],i,s;typeof e!="string"&&(e="?");for(s in r)if(Q4.call(r,s)){if(i=r[s],!i&&(i===null||i===Z4||isNaN(i))&&(i=""),s=$_(s),i=$_(i),s===null||i===null)continue;t.push(s+"="+i);}return t.length?e+t.join("&"):"";}o(t8,"querystringify");Rd.stringify=t8;Rd.parse=e8;});var J_=v(function(q7,Y_){"use strict";var W_=z_(),Pl=V_(),r8=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i8=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s8=/^[a-zA-Z]:/,n8="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",o8=new RegExp("^"+n8+"+");function Od(r){return(r||"").toString().replace(o8,"");}o(Od,"trimLeft");var xd=[["#","hash"],["?","query"],o(function(e,t){return Gr(t.protocol)?e.replace(/\\/g,"/"):e;},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],K_={hash:1,query:1};function G_(r){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var t=e.location||{};r=r||t;var i={},s=_typeof(r),n;if(r.protocol==="blob:")i=new mr(unescape(r.pathname),{});else if(s==="string"){i=new mr(r,{});for(n in K_)delete i[n];}else if(s==="object"){for(n in r)n in K_||(i[n]=r[n]);i.slashes===void 0&&(i.slashes=r8.test(r.href));}return i;}o(G_,"lolcation");function Gr(r){return r==="file:"||r==="ftp:"||r==="http:"||r==="https:"||r==="ws:"||r==="wss:";}o(Gr,"isSpecial");function X_(r,e){r=Od(r),e=e||{};var t=i8.exec(r),i=t[1]?t[1].toLowerCase():"",s=!!t[2],n=!!t[3],a=0,l;return s?n?(l=t[2]+t[3]+t[4],a=t[2].length+t[3].length):(l=t[2]+t[4],a=t[2].length):n?(l=t[3]+t[4],a=t[3].length):l=t[4],i==="file:"?a>=2&&(l=l.slice(2)):Gr(i)?l=t[4]:i?s&&(l=l.slice(2)):a>=2&&Gr(e.protocol)&&(l=t[4]),{protocol:i,slashes:s||Gr(i),slashesCount:a,rest:l};}o(X_,"extractProtocol");function a8(r,e){if(r==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(r.split("/")),i=t.length,s=t[i-1],n=!1,a=0;i--;)t[i]==="."?t.splice(i,1):t[i]===".."?(t.splice(i,1),a++):a&&(i===0&&(n=!0),t.splice(i,1),a--);return n&&t.unshift(""),(s==="."||s==="..")&&t.push(""),t.join("/");}o(a8,"resolve");function mr(r,e,t){if(r=Od(r),!(this instanceof mr))return new mr(r,e,t);var i,s,n,a,l,u,c=xd.slice(),h=_typeof(e),p=this,g=0;for(h!=="object"&&h!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=Pl.parse),e=G_(e),s=X_(r||"",e),i=!s.protocol&&!s.slashes,p.slashes=s.slashes||i&&e.slashes,p.protocol=s.protocol||e.protocol||"",r=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||s8.test(r))||!s.slashes&&(s.protocol||s.slashesCount<2||!Gr(p.protocol)))&&(c[3]=[/(.*)/,"pathname"]);g<c.length;g++){if(a=c[g],typeof a=="function"){r=a(r,p);continue;}n=a[0],u=a[1],n!==n?p[u]=r:typeof n=="string"?~(l=r.indexOf(n))&&(typeof a[2]=="number"?(p[u]=r.slice(0,l),r=r.slice(l+a[2])):(p[u]=r.slice(l),r=r.slice(0,l))):(l=n.exec(r))&&(p[u]=l[1],r=r.slice(0,l.index)),p[u]=p[u]||i&&a[3]&&e[u]||"",a[4]&&(p[u]=p[u].toLowerCase());}t&&(p.query=t(p.query)),i&&e.slashes&&p.pathname.charAt(0)!=="/"&&(p.pathname!==""||e.pathname!=="")&&(p.pathname=a8(p.pathname,e.pathname)),p.pathname.charAt(0)!=="/"&&Gr(p.protocol)&&(p.pathname="/"+p.pathname),W_(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(a=p.auth.split(":"),p.username=a[0]||"",p.password=a[1]||""),p.origin=p.protocol!=="file:"&&Gr(p.protocol)&&p.host?p.protocol+"//"+p.host:"null",p.href=p.toString();}o(mr,"Url");function l8(r,e,t){var i=this;switch(r){case"query":typeof e=="string"&&e.length&&(e=(t||Pl.parse)(e)),i[r]=e;break;case"port":i[r]=e,W_(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[r]="");break;case"hostname":i[r]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[r]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(e){var s=r==="pathname"?"/":"#";i[r]=e.charAt(0)!==s?s+e:e;}else i[r]=e;break;default:i[r]=e;}for(var n=0;n<xd.length;n++){var a=xd[n];a[4]&&(i[a[1]]=i[a[1]].toLowerCase());}return i.origin=i.protocol!=="file:"&&Gr(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i;}o(l8,"set");function u8(r){(!r||typeof r!="function")&&(r=Pl.stringify);var e,t=this,i=t.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var s=i+(t.slashes||Gr(t.protocol)?"//":"");return t.username&&(s+=t.username,t.password&&(s+=":"+t.password),s+="@"),s+=t.host+t.pathname,e=_typeof(t.query)=="object"?r(t.query):t.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(s+=t.hash),s;}o(u8,"toString");mr.prototype={set:l8,toString:u8};mr.extractProtocol=X_;mr.location=G_;mr.trimLeft=Od;mr.qs=Pl;Y_.exports=mr;});var Z_=v(function(Cl){"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl["default"]=void 0;function Fl(r){return typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?Fl=o(function(t){return _typeof(t);},"_typeof"):Fl=o(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t);},"_typeof"),Fl(r);}o(Fl,"_typeof");function c8(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(c8,"_classCallCheck");function h8(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Po(r,e);}o(h8,"_inherits");function d8(r){return function(){var e=Fo(r),t;if(Q_()){var i=Fo(this).constructor;t=Reflect.construct(e,arguments,i);}else t=e.apply(this,arguments);return p8(this,t);};}o(d8,"_createSuper");function p8(r,e){return e&&(Fl(e)==="object"||typeof e=="function")?e:f8(r);}o(p8,"_possibleConstructorReturn");function f8(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r;}o(f8,"_assertThisInitialized");function Td(r){var e=typeof Map=="function"?new Map():void 0;return Td=o(function(i){if(i===null||!m8(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,s);}function s(){return El(i,arguments,Fo(this).constructor);}return o(s,"Wrapper"),s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Po(s,i);},"_wrapNativeSuper"),Td(r);}o(Td,"_wrapNativeSuper");function El(r,e,t){return Q_()?El=Reflect.construct:El=o(function(s,n,a){var l=[null];l.push.apply(l,n);var u=Function.bind.apply(s,l),c=new u();return a&&Po(c,a.prototype),c;},"_construct"),El.apply(null,arguments);}o(El,"_construct");function Q_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(_unused9){return!1;}}o(Q_,"_isNativeReflectConstruct");function m8(r){return Function.toString.call(r).indexOf("[native code]")!==-1;}o(m8,"_isNativeFunction");function Po(r,e){return Po=Object.setPrototypeOf||o(function(i,s){return i.__proto__=s,i;},"_setPrototypeOf"),Po(r,e);}o(Po,"_setPrototypeOf");function Fo(r){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:o(function(t){return t.__proto__||Object.getPrototypeOf(t);},"_getPrototypeOf"),Fo(r);}o(Fo,"_getPrototypeOf");var g8=function(r){h8(t,r);var e=d8(t);function t(i){var s,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(c8(this,t),s=e.call(this,i),s.originalRequest=a,s.originalResponse=l,s.causingError=n,n!=null&&(i+=", caused by ".concat(n.toString())),a!=null){var u=a.getHeader("X-Request-ID")||"n/a",c=a.getMethod(),h=a.getURL(),p=l?l.getStatus():"n/a",g=l?l.getBody()||"":"n/a";i+=", originated from request (method: ".concat(c,", url: ").concat(h,", response code: ").concat(p,", response text: ").concat(g,", request id: ").concat(u,")");}return s.message=i,s;}return o(t,"DetailedError"),t;}(Td(Error)),v8=g8;Cl["default"]=v8;});var kd=v(function(Rl){"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.enableDebugLog=y8;Rl.log=b8;var eS=!1;function y8(){eS=!0;}o(y8,"enableDebugLog");function b8(r){!eS||console.log(r);}o(b8,"log");});var tS=v(function(Ad){"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad["default"]=w8;function w8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16);});}o(w8,"uuid");});var cS=v(function(xl){"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl["default"]=void 0;var _8=L_(),S8=Ud(J_()),Ol=Ud(Z_()),rs=kd(),P8=Ud(tS());function Ud(r){return r&&r.__esModule?r:{"default":r};}o(Ud,"_interopRequireDefault");function rS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable;})),t.push.apply(t,i);}return t;}o(rS,"ownKeys");function Dd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(t),!0).forEach(function(i){F8(r,i,t[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):rS(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i));});}return r;}o(Dd,"_objectSpread");function F8(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r;}o(F8,"_defineProperty");function E8(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(E8,"_classCallCheck");function iS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(iS,"_defineProperties");function C8(r,e,t){return e&&iS(r.prototype,e),t&&iS(r,t),r;}o(C8,"_createClass");var R8={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},sS=function(){function r(e,t){E8(this,r),"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null;}return o(r,"BaseUpload"),C8(r,[{key:"findPreviousUploads",value:o(function(){var t=this;return this.options.fingerprint(this.file,this.options).then(function(i){return t._urlStorage.findUploadsByFingerprint(i);});},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:o(function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey;},"resumeFromPreviousUpload")},{key:"start",value:o(function(){var t=this,i=this.file;if(!i){this._emitError(new Error("tus: no file or stream to upload provided"));return;}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return;}var s=this.options.retryDelays;if(s!=null&&Object.prototype.toString.call(s)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return;}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(n){t.options[n]&&t._emitError(new Error("tus: cannot use the ".concat(n," option when parallelUploads is enabled")));}),this.options.fingerprint(i,this.options).then(function(n){return n==null?(0,rs.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,rs.log)("Calculated fingerprint: ".concat(n)),t._fingerprint=n,t._source?t._source:t.options.fileReader.openFile(i,t.options.chunkSize);}).then(function(n){t._source=n,t.options.parallelUploads>1||t._parallelUploadUrls!=null?t._startParallelUpload():t._startSingleUpload();})["catch"](function(n){t._emitError(n);});},"start")},{key:"_startParallelUpload",value:o(function(){var t=this,i=this._size=this._source.size,s=0;this._parallelUploads=[];var n=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,a=x8(this._source.size,n,this._parallelUploadUrls);this._parallelUploadUrls=new Array(a.length);var l=a.map(function(c,h){var p=0;return t._source.slice(c.start,c.end).then(function(g){var w=g.value;return new Promise(function(b,E){var F=Dd({},t.options,{uploadUrl:c.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:Dd({},t.options.headers,{"Upload-Concat":"partial"}),onSuccess:b,onError:E,onProgress:o(function(W){s=s-p+W,p=W,t._emitProgress(s,i);},"onProgress"),_onUploadUrlAvailable:o(function(){t._parallelUploadUrls[h]=C.url,t._parallelUploadUrls.filter(function(W){return!!W;}).length===a.length&&t._saveUploadInUrlStorage();},"_onUploadUrlAvailable")}),C=new r(w,F);C.start(),t._parallelUploads.push(C);});});}),u;Promise.all(l).then(function(){u=t._openRequest("POST",t.options.endpoint),u.setHeader("Upload-Concat","final;".concat(t._parallelUploadUrls.join(" ")));var c=nS(t.options.metadata);return c!==""&&u.setHeader("Upload-Metadata",c),t._sendRequest(u,null);}).then(function(c){if(!Gs(c.getStatus(),200)){t._emitHttpError(u,c,"tus: unexpected response while creating upload");return;}var h=c.getHeader("Location");if(h==null){t._emitHttpError(u,c,"tus: invalid or missing Location header");return;}t.url=uS(t.options.endpoint,h),(0,rs.log)("Created upload at ".concat(t.url)),t._emitSuccess();})["catch"](function(c){t._emitError(c);});},"_startParallelUpload")},{key:"_startSingleUpload",value:o(function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return;}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return;}if(this._aborted=!1,this.url!=null){(0,rs.log)("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return;}if(this.options.uploadUrl!=null){(0,rs.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return;}(0,rs.log)("Creating a new upload"),this._createUpload();},"_startSingleUpload")},{key:"abort",value:o(function(t){var i=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(s){s.abort(t);}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!t||this.url==null?Promise.resolve():r.terminate(this.url,this.options).then(function(){return i._removeFromUrlStorage();});},"abort")},{key:"_emitHttpError",value:o(function(t,i,s,n){this._emitError(new Ol["default"](s,n,t,i));},"_emitHttpError")},{key:"_emitError",value:o(function(t){var i=this;if(!this._aborted){if(this.options.retryDelays!=null){var s=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(s&&(this._retryAttempt=0),lS(t,this._retryAttempt,this.options)){var n=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){i.start();},n);return;}}if(typeof this.options.onError=="function")this.options.onError(t);else throw t;}},"_emitError")},{key:"_emitSuccess",value:o(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess();},"_emitSuccess")},{key:"_emitProgress",value:o(function(t,i){typeof this.options.onProgress=="function"&&this.options.onProgress(t,i);},"_emitProgress")},{key:"_emitChunkComplete",value:o(function(t,i,s){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(t,i,s);},"_emitChunkComplete")},{key:"_createUpload",value:o(function(){var t=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return;}var i=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?i.setHeader("Upload-Defer-Length",1):i.setHeader("Upload-Length",this._size);var s=nS(this.options.metadata);s!==""&&i.setHeader("Upload-Metadata",s);var n;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,n=this._addChunkToRequest(i)):n=this._sendRequest(i,null),n.then(function(a){if(!Gs(a.getStatus(),200)){t._emitHttpError(i,a,"tus: unexpected response while creating upload");return;}var l=a.getHeader("Location");if(l==null){t._emitHttpError(i,a,"tus: invalid or missing Location header");return;}if(t.url=uS(t.options.endpoint,l),(0,rs.log)("Created upload at ".concat(t.url)),typeof t.options._onUploadUrlAvailable=="function"&&t.options._onUploadUrlAvailable(),t._size===0){t._emitSuccess(),t._source.close();return;}t._saveUploadInUrlStorage(),t.options.uploadDataDuringCreation?t._handleUploadResponse(i,a):(t._offset=0,t._performUpload());})["catch"](function(a){t._emitHttpError(i,null,"tus: failed to create upload",a);});},"_createUpload")},{key:"_resumeUpload",value:o(function(){var t=this,i=this._openRequest("HEAD",this.url),s=this._sendRequest(i,null);s.then(function(n){var a=n.getStatus();if(!Gs(a,200)){if(Gs(a,400)&&t._removeFromUrlStorage(),a===423){t._emitHttpError(i,n,"tus: upload is currently locked; retry later");return;}if(!t.options.endpoint){t._emitHttpError(i,n,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return;}t.url=null,t._createUpload();return;}var l=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(l)){t._emitHttpError(i,n,"tus: invalid or missing offset value");return;}var u=parseInt(n.getHeader("Upload-Length"),10);if(isNaN(u)&&!t.options.uploadLengthDeferred){t._emitHttpError(i,n,"tus: invalid or missing length value");return;}if(typeof t.options._onUploadUrlAvailable=="function"&&t.options._onUploadUrlAvailable(),l===u){t._emitProgress(u,u),t._emitSuccess();return;}t._offset=l,t._performUpload();})["catch"](function(n){t._emitHttpError(i,null,"tus: failed to resume upload",n);});},"_resumeUpload")},{key:"_performUpload",value:o(function(){var t=this;if(!this._aborted){var i;this.options.overridePatchMethod?(i=this._openRequest("POST",this.url),i.setHeader("X-HTTP-Method-Override","PATCH")):i=this._openRequest("PATCH",this.url),i.setHeader("Upload-Offset",this._offset);var s=this._addChunkToRequest(i);s.then(function(n){if(!Gs(n.getStatus(),200)){t._emitHttpError(i,n,"tus: unexpected response while uploading chunk");return;}t._handleUploadResponse(i,n);})["catch"](function(n){t._aborted||t._emitHttpError(i,null,"tus: failed to upload chunk at offset ".concat(t._offset),n);});}},"_performUpload")},{key:"_addChunkToRequest",value:o(function(t){var i=this,s=this._offset,n=this._offset+this.options.chunkSize;return t.setProgressHandler(function(a){i._emitProgress(s+a,i._size);}),t.setHeader("Content-Type","application/offset+octet-stream"),(n===1/0||n>this._size)&&!this.options.uploadLengthDeferred&&(n=this._size),this._source.slice(s,n).then(function(a){var l=a.value,u=a.done;return i.options.uploadLengthDeferred&&u&&(i._size=i._offset+(l&&l.size?l.size:0),t.setHeader("Upload-Length",i._size)),l===null?i._sendRequest(t):(i._emitProgress(i._offset,i._size),i._sendRequest(t,l));});},"_addChunkToRequest")},{key:"_handleUploadResponse",value:o(function(t,i){var s=parseInt(i.getHeader("Upload-Offset"),10);if(isNaN(s)){this._emitHttpError(t,i,"tus: invalid or missing offset value");return;}if(this._emitProgress(s,this._size),this._emitChunkComplete(s-this._offset,s,this._size),this._offset=s,s==this._size){this._emitSuccess(),this._source.close();return;}this._performUpload();},"_handleUploadResponse")},{key:"_openRequest",value:o(function(t,i){var s=oS(t,i,this.options);return this._req=s,s;},"_openRequest")},{key:"_removeFromUrlStorage",value:o(function(){var t=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey)["catch"](function(i){t._emitError(i);}),this._urlStorageKey=null);},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:o(function(){var t=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var i={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?i.parallelUploadUrls=this._parallelUploadUrls:i.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,i).then(function(s){return t._urlStorageKey=s;})["catch"](function(s){t._emitError(s);});}},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:o(function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return aS(t,i,this.options);},"_sendRequest")}],[{key:"terminate",value:o(function(t,i){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");i===void 0&&(i={});var s=oS("DELETE",t,i);return aS(s,null,i).then(function(n){if(n.getStatus()!==204)throw new Ol["default"]("tus: unexpected response while terminating upload",null,s,n);})["catch"](function(n){if(n instanceof Ol["default"]||(n=new Ol["default"]("tus: failed to terminate upload",n,s,null)),!lS(n,0,i))throw n;var a=i.retryDelays[0],l=i.retryDelays.slice(1),u=Dd({},i,{retryDelays:l});return new Promise(function(c){return setTimeout(c,a);}).then(function(){return r.terminate(t,u);});});},"terminate")}]),r;}();function nS(r){var e=[];for(var t in r)e.push("".concat(t," ").concat(_8.Base64.encode(r[t])));return e.join(",");}o(nS,"encodeMetadata");function Gs(r,e){return r>=e&&r<e+100;}o(Gs,"inStatusCategory");function oS(r,e,t){var i=t.httpStack.createRequest(r,e);i.setHeader("Tus-Resumable","1.0.0");var s=t.headers||{};for(var n in s)i.setHeader(n,s[n]);if(t.addRequestId){var a=(0,P8["default"])();i.setHeader("X-Request-ID",a);}return i;}o(oS,"openRequest");function aS(r,e,t){var i=typeof t.onBeforeRequest=="function"?Promise.resolve(t.onBeforeRequest(r)):Promise.resolve();return i.then(function(){return r.send(e).then(function(s){var n=typeof t.onAfterResponse=="function"?Promise.resolve(t.onAfterResponse(r,s)):Promise.resolve();return n.then(function(){return s;});});});}o(aS,"sendRequest");function O8(){var r=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(r=!1),r;}o(O8,"isOnline");function lS(r,e,t){if(t.retryDelays==null||e>=t.retryDelays.length||r.originalRequest==null)return!1;if(t&&typeof t.onShouldRetry=="function")return t.onShouldRetry(r,e,t);var i=r.originalResponse?r.originalResponse.getStatus():0;return(!Gs(i,400)||i===409||i===423)&&O8();}o(lS,"shouldRetry");function uS(r,e){return new S8["default"](e,r).toString();}o(uS,"resolveUrl");function x8(r,e,t){for(var i=Math.floor(r/e),s=[],n=0;n<e;n++)s.push({start:i*n,end:i*(n+1)});return s[e-1].end=r,t&&s.forEach(function(a,l){a.uploadUrl=t[l]||null;}),s;}o(x8,"splitSizeIntoParts");sS.defaultOptions=R8;var T8=sS;xl["default"]=T8;});var dS=v(function(Tl){"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl["default"]=void 0;function k8(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(k8,"_classCallCheck");function hS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(hS,"_defineProperties");function A8(r,e,t){return e&&hS(r.prototype,e),t&&hS(r,t),r;}o(A8,"_createClass");var U8=function(){function r(){k8(this,r);}return o(r,"NoopUrlStorage"),A8(r,[{key:"listAllUploads",value:o(function(){return Promise.resolve([]);},"listAllUploads")},{key:"findUploadsByFingerprint",value:o(function(t){return Promise.resolve([]);},"findUploadsByFingerprint")},{key:"removeUpload",value:o(function(t){return Promise.resolve();},"removeUpload")},{key:"addUpload",value:o(function(t,i){return Promise.resolve(null);},"addUpload")}]),r;}();Tl["default"]=U8;});var fS=v(function(Xs){"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.WebStorageUrlStorage=Xs.canStoreURLs=void 0;function D8(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(D8,"_classCallCheck");function pS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(pS,"_defineProperties");function q8(r,e,t){return e&&pS(r.prototype,e),t&&pS(r,t),r;}o(q8,"_createClass");var qd=!1;try{qd="localStorage"in window,Nd="tusSupport",localStorage.setItem(Nd,localStorage.getItem(Nd));}catch(r){if(r.code===r.SECURITY_ERR||r.code===r.QUOTA_EXCEEDED_ERR)qd=!1;else throw r;}var Nd,N8=qd;Xs.canStoreURLs=N8;var I8=function(){function r(){D8(this,r);}return o(r,"WebStorageUrlStorage"),q8(r,[{key:"findAllUploads",value:o(function(){var t=this._findEntries("tus::");return Promise.resolve(t);},"findAllUploads")},{key:"findUploadsByFingerprint",value:o(function(t){var i=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(i);},"findUploadsByFingerprint")},{key:"removeUpload",value:o(function(t){return localStorage.removeItem(t),Promise.resolve();},"removeUpload")},{key:"addUpload",value:o(function(t,i){var s=Math.round(Math.random()*1e12),n="tus::".concat(t,"::").concat(s);return localStorage.setItem(n,JSON.stringify(i)),Promise.resolve(n);},"addUpload")},{key:"_findEntries",value:o(function(t){for(var i=[],s=0;s<localStorage.length;s++){var n=localStorage.key(s);if(n.indexOf(t)===0)try{var a=JSON.parse(localStorage.getItem(n));a.urlStorageKey=n,i.push(a);}catch(_unused10){}}return i;},"_findEntries")}]),r;}();Xs.WebStorageUrlStorage=I8;});var gS=v(function(kl){"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl["default"]=void 0;function Id(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(Id,"_classCallCheck");function mS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(mS,"_defineProperties");function Bd(r,e,t){return e&&mS(r.prototype,e),t&&mS(r,t),r;}o(Bd,"_createClass");var B8=function(){function r(){Id(this,r);}return o(r,"XHRHttpStack"),Bd(r,[{key:"createRequest",value:o(function(t,i){return new M8(t,i);},"createRequest")},{key:"getName",value:o(function(){return"XHRHttpStack";},"getName")}]),r;}();kl["default"]=B8;var M8=function(){function r(e,t){Id(this,r),this._xhr=new XMLHttpRequest(),this._xhr.open(e,t,!0),this._method=e,this._url=t,this._headers={};}return o(r,"Request"),Bd(r,[{key:"getMethod",value:o(function(){return this._method;},"getMethod")},{key:"getURL",value:o(function(){return this._url;},"getURL")},{key:"setHeader",value:o(function(t,i){this._xhr.setRequestHeader(t,i),this._headers[t]=i;},"setHeader")},{key:"getHeader",value:o(function(t){return this._headers[t];},"getHeader")},{key:"setProgressHandler",value:o(function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(i){!i.lengthComputable||t(i.loaded);});},"setProgressHandler")},{key:"send",value:o(function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(s,n){t._xhr.onload=function(){s(new L8(t._xhr));},t._xhr.onerror=function(a){n(a);},t._xhr.send(i);});},"send")},{key:"abort",value:o(function(){return this._xhr.abort(),Promise.resolve();},"abort")},{key:"getUnderlyingObject",value:o(function(){return this._xhr;},"getUnderlyingObject")}]),r;}(),L8=function(){function r(e){Id(this,r),this._xhr=e;}return o(r,"Response"),Bd(r,[{key:"getStatus",value:o(function(){return this._xhr.status;},"getStatus")},{key:"getHeader",value:o(function(t){return this._xhr.getResponseHeader(t);},"getHeader")},{key:"getBody",value:o(function(){return this._xhr.responseText;},"getBody")},{key:"getUnderlyingObject",value:o(function(){return this._xhr;},"getUnderlyingObject")}]),r;}();});var Md=v(function(Al){"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al["default"]=void 0;var j8=o(function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";},"isReactNative"),z8=j8;Al["default"]=z8;});var vS=v(function(Ld){"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld["default"]=H8;function H8(r){return new Promise(function(e,t){var i=new XMLHttpRequest();i.responseType="blob",i.onload=function(){var s=i.response;e(s);},i.onerror=function(s){t(s);},i.open("GET",r),i.send();});}o(H8,"uriToBlob");});var yS=v(function(Ul){"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul["default"]=void 0;var $8=o(function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined");},"isCordova"),V8=$8;Ul["default"]=V8;});var bS=v(function(jd){"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd["default"]=W8;function W8(r){return new Promise(function(e,t){var i=new FileReader();i.onload=function(){var s=new Uint8Array(i.result);e({value:s});},i.onerror=function(s){t(s);},i.readAsArrayBuffer(r);});}o(W8,"readAsByteArray");});var PS=v(function(ql){"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql["default"]=void 0;var K8=Dl(Md()),G8=Dl(vS()),X8=Dl(yS()),Y8=Dl(bS());function Dl(r){return r&&r.__esModule?r:{"default":r};}o(Dl,"_interopRequireDefault");function zd(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(zd,"_classCallCheck");function wS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(wS,"_defineProperties");function Hd(r,e,t){return e&&wS(r.prototype,e),t&&wS(r,t),r;}o(Hd,"_createClass");var _S=function(){function r(e){zd(this,r),this._file=e,this.size=e.size;}return o(r,"FileSource"),Hd(r,[{key:"slice",value:o(function(t,i){if((0,X8["default"])())return(0,Y8["default"])(this._file.slice(t,i));var s=this._file.slice(t,i);return Promise.resolve({value:s});},"slice")},{key:"close",value:o(function(){},"close")}]),r;}(),J8=function(){function r(e,t){zd(this,r),this._chunkSize=t,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1;}return o(r,"StreamSource"),Hd(r,[{key:"slice",value:o(function(t,i){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,i);},"slice")},{key:"_readUntilEnoughDataOrDone",value:o(function(t,i){var s=this,n=i<=this._bufferOffset+SS(this._buffer);if(this._done||n){var a=this._getDataFromBuffer(t,i),l=a==null?this._done:!1;return Promise.resolve({value:a,done:l});}return this._reader.read().then(function(u){var c=u.value,h=u.done;return h?s._done=!0:s._buffer===void 0?s._buffer=c:s._buffer=Q8(s._buffer,c),s._readUntilEnoughDataOrDone(t,i);});},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:o(function(t,i){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var s=SS(this._buffer)===0;return this._done&&s?null:this._buffer.slice(0,i-t);},"_getDataFromBuffer")},{key:"close",value:o(function(){this._reader.cancel&&this._reader.cancel();},"close")}]),r;}();function SS(r){return r===void 0?0:r.size!==void 0?r.size:r.length;}o(SS,"len");function Q8(r,e){if(r.concat)return r.concat(e);if(r instanceof Blob)return new Blob([r,e],{type:r.type});if(r.set){var t=new r.constructor(r.length+e.length);return t.set(r),t.set(e,r.length),t;}throw new Error("Unknown data type");}o(Q8,"concat");var Z8=function(){function r(){zd(this,r);}return o(r,"FileReader"),Hd(r,[{key:"openFile",value:o(function(t,i){return(0,K8["default"])()&&t&&typeof t.uri!="undefined"?(0,G8["default"])(t.uri).then(function(s){return new _S(s);})["catch"](function(s){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(s));}):typeof t.slice=="function"&&typeof t.size!="undefined"?Promise.resolve(new _S(t)):typeof t.read=="function"?(i=+i,isFinite(i)?Promise.resolve(new J8(t,i)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));},"openFile")}]),r;}();ql["default"]=Z8;});var FS=v(function($d){"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d["default"]=r6;var e6=t6(Md());function t6(r){return r&&r.__esModule?r:{"default":r};}o(t6,"_interopRequireDefault");function r6(r,e){return(0,e6["default"])()?Promise.resolve(i6(r,e)):Promise.resolve(["tus-br",r.name,r.type,r.size,r.lastModified,e.endpoint].join("-"));}o(r6,"fingerprint");function i6(r,e){var t=r.exif?s6(JSON.stringify(r.exif)):"noexif";return["tus-rn",r.name||"noname",r.size||"nosize",t,e.endpoint].join("/");}o(i6,"reactNativeFingerprint");function s6(r){var e=0;if(r.length===0)return e;for(var t=0;t<r.length;t++){var i=r.charCodeAt(t);e=(e<<5)-e+i,e&=e;}return e;}o(s6,"hashCode");});var Yd=v(function(Qt){"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Object.defineProperty(Qt,"enableDebugLog",{enumerable:!0,get:function get(){return o6.enableDebugLog;}});Object.defineProperty(Qt,"canStoreURLs",{enumerable:!0,get:function get(){return Wd.canStoreURLs;}});Object.defineProperty(Qt,"HttpStack",{enumerable:!0,get:function get(){return ES["default"];}});Qt.isSupported=Qt.defaultOptions=Qt.Upload=void 0;var Vd=Eo(cS()),n6=Eo(dS()),o6=kd(),Wd=fS(),ES=Eo(gS()),a6=Eo(PS()),l6=Eo(FS());function Eo(r){return r&&r.__esModule?r:{"default":r};}o(Eo,"_interopRequireDefault");function Nl(r){return typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?Nl=o(function(t){return _typeof(t);},"_typeof"):Nl=o(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t);},"_typeof"),Nl(r);}o(Nl,"_typeof");function u6(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(u6,"_classCallCheck");function CS(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(CS,"_defineProperties");function c6(r,e,t){return e&&CS(r.prototype,e),t&&CS(r,t),r;}o(c6,"_createClass");function h6(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Kd(r,e);}o(h6,"_inherits");function Kd(r,e){return Kd=Object.setPrototypeOf||o(function(i,s){return i.__proto__=s,i;},"_setPrototypeOf"),Kd(r,e);}o(Kd,"_setPrototypeOf");function d6(r){return function(){var e=Il(r),t;if(m6()){var i=Il(this).constructor;t=Reflect.construct(e,arguments,i);}else t=e.apply(this,arguments);return p6(this,t);};}o(d6,"_createSuper");function p6(r,e){return e&&(Nl(e)==="object"||typeof e=="function")?e:f6(r);}o(p6,"_possibleConstructorReturn");function f6(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r;}o(f6,"_assertThisInitialized");function m6(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(_unused11){return!1;}}o(m6,"_isNativeReflectConstruct");function Il(r){return Il=Object.setPrototypeOf?Object.getPrototypeOf:o(function(t){return t.__proto__||Object.getPrototypeOf(t);},"_getPrototypeOf"),Il(r);}o(Il,"_getPrototypeOf");function RS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable;})),t.push.apply(t,i);}return t;}o(RS,"ownKeys");function Gd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(t),!0).forEach(function(i){g6(r,i,t[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RS(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i));});}return r;}o(Gd,"_objectSpread");function g6(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r;}o(g6,"_defineProperty");var Xd=Gd({},Vd["default"].defaultOptions,{httpStack:new ES["default"](),fileReader:new a6["default"](),urlStorage:Wd.canStoreURLs?new Wd.WebStorageUrlStorage():new n6["default"](),fingerprint:l6["default"]});Qt.defaultOptions=Xd;var v6=function(r){h6(t,r);var e=d6(t);function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u6(this,t),s=Gd({},Xd,{},s),e.call(this,i,s);}return o(t,"Upload"),c6(t,null,[{key:"terminate",value:o(function(s,n,a){return n=Gd({},Xd,{},n),Vd["default"].terminate(s,n,a);},"terminate")}]),t;}(Vd["default"]);Qt.Upload=v6;var OS=window,y6=OS.XMLHttpRequest,xS=OS.Blob,b6=y6&&xS&&typeof xS.prototype.slice=="function";Qt.isSupported=b6;});var Jd=v(function(Y7,TS){"use strict";function w6(r){var e=[],t=[];function i(a){e.push(a);}o(i,"resolved");function s(a){t.push(a);}return o(s,"rejected"),Promise.all(r.map(function(a){return a.then(i,s);})).then(function(){return{successful:e,failed:t};});}o(w6,"settle");TS.exports=w6;});var AS=v(function(J7,kS){"use strict";var _6=Yd();function S6(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined");}o(S6,"isCordova");function P6(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";}o(P6,"isReactNative");function F6(r){return function(e,t){if(S6()||P6())return _6.defaultOptions.fingerprint(e,t);var i=["tus",r.id,t.endpoint].join("-");return Promise.resolve(i);};}o(F6,"getFingerprint");kS.exports=F6;});var rp=v(function(Q7,qS){"use strict";var E6=Yd(),Qd=Ke(),C6=pi();function Co(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(Co,"_classPrivateFieldLooseBase");var R6=0;function Zd(r){return"__private_"+R6++ +"_"+r;}o(Zd,"_classPrivateFieldLooseKey");var O6=Ut(),x6=no(),T6=oo(),k6=Jd(),US=uo(),A6=Cs(),U6=yl(),ep=Ss(),D6=AS(),q6={version:"2.4.6"},DS={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Ro=Zd("retryDelayIterator"),Oo=Zd("queueRequestSocketToken"),tp=Zd("requestSocketToken"),Bl=/*#__PURE__*/function(_O2){_inherits(Bl,_O2);var _super56=_createSuper(Bl);function Bl(e,t){var _this158;_classCallCheck(this,Bl);var i,s;_this158=_super56.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this158),Ro,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this158),Oo,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this158),tp,{writable:!0,value:function(){var _value4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee49(a){var l,u,c;return _regeneratorRuntime().wrap(function _callee49$(_context49){while(1)switch(_context49.prev=_context49.next){case 0:l=a.remote.providerOptions.provider?Qd.Provider:Qd.RequestClient,u=new l(_this158.uppy,a.remote.providerOptions),c=_objectSpread({},_this158.opts);a.tus&&Object.assign(c,a.tus);_context49.next=4;return u.post(a.remote.url,_objectSpread(_objectSpread({},a.remote.body),{},{endpoint:c.endpoint,uploadUrl:c.uploadUrl,protocol:"tus",size:a.data.size,headers:c.headers,metadata:a.meta}));case 4:return _context49.abrupt("return",_context49.sent.token);case 5:case"end":return _context49.stop();}},_callee49);}));function value(_x41){return _value4.apply(this,arguments);}return value;}()}),_this158.type="uploader",_this158.id=_this158.opts.id||"Tus",_this158.title="Tus";var n={useFastRemoteRetry:!0,limit:20,retryDelays:DS.retryDelays,withCredentials:!1};if(_this158.opts=_objectSpread(_objectSpread({},n),t),"autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");_this158.requests=(i=_this158.opts.rateLimitedQueue)!=null?i:new C6.RateLimitedQueue(_this158.opts.limit),Co(_assertThisInitialized(_this158),Ro)[Ro]=(s=_this158.opts.retryDelays)==null?void 0:s.values(),_this158.uploaders=Object.create(null),_this158.uploaderEvents=Object.create(null),_this158.uploaderSockets=Object.create(null),_this158.handleResetProgress=_this158.handleResetProgress.bind(_assertThisInitialized(_this158)),_this158.handleUpload=_this158.handleUpload.bind(_assertThisInitialized(_this158)),Co(_assertThisInitialized(_this158),Oo)[Oo]=_this158.requests.wrapPromiseFunction(Co(_assertThisInitialized(_this158),tp)[tp]);return _this158;}_createClass(Bl,[{key:"handleResetProgress",value:function handleResetProgress(){var e=_objectSpread({},this.uppy.getState().files);Object.keys(e).forEach(function(t){if(e[t].tus&&e[t].tus.uploadUrl){var i=_objectSpread({},e[t].tus);delete i.uploadUrl,e[t]=_objectSpread(_objectSpread({},e[t]),{},{tus:i});}}),this.uppy.setState({files:e});}},{key:"resetUploaderReferences",value:function resetUploaderReferences(e,t){if(t===void 0&&(t={}),this.uploaders[e]){var i=this.uploaders[e];i.abort(),t.abort&&i.abort(!0),this.uploaders[e]=null;}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null);}},{key:"upload",value:function upload(e){var _this159=this;var t=this;return this.resetUploaderReferences(e.id),new Promise(function(i,s){var n,a,l;_this159.uppy.emit("upload-started",e);var u=_objectSpread(_objectSpread({},_this159.opts),e.tus||{});typeof u.headers=="function"&&(u.headers=u.headers(e));var c=_objectSpread(_objectSpread({},DS),u);c.fingerprint=D6(e),c.onBeforeRequest=function(b){var E=b.getUnderlyingObject();E.withCredentials=!!u.withCredentials;var F;if(typeof u.onBeforeRequest=="function"&&(F=u.onBeforeRequest(b,e)),ep(n,"shouldBeRequeued")){if(!n.shouldBeRequeued)return Promise.reject();var C,j=new Promise(function(W){C=W;});return n=_this159.requests.run(function(){return e.isPaused&&n.abort(),C(),function(){};}),Promise.all([j,F]);}return F;},c.onError=function(b){var E;_this159.uppy.log(b);var F=b.originalRequest?b.originalRequest.getUnderlyingObject():null;U6(F)&&(b=new A6(b,F)),_this159.resetUploaderReferences(e.id),(E=n)==null||E.abort(),_this159.uppy.emit("upload-error",e,b),s(b);},c.onProgress=function(b,E){_this159.onReceiveUploadUrl(e,l.url),_this159.uppy.emit("upload-progress",e,{uploader:_this159,bytesUploaded:b,bytesTotal:E});},c.onSuccess=function(){var b={uploadURL:l.url};_this159.resetUploaderReferences(e.id),n.done(),_this159.uppy.emit("upload-success",e,b),l.url&&_this159.uppy.log("Download ".concat(l.file.name," from ").concat(l.url)),i(l);};var h=o(function(b){var E;var F=b==null||(E=b.originalResponse)==null?void 0:E.getStatus();if(F===429){if(!_this159.requests.isPaused){var C;var j=(C=Co(_this159,Ro)[Ro])==null?void 0:C.next();if(j==null||j.done)return!1;_this159.requests.rateLimit(j.value);}}else{if(F>400&&F<500&&F!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(_this159.requests.isPaused||(_this159.requests.pause(),window.addEventListener("online",function(){_this159.requests.resume();},{once:!0})));}return n.abort(),n={shouldBeRequeued:!0,abort:function abort(){this.shouldBeRequeued=!1;},done:function done(){throw new Error("Cannot mark a queued request as done: this indicates a bug");},fn:function fn(){throw new Error("Cannot run a queued request: this indicates a bug");}},!0;},"defaultOnShouldRetry");u.onShouldRetry!=null?c.onShouldRetry=function(){for(var b=arguments.length,E=new Array(b),F=0;F<b;F++)E[F]=arguments[F];return u.onShouldRetry.apply(u,E.concat([h]));}:c.onShouldRetry=h;var p=o(function(b,E,F){ep(b,E)&&!ep(b,F)&&(b[F]=b[E]);},"copyProp"),g={};(Array.isArray(u.metaFields)?u.metaFields:Object.keys(e.meta)).forEach(function(b){g[b]=e.meta[b];}),p(g,"type","filetype"),p(g,"name","filename"),c.metadata=g,l=new E6.Upload(e.data,c),_this159.uploaders[e.id]=l,_this159.uploaderEvents[e.id]=new US(_this159.uppy),a=o(function(){return e.isPaused||l.start(),function(){};},"qRequest"),l.findPreviousUploads().then(function(b){var E=b[0];E&&(_this159.uppy.log("[Tus] Resuming upload of ".concat(e.id," started at ").concat(E.creationTime)),l.resumeFromPreviousUpload(E));}),n=_this159.requests.run(a),_this159.onFileRemove(e.id,function(b){n.abort(),_this159.resetUploaderReferences(e.id,{abort:!!l.url}),i("upload ".concat(b," was removed"));}),_this159.onPause(e.id,function(b){n.abort(),b?l.abort():n=_this159.requests.run(a);}),_this159.onPauseAll(e.id,function(){n.abort(),l.abort();}),_this159.onCancelAll(e.id,function(b){var _ref19=b===void 0?{}:b,E=_ref19.reason;E==="user"&&(n.abort(),t.resetUploaderReferences(e.id,{abort:!!l.url})),i("upload ".concat(e.id," was canceled"));}),_this159.onResumeAll(e.id,function(){n.abort(),e.error&&l.abort(),n=_this159.requests.run(a);});})["catch"](function(i){throw _this159.uppy.emit("upload-error",e,i),i;});}},{key:"uploadRemote",value:function(){var _uploadRemote2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee50(e){var t;return _regeneratorRuntime().wrap(function _callee50$(_context50){while(1)switch(_context50.prev=_context50.next){case 0:this.resetUploaderReferences(e.id),(!e.progress.uploadStarted||!e.isRestored)&&this.uppy.emit("upload-started",e);_context50.prev=1;if(!e.serverToken){_context50.next=4;break;}return _context50.abrupt("return",this.connectToServerSocket(e));case 4:_context50.next=6;return Co(this,Oo)[Oo](e);case 6:t=_context50.sent;return _context50.abrupt("return",this.uppy.getState().files[e.id]?(this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))):void 0);case 10:_context50.prev=10;_context50.t0=_context50["catch"](1);throw this.uppy.emit("upload-error",e,_context50.t0),_context50.t0;case 13:case"end":return _context50.stop();}},_callee50,this,[[1,10]]);}));function uploadRemote(_x42){return _uploadRemote2.apply(this,arguments);}return uploadRemote;}()},{key:"connectToServerSocket",value:function connectToServerSocket(e){var _this160=this;var t=this;return new Promise(function(i,s){var n=e.serverToken,a=T6(e.remote.companionUrl),l=new Qd.Socket({target:"".concat(a,"/api/").concat(n)});_this160.uploaderSockets[e.id]=l,_this160.uploaderEvents[e.id]=new US(_this160.uppy);var u;_this160.onFileRemove(e.id,function(){u.abort(),l.send("cancel",{}),_this160.resetUploaderReferences(e.id),i("upload ".concat(e.id," was removed"));}),_this160.onPause(e.id,function(c){c?(u.abort(),l.send("pause",{})):(u.abort(),u=_this160.requests.run(function(){return l.send("resume",{}),function(){};}));}),_this160.onPauseAll(e.id,function(){u.abort(),l.send("pause",{});}),_this160.onCancelAll(e.id,function(c){var _ref20=c===void 0?{}:c,h=_ref20.reason;h==="user"&&(u.abort(),l.send("cancel",{}),t.resetUploaderReferences(e.id)),i("upload ".concat(e.id," was canceled"));}),_this160.onResumeAll(e.id,function(){u.abort(),e.error&&l.send("pause",{}),u=_this160.requests.run(function(){return l.send("resume",{}),function(){};});}),_this160.onRetry(e.id,function(){l.isOpen&&(l.send("pause",{}),l.send("resume",{}));}),_this160.onRetryAll(e.id,function(){l.isOpen&&(l.send("pause",{}),l.send("resume",{}));}),l.on("progress",function(c){return x6(_this160,c,e);}),l.on("error",function(c){var h=c.error.message,p=Object.assign(new Error(h),{cause:c.error});_this160.opts.useFastRemoteRetry?l.close():(_this160.resetUploaderReferences(e.id),_this160.uppy.setFileState(e.id,{serverToken:null})),_this160.uppy.emit("upload-error",e,p),u.done(),s(p);}),l.on("success",function(c){var h={uploadURL:c.url};_this160.uppy.emit("upload-success",e,h),_this160.resetUploaderReferences(e.id),u.done(),i();}),u=_this160.requests.run(function(){return e.isPaused&&l.send("pause",{}),function(){};});});}},{key:"onReceiveUploadUrl",value:function onReceiveUploadUrl(e,t){var i=this.uppy.getFile(e.id);!i||(!i.tus||i.tus.uploadUrl!==t)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(i.id,{tus:_objectSpread(_objectSpread({},i.tus),{},{uploadUrl:t})}));}},{key:"onFileRemove",value:function onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",function(i){e===i.id&&t(i.id);});}},{key:"onPause",value:function onPause(e,t){this.uploaderEvents[e].on("upload-pause",function(i,s){e===i&&t(s);});}},{key:"onRetry",value:function onRetry(e,t){this.uploaderEvents[e].on("upload-retry",function(i){e===i&&t();});}},{key:"onRetryAll",value:function onRetryAll(e,t){var _this161=this;this.uploaderEvents[e].on("retry-all",function(){!_this161.uppy.getFile(e)||t();});}},{key:"onPauseAll",value:function onPauseAll(e,t){var _this162=this;this.uploaderEvents[e].on("pause-all",function(){!_this162.uppy.getFile(e)||t();});}},{key:"onCancelAll",value:function onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",function(){!i.uppy.getFile(e)||t.apply(void 0,arguments);});}},{key:"onResumeAll",value:function onResumeAll(e,t){var _this163=this;this.uploaderEvents[e].on("resume-all",function(){!_this163.uppy.getFile(e)||t();});}},{key:"uploadFiles",value:function uploadFiles(e){var _this164=this;var t=e.map(function(i,s){var n=s+1,a=e.length;return"error"in i&&i.error?Promise.reject(new Error(i.error)):i.isRemote?((!i.progress.uploadStarted||!i.isRestored)&&_this164.uppy.emit("upload-started",i),_this164.uploadRemote(i,n,a)):((!i.progress.uploadStarted||!i.isRestored)&&_this164.uppy.emit("upload-started",i),_this164.upload(i,n,a));});return k6(t);}},{key:"handleUpload",value:function handleUpload(e){var _this165=this;if(e.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var t=e.map(function(i){return _this165.uppy.getFile(i);});return this.uploadFiles(t).then(function(){return null;});}},{key:"install",value:function install(){this.uppy.setState({capabilities:_objectSpread(_objectSpread({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress);}},{key:"uninstall",value:function uninstall(){this.uppy.setState({capabilities:_objectSpread(_objectSpread({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload);}}]);return Bl;}(O6);o(Bl,"Tus");Bl.VERSION=q6.version;qS.exports=Bl;});var sp=v(function(Z7,ip){typeof ip!="undefined"&&(ip.exports=Ft);function Ft(r){if(r)return N6(r);}o(Ft,"Emitter");function N6(r){for(var e in Ft.prototype)r[e]=Ft.prototype[e];return r;}o(N6,"mixin");Ft.prototype.on=Ft.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this;};Ft.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments);}return o(t,"on"),t.fn=e,this.on(r,t),this;};Ft.prototype.off=Ft.prototype.removeListener=Ft.prototype.removeAllListeners=Ft.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break;}return t.length===0&&delete this._callbacks["$"+r],this;};Ft.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e);}return this;};Ft.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[];};Ft.prototype.hasListeners=function(r){return!!this.listeners(r).length;};});var IS=v(function(eM,NS){"use strict";function I6(r){var e=/^\w+:\/\//.exec(r),t=0;e&&(t=e[0].length+1);var i=r.indexOf("/",t);return i===-1?{origin:r,pathname:"/"}:{origin:r.slice(0,i),pathname:r.slice(i)};}o(I6,"parseUrl");NS.exports=I6;});var np=v(function(tM,BS){var B6=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,M6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];BS.exports=o(function(e){var t=e,i=e.indexOf("["),s=e.indexOf("]");i!=-1&&s!=-1&&(e=e.substring(0,i)+e.substring(i,s).replace(/:/g,";")+e.substring(s,e.length));for(var n=B6.exec(e||""),a={},l=14;l--;)a[M6[l]]=n[l]||"";return i!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=L6(a,a.path),a.queryKey=j6(a,a.query),a;},"parseuri");function L6(r,e){var t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&i.splice(0,1),e.substr(e.length-1,1)=="/"&&i.splice(i.length-1,1),i;}o(L6,"pathNames");function j6(r,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,n){s&&(t[s]=n);}),t;}o(j6,"queryKey");});var LS=v(function(rM,MS){var Ys=1e3,Js=Ys*60,Qs=Js*60,is=Qs*24,z6=is*7,H6=is*365.25;MS.exports=function(r,e){e=e||{};var t=_typeof(r);if(t==="string"&&r.length>0)return $6(r);if(t==="number"&&isFinite(r))return e["long"]?W6(r):V6(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r));};function $6(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*H6;case"weeks":case"week":case"w":return t*z6;case"days":case"day":case"d":return t*is;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Qs;case"minutes":case"minute":case"mins":case"min":case"m":return t*Js;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ys;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return;}}}}o($6,"parse");function V6(r){var e=Math.abs(r);return e>=is?Math.round(r/is)+"d":e>=Qs?Math.round(r/Qs)+"h":e>=Js?Math.round(r/Js)+"m":e>=Ys?Math.round(r/Ys)+"s":r+"ms";}o(V6,"fmtShort");function W6(r){var e=Math.abs(r);return e>=is?Ml(r,e,is,"day"):e>=Qs?Ml(r,e,Qs,"hour"):e>=Js?Ml(r,e,Js,"minute"):e>=Ys?Ml(r,e,Ys,"second"):r+" ms";}o(W6,"fmtLong");function Ml(r,e,t,i){var s=e>=t*1.5;return Math.round(r/t)+" "+i+(s?"s":"");}o(Ml,"plural");});var zS=v(function(iM,jS){function K6(r){t.debug=t,t["default"]=t,t.coerce=u,t.disable=n,t.enable=s,t.enabled=a,t.humanize=LS(),t.destroy=c,Object.keys(r).forEach(function(h){t[h]=r[h];}),t.names=[],t.skips=[],t.formatters={};function e(h){var p=0;for(var g=0;g<h.length;g++)p=(p<<5)-p+h.charCodeAt(g),p|=0;return t.colors[Math.abs(p)%t.colors.length];}o(e,"selectColor"),t.selectColor=e;function t(h){var p,g=null,w,b;function E(){for(var _len=arguments.length,F=new Array(_len),_key=0;_key<_len;_key++){F[_key]=arguments[_key];}if(!E.enabled)return;var C=E,j=Number(new Date()),W=j-(p||j);C.diff=W,C.prev=p,C.curr=j,p=j,F[0]=t.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");var H=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,function(B,M){if(B==="%%")return"%";H++;var $=t.formatters[M];if(typeof $=="function"){var Y=F[H];B=$.call(C,Y),F.splice(H,1),H--;}return B;}),t.formatArgs.call(C,F),(C.log||t.log).apply(C,F);}return o(E,"debug"),E.namespace=h,E.useColors=t.useColors(),E.color=t.selectColor(h),E.extend=i,E.destroy=t.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:function get(){return g!==null?g:(w!==t.namespaces&&(w=t.namespaces,b=t.enabled(h)),b);},set:function set(F){g=F;}}),typeof t.init=="function"&&t.init(E),E;}o(t,"createDebug");function i(h,p){var g=t(this.namespace+(typeof p=="undefined"?":":p)+h);return g.log=this.log,g;}o(i,"extend");function s(h){t.save(h),t.namespaces=h,t.names=[],t.skips=[];var p,g=(typeof h=="string"?h:"").split(/[\s,]+/),w=g.length;for(p=0;p<w;p++)!g[p]||(h=g[p].replace(/\*/g,".*?"),h[0]==="-"?t.skips.push(new RegExp("^"+h.substr(1)+"$")):t.names.push(new RegExp("^"+h+"$")));}o(s,"enable");function n(){var h=[].concat(_toConsumableArray(t.names.map(l)),_toConsumableArray(t.skips.map(l).map(function(p){return"-"+p;}))).join(",");return t.enable(""),h;}o(n,"disable");function a(h){if(h[h.length-1]==="*")return!0;var p,g;for(p=0,g=t.skips.length;p<g;p++)if(t.skips[p].test(h))return!1;for(p=0,g=t.names.length;p<g;p++)if(t.names[p].test(h))return!0;return!1;}o(a,"enabled");function l(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*");}o(l,"toNamespace");function u(h){return h instanceof Error?h.stack||h.message:h;}o(u,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return o(c,"destroy"),t.enable(t.load()),t;}o(K6,"setup");jS.exports=K6;});var Zt=v(function(Et,Ll){Et.formatArgs=X6;Et.save=Y6;Et.load=J6;Et.useColors=G6;Et.storage=Q6();Et.destroy=function(){var r=!1;return function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));};}();Et.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function G6(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);}o(G6,"useColors");function X6(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ll.exports.humanize(this.diff),!this.useColors)return;var e="color: "+this.color;r.splice(1,0,e,"color: inherit");var t=0,i=0;r[0].replace(/%[a-zA-Z%]/g,function(s){s!=="%%"&&(t++,s==="%c"&&(i=t));}),r.splice(i,0,e);}o(X6,"formatArgs");Et.log=console.debug||console.log||function(){};function Y6(r){try{r?Et.storage.setItem("debug",r):Et.storage.removeItem("debug");}catch(_unused12){}}o(Y6,"save");function J6(){var r;try{r=Et.storage.getItem("debug");}catch(_unused13){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r;}o(J6,"load");function Q6(){try{return localStorage;}catch(_unused14){}}o(Q6,"localstorage");Ll.exports=zS()(Et);var Z6=Ll.exports.formatters;Z6.j=function(r){try{return JSON.stringify(r);}catch(e){return"[UnexpectedJSONParseError]: "+e.message;}};});var VS=v(function(Zs){"use strict";var HS=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.url=void 0;var eU=HS(np()),tU=HS(Zt()),$S=tU["default"]("socket.io-client:url");function rU(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var t=arguments.length>2?arguments[2]:undefined;var i=r;t=t||typeof location!="undefined"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||($S("protocol-less url %s",r),typeof t!="undefined"?r=t.protocol+"//"+r:r="https://"+r),$S("parse %s",r),i=eU["default"](r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var n=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+e,i.href=i.protocol+"://"+n+(t&&t.port===i.port?"":":"+i.port),i;}o(rU,"url");Zs.url=rU;});var WS=v(function(nM,op){try{op.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest();}catch(_unused15){op.exports=!1;}});var xo=v(function(ap){"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap["default"]=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")();}();});var GS=v(function(To){"use strict";var KS=To&&To.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(To,"__esModule",{value:!0});var iU=KS(WS()),sU=KS(xo());function nU(r){var e=r.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||iU["default"]))return new XMLHttpRequest();}catch(_unused16){}if(!e)try{return new sU["default"][["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP");}catch(_unused17){}}o(nU,"default_1");To["default"]=nU;});var en=v(function(mi){"use strict";var oU=mi&&mi.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(mi,"__esModule",{value:!0});mi.installTimerFunctions=mi.pick=void 0;var jl=oU(xo());function aU(r){for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}return e.reduce(function(t,i){return r.hasOwnProperty(i)&&(t[i]=r[i]),t;},{});}o(aU,"pick");mi.pick=aU;var lU=setTimeout,uU=clearTimeout;function cU(r,e){e.useNativeTimers?(r.setTimeoutFn=lU.bind(jl["default"]),r.clearTimeoutFn=uU.bind(jl["default"])):(r.setTimeoutFn=setTimeout.bind(jl["default"]),r.clearTimeoutFn=clearTimeout.bind(jl["default"]));}o(cU,"installTimerFunctions");mi.installTimerFunctions=cU;});var ss=v(function(XS){XS.Emitter=it;function it(r){if(r)return hU(r);}o(it,"Emitter");function hU(r){for(var e in it.prototype)r[e]=it.prototype[e];return r;}o(hU,"mixin");it.prototype.on=it.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this;};it.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments);}return o(t,"on"),t.fn=e,this.on(r,t),this;};it.prototype.off=it.prototype.removeListener=it.prototype.removeAllListeners=it.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break;}return t.length===0&&delete this._callbacks["$"+r],this;};it.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e);}return this;};it.prototype.emitReserved=it.prototype.emit;it.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[];};it.prototype.hasListeners=function(r){return!!this.listeners(r).length;};});var lp=v(function(gi){"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.ERROR_PACKET=gi.PACKET_TYPES_REVERSE=gi.PACKET_TYPES=void 0;var gr=Object.create(null);gi.PACKET_TYPES=gr;gr.open="0";gr.close="1";gr.ping="2";gr.pong="3";gr.message="4";gr.upgrade="5";gr.noop="6";var YS=Object.create(null);gi.PACKET_TYPES_REVERSE=YS;Object.keys(gr).forEach(function(r){YS[gr[r]]=r;});var dU={type:"error",data:"parser error"};gi.ERROR_PACKET=dU;});var QS=v(function(up){"use strict";Object.defineProperty(up,"__esModule",{value:!0});var pU=lp(),fU=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mU=typeof ArrayBuffer=="function",gU=o(function(r){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer;},"isView"),vU=o(function(_ref21,t,i){var r=_ref21.type,e=_ref21.data;return fU&&e instanceof Blob?t?i(e):JS(e,i):mU&&(e instanceof ArrayBuffer||gU(e))?t?i(e):JS(new Blob([e]),i):i(pU.PACKET_TYPES[r]+(e||""));},"encodePacket"),JS=o(function(r,e){var t=new FileReader();return t.onload=function(){var i=t.result.split(",")[1];e("b"+i);},t.readAsDataURL(r);},"encodeBlobAsBase64");up["default"]=vU;});var e2=v(function(zl,ZS){(function(r,e){_typeof(zl)=="object"&&typeof ZS!="undefined"?e(zl):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof _globalThis!="undefined"?_globalThis:r||self,e(r["base64-arraybuffer"]={}));})(zl,function(r){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),i=0;i<e.length;i++)t[e.charCodeAt(i)]=i;var s=o(function(a){var l=new Uint8Array(a),u,c=l.length,h="";for(u=0;u<c;u+=3)h+=e[l[u]>>2],h+=e[(l[u]&3)<<4|l[u+1]>>4],h+=e[(l[u+1]&15)<<2|l[u+2]>>6],h+=e[l[u+2]&63];return c%3==2?h=h.substring(0,h.length-1)+"=":c%3==1&&(h=h.substring(0,h.length-2)+"=="),h;},"encode"),n=o(function(a){var l=a.length*.75,u=a.length,c,h=0,p,g,w,b;a[a.length-1]==="="&&(l--,a[a.length-2]==="="&&l--);var E=new ArrayBuffer(l),F=new Uint8Array(E);for(c=0;c<u;c+=4)p=t[a.charCodeAt(c)],g=t[a.charCodeAt(c+1)],w=t[a.charCodeAt(c+2)],b=t[a.charCodeAt(c+3)],F[h++]=p<<2|g>>4,F[h++]=(g&15)<<4|w>>2,F[h++]=(w&3)<<6|b&63;return E;},"decode");r.decode=n,r.encode=s,Object.defineProperty(r,"__esModule",{value:!0});});});var r2=v(function(cp){"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var Hl=lp(),yU=e2(),bU=typeof ArrayBuffer=="function",wU=o(function(r,e){if(typeof r!="string")return{type:"message",data:t2(r,e)};var t=r.charAt(0);return t==="b"?{type:"message",data:_U(r.substring(1),e)}:Hl.PACKET_TYPES_REVERSE[t]?r.length>1?{type:Hl.PACKET_TYPES_REVERSE[t],data:r.substring(1)}:{type:Hl.PACKET_TYPES_REVERSE[t]}:Hl.ERROR_PACKET;},"decodePacket"),_U=o(function(r,e){if(bU){var t=(0,yU.decode)(r);return t2(t,e);}else return{base64:!0,data:r};},"decodeBase64Packet"),t2=o(function(r,e){switch(e){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r;}},"mapBinary");cp["default"]=wU;});var ko=v(function(Mt){"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.decodePayload=Mt.decodePacket=Mt.encodePayload=Mt.encodePacket=Mt.protocol=void 0;var i2=QS();Mt.encodePacket=i2["default"];var s2=r2();Mt.decodePacket=s2["default"];var n2=String.fromCharCode(30),SU=o(function(r,e){var t=r.length,i=new Array(t),s=0;r.forEach(function(n,a){(0,i2["default"])(n,!1,function(l){i[a]=l,++s===t&&e(i.join(n2));});});},"encodePayload");Mt.encodePayload=SU;var PU=o(function(r,e){var t=r.split(n2),i=[];for(var s=0;s<t.length;s++){var n=(0,s2["default"])(t[s],e);if(i.push(n),n.type==="error")break;}return i;},"decodePayload");Mt.decodePayload=PU;Mt.protocol=4;});var $l=v(function(tn){"use strict";var FU=tn&&tn.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(tn,"__esModule",{value:!0});tn.Transport=void 0;var EU=ko(),CU=ss(),RU=en(),OU=FU(Zt()),xU=(0,OU["default"])("engine.io-client:transport"),hp=/*#__PURE__*/function(_CU$Emitter){_inherits(hp,_CU$Emitter);var _super57=_createSuper(hp);function hp(e){var _this166;_classCallCheck(this,hp);_this166=_super57.call(this);_this166.writable=!1,(0,RU.installTimerFunctions)(_assertThisInitialized(_this166),e),_this166.opts=e,_this166.query=e.query,_this166.readyState="",_this166.socket=e.socket;return _this166;}_createClass(hp,[{key:"onError",value:function onError(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,_get(_getPrototypeOf(hp.prototype),"emit",this).call(this,"error",i),this;}},{key:"open",value:function open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this;}},{key:"close",value:function close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this;}},{key:"send",value:function send(e){this.readyState==="open"?this.write(e):xU("transport is not open, discarding packets");}},{key:"onOpen",value:function onOpen(){this.readyState="open",this.writable=!0,_get(_getPrototypeOf(hp.prototype),"emit",this).call(this,"open");}},{key:"onData",value:function onData(e){var t=(0,EU.decodePacket)(e,this.socket.binaryType);this.onPacket(t);}},{key:"onPacket",value:function onPacket(e){_get(_getPrototypeOf(hp.prototype),"emit",this).call(this,"packet",e);}},{key:"onClose",value:function onClose(){this.readyState="closed",_get(_getPrototypeOf(hp.prototype),"emit",this).call(this,"close");}}]);return hp;}(CU.Emitter);o(hp,"Transport");tn.Transport=hp;});var fp=v(function(mM,c2){"use strict";var o2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vl=64,a2={},l2=0,vi=0,u2;function dp(r){var e="";do e=o2[r%Vl]+e,r=Math.floor(r/Vl);while(r>0);return e;}o(dp,"encode");function TU(r){var e=0;for(vi=0;vi<r.length;vi++)e=e*Vl+a2[r.charAt(vi)];return e;}o(TU,"decode");function pp(){var r=dp(+new Date());return r!==u2?(l2=0,u2=r):r+"."+dp(l2++);}o(pp,"yeast");for(;vi<Vl;vi++)a2[o2[vi]]=vi;pp.encode=dp;pp.decode=TU;c2.exports=pp;});var Wl=v(function(mp){mp.encode=function(r){var e="";for(var t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e;};mp.decode=function(r){for(var e={},t=r.split("&"),i=0,s=t.length;i<s;i++){var n=t[i].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);}return e;};});var d2=v(function(rn){"use strict";var gp=rn&&rn.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(rn,"__esModule",{value:!0});rn.Polling=void 0;var kU=$l(),AU=gp(Zt()),UU=gp(fp()),DU=gp(Wl()),h2=ko(),er=(0,AU["default"])("engine.io-client:polling"),vp=/*#__PURE__*/function(_kU$Transport){_inherits(vp,_kU$Transport);var _super58=_createSuper(vp);function vp(){var _this167;_classCallCheck(this,vp);_this167=_super58.apply(this,arguments);_this167.polling=!1;return _this167;}_createClass(vp,[{key:"name",get:function get(){return"polling";}},{key:"doOpen",value:function doOpen(){this.poll();}},{key:"pause",value:function pause(e){var _this168=this;this.readyState="pausing";var t=o(function(){er("paused"),_this168.readyState="paused",e();},"pause");if(this.polling||!this.writable){var i=0;this.polling&&(er("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){er("pre-pause polling complete"),--i||t();})),this.writable||(er("we are currently writing - waiting to pause"),i++,this.once("drain",function(){er("pre-pause writing complete"),--i||t();}));}else t();}},{key:"poll",value:function poll(){er("polling"),this.polling=!0,this.doPoll(),this.emit("poll");}},{key:"onData",value:function onData(e){var _this169=this;er("polling got data %s",e);var t=o(function(i){if(_this169.readyState==="opening"&&i.type==="open"&&_this169.onOpen(),i.type==="close")return _this169.onClose(),!1;_this169.onPacket(i);},"callback");(0,h2.decodePayload)(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():er('ignoring poll - transport state "%s"',this.readyState));}},{key:"doClose",value:function doClose(){var _this170=this;var e=o(function(){er("writing close packet"),_this170.write([{type:"close"}]);},"close");this.readyState==="open"?(er("transport open - closing"),e()):(er("transport not open - deferring close"),this.once("open",e));}},{key:"write",value:function write(e){var _this171=this;this.writable=!1,(0,h2.encodePayload)(e,function(t){_this171.doWrite(t,function(){_this171.writable=!0,_this171.emit("drain");});});}},{key:"uri",value:function uri(){var e=this.query||{},t=this.opts.secure?"https":"http",i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=(0,UU["default"])()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);var s=DU["default"].encode(e),n=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"");}}]);return vp;}(kU.Transport);o(vp,"Polling");rn.Polling=vp;});var g2=v(function(yi){"use strict";var yp=yi&&yi.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(yi,"__esModule",{value:!0});yi.Request=yi.XHR=void 0;var p2=yp(GS()),qU=yp(Zt()),NU=yp(xo()),f2=en(),IU=ss(),BU=d2(),bp=(0,qU["default"])("engine.io-client:polling-xhr");function MU(){}o(MU,"empty");var LU=function(){return new p2["default"]({xdomain:!1}).responseType!=null;}(),wp=/*#__PURE__*/function(_BU$Polling){_inherits(wp,_BU$Polling);var _super59=_createSuper(wp);function wp(e){var _this172;_classCallCheck(this,wp);_this172=_super59.call(this,e);if(typeof location!="undefined"){var i=location.protocol==="https:",s=location.port;s||(s=i?"443":"80"),_this172.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port,_this172.xs=e.secure!==i;}var t=e&&e.forceBase64;_this172.supportsBinary=LU&&!t;return _this172;}_createClass(wp,[{key:"request",value:function request(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ct(this.uri(),e);}},{key:"doWrite",value:function doWrite(e,t){var _this173=this;var i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",function(s){_this173.onError("xhr post error",s);});}},{key:"doPoll",value:function doPoll(){var _this174=this;bp("xhr poll");var e=this.request();e.on("data",this.onData.bind(this)),e.on("error",function(t){_this174.onError("xhr poll error",t);}),this.pollXhr=e;}}]);return wp;}(BU.Polling);o(wp,"XHR");yi.XHR=wp;var Ct=/*#__PURE__*/function(_IU$Emitter){_inherits(Ct,_IU$Emitter);var _super60=_createSuper(Ct);function Ct(e,t){var _this175;_classCallCheck(this,Ct);_this175=_super60.call(this);(0,f2.installTimerFunctions)(_assertThisInitialized(_this175),t),_this175.opts=t,_this175.method=t.method||"GET",_this175.uri=e,_this175.async=t.async!==!1,_this175.data=t.data!==void 0?t.data:null,_this175.create();return _this175;}_createClass(Ct,[{key:"create",value:function create(){var _this176=this;var e=(0,f2.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var t=this.xhr=new p2["default"](e);try{bp("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i]);}}catch(_unused18){}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8");}catch(_unused19){}try{t.setRequestHeader("Accept","*/*");}catch(_unused20){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status===1223?_this176.onLoad():_this176.setTimeoutFn(function(){_this176.onError(typeof t.status=="number"?t.status:0);},0));},bp("xhr data %s",this.data),t.send(this.data);}catch(i){this.setTimeoutFn(function(){_this176.onError(i);},0);return;}typeof document!="undefined"&&(this.index=Ct.requestsCount++,Ct.requests[this.index]=this);}},{key:"onSuccess",value:function onSuccess(){this.emit("success"),this.cleanup();}},{key:"onData",value:function onData(e){this.emit("data",e),this.onSuccess();}},{key:"onError",value:function onError(e){this.emit("error",e),this.cleanup(!0);}},{key:"cleanup",value:function cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=MU,e)try{this.xhr.abort();}catch(_unused21){}typeof document!="undefined"&&delete Ct.requests[this.index],this.xhr=null;}}},{key:"onLoad",value:function onLoad(){var e=this.xhr.responseText;e!==null&&this.onData(e);}},{key:"abort",value:function abort(){this.cleanup();}}]);return Ct;}(IU.Emitter);o(Ct,"Request");yi.Request=Ct;Ct.requestsCount=0;Ct.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",m2);else if(typeof addEventListener=="function"){var r="onpagehide"in NU["default"]?"pagehide":"unload";addEventListener(r,m2,!1);}}function m2(){for(var _r2 in Ct.requests)Ct.requests.hasOwnProperty(_r2)&&Ct.requests[_r2].abort();}o(m2,"unloadHandler");});var y2=v(function(Lt){"use strict";var jU=Lt&&Lt.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.defaultBinaryType=Lt.usingBrowserWebSocket=Lt.WebSocket=Lt.nextTick=void 0;var v2=jU(xo());Lt.nextTick=function(){return typeof Promise=="function"&&typeof Promise.resolve=="function"?function(e){return Promise.resolve().then(e);}:function(e,t){return t(e,0);};}();Lt.WebSocket=v2["default"].WebSocket||v2["default"].MozWebSocket;Lt.usingBrowserWebSocket=!0;Lt.defaultBinaryType="arraybuffer";});var w2=v(function(sn){"use strict";var _p=sn&&sn.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(sn,"__esModule",{value:!0});sn.WS=void 0;var zU=$l(),HU=_p(Wl()),$U=_p(fp()),VU=en(),vr=y2(),WU=_p(Zt()),KU=ko(),GU=(0,WU["default"])("engine.io-client:websocket"),b2=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ao=/*#__PURE__*/function(_zU$Transport){_inherits(Ao,_zU$Transport);var _super61=_createSuper(Ao);function Ao(e){var _this177;_classCallCheck(this,Ao);_this177=_super61.call(this,e);_this177.supportsBinary=!e.forceBase64;return _this177;}_createClass(Ao,[{key:"name",get:function get(){return"websocket";}},{key:"doOpen",value:function doOpen(){if(!this.check())return;var e=this.uri(),t=this.opts.protocols,i=b2?{}:(0,VU.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=vr.usingBrowserWebSocket&&!b2?t?new vr.WebSocket(e,t):new vr.WebSocket(e):new vr.WebSocket(e,t,i);}catch(s){return this.emit("error",s);}this.ws.binaryType=this.socket.binaryType||vr.defaultBinaryType,this.addEventListeners();}},{key:"addEventListeners",value:function addEventListeners(){var _this178=this;this.ws.onopen=function(){_this178.opts.autoUnref&&_this178.ws._socket.unref(),_this178.onOpen();},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return _this178.onData(e.data);},this.ws.onerror=function(e){return _this178.onError("websocket error",e);};}},{key:"write",value:function write(e){var _this179=this;this.writable=!1;var _loop2=function _loop2(){var i=e[t],s=t===e.length-1;(0,KU.encodePacket)(i,_this179.supportsBinary,function(n){var a={};vr.usingBrowserWebSocket||(i.options&&(a.compress=i.options.compress),_this179.opts.perMessageDeflate&&(typeof n=="string"?Buffer.byteLength(n):n.length)<_this179.opts.perMessageDeflate.threshold&&(a.compress=!1));try{vr.usingBrowserWebSocket?_this179.ws.send(n):_this179.ws.send(n,a);}catch(_unused22){GU("websocket closed before onclose event");}s&&(0,vr.nextTick)(function(){_this179.writable=!0,_this179.emit("drain");},_this179.setTimeoutFn);});};for(var t=0;t<e.length;t++){_loop2();}}},{key:"doClose",value:function doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null);}},{key:"uri",value:function uri(){var e=this.query||{},t=this.opts.secure?"wss":"ws",i="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,$U["default"])()),this.supportsBinary||(e.b64=1);var s=HU["default"].encode(e),n=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"");}},{key:"check",value:function check(){return!!vr.WebSocket&&!("__initialize"in vr.WebSocket&&this.name===Ao.prototype.name);}}]);return Ao;}(zU.Transport);o(Ao,"WS");sn.WS=Ao;});var Sp=v(function(Kl){"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.transports=void 0;var XU=g2(),YU=w2();Kl.transports={websocket:YU.WS,polling:XU.XHR};});var P2=v(function(nn){"use strict";var Pp=nn&&nn.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(nn,"__esModule",{value:!0});nn.Socket=void 0;var JU=Sp(),QU=en(),ZU=Pp(Wl()),_2=Pp(np()),eD=Pp(Zt()),tD=ss(),S2=ko(),Fe=(0,eD["default"])("engine.io-client:socket"),yr=/*#__PURE__*/function(_tD$Emitter){_inherits(yr,_tD$Emitter);var _super62=_createSuper(yr);function yr(e){var _this180;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,yr);_this180=_super62.call(this);e&&_typeof(e)=="object"&&(t=e,e=null),e?(e=(0,_2["default"])(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,_2["default"])(t.host).host),(0,QU.installTimerFunctions)(_assertThisInitialized(_this180),t),_this180.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=_this180.secure?"443":"80"),_this180.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),_this180.port=t.port||(typeof location!="undefined"&&location.port?location.port:_this180.secure?"443":"80"),_this180.transports=t.transports||["polling","websocket"],_this180.readyState="",_this180.writeBuffer=[],_this180.prevBufferLen=0,_this180.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),_this180.opts.path=_this180.opts.path.replace(/\/$/,"")+"/",typeof _this180.opts.query=="string"&&(_this180.opts.query=ZU["default"].decode(_this180.opts.query)),_this180.id=null,_this180.upgrades=null,_this180.pingInterval=null,_this180.pingTimeout=null,_this180.pingTimeoutTimer=null,typeof addEventListener=="function"&&(_this180.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){_this180.transport&&(_this180.transport.removeAllListeners(),_this180.transport.close());},!1),_this180.hostname!=="localhost"&&(_this180.offlineEventListener=function(){_this180.onClose("transport close");},addEventListener("offline",_this180.offlineEventListener,!1))),_this180.open();return _this180;}_createClass(yr,[{key:"createTransport",value:function createTransport(e){Fe('creating transport "%s"',e);var t=rD(this.opts.query);t.EIO=S2.protocol,t.transport=e,this.id&&(t.sid=this.id);var i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Fe("options: %j",i),new JU.transports[e](i);}},{key:"open",value:function open(){var _this181=this;var e;if(this.opts.rememberUpgrade&&yr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){_this181.emitReserved("error","No transports available");},0);return;}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e);}catch(t){Fe("error while creating transport: %s",t),this.transports.shift(),this.open();return;}e.open(),this.setTransport(e);}},{key:"setTransport",value:function setTransport(e){var _this182=this;Fe("setting transport %s",e.name),this.transport&&(Fe("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){_this182.onClose("transport close");});}},{key:"probe",value:function probe(e){var _this183=this;Fe('probing transport "%s"',e);var t=this.createTransport(e),i=!1;yr.priorWebsocketSuccess=!1;var s=o(function(){i||(Fe('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(p){if(!i)if(p.type==="pong"&&p.data==="probe"){if(Fe('probe transport "%s" pong',e),_this183.upgrading=!0,_this183.emitReserved("upgrading",t),!t)return;yr.priorWebsocketSuccess=t.name==="websocket",Fe('pausing current transport "%s"',_this183.transport.name),_this183.transport.pause(function(){i||_this183.readyState!=="closed"&&(Fe("changing transport and sending upgrade packet"),h(),_this183.setTransport(t),t.send([{type:"upgrade"}]),_this183.emitReserved("upgrade",t),t=null,_this183.upgrading=!1,_this183.flush());});}else{Fe('probe transport "%s" failed',e);var g=new Error("probe error");g.transport=t.name,_this183.emitReserved("upgradeError",g);}}));},"onTransportOpen");function n(){i||(i=!0,h(),t.close(),t=null);}o(n,"freezeTransport");var a=o(function(p){var g=new Error("probe error: "+p);g.transport=t.name,n(),Fe('probe transport "%s" failed because of error: %s',e,p),_this183.emitReserved("upgradeError",g);},"onerror");function l(){a("transport closed");}o(l,"onTransportClose");function u(){a("socket closed");}o(u,"onclose");function c(p){t&&p.name!==t.name&&(Fe('"%s" works - aborting "%s"',p.name,t.name),n());}o(c,"onupgrade");var h=o(function(){t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",l),_this183.off("close",u),_this183.off("upgrading",c);},"cleanup");t.once("open",s),t.once("error",a),t.once("close",l),this.once("close",u),this.once("upgrading",c),t.open();}},{key:"onOpen",value:function onOpen(){if(Fe("socket open"),this.readyState="open",yr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Fe("starting upgrade probes");var e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e]);}}},{key:"onPacket",value:function onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Fe('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break;}else Fe('packet received with socket readyState "%s"',this.readyState);}},{key:"onHandshake",value:function onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout();}},{key:"resetPingTimeout",value:function resetPingTimeout(){var _this184=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){_this184.onClose("ping timeout");},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref();}},{key:"onDrain",value:function onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush();}},{key:"flush",value:function flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Fe("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"));}},{key:"write",value:function write(e,t,i){return this.sendPacket("message",e,t,i),this;}},{key:"send",value:function send(e,t,i){return this.sendPacket("message",e,t,i),this;}},{key:"sendPacket",value:function sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;var n={type:e,data:t,options:i};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),s&&this.once("flush",s),this.flush();}},{key:"close",value:function close(){var _this185=this;var e=o(function(){_this185.onClose("forced close"),Fe("socket closing - telling transport to close"),_this185.transport.close();},"close"),t=o(function(){_this185.off("upgrade",t),_this185.off("upgradeError",t),e();},"cleanupAndClose"),i=o(function(){_this185.once("upgrade",t),_this185.once("upgradeError",t);},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){_this185.upgrading?i():e();}):this.upgrading?i():e()),this;}},{key:"onError",value:function onError(e){Fe("socket error %j",e),yr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e);}},{key:"onClose",value:function onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Fe('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0);}},{key:"filterUpgrades",value:function filterUpgrades(e){var t=[],i=0,s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t;}}]);return yr;}(tD.Emitter);o(yr,"Socket");nn.Socket=yr;yr.protocol=S2.protocol;function rD(r){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e;}o(rD,"clone");});var E2=v(function(jt){"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.installTimerFunctions=jt.transports=jt.Transport=jt.protocol=jt.Socket=void 0;var F2=P2();Object.defineProperty(jt,"Socket",{enumerable:!0,get:function get(){return F2.Socket;}});jt.protocol=F2.Socket.protocol;var iD=$l();Object.defineProperty(jt,"Transport",{enumerable:!0,get:function get(){return iD.Transport;}});var sD=Sp();Object.defineProperty(jt,"transports",{enumerable:!0,get:function get(){return sD.transports;}});var nD=en();Object.defineProperty(jt,"installTimerFunctions",{enumerable:!0,get:function get(){return nD.installTimerFunctions;}});});var Fp=v(function(on){"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.hasBinary=on.isBinary=void 0;var oD=typeof ArrayBuffer=="function",aD=o(function(r){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer;},"isView"),C2=Object.prototype.toString,lD=typeof Blob=="function"||typeof Blob!="undefined"&&C2.call(Blob)==="[object BlobConstructor]",uD=typeof File=="function"||typeof File!="undefined"&&C2.call(File)==="[object FileConstructor]";function R2(r){return oD&&(r instanceof ArrayBuffer||aD(r))||lD&&r instanceof Blob||uD&&r instanceof File;}o(R2,"isBinary");on.isBinary=R2;function Gl(r,e){if(!r||_typeof(r)!="object")return!1;if(Array.isArray(r)){for(var t=0,i=r.length;t<i;t++)if(Gl(r[t]))return!0;return!1;}if(R2(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Gl(r.toJSON(),!0);for(var _t5 in r)if(Object.prototype.hasOwnProperty.call(r,_t5)&&Gl(r[_t5]))return!0;return!1;}o(Gl,"hasBinary");on.hasBinary=Gl;});var O2=v(function(an){"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.reconstructPacket=an.deconstructPacket=void 0;var cD=Fp();function hD(r){var e=[],t=r.data,i=r;return i.data=Ep(t,e),i.attachments=e.length,{packet:i,buffers:e};}o(hD,"deconstructPacket");an.deconstructPacket=hD;function Ep(r,e){if(!r)return r;if(cD.isBinary(r)){var t={_placeholder:!0,num:e.length};return e.push(r),t;}else if(Array.isArray(r)){var _t6=new Array(r.length);for(var i=0;i<r.length;i++)_t6[i]=Ep(r[i],e);return _t6;}else if(_typeof(r)=="object"&&!(r instanceof Date)){var _t7={};for(var _i21 in r)r.hasOwnProperty(_i21)&&(_t7[_i21]=Ep(r[_i21],e));return _t7;}return r;}o(Ep,"_deconstructPacket");function dD(r,e){return r.data=Cp(r.data,e),r.attachments=void 0,r;}o(dD,"reconstructPacket");an.reconstructPacket=dD;function Cp(r,e){if(!r)return r;if(r&&r._placeholder)return e[r.num];if(Array.isArray(r))for(var t=0;t<r.length;t++)r[t]=Cp(r[t],e);else if(_typeof(r)=="object")for(var _t8 in r)r.hasOwnProperty(_t8)&&(r[_t8]=Cp(r[_t8],e));return r;}o(Cp,"_reconstructPacket");});var Xl=v(function(tr){"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.Decoder=tr.Encoder=tr.PacketType=tr.protocol=void 0;var pD=ss(),x2=O2(),T2=Fp(),fD=Zt(),Rp=fD["default"]("socket.io-parser");tr.protocol=5;var Oe;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK";})(Oe=tr.PacketType||(tr.PacketType={}));var Op=/*#__PURE__*/function(){function Op(){_classCallCheck(this,Op);}_createClass(Op,[{key:"encode",value:function encode(e){return Rp("encoding packet %j",e),(e.type===Oe.EVENT||e.type===Oe.ACK)&&T2.hasBinary(e)?(e.type=e.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)];}},{key:"encodeAsString",value:function encodeAsString(e){var t=""+e.type;return(e.type===Oe.BINARY_EVENT||e.type===Oe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data)),Rp("encoded %j as %s",e,t),t;}},{key:"encodeAsBinary",value:function encodeAsBinary(e){var t=x2.deconstructPacket(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s;}}]);return Op;}();o(Op,"Encoder");tr.Encoder=Op;var Uo=/*#__PURE__*/function(_pD$Emitter){_inherits(Uo,_pD$Emitter);var _super63=_createSuper(Uo);function Uo(){_classCallCheck(this,Uo);return _super63.call(this);}_createClass(Uo,[{key:"add",value:function add(e){var t;if(typeof e=="string")t=this.decodeString(e),t.type===Oe.BINARY_EVENT||t.type===Oe.BINARY_ACK?(this.reconstructor=new xp(t),t.attachments===0&&_get(_getPrototypeOf(Uo.prototype),"emitReserved",this).call(this,"decoded",t)):_get(_getPrototypeOf(Uo.prototype),"emitReserved",this).call(this,"decoded",t);else if(T2.isBinary(e)||e.base64){if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,_get(_getPrototypeOf(Uo.prototype),"emitReserved",this).call(this,"decoded",t));else throw new Error("got binary data when not reconstructing a packet");}else throw new Error("Unknown type: "+e);}},{key:"decodeString",value:function decodeString(e){var t=0,i={type:Number(e.charAt(0))};if(Oe[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Oe.BINARY_EVENT||i.type===Oe.BINARY_ACK){var n=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);var a=e.substring(n,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a);}if(e.charAt(t+1)==="/"){var _n8=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(_n8,t);}else i.nsp="/";var s=e.charAt(t+1);if(s!==""&&Number(s)==s){var _n9=t+1;for(;++t;){var _a12=e.charAt(t);if(_a12==null||Number(_a12)!=_a12){--t;break;}if(t===e.length)break;}i.id=Number(e.substring(_n9,t+1));}if(e.charAt(++t)){var _n10=mD(e.substr(t));if(Uo.isPayloadValid(i.type,_n10))i.data=_n10;else throw new Error("invalid payload");}return Rp("decoded %s as %j",e,i),i;}},{key:"destroy",value:function destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction();}}],[{key:"isPayloadValid",value:function isPayloadValid(e,t){switch(e){case Oe.CONNECT:return _typeof(t)=="object";case Oe.DISCONNECT:return t===void 0;case Oe.CONNECT_ERROR:return typeof t=="string"||_typeof(t)=="object";case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(t);}}}]);return Uo;}(pD.Emitter);o(Uo,"Decoder");tr.Decoder=Uo;function mD(r){try{return JSON.parse(r);}catch(_unused23){return!1;}}o(mD,"tryParse");var xp=/*#__PURE__*/function(){function xp(e){_classCallCheck(this,xp);this.packet=e,this.buffers=[],this.reconPack=e;}_createClass(xp,[{key:"takeBinaryData",value:function takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=x2.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t;}return null;}},{key:"finishedReconstruction",value:function finishedReconstruction(){this.reconPack=null,this.buffers=[];}}]);return xp;}();o(xp,"BinaryReconstructor");});var Tp=v(function(Yl){"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.on=void 0;function gD(r,e,t){return r.on(e,t),o(function(){r.off(e,t);},"subDestroy");}o(gD,"on");Yl.on=gD;});var Ap=v(function(ln){"use strict";var vD=ln&&ln.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(ln,"__esModule",{value:!0});ln.Socket=void 0;var zt=Xl(),Jl=Tp(),yD=ss(),bD=vD(Zt()),dt=bD["default"]("socket.io-client:socket"),wD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),kp=/*#__PURE__*/function(_yD$Emitter){_inherits(kp,_yD$Emitter);var _super64=_createSuper(kp);function kp(e,t,i){var _this186;_classCallCheck(this,kp);_this186=_super64.call(this);_this186.connected=!1,_this186.disconnected=!0,_this186.receiveBuffer=[],_this186.sendBuffer=[],_this186.ids=0,_this186.acks={},_this186.flags={},_this186.io=e,_this186.nsp=t,i&&i.auth&&(_this186.auth=i.auth),_this186.io._autoConnect&&_this186.open();return _this186;}_createClass(kp,[{key:"subEvents",value:function subEvents(){if(this.subs)return;var e=this.io;this.subs=[Jl.on(e,"open",this.onopen.bind(this)),Jl.on(e,"packet",this.onpacket.bind(this)),Jl.on(e,"error",this.onerror.bind(this)),Jl.on(e,"close",this.onclose.bind(this))];}},{key:"active",get:function get(){return!!this.subs;}},{key:"connect",value:function connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this);}},{key:"open",value:function open(){return this.connect();}},{key:"send",value:function send(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return e.unshift("message"),this.emit.apply(this,e),this;}},{key:"emit",value:function emit(e){if(wD.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}t.unshift(e);var i={type:zt.PacketType.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){var a=this.ids++;dt("emitting packet with ack id %d",a);var l=t.pop();this._registerAckCallback(a,l),i.id=a;}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags["volatile"]&&(!s||!this.connected)?dt("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this;}},{key:"_registerAckCallback",value:function _registerAckCallback(e,t){var _this187=this;var i=this.flags.timeout;if(i===void 0){this.acks[e]=t;return;}var s=this.io.setTimeoutFn(function(){delete _this187.acks[e];for(var n=0;n<_this187.sendBuffer.length;n++)_this187.sendBuffer[n].id===e&&(dt("removing packet with ack id %d from the buffer",e),_this187.sendBuffer.splice(n,1));dt("event with ack id %d has timed out after %d ms",e,i),t.call(_this187,new Error("operation has timed out"));},i);this.acks[e]=function(){for(var _len5=arguments.length,n=new Array(_len5),_key5=0;_key5<_len5;_key5++){n[_key5]=arguments[_key5];}_this187.io.clearTimeoutFn(s),t.apply(_this187,[null].concat(n));};}},{key:"packet",value:function packet(e){e.nsp=this.nsp,this.io._packet(e);}},{key:"onopen",value:function onopen(){var _this188=this;dt("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(e){_this188.packet({type:zt.PacketType.CONNECT,data:e});}):this.packet({type:zt.PacketType.CONNECT,data:this.auth});}},{key:"onerror",value:function onerror(e){this.connected||this.emitReserved("connect_error",e);}},{key:"onclose",value:function onclose(e){dt("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e);}},{key:"onpacket",value:function onpacket(e){if(e.nsp===this.nsp)switch(e.type){case zt.PacketType.CONNECT:if(e.data&&e.data.sid){var s=e.data.sid;this.onconnect(s);}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case zt.PacketType.EVENT:this.onevent(e);break;case zt.PacketType.BINARY_EVENT:this.onevent(e);break;case zt.PacketType.ACK:this.onack(e);break;case zt.PacketType.BINARY_ACK:this.onack(e);break;case zt.PacketType.DISCONNECT:this.ondisconnect();break;case zt.PacketType.CONNECT_ERROR:this.destroy();var i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break;}}},{key:"onevent",value:function onevent(e){var t=e.data||[];dt("emitting event %j",t),e.id!=null&&(dt("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t));}},{key:"emitEvent",value:function emitEvent(e){if(this._anyListeners&&this._anyListeners.length){var t=this._anyListeners.slice();var _iterator32=_createForOfIteratorHelper(t),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var i=_step32.value;i.apply(this,e);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}_get(_getPrototypeOf(kp.prototype),"emit",this).apply(this,e);}},{key:"ack",value:function ack(e){var t=this,i=!1;return function(){for(var _len6=arguments.length,s=new Array(_len6),_key6=0;_key6<_len6;_key6++){s[_key6]=arguments[_key6];}i||(i=!0,dt("sending ack %j",s),t.packet({type:zt.PacketType.ACK,id:e,data:s}));};}},{key:"onack",value:function onack(e){var t=this.acks[e.id];typeof t=="function"?(dt("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):dt("bad ack %s",e.id);}},{key:"onconnect",value:function onconnect(e){dt("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect");}},{key:"emitBuffered",value:function emitBuffered(){var _this189=this;this.receiveBuffer.forEach(function(e){return _this189.emitEvent(e);}),this.receiveBuffer=[],this.sendBuffer.forEach(function(e){return _this189.packet(e);}),this.sendBuffer=[];}},{key:"ondisconnect",value:function ondisconnect(){dt("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect");}},{key:"destroy",value:function destroy(){this.subs&&(this.subs.forEach(function(e){return e();}),this.subs=void 0),this.io._destroy(this);}},{key:"disconnect",value:function disconnect(){return this.connected&&(dt("performing disconnect (%s)",this.nsp),this.packet({type:zt.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this;}},{key:"close",value:function close(){return this.disconnect();}},{key:"compress",value:function compress(e){return this.flags.compress=e,this;}},{key:"volatile",get:function get(){return this.flags["volatile"]=!0,this;}},{key:"timeout",value:function timeout(e){return this.flags.timeout=e,this;}},{key:"onAny",value:function onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this;}},{key:"prependAny",value:function prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this;}},{key:"offAny",value:function offAny(e){if(!this._anyListeners)return this;if(e){var t=this._anyListeners;for(var i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this;}else this._anyListeners=[];return this;}},{key:"listenersAny",value:function listenersAny(){return this._anyListeners||[];}}]);return kp;}(yD.Emitter);o(kp,"Socket");ln.Socket=kp;});var A2=v(function(xM,k2){k2.exports=un;function un(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0;}o(un,"Backoff");un.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t;}return Math.min(r,this.max)|0;};un.prototype.reset=function(){this.attempts=0;};un.prototype.setMin=function(r){this.ms=r;};un.prototype.setMax=function(r){this.max=r;};un.prototype.setJitter=function(r){this.jitter=r;};});var q2=v(function(Ht){"use strict";var _D=Ht&&Ht.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function get(){return e[t];}});}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t];}),SD=Ht&&Ht.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e});}:function(r,e){r["default"]=e;}),PD=Ht&&Ht.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_D(e,r,t);return SD(e,r),e;},U2=Ht&&Ht.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.Manager=void 0;var D2=E2(),FD=Ap(),ED=PD(Xl()),ns=Tp(),CD=U2(A2()),RD=ss(),OD=U2(Zt()),Ve=OD["default"]("socket.io-client:manager"),Up=/*#__PURE__*/function(_RD$Emitter){_inherits(Up,_RD$Emitter);var _super65=_createSuper(Up);function Up(e,t){var _this190;_classCallCheck(this,Up);var i;_this190=_super65.call(this);_this190.nsps={},_this190.subs=[],e&&_typeof(e)=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",_this190.opts=t,D2.installTimerFunctions(_assertThisInitialized(_this190),t),_this190.reconnection(t.reconnection!==!1),_this190.reconnectionAttempts(t.reconnectionAttempts||1/0),_this190.reconnectionDelay(t.reconnectionDelay||1e3),_this190.reconnectionDelayMax(t.reconnectionDelayMax||5e3),_this190.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),_this190.backoff=new CD["default"]({min:_this190.reconnectionDelay(),max:_this190.reconnectionDelayMax(),jitter:_this190.randomizationFactor()}),_this190.timeout(t.timeout==null?2e4:t.timeout),_this190._readyState="closed",_this190.uri=e;var s=t.parser||ED;_this190.encoder=new s.Encoder(),_this190.decoder=new s.Decoder(),_this190._autoConnect=t.autoConnect!==!1,_this190._autoConnect&&_this190.open();return _this190;}_createClass(Up,[{key:"reconnection",value:function reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection;}},{key:"reconnectionAttempts",value:function reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this);}},{key:"reconnectionDelay",value:function reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this);}},{key:"randomizationFactor",value:function randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this);}},{key:"reconnectionDelayMax",value:function reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this);}},{key:"timeout",value:function timeout(e){return arguments.length?(this._timeout=e,this):this._timeout;}},{key:"maybeReconnectOnOpen",value:function maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect();}},{key:"open",value:function open(e){var _this191=this;if(Ve("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Ve("opening %s",this.uri),this.engine=new D2.Socket(this.uri,this.opts);var t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var s=ns.on(t,"open",function(){i.onopen(),e&&e();}),n=ns.on(t,"error",function(a){Ve("error"),i.cleanup(),i._readyState="closed",_this191.emitReserved("error",a),e?e(a):i.maybeReconnectOnOpen();});if(this._timeout!==!1){var a=this._timeout;Ve("connect attempt will timeout after %d",a),a===0&&s();var l=this.setTimeoutFn(function(){Ve("connect attempt timed out after %d",a),s(),t.close(),t.emit("error",new Error("timeout"));},a);this.opts.autoUnref&&l.unref(),this.subs.push(o(function(){clearTimeout(l);},"subDestroy"));}return this.subs.push(s),this.subs.push(n),this;}},{key:"connect",value:function connect(e){return this.open(e);}},{key:"onopen",value:function onopen(){Ve("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(ns.on(e,"ping",this.onping.bind(this)),ns.on(e,"data",this.ondata.bind(this)),ns.on(e,"error",this.onerror.bind(this)),ns.on(e,"close",this.onclose.bind(this)),ns.on(this.decoder,"decoded",this.ondecoded.bind(this)));}},{key:"onping",value:function onping(){this.emitReserved("ping");}},{key:"ondata",value:function ondata(e){this.decoder.add(e);}},{key:"ondecoded",value:function ondecoded(e){this.emitReserved("packet",e);}},{key:"onerror",value:function onerror(e){Ve("error",e),this.emitReserved("error",e);}},{key:"socket",value:function socket(e,t){var i=this.nsps[e];return i||(i=new FD.Socket(this,e,t),this.nsps[e]=i),i;}},{key:"_destroy",value:function _destroy(e){var t=Object.keys(this.nsps);for(var _i22=0,_t9=t;_i22<_t9.length;_i22++){var i=_t9[_i22];if(this.nsps[i].active){Ve("socket %s is still active, skipping close",i);return;}}this._close();}},{key:"_packet",value:function _packet(e){Ve("writing packet %j",e);var t=this.encoder.encode(e);for(var i=0;i<t.length;i++)this.engine.write(t[i],e.options);}},{key:"cleanup",value:function cleanup(){Ve("cleanup"),this.subs.forEach(function(e){return e();}),this.subs.length=0,this.decoder.destroy();}},{key:"_close",value:function _close(){Ve("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close();}},{key:"disconnect",value:function disconnect(){return this._close();}},{key:"onclose",value:function onclose(e){Ve("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect();}},{key:"reconnect",value:function reconnect(){var _this192=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Ve("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var t=this.backoff.duration();Ve("will wait %dms before reconnect attempt",t),this._reconnecting=!0;var i=this.setTimeoutFn(function(){e.skipReconnect||(Ve("attempting reconnect"),_this192.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(function(s){s?(Ve("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),_this192.emitReserved("reconnect_error",s)):(Ve("reconnect success"),e.onreconnect());}));},t);this.opts.autoUnref&&i.unref(),this.subs.push(o(function(){clearTimeout(i);},"subDestroy"));}}},{key:"onreconnect",value:function onreconnect(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e);}}]);return Up;}(RD.Emitter);o(Up,"Manager");Ht.Manager=Up;});var M2=v(function(Xe,B2){"use strict";var xD=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{"default":r};};Object.defineProperty(Xe,"__esModule",{value:!0});Xe["default"]=Xe.connect=Xe.io=Xe.Socket=Xe.Manager=Xe.protocol=void 0;var TD=VS(),Ql=q2();Object.defineProperty(Xe,"Manager",{enumerable:!0,get:function get(){return Ql.Manager;}});var N2=Ap();Object.defineProperty(Xe,"Socket",{enumerable:!0,get:function get(){return N2.Socket;}});var kD=xD(Zt()),I2=kD["default"]("socket.io-client"),Do={};function os(r,e){_typeof(r)=="object"&&(e=r,r=void 0),e=e||{};var t=TD.url(r,e.path||"/socket.io"),i=t.source,s=t.id,n=t.path,a=Do[s]&&n in Do[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a,u;return l?(I2("ignoring socket cache for %s",i),u=new Ql.Manager(i,e)):(Do[s]||(I2("new io instance for %s",i),Do[s]=new Ql.Manager(i,e)),u=Do[s]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e);}o(os,"lookup");Xe.io=os;Xe.connect=os;Xe["default"]=os;Object.assign(os,{Manager:Ql.Manager,Socket:N2.Socket,io:os,connect:os});var AD=Xl();Object.defineProperty(Xe,"protocol",{enumerable:!0,get:function get(){return AD.protocol;}});B2.exports=os;});var H2=v(function(kM,z2){"use strict";function xe(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(xe,"_classPrivateFieldLooseBase");var UD=0;function Xr(r){return"__private_"+UD++ +"_"+r;}o(Xr,"_classPrivateFieldLooseKey");var DD=sp(),qD=Ss(),ND=Cs(),ID=da(),BD=IS(),L2;function MD(){var r;return(r=L2)!=null?r:L2=M2();}o(MD,"requireSocketIo");var LD="ASSEMBLY_UPLOADING",Dp="ASSEMBLY_EXECUTING",qp="ASSEMBLY_COMPLETED",j2=[LD,Dp,qp];function Zl(r,e){return j2.indexOf(r)>=j2.indexOf(e);}o(Zl,"isStatus");var as=Xr("rateLimitedQueue"),qo=Xr("fetchWithNetworkError"),ls=Xr("previousFetchStatusStillPending"),Np=Xr("onFinished"),Ip=Xr("connectSocket"),Yr=Xr("onError"),Bp=Xr("beginPolling"),Jr=Xr("fetchStatus"),Mp=Xr("diffStatus"),Lp=/*#__PURE__*/function(_DD){_inherits(Lp,_DD);var _super66=_createSuper(Lp);function Lp(e,t){var _this193;_classCallCheck(this,Lp);_this193=_super66.call(this);Object.defineProperty(_assertThisInitialized(_this193),Mp,{value:WD}),Object.defineProperty(_assertThisInitialized(_this193),Jr,{value:VD}),Object.defineProperty(_assertThisInitialized(_this193),Bp,{value:$D}),Object.defineProperty(_assertThisInitialized(_this193),Yr,{value:HD}),Object.defineProperty(_assertThisInitialized(_this193),Ip,{value:zD}),Object.defineProperty(_assertThisInitialized(_this193),Np,{value:jD}),Object.defineProperty(_assertThisInitialized(_this193),as,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this193),qo,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this193),ls,{writable:!0,value:!1}),_this193.status=e,_this193.socket=null,_this193.pollInterval=null,_this193.closed=!1,xe(_assertThisInitialized(_this193),as)[as]=t,xe(_assertThisInitialized(_this193),qo)[qo]=t.wrapPromiseFunction(ID);return _this193;}_createClass(Lp,[{key:"connect",value:function connect(){xe(this,Ip)[Ip](),xe(this,Bp)[Bp]();}},{key:"update",value:function update(){return xe(this,Jr)[Jr]({diff:!0});}},{key:"updateStatus",value:function updateStatus(e){xe(this,Mp)[Mp](this.status,e),this.status=e;}},{key:"close",value:function close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null;}}]);return Lp;}(DD);o(Lp,"TransloaditAssembly");function jD(){this.emit("finished"),this.close();}o(jD,"_onFinished2");function zD(){var _this194=this;var r=BD(this.status.websocket_url),e=MD().connect(r.origin,{transports:["websocket"],path:r.pathname});e.on("connect",function(){e.emit("assembly_connect",{id:_this194.status.assembly_id}),_this194.emit("connect");}),e.on("connect_error",function(){e.disconnect(),_this194.socket=null;}),e.on("assembly_finished",function(){xe(_this194,Np)[Np]();}),e.on("assembly_upload_finished",function(t){_this194.emit("upload",t),_this194.status.uploads.push(t);}),e.on("assembly_uploading_finished",function(){_this194.emit("executing");}),e.on("assembly_upload_meta_data_extracted",function(){_this194.emit("metadata"),xe(_this194,Jr)[Jr]({diff:!1});}),e.on("assembly_result_finished",function(t,i){_this194.emit("result",t,i),_this194.status.results[t]||(_this194.status.results[t]=[]),_this194.status.results[t].push(i);}),e.on("assembly_error",function(t){xe(_this194,Yr)[Yr](t),xe(_this194,Jr)[Jr]({diff:!1});}),this.socket=e;}o(zD,"_connectSocket2");function HD(r){this.emit("error",Object.assign(new Error(r.message),r)),this.close();}o(HD,"_onError2");function $D(){var _this195=this;this.pollInterval=setInterval(function(){(!_this195.socket||!_this195.socket.connected)&&xe(_this195,Jr)[Jr]();},2e3);}o($D,"_beginPolling2");function VD(_x43){return _VD.apply(this,arguments);}function _VD(){_VD=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee51(r){var _ref22,_ref22$diff,e,t,i;return _regeneratorRuntime().wrap(function _callee51$(_context51){while(1)switch(_context51.prev=_context51.next){case 0:_ref22=r===void 0?{}:r,_ref22$diff=_ref22.diff,e=_ref22$diff===void 0?!0:_ref22$diff;if(this.closed||xe(this,as)[as].isPaused||xe(this,ls)[ls]){_context51.next=26;break;}_context51.prev=2;xe(this,ls)[ls]=!0;_context51.next=6;return xe(this,qo)[qo](this.status.assembly_ssl_url);case 6:t=_context51.sent;if(!(xe(this,ls)[ls]=!1,this.closed)){_context51.next=9;break;}return _context51.abrupt("return");case 9:if(!(t.status===429)){_context51.next=12;break;}xe(this,as)[as].rateLimit(2e3);return _context51.abrupt("return");case 12:if(t.ok){_context51.next=15;break;}xe(this,Yr)[Yr](new ND(t.statusText));return _context51.abrupt("return");case 15:_context51.next=17;return t.json();case 17:i=_context51.sent;if(!this.closed){_context51.next=20;break;}return _context51.abrupt("return");case 20:this.emit("status",i),e?this.updateStatus(i):this.status=i;_context51.next=26;break;case 23:_context51.prev=23;_context51.t0=_context51["catch"](2);xe(this,Yr)[Yr](_context51.t0);case 26:case"end":return _context51.stop();}},_callee51,this,[[2,23]]);}));return _VD.apply(this,arguments);}o(VD,"_fetchStatus2");function WD(r,e){var _this196=this;var t=r.ok,i=e.ok;if(e.error&&!r.error)return xe(this,Yr)[Yr](e);var s=Zl(i,Dp)&&!Zl(t,Dp);s&&this.emit("executing"),Object.keys(e.uploads).filter(function(n){return!qD(r.uploads,n);}).forEach(function(n){_this196.emit("upload",e.uploads[n]);}),s&&this.emit("metadata"),Object.keys(e.results).forEach(function(n){var a=e.results[n],l=r.results[n];a.filter(function(u){return!l||!l.some(function(c){return c.id===u.id;});}).forEach(function(u){_this196.emit("result",n,u);});}),Zl(i,qp)&&!Zl(t,qp)&&this.emit("finished");}o(WD,"_diffStatus2");z2.exports=Lp;});var W2=v(function(AM,V2){"use strict";function we(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(we,"_classPrivateFieldLooseBase");var KD=0;function eu(r){return"__private_"+KD++ +"_"+r;}o(eu,"_classPrivateFieldLooseKey");var GD=da(),$2="/assemblies",st=eu("headers"),No=eu("fetchWithNetworkError"),We=eu("fetchJSON"),Rt=eu("reportError"),jp=/*#__PURE__*/function(){function jp(e){var _this197=this;_classCallCheck(this,jp);e===void 0&&(e={}),Object.defineProperty(this,We,{value:XD}),Object.defineProperty(this,st,{writable:!0,value:{}}),Object.defineProperty(this,No,{writable:!0,value:void 0}),Object.defineProperty(this,Rt,{writable:!0,value:function value(t,i){if(_this197.opts.errorReporting===!1)throw t;var s={type:i.type};throw i.assembly&&(s.assembly=i.assembly.assembly_id,s.instance=i.assembly.instance),i.url&&(s.endpoint=i.url),_this197.submitError(t,s)["catch"](function(){}),t;}}),this.opts=e,this.opts.client!=null&&(we(this,st)[st]["Transloadit-Client"]=this.opts.client),we(this,No)[No]=this.opts.rateLimitedQueue.wrapPromiseFunction(GD);}_createClass(jp,[{key:"createAssembly",value:function createAssembly(e){var _this198=this;var t=e.params,i=e.fields,s=e.signature,n=e.expectedFiles,a=new FormData();a.append("params",typeof t=="string"?t:JSON.stringify(t)),s&&a.append("signature",s),Object.keys(i).forEach(function(u){a.append(u,i[u]);}),a.append("num_expected_upload_files",n);var l=new URL($2,"".concat(this.opts.service)).href;return we(this,We)[We](l,{method:"post",headers:we(this,st)[st],body:a})["catch"](function(u){return we(_this198,Rt)[Rt](u,{url:l,type:"API_ERROR"});});}},{key:"reserveFile",value:function reserveFile(e,t){var _this199=this;var i=encodeURIComponent(t.size),s="".concat(e.assembly_ssl_url,"/reserve_file?size=").concat(i);return we(this,We)[We](s,{method:"post",headers:we(this,st)[st]})["catch"](function(n){return we(_this199,Rt)[Rt](n,{assembly:e,file:t,url:s,type:"API_ERROR"});});}},{key:"addFile",value:function addFile(e,t){var _this200=this;if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var i=encodeURIComponent(t.size),s=encodeURIComponent(t.uploadURL),n=encodeURIComponent(t.name),l="size=".concat(i,"&filename=").concat(n,"&fieldname=file&s3Url=").concat(s),u="".concat(e.assembly_ssl_url,"/add_file?").concat(l);return we(this,We)[We](u,{method:"post",headers:we(this,st)[st]})["catch"](function(c){return we(_this200,Rt)[Rt](c,{assembly:e,file:t,url:u,type:"API_ERROR"});});}},{key:"updateNumberOfFilesInAssembly",value:function updateNumberOfFilesInAssembly(e,t){var _this201=this;var i=new URL(e.assembly_ssl_url);i.pathname="/update_assemblies";var s=JSON.stringify({assembly_updates:[{assembly_id:e.assembly_id,num_expected_upload_files:t}]});return we(this,We)[We](i,{method:"post",headers:we(this,st)[st],body:s})["catch"](function(n){return we(_this201,Rt)[Rt](n,{url:i,type:"API_ERROR"});});}},{key:"cancelAssembly",value:function cancelAssembly(e){var _this202=this;var t=e.assembly_ssl_url;return we(this,We)[We](t,{method:"delete",headers:we(this,st)[st]})["catch"](function(i){return we(_this202,Rt)[Rt](i,{url:t,type:"API_ERROR"});});}},{key:"getAssemblyStatus",value:function getAssemblyStatus(e){var _this203=this;return we(this,We)[We](e,{headers:we(this,st)[st]})["catch"](function(t){return we(_this203,Rt)[Rt](t,{url:e,type:"STATUS_ERROR"});});}},{key:"submitError",value:function submitError(e,t){var _ref23=t===void 0?{}:t,i=_ref23.endpoint,s=_ref23.instance,n=_ref23.assembly,a=e.details?"".concat(e.message," (").concat(e.details,")"):e.message;return we(this,We)[We]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:i,instance:s,assembly_id:n,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:a})});}}]);return jp;}();o(jp,"Client");function XD(){var _we,_this204=this;for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return(_we=we(this,No))[No].apply(_we,e).then(function(i){var _we2;if(i.status===429)return _this204.opts.rateLimitedQueue.rateLimit(2e3),(_we2=we(_this204,We))[We].apply(_we2,e);if(!i.ok){var s=new Error(i.statusText);return s.statusCode=i.status,"".concat(e[0]).endsWith($2)?i.json().then(function(n){if(!n.error)throw s;var a=new Error(n.error);throw a.details=n.message,a.assembly=n,n.assembly_id&&(a.details+=" Assembly ID: ".concat(n.assembly_id)),a;},function(n){throw n.cause=s,n;}):Promise.reject(s);}return i.json();});}o(XD,"_fetchJSON2");V2.exports=jp;});var G2=v(function(Hp,K2){"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.validateParams=tu;function YD(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(YD,"_classPrivateFieldLooseBase");var JD=0;function QD(r){return"__private_"+JD++ +"_"+r;}o(QD,"_classPrivateFieldLooseKey");var ZD=xn();function tu(r){if(r==null)throw new Error("Transloadit: The `params` option is required.");if(typeof r=="string")try{r=JSON.parse(r);}catch(e){throw new ZD("Transloadit: The `params` option is a malformed JSON string.",{cause:e});}if(!r.auth||!r.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials");}o(tu,"validateParams");function e9(r){var e=Object.create(null);var _iterator33=_createForOfIteratorHelper(r.filter(Boolean)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _step33$value=_step33.value,t=_step33$value.fileIDs,i=_step33$value.options;var s=JSON.stringify(i);s in e?e[s].fileIDArrays.push(t):e[s]={options:i,fileIDArrays:[t]};}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}return Object.values(e).map(function(t){var i=t.options,s=t.fileIDArrays;return{options:i,fileIDs:s.flat(1)};});}o(e9,"dedupe");var zp=QD("getAssemblyOptions"),ru=/*#__PURE__*/function(){function ru(e,t){_classCallCheck(this,ru);Object.defineProperty(this,zp,{value:t9}),this.files=e,this.opts=t;}_createClass(ru,[{key:"build",value:function(){var _build=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee52(){var _this205=this;var e,t;return _regeneratorRuntime().wrap(function _callee52$(_context52){while(1)switch(_context52.prev=_context52.next){case 0:e=this.opts;if(!(this.files.length>0)){_context52.next=3;break;}return _context52.abrupt("return",Promise.all(this.files.map(function(t){return YD(_this205,zp)[zp](t);})).then(e9));case 3:if(!e.alwaysRunAssembly){_context52.next=8;break;}_context52.next=6;return e.getAssemblyOptions(null,e);case 6:t=_context52.sent;return _context52.abrupt("return",(tu(t.params),[{fileIDs:this.files.map(function(i){return i.id;}),options:t}]));case 8:return _context52.abrupt("return",[]);case 9:case"end":return _context52.stop();}},_callee52,this);}));function build(){return _build.apply(this,arguments);}return build;}()}]);return ru;}();o(ru,"AssemblyOptions");function t9(_x44){return _t10.apply(this,arguments);}function _t10(){_t10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee53(r){var e,t;return _regeneratorRuntime().wrap(function _callee53$(_context53){while(1)switch(_context53.prev=_context53.next){case 0:if(!(r==null)){_context53.next=2;break;}return _context53.abrupt("return");case 2:e=this.opts;_context53.next=5;return e.getAssemblyOptions(r,e);case 5:t=_context53.sent;if(!(r!=null)){_context53.next=8;break;}return _context53.abrupt("return",(Array.isArray(t.fields)?t.fields=Object.fromEntries(t.fields.map(function(i){return[i,r.meta[i]];})):t.fields==null&&(t.fields={}),tu(t.params),{fileIDs:[r.id],options:t}));case 8:case"end":return _context53.stop();}},_callee53,this);}));return _t10.apply(this,arguments);}o(t9,"_getAssemblyOptions2");K2.exports=ru;ru.validateParams=tu;});var Y2=v(function(UM,X2){"use strict";function ee(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(ee,"_classPrivateFieldLooseBase");var r9=0;function Ot(r){return"__private_"+r9++ +"_"+r;}o(Ot,"_classPrivateFieldLooseKey");var i9=sp(),Io=Ot("assemblyIDs"),$p=Ot("reject"),us=Ot("remaining"),Bo=Ot("resolve"),pe=Ot("uppy"),Qr=Ot("watching"),Mo=Ot("onAssemblyComplete"),Lo=Ot("onAssemblyCancel"),cs=Ot("onAssemblyError"),jo=Ot("onImportError"),hs=Ot("checkAllComplete"),Vp=Ot("removeListeners"),Wp=Ot("addListeners"),Kp=/*#__PURE__*/function(_i23){_inherits(Kp,_i23);var _super67=_createSuper(Kp);function Kp(e,t){var _this206;_classCallCheck(this,Kp);_this206=_super67.call(this);Object.defineProperty(_assertThisInitialized(_this206),Wp,{value:a9}),Object.defineProperty(_assertThisInitialized(_this206),Vp,{value:o9}),Object.defineProperty(_assertThisInitialized(_this206),hs,{value:n9}),Object.defineProperty(_assertThisInitialized(_this206),Qr,{value:s9}),Object.defineProperty(_assertThisInitialized(_this206),Io,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this206),$p,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this206),us,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this206),Bo,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this206),pe,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this206),Mo,{writable:!0,value:function value(i){!ee(_assertThisInitialized(_this206),Qr)[Qr](i.assembly_id)||(ee(_assertThisInitialized(_this206),pe)[pe].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(i.assembly_id)),_this206.emit("assembly-complete",i.assembly_id),ee(_assertThisInitialized(_this206),hs)[hs]());}}),Object.defineProperty(_assertThisInitialized(_this206),Lo,{writable:!0,value:function value(i){!ee(_assertThisInitialized(_this206),Qr)[Qr](i.assembly_id)||ee(_assertThisInitialized(_this206),hs)[hs]();}}),Object.defineProperty(_assertThisInitialized(_this206),cs,{writable:!0,value:function value(i,s){!ee(_assertThisInitialized(_this206),Qr)[Qr](i.assembly_id)||(ee(_assertThisInitialized(_this206),pe)[pe].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(i.assembly_id)),ee(_assertThisInitialized(_this206),pe)[pe].log(s),_this206.emit("assembly-error",i.assembly_id,s),ee(_assertThisInitialized(_this206),hs)[hs]());}}),Object.defineProperty(_assertThisInitialized(_this206),jo,{writable:!0,value:function value(i,s,n){!ee(_assertThisInitialized(_this206),Qr)[Qr](i.assembly_id)||ee(_assertThisInitialized(_this206),cs)[cs](i,n);}}),ee(_assertThisInitialized(_this206),pe)[pe]=e,ee(_assertThisInitialized(_this206),Io)[Io]=t,ee(_assertThisInitialized(_this206),us)[us]=t.length,_this206.promise=new Promise(function(i,s){ee(_assertThisInitialized(_this206),Bo)[Bo]=i,ee(_assertThisInitialized(_this206),$p)[$p]=s;}),ee(_assertThisInitialized(_this206),Wp)[Wp]();return _this206;}return _createClass(Kp);}(i9);o(Kp,"TransloaditAssemblyWatcher");function s9(r){return ee(this,Io)[Io].indexOf(r)!==-1;}o(s9,"_watching2");function n9(){ee(this,us)[us]-=1,ee(this,us)[us]===0&&(ee(this,Vp)[Vp](),ee(this,Bo)[Bo]());}o(n9,"_checkAllComplete2");function o9(){ee(this,pe)[pe].off("transloadit:complete",ee(this,Mo)[Mo]),ee(this,pe)[pe].off("transloadit:assembly-cancel",ee(this,Lo)[Lo]),ee(this,pe)[pe].off("transloadit:assembly-error",ee(this,cs)[cs]),ee(this,pe)[pe].off("transloadit:import-error",ee(this,jo)[jo]);}o(o9,"_removeListeners2");function a9(){ee(this,pe)[pe].on("transloadit:complete",ee(this,Mo)[Mo]),ee(this,pe)[pe].on("transloadit:assembly-cancel",ee(this,Lo)[Lo]),ee(this,pe)[pe].on("transloadit:assembly-error",ee(this,cs)[cs]),ee(this,pe)[pe].on("transloadit:import-error",ee(this,jo)[jo]);}o(a9,"_addListeners2");X2.exports=Kp;});var Q2=v(function(DM,J2){"use strict";J2.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};});var aP=v(function(bi,oP){"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.COMPANION_PATTERN=bi.COMPANION=bi.ALLOWED_COMPANION_PATTERN=void 0;var l9=pi();function te(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(te,"_classPrivateFieldLooseBase");var u9=0;function _e(r){return"__private_"+u9++ +"_"+r;}o(_e,"_classPrivateFieldLooseKey");var c9=Ss(),Z2=xn(),h9=Ut(),eP=rp(),tP=H2(),d9=W2(),rP=G2(),iP=rP.validateParams,p9=Y2(),f9=Q2(),m9={version:"2.3.7"};function g9(r,e){return{params:e.params,signature:e.signature,fields:e.fields};}o(g9,"defaultGetAssemblyOptions");var sP=o(function(r){return function(e){var t=new Z2("Failed to send error to the client",{cause:e});console.error(t,r);};},"sendErrorToConsole"),nP="https://api2.transloadit.com/companion";bi.COMPANION=nP;var Gp=/\.transloadit\.com$/;bi.COMPANION_PATTERN=bi.ALLOWED_COMPANION_PATTERN=Gp;var v9=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,rr=_e("rateLimitedQueue"),Xp=_e("getClientVersion"),Yp=_e("attachAssemblyMetadata"),Jp=_e("createAssembly"),zo=_e("createAssemblyWatcher"),Qp=_e("shouldWaitAfterUpload"),Zp=_e("reserveFiles"),Ho=_e("onFileUploadURLAvailable"),$o=_e("findFile"),ef=_e("onFileUploadComplete"),tf=_e("onResult"),Vo=_e("onAssemblyFinished"),Wo=_e("cancelAssembly"),rf=_e("onCancelAll"),sf=_e("getPersistentData"),nf=_e("onRestored"),Ko=_e("connectAssembly"),Go=_e("prepareUpload"),ds=_e("afterUpload"),Xo=_e("closeAssemblyIfExists"),Yo=_e("onError"),of=_e("onTusError"),ps=/*#__PURE__*/function(_h2){_inherits(ps,_h2);var _super68=_createSuper(ps);function ps(e,t){var _this207;_classCallCheck(this,ps);var i;_this207=_super68.call(this,e,t);i=_assertThisInitialized(_this207),Object.defineProperty(_assertThisInitialized(_this207),Ko,{value:x9}),Object.defineProperty(_assertThisInitialized(_this207),Wo,{value:O9}),Object.defineProperty(_assertThisInitialized(_this207),Vo,{value:R9}),Object.defineProperty(_assertThisInitialized(_this207),tf,{value:C9}),Object.defineProperty(_assertThisInitialized(_this207),ef,{value:E9}),Object.defineProperty(_assertThisInitialized(_this207),$o,{value:F9}),Object.defineProperty(_assertThisInitialized(_this207),Zp,{value:P9}),Object.defineProperty(_assertThisInitialized(_this207),Qp,{value:S9}),Object.defineProperty(_assertThisInitialized(_this207),zo,{value:_9}),Object.defineProperty(_assertThisInitialized(_this207),Jp,{value:w9}),Object.defineProperty(_assertThisInitialized(_this207),Yp,{value:b9}),Object.defineProperty(_assertThisInitialized(_this207),Xp,{value:y9}),Object.defineProperty(_assertThisInitialized(_this207),rr,{writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(_this207),Ho,{writable:!0,value:function value(a){var l;var u=_this207.uppy.getFile(a.id);if(!(u!=null&&(l=u.transloadit)!=null&&l.assembly))return;var _this207$getPluginSta=_this207.getPluginState(),c=_this207$getPluginSta.assemblies,h=c[u.transloadit.assembly];_this207.client.addFile(h,u)["catch"](function(p){_this207.uppy.log(p),_this207.uppy.emit("transloadit:import-error",h,u.id,p);});}}),Object.defineProperty(_assertThisInitialized(_this207),rf,{writable:!0,value:function(){var _value5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee54(a){var _ref24,l,_i$getPluginState2,u,h;return _regeneratorRuntime().wrap(function _callee54$(_context54){while(1)switch(_context54.prev=_context54.next){case 0:_ref24=a===void 0?{}:a,l=_ref24.reason;_context54.prev=1;if(!(l!=="user")){_context54.next=4;break;}return _context54.abrupt("return");case 4:_i$getPluginState2=i.getPluginState(),u=_i$getPluginState2.uploadsAssemblies,h=Object.values(u).flat(1).map(function(p){return i.getAssembly(p);});_context54.next=7;return Promise.all(h.map(function(p){return te(i,Wo)[Wo](p);}));case 7:_context54.next=12;break;case 9:_context54.prev=9;_context54.t0=_context54["catch"](1);i.uppy.log(_context54.t0);case 12:case"end":return _context54.stop();}},_callee54,null,[[1,9]]);}));function value(_x45){return _value5.apply(this,arguments);}return value;}()}),Object.defineProperty(_assertThisInitialized(_this207),sf,{writable:!0,value:function value(a){var _this207$getPluginSta2=_this207.getPluginState(),l=_this207$getPluginSta2.assemblies,u=_this207$getPluginSta2.uploadsAssemblies;a(_defineProperty({},_this207.id,{assemblies:l,uploadsAssemblies:u}));}}),Object.defineProperty(_assertThisInitialized(_this207),nf,{writable:!0,value:function value(a){var l=a&&a[_this207.id]?a[_this207.id]:{},u=l.assemblies||{},c=l.uploadsAssemblies||{};if(Object.keys(c).length===0)return;var h=o(function(w){var b={},E=[];var _loop3=function _loop3(){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i24],2),F=_Object$entries2$_i[0],C=_Object$entries2$_i[1];C.uploads.forEach(function(W){var H=te(_assertThisInitialized(_this207),$o)[$o](W);b[W.id]={id:H.id,assembly:F,uploadedFile:W};});var j=_this207.getPluginState();Object.keys(C.results).forEach(function(W){var _iterator34=_createForOfIteratorHelper(C.results[W]),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var H=_step34.value;var J=j.files[H.original_id];H.localId=J?J.id:null,E.push({id:H.id,result:H,stepName:W,assembly:F});}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}});};for(var _i24=0,_Object$entries2=Object.entries(w);_i24<_Object$entries2.length;_i24++){_loop3();}_this207.setPluginState({assemblies:w,files:b,results:E,uploadsAssemblies:c});},"restoreState"),p=o(function(){var _this207$getPluginSta3=_this207.getPluginState(),w=_this207$getPluginSta3.assemblies,b=_this207$getPluginSta3.uploadsAssemblies;Object.keys(b).forEach(function(F){var C=b[F];te(_assertThisInitialized(_this207),zo)[zo](C,F);}),Object.keys(w).forEach(function(F){var C=new tP(w[F],te(_assertThisInitialized(_this207),rr)[rr]);te(_assertThisInitialized(_this207),Ko)[Ko](C);});},"restoreAssemblies"),g=o(function(){var _this207$getPluginSta4=_this207.getPluginState(),w=_this207$getPluginSta4.assemblies;return Promise.all(Object.keys(w).map(function(b){return _this207.activeAssemblies[b].update();}));},"updateAssemblies");_this207.restored=Promise.resolve().then(function(){return h(u),p(),g();}),_this207.restored.then(function(){_this207.restored=null;});}}),Object.defineProperty(_assertThisInitialized(_this207),Go,{writable:!0,value:function value(a,l){var c=a.map(function(w){return _this207.uppy.getFile(w);}).filter(function(w){return w.error?!1:(_this207.uppy.emit("preprocess-progress",w,{mode:"indeterminate",message:_this207.i18n("creatingAssembly")}),!0);}),h=o(/*#__PURE__*/function(){var _ref25=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee55(w){var b,E,F;return _regeneratorRuntime().wrap(function _callee55$(_context55){while(1)switch(_context55.prev=_context55.next){case 0:b=w.fileIDs,E=w.options;_context55.prev=1;_context55.next=4;return te(_assertThisInitialized(_this207),Jp)[Jp](b,l,E);case 4:F=_context55.sent;_context55.t0=_this207.opts.importFromUploadURLs;if(!_context55.t0){_context55.next=9;break;}_context55.next=9;return te(_assertThisInitialized(_this207),Zp)[Zp](F,b);case 9:b.forEach(function(C){var j=_this207.uppy.getFile(C);_this207.uppy.emit("preprocess-complete",j);});return _context55.abrupt("return",F);case 13:_context55.prev=13;_context55.t1=_context55["catch"](1);throw b.forEach(function(C){var j=_this207.uppy.getFile(C);_this207.uppy.emit("preprocess-complete",j),_this207.uppy.emit("upload-error",j,_context55.t1);}),_context55.t1;case 16:case"end":return _context55.stop();}},_callee55,null,[[1,13]]);}));return function(_x46){return _ref25.apply(this,arguments);};}(),"createAssembly"),_this207$getPluginSta5=_this207.getPluginState(),p=_this207$getPluginSta5.uploadsAssemblies;return _this207.setPluginState({uploadsAssemblies:_objectSpread(_objectSpread({},p),{},_defineProperty({},l,[]))}),new rP(c,_this207.opts).build().then(function(w){return Promise.all(w.map(h));}).then(function(w){var b=w.filter(Boolean),E=b.map(function(F){return F.status.assembly_id;});return te(_assertThisInitialized(_this207),zo)[zo](E,l),Promise.all(b.map(function(F){return te(_assertThisInitialized(_this207),Ko)[Ko](F);}));})["catch"](function(w){throw c.forEach(function(b){_this207.uppy.emit("preprocess-complete",b),_this207.uppy.emit("upload-error",b,w);}),w;});}}),Object.defineProperty(_assertThisInitialized(_this207),ds,{writable:!0,value:function value(a,l){var u=a.map(function(E){return _this207.uppy.getFile(E);}),c=u.filter(function(E){return!E.error;}).map(function(E){return E.id;}),h=_this207.getPluginState();if(_this207.restored)return _this207.restored.then(function(){return te(_assertThisInitialized(_this207),ds)[ds](c,l);});var p=h.uploadsAssemblies[l],g=o(function(){p.forEach(function(E){_this207.activeAssemblies[E].close(),delete _this207.activeAssemblies[E];});},"closeSocketConnections");if(!te(_assertThisInitialized(_this207),Qp)[Qp]()){g();var E=p.map(function(F){return _this207.getAssembly(F);});return _this207.uppy.addResultData(l,{transloadit:E}),Promise.resolve();}return p.length===0?(_this207.uppy.addResultData(l,{transloadit:[]}),Promise.resolve()):(u.filter(function(E){return!c9(_this207.completedFiles,E.id);}).forEach(function(E){_this207.uppy.emit("postprocess-progress",E,{mode:"indeterminate",message:_this207.i18n("encoding")});}),_this207.assemblyWatchers[l].promise.then(function(){g();var E=p.map(function(C){return _this207.getAssembly(C);}),F=_objectSpread({},_this207.getPluginState().uploadsAssemblies);delete F[l],_this207.setPluginState({uploadsAssemblies:F}),_this207.uppy.addResultData(l,{transloadit:E});}));}}),Object.defineProperty(_assertThisInitialized(_this207),Xo,{writable:!0,value:function value(a){var l;(l=_this207.activeAssemblies[a])==null||l.close();}}),Object.defineProperty(_assertThisInitialized(_this207),Yo,{writable:!0,value:function value(a,l){a===void 0&&(a=null);var c=i.getPluginState().uploadsAssemblies[l];c==null||c.forEach(te(i,Xo)[Xo]),i.client.submitError(a)["catch"](sP(a));}}),Object.defineProperty(_assertThisInitialized(_this207),of,{writable:!0,value:function value(a,l){var u,c;if(te(_assertThisInitialized(_this207),Xo)[Xo](a==null||(u=a.transloadit)==null?void 0:u.assembly),l!=null&&(c=l.message)!=null&&c.startsWith("tus: ")){var h,p;var g=(h=l.originalRequest)==null||(p=h.getUnderlyingObject())==null?void 0:p.responseURL;_this207.client.submitError(l,{endpoint:g,type:"TUS_ERROR"})["catch"](sP(l));}}}),_this207.type="uploader",_this207.id=_this207.opts.id||"Transloadit",_this207.title="Transloadit",_this207.defaultLocale=f9;var s={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:g9,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};_this207.opts=_objectSpread(_objectSpread({},s),t),te(_assertThisInitialized(_this207),rr)[rr]=new l9.RateLimitedQueue(_this207.opts.limit),_this207.i18nInit();var n=_this207.opts.getAssemblyOptions!==s.getAssemblyOptions;_this207.opts.params?iP(_this207.opts.params):n||iP(null),_this207.client=new d9({service:_this207.opts.service,client:te(_assertThisInitialized(_this207),Xp)[Xp](),errorReporting:_this207.opts.errorReporting,rateLimitedQueue:te(_assertThisInitialized(_this207),rr)[rr]}),_this207.activeAssemblies={},_this207.assemblyWatchers={},_this207.completedFiles=Object.create(null);return _this207;}_createClass(ps,[{key:"install",value:function install(){this.uppy.addPreProcessor(te(this,Go)[Go]),this.uppy.addPostProcessor(te(this,ds)[ds]),this.uppy.on("error",te(this,Yo)[Yo]),this.uppy.on("cancel-all",te(this,rf)[rf]),this.uppy.on("upload-error",te(this,of)[of]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",te(this,Ho)[Ho]):this.uppy.use(eP,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:te(this,rr)[rr],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",te(this,sf)[sf]),this.uppy.on("restored",te(this,nf)[nf]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var _this$uppy$getState7=this.uppy.getState(),e=_this$uppy$getState7.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{individualCancellation:!1})});}},{key:"uninstall",value:function uninstall(){this.uppy.removePreProcessor(te(this,Go)[Go]),this.uppy.removePostProcessor(te(this,ds)[ds]),this.uppy.off("error",te(this,Yo)[Yo]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",te(this,Ho)[Ho]);var _this$uppy$getState8=this.uppy.getState(),e=_this$uppy$getState8.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{individualCancellation:!0})});}},{key:"getAssembly",value:function getAssembly(e){var _this$getPluginState4=this.getPluginState(),t=_this$getPluginState4.assemblies;return t[e];}},{key:"getAssemblyFiles",value:function getAssemblyFiles(e){return this.uppy.getFiles().filter(function(t){var i;return(t==null||(i=t.transloadit)==null?void 0:i.assembly)===e;});}}]);return ps;}(h9);o(ps,"Transloadit");function y9(){var _this208=this;var r=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(eP.VERSION)],e=o(function(t,i){var s=_this208.uppy.getPlugin(t);s&&r.push("".concat(i,":").concat(s.constructor.VERSION));},"addPluginVersion");return this.opts.importFromUploadURLs&&(e("XHRUpload","uppy-xhr-upload"),e("AwsS3","uppy-aws-s3"),e("AwsS3Multipart","uppy-aws-s3-multipart")),e("Dropbox","uppy-dropbox"),e("Box","uppy-box"),e("Facebook","uppy-facebook"),e("GoogleDrive","uppy-google-drive"),e("Instagram","uppy-instagram"),e("OneDrive","uppy-onedrive"),e("Zoom","uppy-zoom"),e("Url","uppy-url"),r.join(",");}o(y9,"_getClientVersion2");function b9(r,e){var t=_objectSpread(_objectSpread({},r.meta),{},{assembly_url:e.assembly_url,filename:r.name,fieldname:"file"}),i=_objectSpread(_objectSpread({},r.tus),{},{endpoint:e.tus_url,addRequestId:!0}),s=r.remote;if(r.remote&&v9.test(r.remote.companionUrl)){var a=e.companion_url.replace(/\/$/,""),l=r.remote.url.replace(r.remote.companionUrl,"").replace(/^\//,"");s=_objectSpread(_objectSpread({},r.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(l)});}var n=_objectSpread(_objectSpread({},r),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(n,{meta:t,tus:i,remote:s}),n;}o(b9,"_attachAssemblyMetadata2");function w9(r,e,t){var _this209=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:t.params,fields:t.fields,expectedFiles:r.length,signature:t.signature}).then(/*#__PURE__*/function(){var _ref26=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee56(i){var s,n,a,l,_this209$getPluginSta,u,c,h,p;return _regeneratorRuntime().wrap(function _callee56$(_context56){while(1)switch(_context56.prev=_context56.next){case 0:s=_this209.uppy.getFiles().filter(function(g){var w=g.id;return r.includes(w);});if(!(s.length!==r.length)){_context56.next=8;break;}if(!(s.length===0)){_context56.next=6;break;}_context56.next=5;return _this209.client.cancelAssembly(i);case 5:return _context56.abrupt("return",null);case 6:_context56.next=8;return _this209.client.updateNumberOfFilesInAssembly(i,s.length);case 8:n=new tP(i,te(_this209,rr)[rr]),a=n.status,l=a.assembly_id,_this209$getPluginSta=_this209.getPluginState(),u=_this209$getPluginSta.assemblies,c=_this209$getPluginSta.uploadsAssemblies;_this209.setPluginState({assemblies:_objectSpread(_objectSpread({},u),{},_defineProperty({},l,a)),uploadsAssemblies:_objectSpread(_objectSpread({},c),{},_defineProperty({},e,[].concat(_toConsumableArray(c[e]),[l])))});h={};s.forEach(function(g){h[g.id]=te(_this209,Yp)[Yp](g,a);}),_this209.uppy.setState({files:_objectSpread(_objectSpread({},_this209.uppy.getState().files),h)});p=o(function(g,w){if(w==="cancel-all")n.close(),_this209.uppy.off(p);else if(g.id in h){delete h[g.id];var b=Object.keys(h).length;b===0?(n.close(),te(_this209,Wo)[Wo](i)["catch"](function(){}),_this209.uppy.off(p)):_this209.client.updateNumberOfFilesInAssembly(i,b)["catch"](function(){});}},"fileRemovedHandler");return _context56.abrupt("return",(_this209.uppy.on("file-removed",p),_this209.uppy.emit("transloadit:assembly-created",a,r),_this209.uppy.log("[Transloadit] Created Assembly ".concat(l)),n));case 14:case"end":return _context56.stop();}},_callee56);}));return function(_x47){return _ref26.apply(this,arguments);};}())["catch"](function(i){var s=new Z2("".concat(_this209.i18n("creatingAssemblyFailed"),": ").concat(i.message),{cause:i});throw"details"in i&&(s.details=i.details),"assembly"in i&&(s.assembly=i.assembly),s;});}o(w9,"_createAssembly2");function _9(r,e){var _this210=this;var t=new p9(this.uppy,r);t.on("assembly-complete",function(i){_this210.getAssemblyFiles(i).forEach(function(n){_this210.completedFiles[n.id]=!0,_this210.uppy.emit("postprocess-complete",n);});}),t.on("assembly-error",function(i,s){_this210.getAssemblyFiles(i).forEach(function(a){_this210.uppy.emit("upload-error",a,s),_this210.uppy.emit("postprocess-complete",a);});}),this.assemblyWatchers[e]=t;}o(_9,"_createAssemblyWatcher2");function S9(){return this.opts.waitForEncoding||this.opts.waitForMetadata;}o(S9,"_shouldWaitAfterUpload2");function P9(r,e){var _this211=this;return Promise.all(e.map(function(t){var i=_this211.uppy.getFile(t);return _this211.client.reserveFile(r.status,i);}));}o(P9,"_reserveFiles2");function F9(r){var e=this.uppy.getFiles();for(var t=0;t<e.length;t++){var i=e[t];if(i.uploadURL===r.tus_upload_url||i.tus&&i.tus.uploadUrl===r.tus_upload_url||!r.is_tus_file&&i.name===r.name&&i.size===r.size)return i;}}o(F9,"_findFile2");function E9(r,e){var t=this.getPluginState(),i=te(this,$o)[$o](e);if(!i){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return;}this.setPluginState({files:_objectSpread(_objectSpread({},t.files),{},_defineProperty({},e.id,{assembly:r,id:i.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(r));}o(E9,"_onFileUploadComplete2");function C9(r,e,t){var i=this.getPluginState(),s=i.files[t.original_id];t.localId=s?s.id:null;var n={result:t,stepName:e,id:t.id,assembly:r};this.setPluginState({results:[].concat(_toConsumableArray(i.results),[n])}),this.uppy.emit("transloadit:result",e,t,this.getAssembly(r));}o(C9,"_onResult2");function R9(r){var _this212=this;var e=r.assembly_ssl_url;this.client.getAssemblyStatus(e).then(function(t){var i=t.assembly_id,s=_this212.getPluginState();_this212.setPluginState({assemblies:_objectSpread(_objectSpread({},s.assemblies),{},_defineProperty({},i,t))}),_this212.uppy.emit("transloadit:complete",t);});}o(R9,"_onAssemblyFinished2");function O9(_x48){return _O3.apply(this,arguments);}function _O3(){_O3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee57(r){return _regeneratorRuntime().wrap(function _callee57$(_context57){while(1)switch(_context57.prev=_context57.next){case 0:_context57.next=2;return this.client.cancelAssembly(r);case 2:this.uppy.emit("transloadit:assembly-cancelled",r);case 3:case"end":return _context57.stop();}},_callee57,this);}));return _O3.apply(this,arguments);}o(O9,"_cancelAssembly2");function x9(r){var _this213=this;var e=r.status,t=e.assembly_id;return this.activeAssemblies[t]=r,r.on("status",function(i){var _this213$getPluginSta=_this213.getPluginState(),s=_this213$getPluginSta.assemblies;_this213.setPluginState({assemblies:_objectSpread(_objectSpread({},s),{},_defineProperty({},t,i))});}),r.on("upload",function(i){te(_this213,ef)[ef](t,i);}),r.on("error",function(i){i.assembly=r.status,_this213.uppy.emit("transloadit:assembly-error",r.status,i);}),r.on("executing",function(){_this213.uppy.emit("transloadit:assembly-executing",r.status);}),this.opts.waitForEncoding&&r.on("result",function(i,s){te(_this213,tf)[tf](t,i,s);}),this.opts.waitForEncoding?r.on("finished",function(){te(_this213,Vo)[Vo](r.status);}):this.opts.waitForMetadata&&r.on("metadata",function(){te(_this213,Vo)[Vo](r.status);}),r.ok==="ASSEMBLY_COMPLETE"||r.connect(),r;}o(x9,"_connectAssembly2");ps.VERSION=m9.version;oP.exports=ps;ps.ALLOWED_COMPANION_PATTERN=Gp;ps.COMPANION=nP;ps.COMPANION_PATTERN=Gp;});var uP=v(function(qM,lP){"use strict";lP.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};});var vP=v(function(NM,gP){"use strict";var T9=Ri(),af=Ke(),iu=pi(),k9=Ut(),A9=no(),U9=oo(),D9=Jd(),cP=uo(),hP=ad(),dP=Cs(),pP=yl(),q9={version:"2.1.3"},N9=uP();function fP(r,e){var t=e;return t||(t=new Error("Upload error")),typeof t=="string"&&(t=new Error(t)),t instanceof Error||(t=Object.assign(new Error("Upload error"),{data:t})),pP(r)?(t=new dP(t,r),t):(t.request=r,t);}o(fP,"buildResponseError");function mP(r){return r.data.slice(0,r.data.size,r.meta.type);}o(mP,"setTypeInBlob");var su=/*#__PURE__*/function(_k2){_inherits(su,_k2);var _super69=_createSuper(su);function su(e,t){var _this214;_classCallCheck(this,su);_this214=_super69.call(this,e,t);_this214.type="uploader",_this214.id=_this214.opts.id||"XHRUpload",_this214.title="XHRUpload",_this214.defaultLocale=N9;var i={formData:!0,fieldName:t.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:function getResponseData(s){var n={};try{n=JSON.parse(s);}catch(a){e.log(a);}return n;},getResponseError:function getResponseError(s,n){var a=new Error("Upload error");return pP(n)&&(a=new dP(a,n)),a;},validateStatus:function validateStatus(s){return s>=200&&s<300;}};if(_this214.opts=_objectSpread(_objectSpread({},i),t),_this214.i18nInit(),_this214.handleUpload=_this214.handleUpload.bind(_assertThisInitialized(_this214)),iu.internalRateLimitedQueue in _this214.opts?_this214.requests=_this214.opts[iu.internalRateLimitedQueue]:_this214.requests=new iu.RateLimitedQueue(_this214.opts.limit),_this214.opts.bundle&&!_this214.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");_this214.uploaderEvents=Object.create(null);return _this214;}_createClass(su,[{key:"getOptions",value:function getOptions(e){var t=this.uppy.getState().xhrUpload,i=this.opts.headers,s=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.opts),t||{}),e.xhrUpload||{}),{},{headers:{}});return typeof i=="function"?s.headers=i(e):Object.assign(s.headers,this.opts.headers),t&&Object.assign(s.headers,t.headers),e.xhrUpload&&Object.assign(s.headers,e.xhrUpload.headers),s;}},{key:"addMetadata",value:function addMetadata(e,t,i){(Array.isArray(i.metaFields)?i.metaFields:Object.keys(t)).forEach(function(n){e.append(n,t[n]);});}},{key:"createFormDataUpload",value:function createFormDataUpload(e,t){var i=new FormData();this.addMetadata(i,e.meta,t);var s=mP(e);return e.name?i.append(t.fieldName,s,e.meta.name):i.append(t.fieldName,s),i;}},{key:"createBundledUpload",value:function createBundledUpload(e,t){var _this215=this;var i=new FormData(),_this$uppy$getState9=this.uppy.getState(),s=_this$uppy$getState9.meta;return this.addMetadata(i,s,t),e.forEach(function(n){var a=_this215.getOptions(n),l=mP(n);n.name?i.append(a.fieldName,l,n.name):i.append(a.fieldName,l);}),i;}},{key:"upload",value:function upload(e,t,i){var _this216=this;var s=this.getOptions(e);return this.uppy.log("uploading ".concat(t," of ").concat(i)),new Promise(function(n,a){_this216.uppy.emit("upload-started",e);var l=s.formData?_this216.createFormDataUpload(e,s):e.data,u=new XMLHttpRequest();_this216.uploaderEvents[e.id]=new cP(_this216.uppy);var c,h=new hP(s.timeout,function(){u.abort(),c.done();var g=new Error(_this216.i18n("timedOut",{seconds:Math.ceil(s.timeout/1e3)}));_this216.uppy.emit("upload-error",e,g),a(g);}),p=(0,T9.nanoid)();u.upload.addEventListener("loadstart",function(){_this216.uppy.log("[XHRUpload] ".concat(p," started"));}),u.upload.addEventListener("progress",function(g){_this216.uppy.log("[XHRUpload] ".concat(p," progress: ").concat(g.loaded," / ").concat(g.total)),h.progress(),g.lengthComputable&&_this216.uppy.emit("upload-progress",e,{uploader:_this216,bytesUploaded:g.loaded,bytesTotal:g.total});}),u.addEventListener("load",function(){if(_this216.uppy.log("[XHRUpload] ".concat(p," finished")),h.done(),c.done(),_this216.uploaderEvents[e.id]&&(_this216.uploaderEvents[e.id].remove(),_this216.uploaderEvents[e.id]=null),s.validateStatus(u.status,u.responseText,u)){var E=s.getResponseData(u.responseText,u),F=E[s.responseUrlFieldName],C={status:u.status,body:E,uploadURL:F};return _this216.uppy.emit("upload-success",e,C),F&&_this216.uppy.log("Download ".concat(e.name," from ").concat(F)),n(e);}var g=s.getResponseData(u.responseText,u),w=fP(u,s.getResponseError(u.responseText,u)),b={status:u.status,body:g};return _this216.uppy.emit("upload-error",e,w,b),a(w);}),u.addEventListener("error",function(){_this216.uppy.log("[XHRUpload] ".concat(p," errored")),h.done(),c.done(),_this216.uploaderEvents[e.id]&&(_this216.uploaderEvents[e.id].remove(),_this216.uploaderEvents[e.id]=null);var g=fP(u,s.getResponseError(u.responseText,u));return _this216.uppy.emit("upload-error",e,g),a(g);}),u.open(s.method.toUpperCase(),s.endpoint,!0),u.withCredentials=s.withCredentials,s.responseType!==""&&(u.responseType=s.responseType),c=_this216.requests.run(function(){_this216.uppy.emit("upload-started",e);var g=_this216.getOptions(e);return Object.keys(g.headers).forEach(function(w){u.setRequestHeader(w,g.headers[w]);}),u.send(l),function(){h.done(),u.abort();};}),_this216.onFileRemove(e.id,function(){c.abort(),a(new Error("File removed"));}),_this216.onCancelAll(e.id,function(g){var w=g.reason;w==="user"&&c.abort(),a(new Error("Upload cancelled"));});});}},{key:"uploadRemote",value:function uploadRemote(e){var _this217=this;var t=this.getOptions(e);return new Promise(function(i,s){_this217.uppy.emit("upload-started",e);var n={};(Array.isArray(t.metaFields)?t.metaFields:Object.keys(e.meta)).forEach(function(c){n[c]=e.meta[c];});var l=e.remote.providerOptions.provider?af.Provider:af.RequestClient;new l(_this217.uppy,e.remote.providerOptions).post(e.remote.url,_objectSpread(_objectSpread({},e.remote.body),{},{endpoint:t.endpoint,size:e.data.size,fieldname:t.fieldName,metadata:n,httpMethod:t.method,useFormData:t.formData,headers:t.headers})).then(function(c){var h=c.token,p=U9(e.remote.companionUrl),g=new af.Socket({target:"".concat(p,"/api/").concat(h),autoOpen:!1});_this217.uploaderEvents[e.id]=new cP(_this217.uppy);var w;_this217.onFileRemove(e.id,function(){g.send("cancel",{}),w.abort(),i("upload ".concat(e.id," was removed"));}),_this217.onCancelAll(e.id,function(b){var _ref27=b===void 0?{}:b,E=_ref27.reason;E==="user"&&(g.send("cancel",{}),w.abort()),i("upload ".concat(e.id," was canceled"));}),_this217.onRetry(e.id,function(){g.send("pause",{}),g.send("resume",{});}),_this217.onRetryAll(e.id,function(){g.send("pause",{}),g.send("resume",{});}),g.on("progress",function(b){return A9(_this217,b,e);}),g.on("success",function(b){var E=t.getResponseData(b.response.responseText,b.response),F=E[t.responseUrlFieldName],C={status:b.response.status,body:E,uploadURL:F};return _this217.uppy.emit("upload-success",e,C),w.done(),_this217.uploaderEvents[e.id]&&(_this217.uploaderEvents[e.id].remove(),_this217.uploaderEvents[e.id]=null),i();}),g.on("error",function(b){var E=b.response,F=E?t.getResponseError(E.responseText,E):Object.assign(new Error(b.error.message),{cause:b.error});_this217.uppy.emit("upload-error",e,F),w.done(),_this217.uploaderEvents[e.id]&&(_this217.uploaderEvents[e.id].remove(),_this217.uploaderEvents[e.id]=null),s(F);}),w=_this217.requests.run(function(){return g.open(),e.isPaused&&g.send("pause",{}),function(){return g.close();};});})["catch"](function(c){_this217.uppy.emit("upload-error",e,c),s(c);});});}},{key:"uploadBundle",value:function uploadBundle(e){var _this218=this;return new Promise(function(t,i){var s=_this218.opts.endpoint,n=_this218.opts.method,a=_this218.uppy.getState().xhrUpload,l=_this218.createBundledUpload(e,_objectSpread(_objectSpread({},_this218.opts),a||{})),u=new XMLHttpRequest(),c=o(function(p){e.forEach(function(g){_this218.uppy.emit("upload-error",g,p);});},"emitError"),h=new hP(_this218.opts.timeout,function(){u.abort();var p=new Error(_this218.i18n("timedOut",{seconds:Math.ceil(_this218.opts.timeout/1e3)}));c(p),i(p);});u.upload.addEventListener("loadstart",function(){_this218.uppy.log("[XHRUpload] started uploading bundle"),h.progress();}),u.upload.addEventListener("progress",function(p){h.progress(),!!p.lengthComputable&&e.forEach(function(g){_this218.uppy.emit("upload-progress",g,{uploader:_this218,bytesUploaded:p.loaded/p.total*g.size,bytesTotal:g.size});});}),u.addEventListener("load",function(p){if(h.done(),_this218.opts.validateStatus(p.target.status,u.responseText,u)){var w=_this218.opts.getResponseData(u.responseText,u),b={status:p.target.status,body:w};return e.forEach(function(E){_this218.uppy.emit("upload-success",E,b);}),t();}var g=_this218.opts.getResponseError(u.responseText,u)||new Error("Upload error");return g.request=u,c(g),i(g);}),u.addEventListener("error",function(){h.done();var p=_this218.opts.getResponseError(u.responseText,u)||new Error("Upload error");return c(p),i(p);}),_this218.uppy.on("cancel-all",function(p){var _ref28=p===void 0?{}:p,g=_ref28.reason;g==="user"&&(h.done(),u.abort());}),u.open(n.toUpperCase(),s,!0),u.withCredentials=_this218.opts.withCredentials,_this218.opts.responseType!==""&&(u.responseType=_this218.opts.responseType),Object.keys(_this218.opts.headers).forEach(function(p){u.setRequestHeader(p,_this218.opts.headers[p]);}),u.send(l),e.forEach(function(p){_this218.uppy.emit("upload-started",p);});});}},{key:"uploadFiles",value:function uploadFiles(e){var _this219=this;var t=e.map(function(i,s){var n=parseInt(s,10)+1,a=e.length;return i.error?Promise.reject(new Error(i.error)):i.isRemote?_this219.uploadRemote(i,n,a):_this219.upload(i,n,a);});return D9(t);}},{key:"onFileRemove",value:function onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",function(i){e===i.id&&t(i.id);});}},{key:"onRetry",value:function onRetry(e,t){this.uploaderEvents[e].on("upload-retry",function(i){e===i&&t();});}},{key:"onRetryAll",value:function onRetryAll(e,t){var _this220=this;this.uploaderEvents[e].on("retry-all",function(){!_this220.uppy.getFile(e)||t();});}},{key:"onCancelAll",value:function onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",function(){!i.uppy.getFile(e)||t.apply(void 0,arguments);});}},{key:"handleUpload",value:function handleUpload(e){var _this221=this;if(e.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[iu.internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var t=e.map(function(i){return _this221.uppy.getFile(i);});if(this.opts.bundle){if(t.some(function(s){return s.isRemote;}))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(t);}return this.uploadFiles(t).then(function(){return null;});}},{key:"install",value:function install(){if(this.opts.bundle){var _this$uppy$getState10=this.uppy.getState(),e=_this$uppy$getState10.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{individualCancellation:!1})});}this.uppy.addUploader(this.handleUpload);}},{key:"uninstall",value:function uninstall(){if(this.opts.bundle){var _this$uppy$getState11=this.uppy.getState(),e=_this$uppy$getState11.capabilities;this.uppy.setState({capabilities:_objectSpread(_objectSpread({},e),{},{individualCancellation:!0})});}this.uppy.removeUploader(this.handleUpload);}}]);return su;}(k9);o(su,"XHRUpload");su.VERSION=q9.version;gP.exports=su;});var bP=v(function(IM,yP){yP.exports=o(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(_typeof(e)));var t=e<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var s=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);e=Number(e/Math.pow(1024,s));var n=i[s];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(n):"".concat((t?"-":"")+e.toFixed(1)," ").concat(n);},"prettierBytes");});var OP=v(function(BM,RP){"use strict";function wP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable;})),t.push.apply(t,i);}return t;}o(wP,"ownKeys");function nu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(t),!0).forEach(function(i){M9(r,i,t[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wP(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i));});}return r;}o(nu,"_objectSpread2");function I9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");}o(I9,"_classCallCheck");function _P(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i);}}o(_P,"_defineProperties");function B9(r,e,t){return e&&_P(r.prototype,e),t&&_P(r,t),r;}o(B9,"_createClass");function M9(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r;}o(M9,"_defineProperty");function ou(){return ou=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);}return r;},ou.apply(this,arguments);}o(ou,"_extends");var SP={exports:{}};(function(r){typeof window!="undefined"&&function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob());}catch(_unused24){return!1;}}(),s=i&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100;}catch(_unused25){return!1;}}(),n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(i||n)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(u){var c,h,p,g,w,b,E,F,C;if(c=u.match(a),!c)throw new Error("invalid data URI");for(h=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),p=!!c[4],g=u.slice(c[0].length),p?w=atob(g):w=decodeURIComponent(g),b=new ArrayBuffer(w.length),E=new Uint8Array(b),F=0;F<w.length;F+=1)E[F]=w.charCodeAt(F);return i?new Blob([s?E:b],{type:h}):(C=new n(),C.append(b),C.getBlob(h));};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(u,c,h){var p=this;setTimeout(function(){h&&t.toDataURL&&l?u(l(p.toDataURL(c,h))):u(p.mozGetAsFile("blob",c));});}:t.toDataURL&&l&&(t.msToBlob?t.toBlob=function(u,c,h){var p=this;setTimeout(function(){(c&&c!=="image/png"||h)&&t.toDataURL&&l?u(l(p.toDataURL(c,h))):u(p.msToBlob(c));});}:t.toBlob=function(u,c,h){var p=this;setTimeout(function(){u(l(p.toDataURL(c,h)));});})),r.exports?r.exports=l:e.dataURLtoBlob=l;}(window);})(SP);var L9=SP.exports,j9=o(function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]";},"isBlob"),PP={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},z9=typeof window!="undefined"&&typeof window.document!="undefined",wi=z9?window:{},au=o(function(e){return e>0&&e<1/0;},"isPositiveNumber"),H9=Array.prototype.slice;function $9(r){return Array.from?Array.from(r):H9.call(r);}o($9,"toArray");var V9=/^image\/.+$/;function lf(r){return V9.test(r);}o(lf,"isImageType");function W9(r){var e=lf(r)?r.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e);}o(W9,"imageTypeToExtension");var FP=String.fromCharCode;function K9(r,e,t){var i="",s;for(t+=e,s=e;s<t;s+=1)i+=FP(r.getUint8(s));return i;}o(K9,"getStringFromCharCode");var G9=wi.btoa;function X9(r,e){for(var t=[],i=8192,s=new Uint8Array(r);s.length>0;)t.push(FP.apply(null,$9(s.subarray(0,i)))),s=s.subarray(i);return"data:".concat(e,";base64,").concat(G9(t.join("")));}o(X9,"arrayBufferToDataURL");function Y9(r){var e=new DataView(r),t;try{var i,s,n;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,l=2;l+1<a;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break;}l+=1;}if(s){var u=s+4,c=s+10;if(K9(e,u,4)==="Exif"){var h=e.getUint16(c);if(i=h===18761,(i||h===19789)&&e.getUint16(c+2,i)===42){var p=e.getUint32(c+4,i);p>=8&&(n=c+p);}}}if(n){var g=e.getUint16(n,i),w,b;for(b=0;b<g;b+=1)if(w=n+b*12+2,e.getUint16(w,i)===274){w+=8,t=e.getUint16(w,i),e.setUint16(w,1,i);break;}}}catch(_unused26){t=1;}return t;}o(Y9,"resetAndGetOrientation");function J9(r){var e=0,t=1,i=1;switch(r){case 2:t=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break;}return{rotate:e,scaleX:t,scaleY:i};}o(J9,"parseOrientation");var Q9=/\.\d*(?:0|9){12}\d*$/;function EP(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Q9.test(r)?Math.round(r*e)/e:r;}o(EP,"normalizeDecimalNumber");function Jo(r){var e=r.aspectRatio,t=r.height,i=r.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",n=au(i),a=au(t);if(n&&a){var l=t*e;(s==="contain"||s==="none")&&l>i||s==="cover"&&l<i?t=i/e:i=t*e;}else n?t=i/e:a&&(i=t*e);return{width:i,height:t};}o(Jo,"getAdjustedSizes");var Z9=wi.ArrayBuffer,CP=wi.FileReader,fs=wi.URL||wi.webkitURL,eq=/\.\w+$/,tq=wi.Compressor,rq=function(){function r(e,t){I9(this,r),this.file=e,this.image=new Image(),this.options=nu(nu({},PP),t),this.aborted=!1,this.result=null,this.init();}return o(r,"Compressor"),B9(r,[{key:"init",value:o(function(){var t=this,i=this.file,s=this.options;if(!j9(i)){this.fail(new Error("The first argument must be a File or Blob object."));return;}var n=i.type;if(!lf(n)){this.fail(new Error("The first argument must be an image File or Blob object."));return;}if(!fs||!CP){this.fail(new Error("The current browser does not support image compression."));return;}if(Z9||(s.checkOrientation=!1),fs&&!s.checkOrientation)this.load({url:fs.createObjectURL(i)});else{var a=new CP(),l=s.checkOrientation&&n==="image/jpeg";this.reader=a,a.onload=function(u){var c=u.target,h=c.result,p={};if(l){var g=Y9(h);g>1||!fs?(p.url=X9(h,n),g>1&&ou(p,J9(g))):p.url=fs.createObjectURL(i);}else p.url=h;t.load(p);},a.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."));},a.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."));},a.onloadend=function(){t.reader=null;},l?a.readAsArrayBuffer(i):a.readAsDataURL(i);}},"init")},{key:"load",value:o(function(t){var i=this,s=this.file,n=this.image;n.onload=function(){i.draw(nu(nu({},t),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}));},n.onabort=function(){i.fail(new Error("Aborted to load the image."));},n.onerror=function(){i.fail(new Error("Failed to load the image."));},wi.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(wi.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=s.name,n.src=t.url;},"load")},{key:"draw",value:o(function(t){var i=this,s=t.naturalWidth,n=t.naturalHeight,a=t.rotate,l=a===void 0?0:a,u=t.scaleX,c=u===void 0?1:u,h=t.scaleY,p=h===void 0?1:h,g=this.file,w=this.image,b=this.options,E=document.createElement("canvas"),F=E.getContext("2d"),C=Math.abs(l)%180==90,j=(b.resize==="contain"||b.resize==="cover")&&au(b.width)&&au(b.height),W=Math.max(b.maxWidth,0)||1/0,H=Math.max(b.maxHeight,0)||1/0,J=Math.max(b.minWidth,0)||0,B=Math.max(b.minHeight,0)||0,M=s/n,$=b.width,Y=b.height;if(C){var ft=[H,W];W=ft[0],H=ft[1];var nt=[B,J];J=nt[0],B=nt[1];var U=[Y,$];$=U[0],Y=U[1];}j&&(M=$/Y);var K=Jo({aspectRatio:M,width:W,height:H},"contain");W=K.width,H=K.height;var le=Jo({aspectRatio:M,width:J,height:B},"cover");if(J=le.width,B=le.height,j){var Se=Jo({aspectRatio:M,width:$,height:Y},b.resize);$=Se.width,Y=Se.height;}else{var fe=Jo({aspectRatio:M,width:$,height:Y}),$t=fe.width;$=$t===void 0?s:$t;var br=fe.height;Y=br===void 0?n:br;}$=Math.floor(EP(Math.min(Math.max($,J),W))),Y=Math.floor(EP(Math.min(Math.max(Y,B),H)));var mt=-$/2,xt=-Y/2,wr=$,Zr=Y,_r=[];if(j){var _i=0,Si=0,Sr=s,Tt=n,ms=Jo({aspectRatio:M,width:s,height:n},{contain:"cover",cover:"contain"}[b.resize]);Sr=ms.width,Tt=ms.height,_i=(s-Sr)/2,Si=(n-Tt)/2,_r.push(_i,Si,Sr,Tt);}if(_r.push(mt,xt,wr,Zr),C){var gs=[Y,$];$=gs[0],Y=gs[1];}E.width=$,E.height=Y,lf(b.mimeType)||(b.mimeType=g.type);var hn="transparent";if(g.size>b.convertSize&&b.convertTypes.indexOf(b.mimeType)>=0&&(b.mimeType="image/jpeg"),b.mimeType==="image/jpeg"&&(hn="#fff"),F.fillStyle=hn,F.fillRect(0,0,$,Y),b.beforeDraw&&b.beforeDraw.call(this,F,E),!this.aborted&&(F.save(),F.translate($/2,Y/2),F.rotate(l*Math.PI/180),F.scale(c,p),F.drawImage.apply(F,[w].concat(_r)),F.restore(),b.drew&&b.drew.call(this,F,E),!this.aborted)){var ea=o(function(mu){i.aborted||i.done({naturalWidth:s,naturalHeight:n,result:mu});},"done");E.toBlob?E.toBlob(ea,b.mimeType,b.quality):ea(L9(E.toDataURL(b.mimeType,b.quality)));}},"draw")},{key:"done",value:o(function(t){var i=t.naturalWidth,s=t.naturalHeight,n=t.result,a=this.file,l=this.image,u=this.options;if(fs&&!u.checkOrientation&&fs.revokeObjectURL(l.src),n){if(u.strict&&n.size>a.size&&u.mimeType===a.type&&!(u.width>i||u.height>s||u.minWidth>i||u.minHeight>s||u.maxWidth<i||u.maxHeight<s))n=a;else{var c=new Date();n.lastModified=c.getTime(),n.lastModifiedDate=c,n.name=a.name,n.name&&n.type!==a.type&&(n.name=n.name.replace(eq,W9(n.type)));}}else n=a;this.result=n,u.success&&u.success.call(this,n);},"done")},{key:"fail",value:o(function(t){var i=this.options;if(i.error)i.error.call(this,t);else throw t;},"fail")},{key:"abort",value:o(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()));},"abort")}],[{key:"noConflict",value:o(function(){return window.Compressor=tq,r;},"noConflict")},{key:"setDefaults",value:o(function(t){ou(PP,t);},"setDefaults")}]),r;}();RP.exports=rq;});var TP=v(function(MM,xP){"use strict";xP.exports={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};});var DP=v(function(LM,UP){"use strict";var iq=he(),sq=pi();function kP(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r;}o(kP,"_classPrivateFieldLooseBase");var nq=0;function oq(r){return"__private_"+nq++ +"_"+r;}o(oq,"_classPrivateFieldLooseKey");var aq=gn(),AP=bP(),lq=OP(),uq=TP(),Qo=oq("RateLimitedQueue"),uf=/*#__PURE__*/function(_iq$BasePlugin){_inherits(uf,_iq$BasePlugin);var _super70=_createSuper(uf);function uf(e,t){var _this222;_classCallCheck(this,uf);_this222=_super70.call(this,e,t);Object.defineProperty(_assertThisInitialized(_this222),Qo,{writable:!0,value:void 0}),_this222.id=_this222.opts.id||"Compressor",_this222.type="modifier",_this222.defaultLocale=uq;var i={quality:.6,limit:10};_this222.opts=_objectSpread(_objectSpread({},i),t),kP(_assertThisInitialized(_this222),Qo)[Qo]=new sq.RateLimitedQueue(_this222.opts.limit),_this222.i18nInit(),_this222.prepareUpload=_this222.prepareUpload.bind(_assertThisInitialized(_this222)),_this222.compress=_this222.compress.bind(_assertThisInitialized(_this222));return _this222;}_createClass(uf,[{key:"compress",value:function compress(e){var _this223=this;return new Promise(function(t,i){new lq(e,_objectSpread(_objectSpread({},_this223.opts),{},{success:t,error:i}));});}},{key:"prepareUpload",value:function(){var _prepareUpload=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee59(e){var _this224=this;var t,i,s,n,_iterator35,_step35,a,l;return _regeneratorRuntime().wrap(function _callee59$(_context59){while(1)switch(_context59.prev=_context59.next){case 0:t=0,i=[],s=kP(this,Qo)[Qo].wrapPromiseFunction(/*#__PURE__*/function(){var _ref29=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee58(a){var l,u,c,h,p,g;return _regeneratorRuntime().wrap(function _callee58$(_context58){while(1)switch(_context58.prev=_context58.next){case 0:_context58.prev=0;_context58.next=3;return _this224.compress(a.data);case 3:l=_context58.sent;u=a.data.size-l.size;_this224.uppy.log("[Image Compressor] Image ".concat(a.id," compressed by ").concat(AP(u))),t+=u;c=l.name,h=l.type,p=l.size,g=c&&aq(c).extension;_this224.uppy.setFileState(a.id,_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},c&&{name:c}),g&&{extension:g}),h&&{type:h}),p&&{size:p}),{},{data:l})),_this224.uppy.setFileMeta(a.id,{type:h}),i.push(a);_context58.next=13;break;case 10:_context58.prev=10;_context58.t0=_context58["catch"](0);_this224.uppy.log("[Image Compressor] Failed to compress ".concat(a.id,":"),"warning"),_this224.uppy.log(_context58.t0,"warning");case 13:case"end":return _context58.stop();}},_callee58,null,[[0,10]]);}));return function(_x50){return _ref29.apply(this,arguments);};}()),n=e.map(function(a){var l=_this224.uppy.getFile(a);return _this224.uppy.emit("preprocess-progress",l,{mode:"indeterminate",message:_this224.i18n("compressingImages")}),l.isRemote||(l.data.type||(l.data=l.data.slice(0,l.data.size,l.type)),!l.type.startsWith("image/"))?Promise.resolve():s(l);});_context59.next=3;return Promise.all(n);case 3:this.uppy.emit("compressor:complete",i);t>1024&&this.uppy.info(this.i18n("compressedX",{size:AP(t)}),"info");_iterator35=_createForOfIteratorHelper(e);try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){a=_step35.value;l=this.uppy.getFile(a);this.uppy.emit("preprocess-complete",l);}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}case 7:case"end":return _context59.stop();}},_callee59,this);}));function prepareUpload(_x49){return _prepareUpload.apply(this,arguments);}return prepareUpload;}()},{key:"install",value:function install(){this.uppy.addPreProcessor(this.prepareUpload);}},{key:"uninstall",value:function uninstall(){this.uppy.removePreProcessor(this.prepareUpload);}}]);return uf;}(iq.BasePlugin);o(uf,"Compressor");UP.exports=uf;});var hf=v(function(lu){"use strict";lu.__esModule=!0;lu["default"]=NP;lu.getFieldData=cf;var cq={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},hq={button:!0,fieldset:!0,reset:!0,submit:!0},dq={checkbox:!0,radio:!0},pq=/^\s+|\s+$/g,fq=Array.prototype.slice,qP=Object.prototype.toString;function NP(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trim:!1};if(!r)throw new Error("A form is required by getFormData, was given form="+r);for(var t={},i=void 0,s=[],n={},a=0,l=r.elements.length;a<l;a++){var u=r.elements[a];hq[u.type]||u.disabled||(i=u.name||u.id,i&&!n[i]&&(s.push(i),n[i]=!0));}for(var c=0,h=s.length;c<h;c++){i=s[c];var p=cf(r,i,e);p!=null&&(t[i]=p);}return t;}o(NP,"getFormData");function cf(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{trim:!1};if(!r)throw new Error("A form is required by getFieldData, was given form="+r);if(!e&&qP.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);var i=r.elements[e];if(!i||i.disabled)return null;if(!cq[qP.call(i)])return IP(i,t.trim);for(var s=[],n=!0,a=0,l=i.length;a<l;a++)if(!i[a].disabled){n&&i[a].type!=="radio"&&(n=!1);var u=IP(i[a],t.trim);u!=null&&(s=s.concat(u));}return n&&s.length===1?s[0]:s.length>0?s:null;}o(cf,"getFieldData");function IP(r,e){var t=null,i=r.type;if(i==="select-one")return r.options.length&&(t=r.options[r.selectedIndex].value),t;if(i==="select-multiple"){t=[];for(var s=0,n=r.options.length;s<n;s++)r.options[s].selected&&t.push(r.options[s].value);return t.length===0&&(t=null),t;}return i==="file"&&"files"in r?(r.multiple?(t=fq.call(r.files),t.length===0&&(t=null)):t=r.files[0],t):(dq[i]?r.checked&&(t=r.value):t=e?r.value.replace(pq,""):r.value,t);}o(IP,"getFormElementValue");NP.getFieldData=cf;});var MP=v(function(zM,BP){"use strict";var mq=Ut(),gq=Hu(),vq=cr(),yq=hf()["default"]||hf(),bq={version:"2.0.7"},uu=/*#__PURE__*/function(_mq){_inherits(uu,_mq);var _super71=_createSuper(uu);function uu(e,t){var _this225;_classCallCheck(this,uu);_this225=_super71.call(this,e,t);_this225.type="acquirer",_this225.id=_this225.opts.id||"Form",_this225.title="Form";var i={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};_this225.opts=_objectSpread(_objectSpread({},i),t),_this225.handleFormSubmit=_this225.handleFormSubmit.bind(_assertThisInitialized(_this225)),_this225.handleUploadStart=_this225.handleUploadStart.bind(_assertThisInitialized(_this225)),_this225.handleSuccess=_this225.handleSuccess.bind(_assertThisInitialized(_this225)),_this225.addResultToForm=_this225.addResultToForm.bind(_assertThisInitialized(_this225)),_this225.getMetaFromForm=_this225.getMetaFromForm.bind(_assertThisInitialized(_this225));return _this225;}_createClass(uu,[{key:"handleUploadStart",value:function handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm();}},{key:"handleSuccess",value:function handleSuccess(e){this.opts.addResultToForm&&this.addResultToForm(e),this.opts.submitOnSuccess&&this.form.submit();}},{key:"handleFormSubmit",value:function handleFormSubmit(e){var _this226=this;if(this.opts.triggerUploadOnSubmit){e.preventDefault();var t=vq(e.target.elements),i=[];t.forEach(function(s){(s.tagName==="BUTTON"||s.tagName==="INPUT"&&s.type==="submit")&&!s.disabled&&(s.disabled=!0,i.push(s));}),this.uppy.upload().then(function(){i.forEach(function(s){s.disabled=!1;});},function(s){return i.forEach(function(n){n.disabled=!1;}),Promise.reject(s);})["catch"](function(s){_this226.uppy.log(s.stack||s.message||s);});}}},{key:"addResultToForm",value:function addResultToForm(e){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(e);var t=this.form.querySelector("[name=\"".concat(this.opts.resultName,"\"]"));if(t){var i;try{i=JSON.parse(t.value);}catch(_unused27){}Array.isArray(i)||(i=[]),i.push(e),t.value=JSON.stringify(i);return;}t=document.createElement("input"),t.name=this.opts.resultName,t.type="hidden",t.value=JSON.stringify([e]),this.form.appendChild(t);}},{key:"getMetaFromForm",value:function getMetaFromForm(){var e=yq(this.form);delete e[this.opts.resultName],this.uppy.setMeta(e);}},{key:"install",value:function install(){if(this.form=gq(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return;}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess);}},{key:"uninstall",value:function uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess);}}]);return uu;}(mq);o(uu,"Form");uu.VERSION=bq.version;BP.exports=uu;});var zP=v(function(HM,jP){"use strict";var LP=typeof navigator!="undefined"&&"serviceWorker"in navigator;function wq(){return new Promise(function(r,e){LP?navigator.serviceWorker.controller?r():navigator.serviceWorker.addEventListener("controllerchange",function(){r();}):e(new Error("Unsupported"));});}o(wq,"waitForServiceWorker");var cu=/*#__PURE__*/function(){function cu(e){_classCallCheck(this,cu);this.ready=wq(),this.name=e.storeName;}_createClass(cu,[{key:"list",value:function list(){var _this227=this;var e={},t=new Promise(function(s,n){e.resolve=s,e.reject=n;}),i=o(function(s){if(s.data.store===_this227.name)switch(s.data.type){case"uppy/ALL_FILES":e.resolve(s.data.files),navigator.serviceWorker.removeEventListener("message",i);break;default:e.reject();}},"onMessage");return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",i),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:_this227.name});}),t;}},{key:"put",value:function put(e){var _this228=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:_this228.name,file:e});});}},{key:"delete",value:function _delete(e){var _this229=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:_this229.name,fileID:e});});}}]);return cu;}();o(cu,"ServiceWorkerStore");cu.isSupported=LP;jP.exports=cu;});var XP=v(function($M,GP){"use strict";var HP=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),_q=!!HP,$P="uppy-blobs",pt="files",VP=24*60*60*1e3,Sq=3;function Pq(r){var e=r.openCursor();e.onsuccess=function(t){var i=t.target.result;if(!i)return;var s=i.value;s.expires=Date.now()+VP,i.update(s);};}o(Pq,"migrateExpiration");function WP(r){var e=HP.open(r,Sq);return new Promise(function(t,i){e.onupgradeneeded=function(s){var n=s.target.result,a=s.currentTarget.transaction;if(s.oldVersion<2&&n.createObjectStore(pt,{keyPath:"id"}).createIndex("store","store",{unique:!1}),s.oldVersion<3){var l=a.objectStore(pt);l.createIndex("expires","expires",{unique:!1}),Pq(l);}a.oncomplete=function(){t(n);};},e.onsuccess=function(s){t(s.target.result);},e.onerror=i;});}o(WP,"connect");function hu(r){return new Promise(function(e,t){r.onsuccess=function(i){e(i.target.result);},r.onerror=t;});}o(hu,"waitForRequest");var KP=!1,cn=/*#__PURE__*/function(){function cn(e){var _this230=this;_classCallCheck(this,cn);this.opts=_objectSpread({dbName:$P,storeName:"default",expires:VP,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var t=o(function(){return WP(_this230.opts.dbName);},"createConnection");KP?this.ready=t():(KP=!0,this.ready=cn.cleanup().then(t,t));}_createClass(cn,[{key:"key",value:function key(e){return"".concat(this.name,"!").concat(e);}},{key:"list",value:function list(){var _this231=this;return this.ready.then(function(e){var s=e.transaction([pt],"readonly").objectStore(pt).index("store").getAll(IDBKeyRange.only(_this231.name));return hu(s);}).then(function(e){var t={};return e.forEach(function(i){t[i.fileID]=i.data;}),t;});}},{key:"get",value:function get(e){var _this232=this;return this.ready.then(function(t){var s=t.transaction([pt],"readonly").objectStore(pt).get(_this232.key(e));return hu(s);}).then(function(t){return{id:t.data.fileID,data:t.data.data};});}},{key:"getSize",value:function getSize(){var _this233=this;return this.ready.then(function(e){var s=e.transaction([pt],"readonly").objectStore(pt).index("store").openCursor(IDBKeyRange.only(_this233.name));return new Promise(function(n,a){var l=0;s.onsuccess=function(u){var c=u.target.result;c?(l+=c.value.data.size,c["continue"]()):n(l);},s.onerror=function(){a(new Error("Could not retrieve stored blobs size"));};});});}},{key:"put",value:function put(e){var _this234=this;return e.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(t){return t>_this234.opts.maxTotalSize?Promise.reject(new Error("No space left")):_this234.ready;}).then(function(t){var s=t.transaction([pt],"readwrite").objectStore(pt).add({id:_this234.key(e.id),fileID:e.id,store:_this234.name,expires:Date.now()+_this234.opts.expires,data:e.data});return hu(s);});}},{key:"delete",value:function _delete(e){var _this235=this;return this.ready.then(function(t){var s=t.transaction([pt],"readwrite").objectStore(pt)["delete"](_this235.key(e));return hu(s);});}}],[{key:"cleanup",value:function cleanup(){return WP($P).then(function(e){var s=e.transaction([pt],"readwrite").objectStore(pt).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(n,a){s.onsuccess=function(l){var u=l.target.result;u?(u["delete"](),u["continue"]()):n(e);},s.onerror=a;});}).then(function(e){e.close();});}}]);return cn;}();o(cn,"IndexedDBStore");cn.isSupported=_q;GP.exports=cn;});var ZP=v(function(VM,QP){"use strict";function Fq(){var r=[];for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e);/^uppyState:/.test(t)&&r.push(t.slice("uppyState:".length));}return r;}o(Fq,"findUppyInstances");function YP(r){try{return JSON.parse(r);}catch(_unused28){return null;}}o(YP,"maybeParse");var JP=!1,Zo=/*#__PURE__*/function(){function Zo(e){_classCallCheck(this,Zo);this.opts=_objectSpread({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),JP||(JP=!0,Zo.cleanup());}_createClass(Zo,[{key:"load",value:function load(){var e=localStorage.getItem(this.name);if(!e)return null;var t=YP(e);return t?t.metadata?t.metadata:(this.save(t),t):null;}},{key:"save",value:function save(e){var t=Date.now()+this.opts.expires,i=JSON.stringify({metadata:e,expires:t});localStorage.setItem(this.name,i);}}],[{key:"cleanup",value:function cleanup(e){if(e){localStorage.removeItem("uppyState:".concat(e));return;}var t=Fq(),i=Date.now();t.forEach(function(s){var n=localStorage.getItem("uppyState:".concat(s));if(!n)return;var a=YP(n);!a||a.expires&&a.expires<i&&localStorage.removeItem("uppyState:".concat(s));});}}]);return Zo;}();o(Zo,"MetaDataStore");QP.exports=Zo;});var t3=v(function(WM,e3){"use strict";var Eq=mn(),Cq=Ut(),Rq=zP(),Oq=XP(),du=ZP(),xq={version:"2.1.3"},pu=/*#__PURE__*/function(_Cq){_inherits(pu,_Cq);var _super72=_createSuper(pu);function pu(e,t){var _this236;_classCallCheck(this,pu);_this236=_super72.call(this,e,t);_this236.addBlobToStores=function(s){s.isRemote||(_this236.ServiceWorkerStore&&_this236.ServiceWorkerStore.put(s)["catch"](function(n){_this236.uppy.log("[GoldenRetriever] Could not store file","warning"),_this236.uppy.log(n);}),_this236.IndexedDBStore.put(s)["catch"](function(n){_this236.uppy.log("[GoldenRetriever] Could not store file","warning"),_this236.uppy.log(n);}));},_this236.removeBlobFromStores=function(s){_this236.ServiceWorkerStore&&_this236.ServiceWorkerStore["delete"](s.id)["catch"](function(n){_this236.uppy.log("[GoldenRetriever] Failed to remove file","warning"),_this236.uppy.log(n);}),_this236.IndexedDBStore["delete"](s.id)["catch"](function(n){_this236.uppy.log("[GoldenRetriever] Failed to remove file","warning"),_this236.uppy.log(n);});},_this236.replaceBlobInStores=function(s){_this236.removeBlobFromStores(s),_this236.addBlobToStores(s);},_this236.handleRestoreConfirmed=function(){_this236.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var _this236$uppy$getStat=_this236.uppy.getState(),s=_this236$uppy$getStat.currentUploads;s&&(_this236.uppy.resumeAll(),Object.keys(s).forEach(function(n){_this236.uppy.restore(n,s[n]);})),_this236.uppy.setState({recoveredState:null});},_this236.abortRestore=function(){_this236.uppy.log("[GoldenRetriever] Aborting restore...");var s=Object.keys(_this236.uppy.getState().files);_this236.deleteBlobs(s).then(function(){_this236.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files"));})["catch"](function(n){_this236.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files"),"warning"),_this236.uppy.log(n);}),_this236.uppy.cancelAll(),_this236.uppy.setState({recoveredState:null}),du.cleanup(_this236.uppy.opts.id);},_this236.handleComplete=function(s){var n=s.successful,a=n.map(function(l){return l.id;});_this236.deleteBlobs(a).then(function(){_this236.uppy.log("[GoldenRetriever] Removed ".concat(n.length," files that finished uploading"));})["catch"](function(l){_this236.uppy.log("[GoldenRetriever] Could not remove ".concat(n.length," files that finished uploading"),"warning"),_this236.uppy.log(l);}),_this236.uppy.setState({recoveredState:null}),du.cleanup(_this236.uppy.opts.id);},_this236.restoreBlobs=function(){_this236.uppy.getFiles().length>0?Promise.all([_this236.loadFileBlobsFromServiceWorker(),_this236.loadFileBlobsFromIndexedDB()]).then(function(s){var n=_objectSpread(_objectSpread({},s[0]),s[1]);_this236.onBlobsLoaded(n);}):_this236.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...");},_this236.type="debugger",_this236.id=_this236.opts.id||"GoldenRetriever",_this236.title="Golden Retriever";var i={expires:24*60*60*1e3,serviceWorker:!1};_this236.opts=_objectSpread(_objectSpread({},i),t),_this236.MetaDataStore=new du({expires:_this236.opts.expires,storeName:e.getID()}),_this236.ServiceWorkerStore=null,_this236.opts.serviceWorker&&(_this236.ServiceWorkerStore=new Rq({storeName:e.getID()})),_this236.IndexedDBStore=new Oq(_objectSpread(_objectSpread({expires:_this236.opts.expires},_this236.opts.indexedDB||{}),{},{storeName:e.getID()})),_this236.saveFilesStateToLocalStorage=Eq(_this236.saveFilesStateToLocalStorage.bind(_assertThisInitialized(_this236)),500,{leading:!0,trailing:!0}),_this236.restoreState=_this236.restoreState.bind(_assertThisInitialized(_this236)),_this236.loadFileBlobsFromServiceWorker=_this236.loadFileBlobsFromServiceWorker.bind(_assertThisInitialized(_this236)),_this236.loadFileBlobsFromIndexedDB=_this236.loadFileBlobsFromIndexedDB.bind(_assertThisInitialized(_this236)),_this236.onBlobsLoaded=_this236.onBlobsLoaded.bind(_assertThisInitialized(_this236));return _this236;}_createClass(pu,[{key:"restoreState",value:function restoreState(){var e=this.MetaDataStore.load();e&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:e.currentUploads||{},files:e.files||{},recoveredState:e}),this.savedPluginData=e.pluginData);}},{key:"getWaitingFiles",value:function getWaitingFiles(){var e={};return this.uppy.getFiles().forEach(function(t){(!t.progress||!t.progress.uploadStarted)&&(e[t.id]=t);}),e;}},{key:"getUploadingFiles",value:function getUploadingFiles(){var _this237=this;var e={},_this$uppy$getState12=this.uppy.getState(),t=_this$uppy$getState12.currentUploads;return t&&Object.keys(t).forEach(function(s){t[s].fileIDs.forEach(function(a){e[a]=_this237.uppy.getFile(a);});}),e;}},{key:"saveFilesStateToLocalStorage",value:function saveFilesStateToLocalStorage(){var e=_objectSpread(_objectSpread({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(e).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),du.cleanup(this.uppy.opts.id);return;}var t={};Object.keys(e).forEach(function(n){e[n].isRemote?t[n]=_objectSpread(_objectSpread({},e[n]),{},{isRestored:!0}):t[n]=_objectSpread(_objectSpread({},e[n]),{},{isRestored:!0,data:null,preview:null});});var i={};this.uppy.emit("restore:get-data",function(n){Object.assign(i,n);});var _this$uppy$getState13=this.uppy.getState(),s=_this$uppy$getState13.currentUploads;this.MetaDataStore.save({currentUploads:s,files:t,pluginData:i});}},{key:"loadFileBlobsFromServiceWorker",value:function loadFileBlobsFromServiceWorker(){var _this238=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(e){var i=_this238.uppy.getFiles().filter(function(a){return!a.isRemote;}),s=Object.keys(e).length,n=i.length;return s===n?(_this238.uppy.log("[GoldenRetriever] Successfully recovered ".concat(s," blobs from Service Worker!")),e):(_this238.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{});})["catch"](function(e){return _this238.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),_this238.uppy.log(e),{};}):Promise.resolve({});}},{key:"loadFileBlobsFromIndexedDB",value:function loadFileBlobsFromIndexedDB(){var _this239=this;return this.IndexedDBStore.list().then(function(e){var t=Object.keys(e).length;return t>0?(_this239.uppy.log("[GoldenRetriever] Successfully recovered ".concat(t," blobs from IndexedDB!")),e):(_this239.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{});})["catch"](function(e){return _this239.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),_this239.uppy.log(e),{};});}},{key:"onBlobsLoaded",value:function onBlobsLoaded(e){var _this240=this;var t=[],i=_objectSpread({},this.uppy.getState().files);Object.keys(e).forEach(function(s){var n=_this240.uppy.getFile(s);if(!n){t.push(s);return;}var l={data:e[s],isRestored:!0,isGhost:!1};i[s]=_objectSpread(_objectSpread({},n),l);}),Object.keys(i).forEach(function(s){i[s].data===null&&(i[s]=_objectSpread(_objectSpread({},i[s]),{},{isGhost:!0}));}),this.uppy.setState({files:i}),this.uppy.emit("restored",this.savedPluginData),t.length&&this.deleteBlobs(t).then(function(){_this240.uppy.log("[GoldenRetriever] Cleaned up ".concat(t.length," old files"));})["catch"](function(s){_this240.uppy.log("[GoldenRetriever] Could not clean up ".concat(t.length," old files"),"warning"),_this240.uppy.log(s);});}},{key:"deleteBlobs",value:function deleteBlobs(e){var _this241=this;var t=[];return e.forEach(function(i){_this241.ServiceWorkerStore&&t.push(_this241.ServiceWorkerStore["delete"](i)),_this241.IndexedDBStore&&t.push(_this241.IndexedDBStore["delete"](i));}),Promise.all(t);}},{key:"install",value:function install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete);}},{key:"uninstall",value:function uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete);}}]);return pu;}(Cq);o(pu,"GoldenRetriever");pu.VERSION=xq.version;e3.exports=pu;});var i3=v(function(KM,r3){"use strict";var Tq=he(),kq={version:"2.1.1"},fu=/*#__PURE__*/function(_Tq$UIPlugin){_inherits(fu,_Tq$UIPlugin);var _super73=_createSuper(fu);function fu(e,t){var _this242;_classCallCheck(this,fu);_this242=_super73.call(this,e,t);_this242.type="debugger",_this242.id=_this242.opts.id||"ReduxDevTools",_this242.title="Redux DevTools";var i={};_this242.opts=_objectSpread(_objectSpread({},i),t),_this242.handleStateChange=_this242.handleStateChange.bind(_assertThisInitialized(_this242)),_this242.initDevTools=_this242.initDevTools.bind(_assertThisInitialized(_this242));return _this242;}_createClass(fu,[{key:"handleStateChange",value:function handleStateChange(e,t){this.devTools.send("UPPY_STATE_UPDATE",t);}},{key:"initDevTools",value:function initDevTools(){var _this243=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(e){if(e.type==="DISPATCH")switch(e.payload.type){case"RESET":_this243.uppy.reset();return;case"IMPORT_STATE":{var t=e.payload.nextLiftedState.computedStates;_this243.uppy.store.state=_objectSpread(_objectSpread({},_this243.uppy.getState()),t[t.length-1].state),_this243.uppy.updateAll(_this243.uppy.getState());return;}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":_this243.uppy.store.state=_objectSpread(_objectSpread({},_this243.uppy.getState()),JSON.parse(e.state)),_this243.uppy.updateAll(_this243.uppy.getState());break;default:}});}},{key:"install",value:function install(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange));}},{key:"uninstall",value:function uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate));}}]);return fu;}(Tq.UIPlugin);o(fu,"ReduxDevTools");fu.VERSION=kq.version;r3.exports=fu;});var s3=v(function(Z){Z.Core=he();Z.debugLogger=Z.Core.debugLogger;Z.server=Ke();Z.views={ProviderView:ar()};Z.DefaultStore=Au();Z.ReduxStore=uv();Z.Dashboard=lh();Z.DragDrop=J0();Z.DropTarget=Z0();Z.FileInput=nb();Z.ImageEditor=pb();Z.Informer=Ec();Z.ProgressBar=vb();Z.StatusBar=Sc();Z.Audio=s1();Z.Box=Th();Z.Dropbox=kh();Z.Facebook=Ah();Z.GoogleDrive=Dh();Z.Instagram=qh();Z.OneDrive=Nh();Z.RemoteSources=hw();Z.ScreenCapture=Tw();Z.Unsplash=Ih();Z.Url=Mh();Z.Webcam=a_();Z.Zoom=Lh();Z.AwsS3=O_();Z.AwsS3Multipart=M_();Z.Transloadit=aP();Z.Tus=rp();Z.XHRUpload=vP();Z.Compressor=DP();Z.Form=MP();Z.GoldenRetriever=t3();Z.ReduxDevTools=i3();Z.ThumbnailGenerator=Nc();Z.locales={};});var Aq=v(function(XM,n3){_globalThis.Uppy=n3.exports=s3();});Aq();})();/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/ /*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */ /*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */ /**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */;

/*! For license information please see bp-messages-free.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BetterMessages=t():e.BetterMessages=t()}(this,(()=>(()=>{var __webpack_modules__={63011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(78011);const r=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},59722:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(16341),p=n(48246),h=n(68457).dashboard,m=n(898),v=n(78963),g=d.createElement,b=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(v(this,e)){var t=l(l({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(p,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=m(this.props),g("div",l({className:"uppy-Container",ref:function(t){e.container=t}},this.validProps))}}]),n}(d.Component);b.propTypes=h,b.defaultProps={inline:!0},e.exports=b},32181:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(16341),p=n(66159),h=n(48246),m=n(68457).dashboard,v=n(898),g=n(78963),b=d.createElement,y=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(g(this,e)){var t=l(l({},this.props),{},{onRequestCloseModal:this.props.onRequestClose});delete t.uppy,this.plugin.setOptions(t)}e.open&&!this.props.open?this.plugin.closeModal():!e.open&&this.props.open&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:DashboardModal"},this.props),{},{onRequestCloseModal:this.props.onRequestClose});t.target||(t.target=this.container),delete t.uppy,e.use(h,t),this.plugin=e.getPlugin(t.id),this.props.open&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=v(this.props),b("div",l({className:"uppy-Container",ref:function(t){e.container=t}},this.validProps))}}]),n}(d.Component);y.propTypes=l({target:"undefined"!=typeof window?p.instanceOf(window.HTMLElement):p.any,open:p.bool,onRequestClose:p.func,closeModalOnClickOutside:p.bool,disablePageScrollWhenModalOpen:p.bool},m),e.exports=y},49765:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(16341),p=n(28391),h=n(68457),m=n(898),v=n(78963),g=d.createElement,b=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(v(this,e)){var t=l(l({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:DragDrop"},this.props),{},{target:this.container});delete t.uppy,e.use(p,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=m(this.props),g("div",l({className:"uppy-Container",ref:function(t){e.container=t}},this.validProps))}}]),n}(d.Component);b.propTypes={uppy:h.uppy,locale:h.locale},b.defaultProps={},e.exports=b},65638:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(66159),p=n(16341),h=n(1933),m=n(68457),v=p.createElement,g=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:FileInput"},this.props),{},{target:this.container});delete t.uppy,e.use(h,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return v("div",{className:"uppy-Container",ref:function(t){e.container=t}})}}]),n}(p.Component);g.propTypes={uppy:m.uppy,locale:m.locale,pretty:d.bool,inputName:d.string},g.defaultProps={},e.exports=g},64018:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(16341),p=n(66159),h=n(25743),m=n(68457).uppy,v=n(898),g=n(78963),b=d.createElement,y=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(g(this,e)){var t=l(l({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:ProgressBar"},this.props),{},{target:this.container});delete t.uppy,e.use(h,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=v(this.props),b("div",l({className:"uppy-Container",ref:function(t){e.container=t}},this.validProps))}}]),n}(d.Component);y.propTypes={uppy:m,fixed:p.bool,hideAfterFinish:p.bool},y.defaultProps={},e.exports=y},18205:(e,t,n)=>{n(41539),n(81299),n(12419),n(47941),n(82526),n(57327),n(38880),n(57658),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(79377),o=n(41801),a=n(40851),i=n(24512),s=n(48410),u=n(77820);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var d=n(16341),p=n(66159),h=n(83940),m=n(68457).uppy,v=n(898),g=n(78963),b=d.createElement,y=function(e){"use strict";i(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(g(this,e)){var t=l(l({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=l(l({id:"react:StatusBar"},this.props),{},{target:this.container});delete t.uppy,e.use(h,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return this.validProps=v(this.props),b("div",l({className:"uppy-Container",ref:function(t){e.container=t}},this.validProps))}}]),n}(d.Component);y.propTypes={uppy:m,hideAfterFinish:p.bool,showProgressDetails:p.bool},y.defaultProps={},e.exports=y},898:(e,t,n)=>{var r=n(34694);n(66992),n(38559),n(57327),n(41539),n(69720),n(74916),n(77601),n(26699);var o=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],a=/^(aria-|data-)/;e.exports=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=r(e,1)[0];return a.test(t)||o.includes(t)})))}},78963:(e,t,n)=>{"use strict";n(5212),n(41539),n(47941);e.exports=function(e,t){return Object.keys(e.props).some((function(n){return!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e.validProps,n)&&e.props[n]!==t[n]}))}},68457:(e,t,n)=>{var r=n(66159),o=n(14577).Uppy,a=r.instanceOf(o).isRequired,i=r.arrayOf(r.string),s=r.shape({strings:r.object,pluralize:r.func}),u=r.shape({id:r.string.isRequired,name:r.string.isRequired,placeholder:r.string}),c=r.oneOfType([r.arrayOf(u),r.func]),l=r.oneOfType([r.string,r.number]),f={uppy:a,inline:r.bool,plugins:i,width:l,height:l,showProgressDetails:r.bool,hideUploadButton:r.bool,hideProgressAfterFinish:r.bool,note:r.string,metaFields:c,proudlyDisplayPoweredByUppy:r.bool,disableStatusBar:r.bool,disableInformer:r.bool,disableThumbnailGenerator:r.bool,thumbnailWidth:r.number,locale:s};e.exports={uppy:a,locale:s,dashboard:f}},71414:(e,t,n)=>{var r=n(59039);n(21703),n(96647);var o=n(16341),a=o.useEffect,i=o.useRef,s=n(14577).Uppy;e.exports=function(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=i(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof s)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat(r(t.current)));return a((function(){return function(){t.current.close({reason:"unmount"}),t.current=void 0}}),[t]),t.current}},42750:(e,t,n)=>{"use strict";n(96647),n(83710),n(41539),n(39714),n(83650),n(21703);var r=n(34429).z,o={stringify:function(e){var t=r.enc.Hex.parse(e.salt.toString()).toString(r.enc.Latin1),n=e.ciphertext.toString(r.enc.Latin1);return r.enc.Latin1.parse("Salted__"+t+n).toString(r.enc.Base64)},parse:function(e){if("Salted__"!==(e=r.enc.Base64.parse(e).toString(r.enc.Latin1)).substr(0,8))throw new Error("Error parsing salt");var t=e.substr(8,8),n=e.substr(16);return r.lib.CipherParams.create({ciphertext:r.enc.Latin1.parse(n),salt:r.enc.Latin1.parse(t)})}},a={encrypt:function(e,t){return r.AES.encrypt(e,t,{format:o}).toString()},decrypt:function(e,t){return r.AES.decrypt(e,t,{format:o}).toString(r.enc.Utf8)}};e.exports=a},9052:(e,t,n)=>{e.exports=n(75840)},31963:(e,t,n)=>{"use strict";n(41539),n(88674),n(78221),n(96647),n(27479),n(87714),n(82801),n(1174),n(82772),n(32564),n(89554),n(54747);var r=n(22386),o=n(69989),a=n(66876),i=n(11213),s=n(31430),u=n(89402),c=n(56413),l=n(63433),f=n(65021),d=n(74621),p=n(19008);e.exports=function(e){return new Promise((function(t,n){var h,m=e.data,v=e.headers,g=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var D=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(D+":"+w)}var _=s(e.baseURL,e.url);function E(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,a={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o((function(e){t(e),b()}),(function(e){n(e),b()}),a),y=null}}if(y.open(e.method.toUpperCase(),i(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(n(new f("Request aborted",f.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,y)),y=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||c(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(v[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&r.forEach(v,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete v[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new d:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),m||(m=null);var k=p(_);k&&-1===["http","https","file"].indexOf(k)?n(new f("Unsupported protocol "+k+":",f.ERR_BAD_REQUEST,e)):y.send(m)}))}},75840:(e,t,n)=>{"use strict";n(66992),n(41539),n(88674),n(78783),n(33948);var r=n(22386),o=n(64293),a=n(66730),i=n(70768);var s=function e(t){var n=new a(t),s=o(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(i(t,n))},s}(n(25302));s.Axios=a,s.CanceledError=n(74621),s.CancelToken=n(84304),s.isCancel=n(28837),s.VERSION=n(95644).version,s.toFormData=n(36020),s.AxiosError=n(65021),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(10918),s.isAxiosError=n(19067),e.exports=s,e.exports.default=s},84304:(e,t,n)=>{"use strict";n(21703),n(96647),n(41539),n(88674),n(57658),n(82772),n(40561);var r=n(74621);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},74621:(e,t,n)=>{"use strict";n(68309);var r=n(65021);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(22386).inherits(o,r,{__CANCEL__:!0}),e.exports=o},28837:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},66730:(e,t,n)=>{"use strict";n(89554),n(41539),n(54747),n(30541),n(57658),n(92222),n(88674);var r=n(22386),o=n(11213),a=n(5303),i=n(82153),s=n(70768),u=n(31430),c=n(32694),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(m){h(m);break}}try{a=i(d)}catch(m){return Promise.reject(m)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},65021:(e,t,n)=>{"use strict";n(21703),n(96647),n(68309),n(82526),n(41817),n(89554),n(41539),n(33321),n(69070),n(78011),n(19601);var r=n(22386);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(a,"isAxiosError",{value:!0}),o.from=function(e,t,n,i,s,u){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,n,i,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=o},5303:(e,t,n)=>{"use strict";n(57658),n(89554),n(41539),n(54747);var r=n(22386);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},31430:(e,t,n)=>{"use strict";var r=n(86255),o=n(26116);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},82153:(e,t,n)=>{"use strict";n(89554),n(41539),n(54747),n(88674);var r=n(22386),o=n(84612),a=n(28837),i=n(25302),s=n(74621);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return u(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},70768:(e,t,n)=>{"use strict";n(47042),n(89554),n(41539),n(54747),n(92222),n(47941);var r=n(22386);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,o=t(e);r.isUndefined(o)&&t!==u||(n[e]=o)})),n}},69989:(e,t,n)=>{"use strict";var r=n(65021);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},84612:(e,t,n)=>{"use strict";n(89554),n(41539),n(54747);var r=n(22386),o=n(25302);e.exports=function(e,t,n){var a=this||o;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},25302:(e,t,n)=>{"use strict";var r=n(1599);n(41539),n(73210),n(68309),n(38862),n(96647),n(83710),n(39714),n(89554),n(54747);var o=n(22386),a=n(29468),i=n(65021),s=n(63433),u=n(36020),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(f=n(31963)),f),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=o.isObject(e),i=t&&t["Content-Type"];if((n=o.isFileList(e))||r&&"multipart/form-data"===i){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return r||"application/json"===i?(l(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(97541)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){d.headers[e]=o.merge(c)})),e.exports=d},63433:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},95644:e=>{e.exports={version:"0.27.2"}},64293:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},11213:(e,t,n)=>{"use strict";n(74916),n(15306),n(96647),n(83710),n(41539),n(39714),n(89554),n(54747),n(28733),n(38862),n(57658),n(69600),n(82772),n(47042);var r=n(22386);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},26116:(e,t,n)=>{"use strict";n(74916),n(15306),e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},66876:(e,t,n)=>{"use strict";n(57658),n(9550),n(83710),n(69600),n(74916),n(4723),n(24603),n(28450),n(88386),n(39714),n(3843);var r=n(22386);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,a,i){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},86255:(e,t,n)=>{"use strict";n(74916),n(77601),e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},19067:(e,t,n)=>{"use strict";var r=n(22386);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},56413:(e,t,n)=>{"use strict";n(74916),n(77601),n(15306),n(64765);var r=n(22386);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},29468:(e,t,n)=>{"use strict";n(89554),n(41539),n(54747);var r=n(22386);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},97541:e=>{e.exports=null},89402:(e,t,n)=>{"use strict";n(89554),n(41539),n(54747),n(82772),n(73210),n(83650),n(92222);var r=n(22386),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,i={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},19008:(e,t,n)=>{"use strict";n(74916),e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},10918:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},36020:(e,t,n)=>{"use strict";var r=n(59039);n(28733),n(82772),n(21703),n(96647),n(57658),n(89554),n(41539),n(54747),n(27852),n(38862),n(88674);var o=n(22386);e.exports=function(e,t){t=t||new FormData;var n=[];function a(e){return null===e?"":o.isDate(e)?e.toISOString():o.isArrayBuffer(e)||o.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,s){if(o.isPlainObject(i)||o.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+s);n.push(i),o.forEach(i,(function(n,i){if(!o.isUndefined(n)){var u,c=s?s+"."+i:i;if(n&&!s&&"object"===r(n))if(o.endsWith(i,"{}"))n=JSON.stringify(n);else if(o.endsWith(i,"[]")&&(u=o.toArray(n)))return void u.forEach((function(e){!o.isUndefined(e)&&t.append(c,a(e))}));e(n,c)}})),n.pop()}else t.append(s,a(i))}(e),t}},32694:(e,t,n)=>{"use strict";var r=n(59039);n(89554),n(41539),n(47941);var o=n(95644).version,a=n(65021),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return r(n)===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,n){function r(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new a(r(o," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!s[o]&&(s[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},e.exports={assertOptions:function(e,t,n){if("object"!==r(e))throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),i=o.length;i-- >0;){var s=o[i],u=t[s];if(u){var c=e[s],l=void 0===c||u(c,s,e);if(!0!==l)throw new a("option "+s+" must be "+l,a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new a("Unknown option "+s,a.ERR_BAD_OPTION)}},validators:i}},22386:(e,t,n)=>{"use strict";var r=n(59039);n(41539),n(47042),n(78011),n(79753),n(18264),n(39575),n(76938),n(30489),n(96647),n(83710),n(39714),n(73210),n(74916),n(15306),n(19601),n(36210),n(82772),n(66992),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016);var o,a=n(64293),i=Object.prototype.toString,s=(o=Object.create(null),function(e){var t=i.call(e);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var f=u("ArrayBuffer");function d(e){return null!==e&&"object"===r(e)}function p(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=u("Date"),m=u("File"),v=u("Blob"),g=u("FileList");function b(e){return"[object Function]"===i.call(e)}var y=u("URLSearchParams");function D(e,t){if(null!=e)if("object"!==r(e)&&(e=[e]),c(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:c,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||b(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:p,isUndefined:l,isDate:h,isFile:m,isBlob:v,isFunction:b,isStream:function(e){return d(e)&&b(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:D,merge:function e(){var t={};function n(n,r){p(t[r])&&p(n)?t[r]=e(t[r],n):p(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)D(arguments[r],n);return t},extend:function(e,t,n){return D(t,(function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,a,i={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)i[a=r[o]]||(t[a]=e[a],i[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:g}},55409:(e,t,n)=>{"use strict";var r=n(53983),o=n(67459),a=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?o(n):n}},67459:(e,t,n)=>{"use strict";var r=n(39625),o=n(53983),a=o("%Function.prototype.apply%"),i=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(i,a),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(d){c=null}e.exports=function(e){var t=s(r,i,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,a,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},99005:(e,t,n)=>{e=n.nmd(e);var r=n(59039);n(66992),n(51532),n(41539),n(78783),n(33948),n(70189),n(88674),n(24603),n(28450),n(74916),n(88386),n(39714),n(83710),n(21703),n(96647),n(78011),n(30489),n(82772),n(57658),n(89554),n(54747),n(38880),n(82526),n(69070),n(36210);var o=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,o;try{t=Map}catch(u){t=function(){}}try{n=Set}catch(u){n=function(){}}try{o=Promise}catch(u){o=function(){}}function a(i,u,c,l,f){"object"===r(u)&&(c=u.depth,l=u.prototype,f=u.includeNonEnumerable,u=u.circular);var d=[],p=[],h="undefined"!=typeof Buffer;return void 0===u&&(u=!0),void 0===c&&(c=1/0),function i(c,m){if(null===c)return null;if(0===m)return c;var v,g;if("object"!=r(c))return c;if(e(c,t))v=new t;else if(e(c,n))v=new n;else if(e(c,o))v=new o((function(e,t){c.then((function(t){e(i(t,m-1))}),(function(e){t(i(e,m-1))}))}));else if(a.__isArray(c))v=[];else if(a.__isRegExp(c))v=new RegExp(c.source,s(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(a.__isDate(c))v=new Date(c.getTime());else{if(h&&Buffer.isBuffer(c))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(v),v;e(c,Error)?v=Object.create(c):void 0===l?(g=Object.getPrototypeOf(c),v=Object.create(g)):(v=Object.create(l),g=l)}if(u){var b=d.indexOf(c);if(-1!=b)return p[b];d.push(c),p.push(v)}for(var y in e(c,t)&&c.forEach((function(e,t){var n=i(t,m-1),r=i(e,m-1);v.set(n,r)})),e(c,n)&&c.forEach((function(e){var t=i(e,m-1);v.add(t)})),c){var D;g&&(D=Object.getOwnPropertyDescriptor(g,y)),D&&null==D.set||(v[y]=i(c[y],m-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(y=0;y<w.length;y++){var _=w[y];(!(x=Object.getOwnPropertyDescriptor(c,_))||x.enumerable||f)&&(v[_]=i(c[_],m-1),x.enumerable||Object.defineProperty(v,_,{enumerable:!1}))}}if(f){var E=Object.getOwnPropertyNames(c);for(y=0;y<E.length;y++){var x,k=E[y];(x=Object.getOwnPropertyDescriptor(c,k))&&x.enumerable||(v[k]=i(c[k],m-1),Object.defineProperty(v,k,{enumerable:!1}))}}return v}(i,c)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"===r(e)&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"===r(e)&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"===r(e)&&"[object RegExp]"===i(e)},a.__getRegExpFlags=s,a}();"object"===r(e)&&e.exports&&(e.exports=o)},64541:(e,t,n)=>{var r=n(59039);n(83710),n(47042),n(2707);var o=n(34474),a=n(62054),i=n(61230),s=n(10366),u=n(95101),c=n(43853),l=Date.prototype.getTime;function f(e,t,n){var h=n||{};return!!(h.strict?i(e,t):e===t)||(!e||!t||"object"!==r(e)&&"object"!==r(t)?h.strict?i(e,t):e==t:function(e,t,n){var i,h;if(r(e)!==r(t))return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e)!==a(t))return!1;var m=s(e),v=s(t);if(m!==v)return!1;if(m||v)return e.source===t.source&&u(e)===u(t);if(c(e)&&c(t))return l.call(e)===l.call(t);var g=p(e),b=p(t);if(g!==b)return!1;if(g||b){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(r(e)!==r(t))return!1;try{var y=o(e),D=o(t)}catch(w){return!1}if(y.length!==D.length)return!1;for(y.sort(),D.sort(),i=y.length-1;i>=0;i--)if(y[i]!=D[i])return!1;for(i=y.length-1;i>=0;i--)if(!f(e[h=y[i]],t[h],n))return!1;return!0}(e,t,h))}function d(e){return null==e}function p(e){return!(!e||"object"!==r(e)||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=f},58348:(e,t,n)=>{"use strict";var r,o=n(59039);if(n(47941),n(41539),n(21703),n(96647),n(57658),!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(5515),u=Object.prototype.propertyIsEnumerable,c=!u.call({toString:null},"toString"),l=u.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"===o(window[e]))try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===o(e),n="[object Function]"===i.call(e),r=s(e),u=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=l&&n;if(u&&e.length>0&&!a.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var b in e)m&&"prototype"===b||!a.call(e,b)||p.push(String(b));if(c)for(var y=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),D=0;D<f.length;++D)y&&"constructor"===f[D]||!a.call(e,f[D])||p.push(f[D]);return p}}e.exports=r},34474:(e,t,n)=>{"use strict";n(47042),n(47941);var r=Array.prototype.slice,o=n(5515),a=Object.keys,i=a?function(e){return a(e)}:n(58348),s=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},5515:(e,t,n)=>{"use strict";var r=n(59039);n(41539);var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===r(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),n}},91197:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539),n(92222),n(69070);var o=n(86822),a="function"==typeof Symbol&&"symbol"===r(Symbol("foo")),i=Object.prototype.toString,s=Array.prototype.concat,u=Object.defineProperty,c=n(321)(),l=u&&c,f=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(l?u(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},r=o(t);a&&(r=s.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)f(e,r[i],t[r[i]],n[r[i]])};d.supportsDescriptors=!!l,e.exports=d},38529:(e,t,n)=>{"use strict";var r,o=n(59039);if(n(47941),n(41539),n(21703),n(96647),n(57658),!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(46461),u=Object.prototype.propertyIsEnumerable,c=!u.call({toString:null},"toString"),l=u.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"===o(window[e]))try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===o(e),n="[object Function]"===i.call(e),r=s(e),u=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=l&&n;if(u&&e.length>0&&!a.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var b in e)m&&"prototype"===b||!a.call(e,b)||p.push(String(b));if(c)for(var y=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),D=0;D<f.length;++D)y&&"constructor"===f[D]||!a.call(e,f[D])||p.push(f[D]);return p}}e.exports=r},86822:(e,t,n)=>{"use strict";n(47042),n(47941);var r=Array.prototype.slice,o=n(46461),a=Object.keys,i=a?function(e){return a(e)}:n(38529),s=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},46461:(e,t,n)=>{"use strict";var r=n(59039);n(41539);var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===r(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),n}},35832:(e,t,n)=>{"use strict";var r;n(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(r=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style},t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},55362:(e,t,n)=>{"use strict";n(78011),n(67987),n(21703),n(96647),n(57658),n(47042),n(82526),n(92222);var r=Object.prototype.hasOwnProperty,o="~";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,a),u=o?o+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,i=new Array(a);r<a;r++)i[r]=n[r].fn;return i},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,i){var s=o?o+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,i),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,a);else{for(var s=0,c=[],l=i.length;s<l;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&c.push(i[s]);c.length?this._events[a]=1===c.length?c[0]:c:u(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,e.exports=c},85613:function(e,t,n){var r,o,a,i=n(59039);n(35837),n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(9653),n(21703),n(96647),n(55147),n(74916),n(15306),n(83710),n(39714),n(33161),n(23123),n(92222),n(66528),n(69600),a=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(t)}var t="array",n="bits",r="byte",o="bytes",a="",s="exponent",u="function",c="iec",l="Invalid number",f="Invalid rounding method",d="jedec",p="object",h=".",m="round",v="kbit",g="string",b={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function y(i){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=y.bits,w=void 0!==D&&D,_=y.pad,E=void 0!==_&&_,x=y.base,k=void 0===x?-1:x,C=y.round,S=void 0===C?2:C,F=y.locale,O=void 0===F?a:F,A=y.localeOptions,T=void 0===A?{}:A,P=y.separator,j=void 0===P?a:P,M=y.spacer,B=void 0===M?" ":M,N=y.symbols,R=void 0===N?{}:N,I=y.standard,L=void 0===I?a:I,z=y.output,q=void 0===z?g:z,U=y.fullform,V=void 0!==U&&U,H=y.fullforms,$=void 0===H?[]:H,W=y.exponent,K=void 0===W?-1:W,G=y.roundingMethod,Y=void 0===G?m:G,Z=y.precision,X=void 0===Z?0:Z,J=K,Q=Number(i),ee=[],te=0,ne=a;-1===k&&0===L.length?(k=10,L=d):-1===k&&L.length>0?k=(L=L===c?c:d)===c?2:10:L=10==(k=2===k?2:10)||L===d?d:c;var re=10===k?1e3:1024,oe=!0===V,ae=Q<0,ie=Math[Y];if(isNaN(i))throw new TypeError(l);if(e(ie)!==u)throw new TypeError(f);if(ae&&(Q=-Q),(-1===J||isNaN(J))&&(J=Math.floor(Math.log(Q)/Math.log(re)))<0&&(J=0),J>8&&(X>0&&(X+=8-J),J=8),q===s)return J;if(0===Q)ee[0]=0,ne=ee[1]=b.symbol[L][w?n:o][J];else{te=Q/(2===k?Math.pow(2,10*J):Math.pow(1e3,J)),w&&(te*=8)>=re&&J<8&&(te/=re,J++);var se=Math.pow(10,J>0?S:0);ee[0]=ie(te*se)/se,ee[0]===re&&J<8&&-1===K&&(ee[0]=1,J++),ne=ee[1]=10===k&&1===J?w?v:"kB":b.symbol[L][w?n:o][J]}if(ae&&(ee[0]=-ee[0]),X>0&&(ee[0]=ee[0].toPrecision(X)),ee[1]=R[ee[1]]||ee[1],!0===O?ee[0]=ee[0].toLocaleString():O.length>0?ee[0]=ee[0].toLocaleString(O,T):j.length>0&&(ee[0]=ee[0].toString().replace(h,j)),E&&!1===Number.isInteger(ee[0])&&S>0){var ue=j||h,ce=ee[0].toString().split(ue),le=ce[1]||a,fe=le.length,de=S-fe;ee[0]="".concat(ce[0]).concat(ue).concat(le.padEnd(fe+de,"0"))}return oe&&(ee[1]=$[J]?$[J]:b.fullform[L][J]+(w?"bit":r)+(1===ee[0]?a:"s")),q===t?ee:q===p?{value:ee[0],symbol:ee[1],exponent:J,unit:ne}:ee.join(B)}return y.partial=function(e){return function(t){return y(t,e)}},y},"object"==i(t)?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)},34704:(e,t,n)=>{var r=n(59039);n(69070),n(82526),n(41817),n(41539),n(39341),n(73706),n(10408),n(78011),n(24812),n(32165),n(66992),n(78783),n(33948),n(19601),n(79753),n(57658),n(47042),n(68309),n(91038),n(74916),n(77601),n(21703),n(96647),n(30541),n(47941),n(83710),n(39714),n(21249),n(82772),n(38862),n(4723),n(25438),n(32564),n(54678),n(55147),n(12419),n(81299),n(68304),n(67987),n(30489),n(92222),e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==r(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(16341)},function(e,t){e.exports=n(66159)},function(e,t,n){"use strict";n.r(t);var o="fslightbox-";function a(){var e=document.createElement("style");e.className="fslightbox-styles",e.appendChild(document.createTextNode(".fslightbox-fade-in{animation:fslightbox-fade-in .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out{animation:fslightbox-fade-out .3s ease}.fslightbox-fade-in-strong{animation:fslightbox-fade-in-strong .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out-strong{animation:fslightbox-fade-out-strong .3s ease}@keyframes fslightbox-fade-in{from{opacity:.65}to{opacity:1}}@keyframes fslightbox-fade-out{from{opacity:.35}to{opacity:0}}@keyframes fslightbox-fade-in-strong{from{opacity:.3}to{opacity:1}}@keyframes fslightbox-fade-out-strong{from{opacity:1}to{opacity:0}}.fslightbox-absoluted{position:absolute;top:0;left:0}.fslightbox-cursor-grabbing{cursor:grabbing}.fslightbox-full-dimension{width:100%;height:100%}.fslightbox-open{overflow:hidden;height:100%}.fslightbox-flex-centered{display:flex;justify-content:center;align-items:center}.fslightbox-opacity-0{opacity:0!important}.fslightbox-opacity-1{opacity:1!important}.fslightbox-scrollbarfix{padding-right:17px}.fslightbox-transform-transition{transition:transform .3s}.fslightbox-container{font-family:Arial,sans-serif;position:fixed;top:0;left:0;background:linear-gradient(rgba(30,30,30,.9),#000 1810%);z-index:1000000000;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.fslightbox-container *{box-sizing:border-box}.fslightbox-svg-path{transition:fill .15s ease;fill:#d1d2d2}.fslightbox-loader{display:block;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:67px;height:67px}.fslightbox-loader div{box-sizing:border-box;display:block;position:absolute;width:54px;height:54px;margin:6px;border:5px solid;border-color:#999 transparent transparent transparent;border-radius:50%;animation:fslightbox-loader 1.2s cubic-bezier(.5,0,.5,1) infinite}.fslightbox-loader div:nth-child(1){animation-delay:-.45s}.fslightbox-loader div:nth-child(2){animation-delay:-.3s}.fslightbox-loader div:nth-child(3){animation-delay:-.15s}@keyframes fslightbox-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fslightbox-thumbs-loader{width:54px!important;height:54px!important}.fslightbox-thumbs-loader div{border-width:4px!important;width:44px!important;height:44px!important}.fslightbox-source-wrappers-container{transition:transform .2s linear;z-index:2}.fslightbox-source-wrappers-container-pinching{transition:none!important}.fslightbox-nav{height:45px;width:100%;transition:opacity .3s}.fslightbox-slide-number-container{display:flex;justify-content:center;align-items:center;position:relative;height:100%;font-size:15px;color:#d7d7d7;z-index:0;max-width:55px;text-align:left}.fslightbox-slide-number-container .fslightbox-flex-centered{height:100%}.fslightbox-slash{display:block;margin:0 5px;width:1px;height:12px;transform:rotate(15deg);background:#fff}.fslightbox-toolbar{position:absolute;z-index:3;right:0;top:0;height:100%;display:flex;background:rgba(35,35,35,.65)}.fslightbox-toolbar-button{height:100%;width:45px;cursor:pointer}.fslightbox-toolbar-button:hover .fslightbox-svg-path{fill:#fff}.fslightbox-slide-btn-container{display:flex;align-items:center;padding:12px 12px 12px 6px;position:absolute;top:50%;cursor:pointer;z-index:3;transform:translateY(-50%);transition:opacity .3s}@media (min-width:476px){.fslightbox-slide-btn-container{padding:22px 22px 22px 6px}}@media (min-width:768px){.fslightbox-slide-btn-container{padding:30px 30px 30px 6px}}.fslightbox-slide-btn-container:hover .fslightbox-svg-path{fill:#f1f1f1}.fslightbox-slide-btn{padding:9px;font-size:26px;background:rgba(35,35,35,.65)}@media (min-width:768px){.fslightbox-slide-btn{padding:10px}}@media (min-width:1600px){.fslightbox-slide-btn{padding:11px}}.fslightbox-slide-btn-container-previous{left:0}@media (max-width:475.99px){.fslightbox-slide-btn-container-previous{padding-left:3px!important}}.fslightbox-slide-btn-container-next{right:0;padding-left:12px!important;padding-right:3px!important}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-left:22px!important}}@media (min-width:768px){.fslightbox-slide-btn-container-next{padding-left:30px!important}}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-right:6px!important}}.fslightbox-down-event-detector{position:absolute;z-index:1}.fslightbox-slide-swiping-hoverer{z-index:4}.fslightbox-slideshow-bar{width:0;height:2px;z-index:4;opacity:0;background:#fff;transition:opacity .4s}.fslightbox-invalid-file-wrapper{font-size:26px;color:#eaebeb;margin:auto}.fslightbox-video{object-fit:cover}.fslightbox-source{position:relative;z-index:2;display:block;opacity:0;transform:translateZ(0);margin:auto;cursor:zoom-in;backface-visibility:hidden}.fslightbox-thumbs{position:absolute;bottom:0;left:0;width:100%;z-index:3;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%);opacity:0;transition:opacity .2s;backface-visibility:hidden;padding:0 5px 12px 5px;height:114px}@media (min-width:992px){.fslightbox-thumbs{padding-bottom:13px;height:120px}}@media (min-width:1600px){.fslightbox-thumbs{padding-bottom:14px;height:126px}}.fslightbox-thumbs-active{opacity:1;z-index:3}.fslightbox-thumbs-inner{display:inline-flex;justify-content:flex-start;align-items:center;height:100%}.fslightbox-thumb-wrapper{position:relative;height:100%;margin:0 4px;opacity:0;transition:opacity .3s}.fslightbox-thumb-wrapper svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer;z-index:1}.fslightbox-thumb-wrapper path{fill:#fff}.fslightbox-thumb-wrapper-darkener{position:absolute;top:2px;left:2px;width:calc(100% - 4px);height:calc(100% - 4px);background:rgba(0,0,0,.4);cursor:pointer}.fslightbox-thumb{cursor:pointer;border-radius:1px;height:100%;width:auto!important;border:2px solid transparent;max-width:unset;max-height:unset}.fslightbox-thumb-active{border:2px solid #fff!important}.fslightbox-thumb-invalid{background:linear-gradient(to bottom,#0f0f0f,rgba(15,15,15,.5));display:inline-block;min-width:155px}.fslightbox-thumbs-cursorer{z-index:4;cursor:grabbing}.fslightbox-caption{position:absolute;bottom:0;left:50%;width:100%;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%);transform:translateX(-50%);opacity:0;transition:opacity .2s;z-index:-1}.fslightbox-caption-inner{padding:25px;max-width:1200px;color:#eee;text-align:center;font-size:14px}@media (min-width:768px){.fslightbox-caption-inner{padding:30px 25px}}.fslightbox-caption-active{opacity:1;z-index:3}")),document.head.appendChild(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}"object"===("undefined"==typeof document?"undefined":i(document))&&a();var s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=function(e){var t=e.viewBox,n=e.width,r=e.height,a=e.d;return u.a.createElement("svg",{width:n,height:r,viewBox:t,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{className:o+"svg-path",d:a}))};function d(e){var t=e.onClick,n=e.viewBox,r=e.width,o=e.height,a=e.d,i=e.title;return u.a.createElement("div",{className:"fslightbox-toolbar-button fslightbox-flex-centered",title:i,onClick:t},u.a.createElement(f,{viewBox:n,width:r,height:o,d:a}))}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.fsLightbox,n=t.componentsServices.toolbarButtons.fullscreen,r=t.core.fullscreenToggler,o=r.exitFullscreen,a=r.enterFullscreen,i=t.data.toolbarButtons.fullscreen,c=i.enter,l=i.exit,f=h(Object(s.useState)(!1),2),m=f[0],v=f[1];n.get=function(){return m},n.set=v;var g=m?l:c;return u.a.createElement(d,p({onClick:m?o:a},g))}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.fsLightbox,n=t.componentsServices,r=t.core.slideshowManager,o=t.data.toolbarButtons.slideshow,a=o.start,i=o.pause,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),l=c[0],f=c[1];n.startSlideshow=function(){return f(!0)},n.stopSlideshow=function(){return f(!1)};var p=l?i:a;return u.a.createElement(d,g({onClick:r.toggleSlideshow},p))}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e){var t=e.fsLightbox,n=t.core,r=n.clickZoomer,o=r.zoomIn,a=r.zoomOut,i=n.lightboxCloser.close,s=t.data.toolbarButtons,c=t.props,l=c.customToolbarButtons,f=c.disableThumbs,p=[];if(f||p.push(u.a.createElement(d,D({onClick:t.core.thumbsToggler.toggleThumbs},s.thumbs,{key:s.thumbs.title}))),l)for(var h=function(e){var n=l[e];p.unshift(u.a.createElement(d,{onClick:function(){return n.onClick(t)},viewBox:n.viewBox,width:n.width,height:n.height,d:n.d,title:n.title,key:n.title}))},m=0;m<l.length;m++)h(m);return u.a.createElement("div",{className:"fslightbox-toolbar"},p,u.a.createElement(d,D({onClick:o},s.zoomIn)),u.a.createElement(d,D({onClick:a},s.zoomOut)),u.a.createElement(y,{fsLightbox:t}),u.a.createElement(v,{fsLightbox:t}),u.a.createElement(d,D({onClick:i},s.close)))};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.fsLightbox,n=t.componentsServices,r=t.props.sources,a=t.stageIndexes,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(a.current+1),2),c=i[0],l=i[1];n.setSlideNumber=function(e){l(e)};var f=u.a.createRef(),d=u.a.createRef();return Object(s.useEffect)((function(){d.current.offsetWidth>55&&(f.current.style.justifyContent="flex-start")}),[]),u.a.createElement("div",{ref:f,className:o+"slide-number-container"},u.a.createElement("div",{ref:d,className:"fslightbox-flex-centered"},u.a.createElement("span",null,c),u.a.createElement("span",{className:o+"slash"}),u.a.createElement("span",null,r.length)))},x=function(e){var t=e.fsLightbox;return u.a.createElement("div",{ref:t.elements.nav,className:o+"nav fslightbox-absoluted"},u.a.createElement(w,{fsLightbox:t}),t.props.sources.length>1&&u.a.createElement(E,{fsLightbox:t}))},k=function(e){var t=e.additionalClassName,n=(e.testId,o+"loader");return t&&(n+=" "+t),u.a.createElement("div",{className:n},u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null))};function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.fsLightbox,n=t.componentsServices.updateSourceDirectWrapperCollection,r=t.core.stageManager.isSourceInStage,o=t.elements,a=o.sourceComponents,i=o.sourceAnimationWrappers,c=t.props.loadOnlyCurrentSource,l=t.stageIndexes.current,f=e.i,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),p=d[0],h=d[1];return n[f]=function(){h(!p)},u.a.createElement("div",{ref:i[f]},f===l||!c&&r(f)?a[f]:null)},F=function(e){var t=e.fsLightbox,n=e.i;return u.a.createElement("div",{ref:t.elements.sourceEnhancementWrappers[n]},u.a.createElement(S,{fsLightbox:t,i:n}))};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){var t=e.fsLightbox,n=e.i,r=t.componentsServices.hideSourceLoaderCollection,o=t.elements.sourceMainWrappers,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),i=a[0],c=a[1];return r[n]=function(){return c(!0)},u.a.createElement("div",{ref:o[n],className:"fslightbox-absoluted fslightbox-full-dimension fslightbox-flex-centered"},!i&&u.a.createElement(k,null),u.a.createElement(F,{fsLightbox:t,i:n}))};function T(e,t){var n=e.sourcePointerProps;n.pointers[t.pointerId]={screenX:t.screenX,screenY:t.screenY};var r=Object.keys(n.pointers).length;return n.pointersCount=r,r<=2}function P(e){for(var t=e.fsLightbox,n=t.core.sourcesPointerDown.listener,r=t.elements.sourceWrappersContainer,o=t.middleware,a=t.props.sources,i=[],s=0;s<a.length;s++)i.push(u.a.createElement(A,{fsLightbox:t,i:s,key:s}));return u.a.createElement("div",{className:"fslightbox-source-wrappers-container fslightbox-absoluted fslightbox-full-dimension",ref:r,onPointerDown:o(n,T)},i)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.fsLightbox.componentsServices,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),r=n[0],a=n[1];return t.showSlideSwipingHovererIfNotYet=function(){r||a(!0)},t.hideSlideSwipingHoverer=function(){a(!1)},r&&u.a.createElement("div",{className:o+"slide-swiping-hoverer fslightbox-full-dimension fslightbox-absoluted"})};function B(e){var t=e.core.lightboxOpener,n=e.data,r=e.props.openOnMount;document.getElementsByClassName("fslightbox-styles").length||a(),n.scrollbarWidth=function(e){var t=e.props.disableLocalStorage;if(!t){var n=localStorage.getItem("fslightbox-scrollbar-width");if(n)return n}var r=function(){var e=document.createElement("div"),t=e.style;return t.visibility="hidden",t.width="100px",t.msOverflowStyle="scrollbar",t.overflow="scroll",e}(),o=function(){var e=document.createElement("div");return e.style.width="100%",e}();document.body.appendChild(r);var a=r.offsetWidth;r.appendChild(o);var i=o.offsetWidth;document.body.removeChild(r);var s=a-i;return t||localStorage.setItem("fslightbox-scrollbar-width",s.toString()),s}(e),r&&t.initializeAndOpen()}var N=function(e){var t=e.fsLightbox.elements.slideshowBar;return u.a.createElement("div",{className:o+"slideshow-bar fslightbox-absoluted",ref:t})};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.fsLightbox,n=t.componentsServices,r=t.core.thumbsSwipingDown.listener,o=t.elements,a=o.thumbsComponents,i=o.thumbsInner,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),l=c[0],f=c[1];return n.updateThumbsInner=function(){f(!l)},u.a.createElement("div",{className:"fslightbox-thumbs-inner",ref:i,onPointerDown:r},a)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=e.fsLightbox.componentsServices,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),r=n[0],o=n[1];return t.showThumbsCursorerIfNotYet=function(){r||o(!0)},t.hideThumbsCursorerIfShown=function(){r&&o(!1)},r?u.a.createElement("div",{className:"fslightbox-thumbs-cursorer fslightbox-full-dimension fslightbox-absoluted"}):null};function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=e.fsLightbox,n=t.componentsServices,r=t.data.isThumbing,o=t.elements.thumbsContainer,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!0),2),i=a[0],c=a[1];n.hideThumbsLoader=function(){return c(!1)};var l="fslightbox-thumbs";return r&&(l+=" fslightbox-thumbs-active"),u.a.createElement("div",{className:l,ref:o},u.a.createElement(z,{fsLightbox:t}),u.a.createElement(I,{fsLightbox:t}),i&&u.a.createElement(k,{testId:"thumbs-loader",additionalClassName:"fslightbox-thumbs-loader",key:"loader"}))}var V=function(e){var t=e.fsLightbox,n=e.index,r=e.children,o=t.data.isThumbing,a=t.elements.captions,i="fslightbox-caption";return n!==t.stageIndexes.current||o||(i+=" fslightbox-caption-active"),u.a.createElement("div",{ref:a[n],className:i+" fslightbox-flex-centered"},u.a.createElement("div",{className:"fslightbox-caption-inner"},r))},H=function(e){var t=e.fsLightbox,n=t.props.captions;return n?n.map((function(e,n){return e&&u.a.createElement(V,{fsLightbox:t,index:n,key:n},e)})):null};function $(e){var t=e.componentsServices.isLightboxOpenManager,n=e.core,r=n.lightboxCloser,o=n.lightboxOpener,a=n.slideIndexChanger,i=e.data,s=e.stageIndexes;this.runTogglerUpdateActions=function(){t.get()?r.close():i.isInitialized?o.open():o.initializeAndOpen()},this.runCurrentStageIndexUpdateActionsFor=function(e){e!==s.current&&(t.get()?a.jumpTo(e):s.current=e)}}function W(e){var t=e.core.lightboxUpdater,n=(0,e.resolve)($);t.handleUpdate=function(t){var r=e.props;"number"==typeof r.sourceIndex?n.runCurrentStageIndexUpdateActionsFor(r.sourceIndex):"string"==typeof r.source?n.runCurrentStageIndexUpdateActionsFor(r.sources.indexOf(r.source)):"number"==typeof r.slide&&n.runCurrentStageIndexUpdateActionsFor(r.slide-1),t.toggler!==r.toggler&&n.runTogglerUpdateActions()}}function K(e){var t,n=e.props,r=0,o={};this.getSourceTypeFromLocalStorageByUrl=function(e){return t[e]?t[e]:a(e)},this.handleReceivedSourceTypeForUrl=function(e,n){!1===o[n]&&(r--,"invalid"!==e?o[n]=e:delete o[n],0===r&&(function(e,t){for(var n in t)e[n]=t[n]}(t,o),localStorage.setItem("fslightbox-types",JSON.stringify(t))))};var a=function(e){r++,o[e]=!1};n.disableLocalStorage?(this.getSourceTypeFromLocalStorageByUrl=function(){},this.handleReceivedSourceTypeForUrl=function(){}):(t=JSON.parse(localStorage.getItem("fslightbox-types")))||(t={},this.getSourceTypeFromLocalStorageByUrl=a)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,o=t.props,a=o.customAttributes,i=o.sources,s=e.i;return u.a.createElement("img",G({onLoad:n[s].handleImageLoad,ref:r[s],className:"fslightbox-source",src:i[s]},a&&a[s]?a[s]:{}))};function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var X=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,a=t.props,i=a.customAttributes,s=a.sources,c=t.timeout,l=e.i;return c(n[l].handleNotMetaDatedVideoLoad,3e3),u.a.createElement("video",Z({onLoadedMetadata:n[l].handleVideoLoad,className:"fslightbox-source "+o+"video",controls:!0,ref:r[l]},i&&i[l]?i[l]:{}),u.a.createElement("source",{src:s[l]}))};function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=function(e){var t,n=e.fsLightbox,r=n.props,a=r.customAttributes,i=r.sources,c=n.elements.sources,l=n.collections.sourceLoadHandlers,f=e.i;return Object(s.useEffect)(l[f].handleYoutubeLoad),u.a.createElement("iframe",J({ref:c[f],className:"fslightbox-source "+o+"youtube-iframe",src:"https://www.youtube.com/embed/"+(t=i[f],t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2]+"?enablejsapi=1"),allowFullScreen:!0},a&&a[f]?a[f]:{}))},ee=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,o=t.props.sources,a=e.i;Object(s.useEffect)(n[a].handleCustomLoad);var i=o[a].props.className;return u.a.cloneElement(o[a],{ref:r[a],className:i?i+" fslightbox-source":"fslightbox-source"})},te=function(e){var t=e.fsLightbox,n=t.componentsServices.hideSourceLoaderCollection,r=t.elements.sourceAnimationWrappers,a=t.props.initialAnimation,i=e.i;return Object(s.useEffect)((function(){n[i](),r[i].current.classList.add(a)})),u.a.createElement("div",{className:o+"invalid-file-wrapper fslightbox-flex-centered"},"Invalid source")},ne=function(e){var t=e.fsLightbox,n=t.core.thumbLoadHandler,r=t.elements,o=r.thumbs,a=r.thumbsWrappers,i=t.props.thumbsIcons,s=t.stageIndexes.current,c=e.src,l=e.i,f="fslightbox-thumb";s===l&&(f+=" fslightbox-thumb-active");var d=i&&i[l];return u.a.createElement("div",{ref:a[l],className:"fslightbox-thumb-wrapper"},d,d&&u.a.createElement("div",{className:"fslightbox-thumb-wrapper-darkener"}),u.a.createElement("img",{ref:o[l],className:f,src:c,alt:c,onLoad:n.handleLoad}))},re=function(e){var t=e.fsLightbox,n=t.core.thumbLoadHandler,r=t.elements,o=r.thumbs,a=r.thumbsWrappers,i=t.stageIndexes.current,c=e.i;Object(s.useEffect)(n.handleLoad);var l="fslightbox-thumb fslightbox-flex-centered";return c===i&&(l+=" fslightbox-thumb-active"),u.a.createElement("div",{ref:a[c],className:"fslightbox-thumb-invalid fslightbox-thumb-wrapper"},u.a.createElement("div",{ref:o[c],className:l},u.a.createElement(f,{viewBox:"0 0 30 30",height:"22px",width:"22px",d:"M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16.212,8l-0.2,9h-2.024l-0.2-9 H16.212z M15.003,22.189c-0.828,0-1.323-0.441-1.323-1.182c0-0.755,0.494-1.196,1.323-1.196c0.822,0,1.316,0.441,1.316,1.196 C16.319,21.748,15.825,22.189,15.003,22.189z"})))};function oe(e){var t=e.componentsServices,n=e.core.thumbsRenderDispatcher,r=e.data,o=e.elements.thumbsComponents,a=e.props,i=a.showThumbsOnMount,s=a.sources,c=a.thumbs;this.buildComponentForTypeAndIndex=function(a,f){c&&c[f]?o[f]=l(c,f):o[f]="image"===a?l(s,f):u.a.createElement(re,{fsLightbox:e,i:f,key:f}),n.countBuiltThumb(),t.isLightboxOpenManager.get()&&(i||r.isThumbing)&&n.renderThumbsIfNotYetAndAllBuilt()};var l=function(t,n){return u.a.createElement(ne,{fsLightbox:e,src:t[n],i:n,key:n})}}function ae(e){var t,n=e.componentsServices,r=n.isLightboxOpenManager,o=n.updateSourceDirectWrapperCollection,a=e.elements.sourceComponents,i=e.props.disableThumbs,s=e.resolve;i||(t=s(oe)),this.runActionsForSourceTypeAndIndex=function(n,s){var c;switch(n){case"image":c=Y;break;case"video":c=X;break;case"youtube":c=Q;break;case"custom":c=ee;break;default:c=te}a[s]=u.a.createElement(c,{fsLightbox:e,i:s}),i||t.buildComponentForTypeAndIndex(n,s),r.get()&&o[s]()}}function ie(){var e,t,n,r=function(e){var t=document.createElement("a");return t.href=e,"www.youtube.com"===t.hostname},o=function(e){return e.slice(0,e.indexOf("/"))};function a(){if(4!==n.readyState){if(2===n.readyState){var e;switch(o(n.getResponseHeader("content-type"))){case"image":e="image";break;case"video":e="video";break;default:e="invalid"}n.onreadystatechange=null,n.abort(),t(e)}}else t("invalid")}this.setUrlToCheck=function(t){e=t},this.getSourceType=function(o){if(r(e))return o("youtube");t=o,(n=new XMLHttpRequest).onreadystatechange=a,n.open("GET",e,!0),n.send()}}function se(e,t,n){var r=e.props,o=r.types,a=r.type,i=r.sources,s=e.resolve;this.getTypeSetByClientForIndex=function(e){var t;return o&&o[e]?t=o[e]:a&&(t=a),t},this.retrieveTypeWithXhrForIndex=function(e){var r=s(ie);r.setUrlToCheck(i[e]),r.getSourceType((function(r){t.handleReceivedSourceTypeForUrl(r,i[e]),n.runActionsForSourceTypeAndIndex(r,e)}))}}function ue(e){var t=Object.keys(e.pointers),n=e.pointers[t[0]],r=e.pointers[t[1]];return Math.hypot(n.screenX-r.screenX,n.screenY-r.screenY)}function ce(e,t){var n=e.current.classList;n.contains(t)||n.add(t)}function le(e){var t=e.core.zoomer,n=e.data,r=e.elements,o=e.sourcePointerProps;this.runPinchActions=function(){o.isPinching=!0,o.pinchedHypot=ue(o),ce(r.sourceWrappersContainer,"fslightbox-source-wrappers-container-pinching"),1===n.zoom&&t.startZooming()}}function fe(e,t){var n=e.current.classList;n.contains(t)&&n.remove(t)}function de(e){var t=e.elements.captions;this.runSlideChangeActions=function(e,t){n(e,"remove"),n(t,"add")};var n=function(e,n){t[e].current&&t[e].current.classList[n]("fslightbox-caption-active")}}function pe(e){var t=e.core,n=t.clickZoomer,r=t.lightboxCloser,o=t.fullscreenToggler,a=t.slideChangeFacade,i=t.slideshowManager,s=t.thumbsToggler,u=e.props.disableThumbs;this.listener=function(e){if("Space"!==e.code)switch(e.key){case"Escape":r.close();break;case"ArrowLeft":a.changeToPrevious();break;case"ArrowRight":a.changeToNext();break;case"t":u||s.toggleThumbs();break;case"+":n.zoomIn();break;case"-":n.zoomOut();break;case"F11":e.preventDefault(),o.enterFullscreen()}else i.toggleSlideshow()}}function he(e){var t=e.componentsServices,n=e.core.pointeringBucket,r=e.data,o=e.elements.thumbsInner,a=e.thumbsSwipingProps;this.runActions=function(e){n.runSwipingMoveActionsForPropsAndEvent(a,e),o.current.style.transform="translateX("+(r.thumbsTransform+a.swipedX)+"px)",t.showThumbsCursorerIfNotYet()}}function me(e){var t=e.data,n=e.resolve,r=e.thumbsSwipingProps,o=n(he);this.listener=function(e){t.thumbsInnerWidth>innerWidth&&r.isPointering&&o.runActions(e)}}function ve(e){var t=e.componentsServices,n=e.data,r=e.core,o=r.slideIndexChanger,a=r.thumbsTransformTransitioner,i=r.pointeringBucket,s=e.elements,u=s.thumbsWrappers,c=s.thumbsInner,l=e.thumbsSwipingProps;function f(e){n.thumbsTransform=e,a.callActionWithTransition((function(){c.current.style.transform="translateX("+e+"px)"}))}this.runNoSwipeActionsForEvent=function(e){t.hideThumbsCursorerIfShown(),l.isPointering=!1;for(var n=0;n<u.length;n++)if(u[n].current&&u[n].current.contains(e.target))return void o.jumpTo(n)},this.runActions=function(){if(t.hideThumbsCursorerIfShown(),n.thumbsTransform+=l.swipedX,i.runSwipingTopActionsForPropsAndEvent(l),n.thumbsTransform>0)return f(0);n.thumbsTransform<innerWidth-n.thumbsInnerWidth-9&&f(innerWidth-n.thumbsInnerWidth-9)}}function ge(e){var t=e.resolve,n=e.thumbsSwipingProps,r=t(ve);this.listener=function(e){n.isPointering&&(n.swipedX?r.runActions():r.runNoSwipeActionsForEvent(e))}}function be(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core.zoomer,r=e.data,o=e.sourcePointerProps;this.runZoomingPinchActionsForHypot=function(e){var t=e-o.pinchedHypot,a=r.zoom+t/Math.hypot(innerWidth,innerHeight)*10;a<.9&&(a=.9),n.zoomTo(a),o.pinchedHypot=e},this.translateSourceMainWrapperAtIndexUsingMethod=function(e,n){t[e].translate(o.swipedX)[n]()}}function ye(e){var t=e.collections.sourceMainWrapperTransformers,n=e.componentsServices,r=e.core.pointeringBucket,o=e.data,a=e.resolve,i=e.sourcePointerProps,s=e.stageIndexes,u=a(be);this.runActions=function(e){r.runSwipingMoveActionsForPropsAndEvent(i,e),n.showSlideSwipingHovererIfNotYet()},this.runPinchActions=function(){var e=ue(i);i.pinchedHypot?u.runZoomingPinchActionsForHypot(e):i.pinchedHypot=e},this.runNormalSwipeActions=function(){u.translateSourceMainWrapperAtIndexUsingMethod(s.current,"zero"),void 0!==s.previous&&i.swipedX>0?u.translateSourceMainWrapperAtIndexUsingMethod(s.previous,"negative"):void 0!==s.next&&i.swipedX<0&&u.translateSourceMainWrapperAtIndexUsingMethod(s.next,"positive")},this.runZoomSwipeActions=function(e){i.swipedX=(e.screenX-i.downScreenX)/o.zoom,i.swipedY=(e.screenY-i.downScreenY)/o.zoom,t[s.current].translate(i.upSwipedX+i.swipedX,i.upSwipedY+i.swipedY).zero()}}function De(e){var t=e.data,n=e.props.sources,r=e.resolve,o=e.sourcePointerProps,a=r(ye);this.listener=function(e){if(o.isPinching)return a.runActions(e),void a.runPinchActions();2!==o.pointersCount&&(a.runActions(e),1===t.zoom?1===n.length?o.swipedX=1:a.runNormalSwipeActions():a.runZoomSwipeActions(e))}}function we(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.slideIndexChanger,o=n.clickZoomer,a=e.data,i=e.elements.sourceMainWrappers,s=e.sourcePointerProps,u=e.stageIndexes;this.runPositiveSwipedXActions=function(){void 0===u.previous||(c("positive"),r.changeTo(u.previous)),c("zero")},this.runNegativeSwipedXActions=function(){void 0===u.next||(c("negative"),r.changeTo(u.next)),c("zero")},this.saveCurrentSourceMainWrapperPosition=function(){s.upSwipedX=t[u.current].getTranslateX(),s.upSwipedY=t[u.current].getTranslateY()},this.runSourceDownEventTargetActions=function(){a.zoom<=1?o.zoomIn():o.zoomOut()};var c=function(e){i[u.current].current.classList.add("fslightbox-transform-transition"),t[u.current][e]()}}function _e(e){var t=e.componentsServices,n=e.core,r=n.lightboxCloser,o=n.pointeringBucket,a=e.data,i=e.elements.sourceWrappersContainer,s=e.resolve,u=e.sourcePointerProps,c=s(we);this.runActions=function(){t.hideSlideSwipingHoverer(),u.isPinching=!1,u.pinchedHypot=0,o.runSwipingTopActionsForPropsAndEvent(u),fe(i,"fslightbox-source-wrappers-container-pinching")},this.runSwipeActions=function(){1===a.zoom?u.swipedX>0?c.runPositiveSwipedXActions():c.runNegativeSwipedXActions():c.saveCurrentSourceMainWrapperPosition()},this.runNoSwipeActions=function(){u.isSourceDownEventTarget?c.runSourceDownEventTargetActions():r.close()}}function Ee(e){var t=e.data,n=e.resolve,r=e.sourcePointerProps,o=e.core.zoomer,a=n(_e);this.listener=function(e){r.pointers={},r.isPointering&&(r.isPinching||(r.swipedX?a.runSwipeActions():a.runNoSwipeActions()),a.runActions(e),t.zoom<1&&(o.zoomTo(1),o.endZooming()))}}function xe(e){return e.sourcePointerProps.isPointering}function ke(e){var t=e.core.inactiver,n=e.middleware,r=e.props,o=e.resolve,a=o(De),i=o(Ee),s=o(me),u=o(ge);this.moveListener=function(e){t.listener(e),n(n(a.listener,T),xe)(e),r.disableThumbs||s.listener(e)},this.upListener=function(e){i.listener(e),r.disableThumbs||u.listener(e)}}function Ce(e){var t=e.core.zoomer,n=e.data;this.listener=function(e){if(1===n.zoom){if(e.deltaY>0)return;t.startZooming()}var r=.1*n.zoom,o=n.zoom;e.deltaY<0?o+=r:(o-=r)<1&&(o=1),t.zoomTo(o),1===o&&t.endZooming()}}function Se(e){return!e.sourcePointerProps.isPointering}function Fe(e){var t=e.data,n=e.elements,r=n.captions,o=n.slideButtonPrevious,a=n.slideButtonNext,i=n.thumbsContainer,s=e.stageIndexes;this.runOpacity0ActionUsingMethod=function(e){o.current&&(o.current.classList[e]("fslightbox-opacity-0"),a.current.classList[e]("fslightbox-opacity-0"))},this.runActiveEnhancementActionUsingMethod=function(e){t.isThumbing?i.current.classList[e]("fslightbox-thumbs-active"):r[s.current].current&&r[s.current].current.classList[e]("fslightbox-caption-active")}}function Oe(e){var t,n,r,o=e.data,a=e.elements,i=a.sourceEnhancementWrappers,s=a.sources,u=a.thumbsContainer,c=o.captionHeights,l=o.notThumbedSourceEnhancementWrapperScales,f=o.notThumbedSourceEnhancementWrapperTranslatesY;this.setUpThumbedEnhancementWrapperTransform=function(){t=u.current.offsetHeight,n=o.thumbedSourceEnhancementWrapperTranslateY,r="translateY("+n+"px) scale("+o.thumbedSourceEnhancementWrapperScale+")"},this.setUpNotThumbedEnhancementWrapperTransformAtIndex=function(e){t=c[e],n=f[e],r="translateY("+n+"px) scale("+l[e]+")"},this.ifSourceIsLoadedTransformEnhancementWrapperAtIndex=function(e){s[e].current&&(innerWidth<innerHeight&&s[e].current.offsetWidth>s[e].current.offsetHeight+t?i[e].current.style.transform="translateY("+n/2+"px) scale(1)":i[e].current.style.transform=r)}}function Ae(e){var t,n,r;n=(t=e).core.classFacade,r=t.elements,n.removeFromEachElementClassIfContains=function(e,t){for(var n=0;n<100;n++)for(var o=0;o<r[e].length;o++)fe(r[e][o],t)},function(e){var t=e.core,n=t.clickZoomer,r=t.zoomer,o=e.data,a=e.elements.sourceWrappersContainer,i=e.getQueuedAction,s=e.props.zoomIncrement,u=i((function(){fe(a,"fslightbox-transform-transition")}),300);function c(){1===o.zoom&&r.startZooming()}function l(e){ce(a,"fslightbox-transform-transition"),r.zoomTo(e),u()}n.zoomIn=function(){c(),l(o.zoom+s)},n.zoomOut=function(){o.zoom-s<=1?1!==o.zoom&&(l(1),r.endZooming()):(c(),l(o.zoom-s),1===o.zoom&&r.endZooming())}}(e),function(e){var t=e.core.eventsDispatcher,n=e.props;t.dispatch=function(t){n[t]&&n[t](e)}}(e),function(e){var t=e.componentsServices.toolbarButtons.fullscreen,n=e.core.fullscreenToggler;n.enterFullscreen=function(){t.set(!0);var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},n.exitFullscreen=function(){t.set(!1),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}(e),function(e){var t,n=e.core,r=n.inactiver,o=n.globalEventsController,a=n.windowResizeActioner,i=e.middleware,s=e.resolve,u=s(ke),c=s(pe),l=s(Ce);o.addListeners=function(){document.addEventListener("pointerdown",r.listener),document.addEventListener("pointermove",u.moveListener),document.addEventListener("pointerup",u.upListener),addEventListener("resize",a.runActions),document.addEventListener("keydown",c.listener);var e,n=(e=!1,function(){return!e&&(e=!0,requestAnimationFrame((function(){e=!1})),!0)});t=i(t=function(e){return n()&&l.listener(e)},Se),document.addEventListener("wheel",t)},o.removeListeners=function(){document.removeEventListener("pointerdown",r.listener),document.removeEventListener("pointermove",u.moveListener),document.removeEventListener("pointerup",u.upListener),removeEventListener("resize",a.runActions),document.removeEventListener("keydown",c.listener),document.removeEventListener("wheel",t)}}(e),function(e){var t=e.core.inactiver,n=e.data,r=e.elements,o=r.nav,a=r.slideButtonPrevious,i=r.slideButtonNext,s=r.thumbsContainer,u=e.getQueuedAction,c=e.props.UIFadeOutTime,l=!1,f=u((function(){l=!0,d(p)}),c);f(),t.listener=function(){f(),l&&(d(h),l=!1)};var d=function(e){try{e(o),1===n.zoom&&a.current&&(e(a),e(i)),n.isThumbing&&e(s)}catch(e){}},p=function(e){e.current.classList.add("fslightbox-opacity-0")},h=function(e){e.current.classList.remove("fslightbox-opacity-0")}}(e),function(e){var t=e.core,n=t.lightboxCloser,r=t.lightboxCloseActioner;n.close=function(){r.isLightboxFadingOut||r.runActions()}}(e),function(e){var t=e.componentsServices,n=t.isLightboxOpenManager,r=t.toolbarButtons.fullscreen,o=e.core,a=o.eventsDispatcher,i=o.globalEventsController,s=o.fullscreenToggler,u=o.lightboxCloseActioner,c=o.scrollbarRecompensor,l=o.slideshowManager,f=o.zoomer,d=e.elements.container,p=e.props,h=e.sourcePointerProps,m=e.timeout,v=e.thumbsSwipingProps;u.isLightboxFadingOut=!1,u.runActions=function(){u.isLightboxFadingOut=!0,d.current.classList.add("fslightbox-fade-out-strong"),i.removeListeners(),l.resetSlideshow(),p.exitFullscreenOnClose&&r.get()&&s.exitFullscreen(),f.ifZoomingResetZoom(),m((function(){u.isLightboxFadingOut=!1,h.isPointering=!1,v&&(v.isPointering=!1),d.current.classList.remove("fslightbox-fade-out-strong"),document.documentElement.classList.remove("fslightbox-open"),c.removeRecompense(),n.set(!1),a.dispatch("onClose")}),270)}}(e),Ue(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.eventsDispatcher,o=n.lightboxOpenActioner,a=n.globalEventsController,i=n.scrollbarRecompensor,s=n.sourceDisplayFacade,u=n.stageManager,c=n.windowResizeActioner,l=e.data,f=e.props.sources,d=e.stageIndexes;o.runInitializedLightboxActions=function(){l.unloadedThumbsCount=f.length,u.updateStageIndexes(),s.displaySourcesWhichShouldBeDisplayed(),document.documentElement.classList.add("fslightbox-open"),i.addRecompense(),a.addListeners(),c.runActions(),t[d.current].zero(),r.dispatch("onOpen")}}(e),W(e),function(e){var t=e.data,n=e.core.scrollbarRecompensor;n.addRecompense=function(){"complete"===document.readyState?r():window.addEventListener("load",(function(){r(),n.addRecompense=r}))};var r=function(){document.body.offsetHeight>window.innerHeight&&(document.body.style.marginRight=t.scrollbarWidth+"px")};n.removeRecompense=function(){document.body.style.removeProperty("margin-right")}}(e),function(e){var t,n=e.core,r=n.slideshowManager,o=n.slideChangeFacade,a=e.componentsServices,i=e.elements.slideshowBar,s=e.props,u=!1;function c(){u=!1,clearTimeout(t),i.current.classList.remove("fslightbox-opacity-1"),a.stopSlideshow()}r.toggleSlideshow=function(){u?c():(u=!0,a.startSlideshow(),i.current.classList.add("fslightbox-opacity-1"),function e(){i.current.style.transition="opacity .2s",i.current.style.width="0px",i.current.offsetWidth,i.current.style.transition="opacity .2s, width linear "+s.slideshowTime+"ms",i.current.style.width=innerWidth+"px",t=setTimeout((function(){o.changeToNext(),e()}),s.slideshowTime)}())},r.resetSlideshow=function(){u&&c()}}(e),function(e){var t=e.core,n=t.slideChangeFacade,r=t.slideIndexChanger,o=t.stageManager;e.props.sources.length>1?(n.changeToPrevious=function(){r.jumpTo(o.getPreviousSlideIndex())},n.changeToNext=function(){r.jumpTo(o.getNextSlideIndex())}):(n.changeToPrevious=function(){},n.changeToNext=function(){})}(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.componentsServices,r=e.core,o=r.classFacade,a=r.eventsDispatcher,i=r.slideIndexChanger,s=r.sourceDisplayFacade,u=r.stageManager,c=r.thumbsTransformer,l=r.zoomer,f=e.data,d=e.elements,p=d.sourceAnimationWrappers,h=d.sources,m=d.thumbs,v=e.getQueuedAction,g=e.props,b=g.disableThumbs,y=g.initialAnimation,D=g.slideChangeAnimation,w=e.resolve,_=e.stageIndexes,E=e.timeout,x=w(de),k=v((function(){o.removeFromEachElementClassIfContains("sourceAnimationWrappers","fslightbox-fade-out")}),300);i.changeTo=function(e){b||(m[_.current].current&&m[_.current].current.classList.remove("fslightbox-thumb-active"),m[e].current&&m[e].current.classList.add("fslightbox-thumb-active")),l.ifZoomingResetZoom(),f.isThumbing||x.runSlideChangeActions(_.current,e),_.current=e,u.updateStageIndexes(),!b&&m[_.current].current&&c.transformToCurrentWithTransition(),n.setSlideNumber(e+1),s.displaySourcesWhichShouldBeDisplayed(),a.dispatch("onSlideChange")},i.jumpTo=function(e){var n=_.current;o.removeFromEachElementClassIfContains("sourceMainWrappers","fslightbox-transform-transition"),fe(p[n],y),fe(p[n],D),p[n].current.classList.add("fslightbox-fade-out"),fe(p[e],y),fe(p[e],"fslightbox-fade-out"),h[e].current&&p[e].current.classList.add(D),i.changeTo(e),k(),t[e].zero(),E((function(){n!==_.current&&t[n].negative()}),270)}}(e),function(e){var t=e.core.sourceEnhancementWrappersTransformer,n=e.data,r=(0,e.resolve)(Oe);t.ifSourceIsLoadedTransformEnhancementWrapperAtIndex=function(e){n.isThumbing?r.setUpThumbedEnhancementWrapperTransform():r.setUpNotThumbedEnhancementWrapperTransformAtIndex(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)},t.ifSourceIsLoadedTransformThumbedEnhancementWrapperAtIndex=function(e){r.setUpThumbedEnhancementWrapperTransform(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)},t.ifSourceIsLoadedTransformNotThumbedEnhancementWrapperAtIndex=function(e){r.setUpNotThumbedEnhancementWrapperTransformAtIndex(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)}}(e),function(e){var t=e.core.sourceDisplayFacade,n=e.componentsServices.updateSourceDirectWrapperCollection,r=e.stageIndexes,o=e.props.loadOnlyCurrentSource;t.displaySourcesWhichShouldBeDisplayed=function(){if(o)n[r.current]();else for(var e in r)void 0!==r[e]&&n[r[e]]()}}(e),function(e){var t=e.core,n=t.classFacade,r=t.sourcesPointerDown,o=t.pointeringBucket,a=e.elements.sources,i=e.resolve,s=e.sourcePointerProps,u=e.stageIndexes,c=i(le);r.listener=function(e){"touch"!==e.pointerType&&"VIDEO"!==e.target.tagName&&e.preventDefault(),o.runSwipingDownActionsForPropsAndEvent(s,e),s.downScreenY=e.screenY,2===s.pointersCount?c.runPinchActions():n.removeFromEachElementClassIfContains("sourceMainWrappers","fslightbox-transform-transition");var t=a[u.current].current;t&&t.contains(e.target)?s.isSourceDownEventTarget=!0:s.isSourceDownEventTarget=!1}}(e),function(e){var t=e.stageIndexes,n=e.core.stageManager,r=e.props.sources.length-1;n.getPreviousSlideIndex=function(){return 0===t.current?r:t.current-1},n.getNextSlideIndex=function(){return t.current===r?0:t.current+1},n.updateStageIndexes=0===r?function(){}:1===r?function(){0===t.current?(t.next=1,delete t.previous):(t.previous=0,delete t.next)}:function(){t.previous=n.getPreviousSlideIndex(),t.next=n.getNextSlideIndex()},n.isSourceInStage=r<=2?function(){return!0}:function(e){var n=t.current;if(0===n&&e===r||n===r&&0===e)return!0;var o=n-e;return-1===o||0===o||1===o}}(e),function(e){var t=e.core.pointeringBucket,n=e.elements.container;t.runSwipingDownActionsForPropsAndEvent=function(e,t){e.isPointering=!0,e.downScreenX=t.screenX,e.swipedX=0},t.runSwipingMoveActionsForPropsAndEvent=function(e,t){ce(n,"fslightbox-cursor-grabbing"),e.swipedX=t.screenX-e.downScreenX},t.runSwipingTopActionsForPropsAndEvent=function(e){fe(n,"fslightbox-cursor-grabbing"),e.isPointering=!1}}(e),function(e){var t=e.collections,n=t.sourceMainWrapperTransformers,r=t.sourceSizers,o=e.core,a=o.sourceEnhancementWrappersTransformer,i=o.windowResizeActioner,s=o.thumbsTransformer,u=e.data,c=e.elements,l=c.captions,f=c.sourceMainWrappers,d=c.sources,p=c.thumbs,h=c.thumbsContainer,m=e.props.disableThumbs,v=e.stageIndexes,g=u.captionHeights,b=u.notThumbedSourceEnhancementWrapperScales,y=u.notThumbedSourceEnhancementWrapperTranslatesY;i.runActions=function(){innerWidth<992?u.maxSourceWidth=innerWidth:u.maxSourceWidth=.9*innerWidth,u.maxSourceHeight=.9*innerHeight,m||(u.thumbedSourceEnhancementWrapperScale=1-h.current.offsetHeight/innerHeight,u.thumbedSourceEnhancementWrapperTranslateY=-h.current.offsetHeight/2),0===u.unloadedThumbsCount&&i.runThumbsActions();for(var e=0;e<d.length;e++){if(l[e].current){g[e]=l[e].current.offsetHeight;var t=g[e]-25;b[e]=1-t/innerHeight,y[e]=-t/2}else b[e]=1,y[e]=0;fe(f[e],"fslightbox-transform-transition"),a.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e),e!==v.current&&n[e].negative(),r[e]&&d[e].current&&r[e].adjustSize()}},i.runThumbsActions=function(){u.thumbsInnerWidth=0;for(var e=0;e<d.length;e++)u.thumbsInnerWidth+=p[e].current.offsetWidth+8;s.transformToCurrent()}}(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.eventsDispatcher,o=n.zoomer,a=e.data,i=e.elements,s=i.sourceMainWrappers,u=i.sourceWrappersContainer,c=i.sources,l=e.resolve,f=e.sourcePointerProps,d=e.stageIndexes,p=l(Fe);o.zoomTo=function(e){a.zoom=m(e),u.current.style.transform="scale("+a.zoom+")"},o.ifZoomingResetZoom=function(){1!==a.zoom&&(o.zoomTo(1),o.endZooming())},o.startZooming=function(){h("grab"),p.runOpacity0ActionUsingMethod("add"),p.runActiveEnhancementActionUsingMethod("remove"),r.dispatch("onZoomingStart")},o.endZooming=function(){h("zoom-in"),p.runOpacity0ActionUsingMethod("remove"),p.runActiveEnhancementActionUsingMethod("add"),s[d.current].current.classList.add("fslightbox-transform-transition"),t[d.current].translate(0,0).zero(),f.upSwipedX=0,f.upSwipedY=0,r.dispatch("onZoomingEnd")};var h=function(e){c[d.current].current&&(c[d.current].current.style.cursor=e)},m=function(e){return parseFloat(e.toPrecision(12))}}(e)}function Te(e){for(var t=e.props.sources,n=[],r=0;r<t.length;r++)n.push(u.a.createRef());return n}function Pe(e){var t=e.core,n=t.sourceEnhancementWrappersTransformer,r=t.thumbsRenderDispatcher,o=t.zoomer,a=e.data,i=e.elements,s=i.captions,u=i.thumbsContainer,c=e.props.sources,l=e.stageIndexes;function f(){for(var e=0;e<c.length;e++)n.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)}function d(e){s[l.current].current&&s[l.current].current.classList[e]("fslightbox-caption-active")}this.openThumbs=function(){o.ifZoomingResetZoom(),a.isThumbing=!0,u.current.classList.add("fslightbox-thumbs-active"),f(),d("remove"),r.renderThumbsIfNotYetAndAllBuilt()},this.closeThumbs=function(){o.ifZoomingResetZoom(),a.isThumbing=!1,u.current.classList.remove("fslightbox-thumbs-active"),f(),d("add")}}function je(e){var t=e.data,n=e.elements,r=n.thumbsWrappers,o=n.thumbsContainer,a=n.thumbsInner,i=e.stageIndexes,s=e.timeout;this.runActions=function(){fe(o,"fslightbox-flex-centered");var e=innerWidth/2,n=r[i.current].current,a=n.offsetLeft+n.offsetWidth/2,s=t.thumbsInnerWidth-a;a>e&&s>e?u(e-a):a>e?u(innerWidth-t.thumbsInnerWidth-9):s>e&&u(0)},this.runToThinThumbsActions=function(){s((function(){return ce(o,"fslightbox-flex-centered")})),u(0)};var u=function(e){t.thumbsTransform=e,a.current.style.transform="translateX("+e+"px)"}}function Me(e){var t,n,r,o,a,i=e.componentsServices,s=e.core,c=e.data,l=e.elements,f=e.props;i.updateThumbsInner=null,i.showThumbsCursorerIfNotYet=null,i.hideThumbsCursorerIfShown=null,i.hideThumbsLoader=null,c.isThumbing=f.showThumbsOnMount,c.thumbsInnerWidth=null,c.thumbsTransform=0,c.thumbedSourceEnhancementWrapperScale=null,c.thumbedSourceEnhancementWrapperTranslateY=null,c.unloadedThumbsCount=null,e.thumbsSwipingProps={isPointering:!1,downScreenX:null,swipedX:null},s.thumbLoadHandler={},s.thumbsRenderDispatcher={},s.thumbsSwipingDown={},s.thumbsToggler={},s.thumbsTransformer={},s.thumbsTransformTransitioner={},l.thumbsContainer=u.a.createRef(),l.thumbs=Te(e),l.thumbsWrappers=Te(e),l.thumbsComponents=[],l.thumbsInner=u.a.createRef(),function(e){var t=e.core,n=t.thumbLoadHandler,r=t.windowResizeActioner,o=e.componentsServices,a=e.data,i=e.elements.thumbsWrappers;n.handleLoad=function(){if(a.unloadedThumbsCount--,0===a.unloadedThumbsCount){for(var e=0;e<i.length;e++)i[e].current.classList.add("fslightbox-opacity-1");r.runThumbsActions(),o.hideThumbsLoader()}}}(e),function(e){var t=e.componentsServices,n=e.core.thumbsRenderDispatcher,r=e.props.sources,o=!1,a=0;n.countBuiltThumb=function(){a++},n.renderThumbsIfNotYetAndAllBuilt=function(){o||a!==r.length||(o=!0,t.updateThumbsInner())}}(e),r=(n=(t=e).core).thumbsSwipingDown,o=n.pointeringBucket,a=t.thumbsSwipingProps,r.listener=function(e){e.preventDefault(),o.runSwipingDownActionsForPropsAndEvent(a,e)},function(e){var t=e.core,n=t.thumbsTransformer,r=t.thumbsTransformTransitioner,o=e.data,a=(0,e.resolve)(je);n.transformToCurrent=function(){o.thumbsInnerWidth>innerWidth?a.runActions():a.runToThinThumbsActions()},n.transformToCurrentWithTransition=function(){o.thumbsInnerWidth>innerWidth&&r.callActionWithTransition(a.runActions)}}(e),function(e){var t=e.core.thumbsTransformTransitioner,n=e.elements.thumbsInner,r=(0,e.getQueuedAction)((function(){n.current.classList.remove("fslightbox-transform-transition")}),300);t.callActionWithTransition=function(e){n.current.classList.add("fslightbox-transform-transition"),e(),r()}}(e),function(e){var t=e.core.thumbsToggler,n=e.data,r=(0,e.resolve)(Pe);t.toggleThumbs=function(){n.isThumbing?r.closeThumbs():r.openThumbs()}}(e)}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function Ne(e,t){if("object"===Be(t))for(var n in e)"object"===Be(t[n])?Ne(e[n],t[n]):t[n]&&(e[n]=t[n])}function Re(e,t,n){for(var r=0;r<e.props.sources.length;r++)e.collections[t][r]=e.resolve(n,[r])}function Ie(e,t,n,r){var o=e.data,a=e.elements.sources,i=n/r,s=0;this.adjustSize=function(){if((s=o.maxSourceWidth/i)<o.maxSourceHeight)return n<o.maxSourceWidth&&(s=r),u();s=r>o.maxSourceHeight?o.maxSourceHeight:r,u()};var u=function(){var e=a[t].current.style;e.width=s*i+"px",e.height=s+"px"}}function Le(e,t){var n=this,r=e.collections.sourceSizers,o=e.componentsServices.hideSourceLoaderCollection,a=e.core.sourceEnhancementWrappersTransformer,i=e.elements,s=i.sourceAnimationWrappers,u=i.sourceEnhancementWrappers,c=i.sources,l=e.props.initialAnimation,f=e.resolve;function d(e,n){r[t]=f(Ie,[t,e,n]),r[t].adjustSize()}this.runActions=function(e,r){c[t].current.classList.add("fslightbox-opacity-1"),s[t].current.classList.add(l),o[t](),a.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(t),u[t].current.offsetWidth,u[t].current.classList.add("fslightbox-transform-transition"),d(e,r),n.runActions=d}}function ze(e,t){var n,r=this,o=e.elements.sources,a=e.props,i=e.resolve,s=e.timeout,u=i(Le,[t]);this.handleImageLoad=function(e){var t=e.target,n=t.naturalWidth,r=t.naturalHeight;u.runActions(n,r)},this.handleVideoLoad=function(e){var t=e.target,r=t.videoWidth,o=t.videoHeight;n=!0,u.runActions(r,o)},this.handleNotMetaDatedVideoLoad=function(){n||r.handleYoutubeLoad()},this.handleYoutubeLoad=function(){var e=1920,t=1080;a.maxYoutubeVideoDimensions&&(e=a.maxYoutubeVideoDimensions.width,t=a.maxYoutubeVideoDimensions.height),u.runActions(e,t)},this.handleCustomLoad=function(){s((function(){var e=o[t].current;u.runActions(e.offsetWidth,e.offsetHeight)}))}}function qe(e,t){var n=this,r=e.elements.sourceMainWrappers,o=e.props.slideDistance,a=0,i=0,s=0;this.translate=function(e,t){return i=e,void 0!==t&&(s=t),n},this.getTranslateX=function(){return a},this.getTranslateY=function(){return s},this.negative=function(){u(-(1+o)*innerWidth)},this.zero=function(){u(0)},this.positive=function(){u((1+o)*innerWidth)};var u=function(e){a=e+i,c(),i=0},c=function(){r[t].current.style.transform="translate("+a+"px, "+s+"px)"}}function Ue(e){var t=e.componentsServices.isLightboxOpenManager,n=e.core,r=n.eventsDispatcher,o=n.lightboxOpener,a=n.lightboxOpenActioner,i=e.data,s=e.elements,u=e.props;o.open=function(){r.dispatch("onShow"),Re(e,"sourceLoadHandlers",ze),t.set(!0,a.runInitializedLightboxActions)},o.initializeAndOpen=function(){i.isInitialized=!0,s.captions=Te(e),s.sourceAnimationWrappers=Te(e),s.sourceEnhancementWrappers=Te(e),s.sourceMainWrappers=Te(e),s.sources=Te(e),Re(e,"sourceLoadHandlers",ze),Re(e,"sourceMainWrapperTransformers",qe),Ne(i.slideButtons,u.svg.slideButtons),Ne(i.toolbarButtons,u.svg.toolbarButtons),u.disableThumbs||Me(e),Ae(e),r.dispatch("onInit"),t.set(!0,(function(){a.runInitializedLightboxActions(),function(e){for(var t=e.props.sources,n=e.resolve,r=n(K),o=n(ae),a=n(se,[r,o]),i=0;i<t.length;i++)if("string"==typeof t[i]){var s=a.getTypeSetByClientForIndex(i);if(s)o.runActionsForSourceTypeAndIndex(s,i);else{var u=r.getSourceTypeFromLocalStorageByUrl(t[i]);u?o.runActionsForSourceTypeAndIndex(u,i):a.retrieveTypeWithXhrForIndex(i)}}else o.runActionsForSourceTypeAndIndex("custom",i)}(e)}))}}function Ve(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e={thumbs:{width:"17px",height:"17px",viewBox:"0 0 22 22",d:"M 3 2 C 2.448 2 2 2.448 2 3 L 2 6 C 2 6.552 2.448 7 3 7 L 6 7 C 6.552 7 7 6.552 7 6 L 7 3 C 7 2.448 6.552 2 6 2 L 3 2 z M 10 2 C 9.448 2 9 2.448 9 3 L 9 6 C 9 6.552 9.448 7 10 7 L 13 7 C 13.552 7 14 6.552 14 6 L 14 3 C 14 2.448 13.552 2 13 2 L 10 2 z M 17 2 C 16.448 2 16 2.448 16 3 L 16 6 C 16 6.552 16.448 7 17 7 L 20 7 C 20.552 7 21 6.552 21 6 L 21 3 C 21 2.448 20.552 2 20 2 L 17 2 z M 3 9 C 2.448 9 2 9.448 2 10 L 2 13 C 2 13.552 2.448 14 3 14 L 6 14 C 6.552 14 7 13.552 7 13 L 7 10 C 7 9.448 6.552 9 6 9 L 3 9 z M 10 9 C 9.448 9 9 9.448 9 10 L 9 13 C 9 13.552 9.448 14 10 14 L 13 14 C 13.552 14 14 13.552 14 13 L 14 10 C 14 9.448 13.552 9 13 9 L 10 9 z M 17 9 C 16.448 9 16 9.448 16 10 L 16 13 C 16 13.552 16.448 14 17 14 L 20 14 C 20.552 14 21 13.552 21 13 L 21 10 C 21 9.448 20.552 9 20 9 L 17 9 z M 3 16 C 2.448 16 2 16.448 2 17 L 2 20 C 2 20.552 2.448 21 3 21 L 6 21 C 6.552 21 7 20.552 7 20 L 7 17 C 7 16.448 6.552 16 6 16 L 3 16 z M 10 16 C 9.448 16 9 16.448 9 17 L 9 20 C 9 20.552 9.448 21 10 21 L 13 21 C 13.552 21 14 20.552 14 20 L 14 17 C 14 16.448 13.552 16 13 16 L 10 16 z M 17 16 C 16.448 16 16 16.448 16 17 L 16 20 C 16 20.552 16.448 21 17 21 L 20 21 C 20.552 21 21 20.552 21 20 L 21 17 C 21 16.448 20.552 16 20 16 L 17 16 z",title:"Thumbnails"},zoomIn:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 12.984375 7.9863281 A 1.0001 1.0001 0 0 0 12 9 L 12 12 L 9 12 A 1.0001 1.0001 0 1 0 9 14 L 12 14 L 12 17 A 1.0001 1.0001 0 1 0 14 17 L 14 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 14 12 L 14 9 A 1.0001 1.0001 0 0 0 12.984375 7.9863281 z",title:"Zoom In"},zoomOut:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 9 12 A 1.0001 1.0001 0 1 0 9 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 9 12 z",title:"Zoom Out"},slideshow:{start:{width:"16px",height:"16px",viewBox:"0 0 30 30",d:"M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z",title:"Turn on slideshow"},pause:{width:"14px",height:"14px",viewBox:"0 0 356.19 356.19",d:"M121,0c18,0,33,15,33,33v372c0,18-15,33-33,33s-32-15-32-33V33C89,15,103,0,121,0zM317,0c18,0,32,15,32,33v372c0,18-14,33-32,33s-33-15-33-33V33C284,15,299,0,317,0z",title:"Turn off slideshow"}},fullscreen:{enter:{width:"20px",height:"20px",viewBox:"0 0 18 18",d:"M4.5 11H3v4h4v-1.5H4.5V11zM3 7h1.5V4.5H7V3H3v4zm10.5 6.5H11V15h4v-4h-1.5v2.5zM11 3v1.5h2.5V7H15V3h-4z",title:"Enter fullscreen"},exit:{width:"24px",height:"24px",viewBox:"0 0 950 1024",d:"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z",title:"Exit fullscreen"}},close:{width:"20px",height:"20px",viewBox:"0 0 24 24",d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z",title:"Close"}},We={previous:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M18.271,9.212H3.615l4.184-4.184c0.306-0.306,0.306-0.801,0-1.107c-0.306-0.306-0.801-0.306-1.107,0L1.21,9.403C1.194,9.417,1.174,9.421,1.158,9.437c-0.181,0.181-0.242,0.425-0.209,0.66c0.005,0.038,0.012,0.071,0.022,0.109c0.028,0.098,0.075,0.188,0.142,0.271c0.021,0.026,0.021,0.061,0.045,0.085c0.015,0.016,0.034,0.02,0.05,0.033l5.484,5.483c0.306,0.307,0.801,0.307,1.107,0c0.306-0.305,0.306-0.801,0-1.105l-4.184-4.185h14.656c0.436,0,0.788-0.353,0.788-0.788S18.707,9.212,18.271,9.212z",title:"Previous"},next:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M1.729,9.212h14.656l-4.184-4.184c-0.307-0.306-0.307-0.801,0-1.107c0.305-0.306,0.801-0.306,1.106,0l5.481,5.482c0.018,0.014,0.037,0.019,0.053,0.034c0.181,0.181,0.242,0.425,0.209,0.66c-0.004,0.038-0.012,0.071-0.021,0.109c-0.028,0.098-0.075,0.188-0.143,0.271c-0.021,0.026-0.021,0.061-0.045,0.085c-0.015,0.016-0.034,0.02-0.051,0.033l-5.483,5.483c-0.306,0.307-0.802,0.307-1.106,0c-0.307-0.305-0.307-0.801,0-1.105l4.184-4.185H1.729c-0.436,0-0.788-0.353-0.788-0.788S1.293,9.212,1.729,9.212z",title:"Next"}};function Ke(e){var t=e.additionalClassName,n=e.reference,r=e.onClick,o=e.viewBox,a=e.width,i=e.height,s=e.d,c=e.title;return u.a.createElement("div",{ref:n,onClick:r,title:c,className:"fslightbox-slide-btn-container "+t},u.a.createElement("div",{className:"fslightbox-slide-btn fslightbox-flex-centered"},u.a.createElement(f,{viewBox:o,width:a,height:i,d:s})))}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e){var t=e.fsLightbox,n=t.core.slideChangeFacade,r=n.changeToPrevious,o=n.changeToNext,a=t.data.slideButtons,i=a.previous,s=a.next,c=t.elements,l=c.slideButtonPrevious,f=c.slideButtonNext;return t.props.sources.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ke,Ge({reference:l,additionalClassName:"fslightbox-slide-btn-container-previous",onClick:r},i)),u.a.createElement(Ke,Ge({reference:f,additionalClassName:"fslightbox-slide-btn-container-next",onClick:o},s)))}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function Xe(e,t,n){return(Xe=ot()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&tt(o,n.prototype),o}).apply(null,arguments)}function Je(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(s,e);var t,n,r,a,i=(t=s,n=ot(),function(){var e,r=at(t);if(n){var o=at(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return nt(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isOpen:!1},t.data={isInitialized:!1,maxSourceWidth:0,maxSourceHeight:0,scrollbarWidth:0,toolbarButtons:$e,slideButtons:We,captionHeights:[],notThumbedSourceEnhancementWrapperScales:[],notThumbedSourceEnhancementWrapperTranslatesY:[],thumbedSourceEnhancementWrapperTranslateY:null,zoom:1},t.sourcePointerProps={isPointering:!1,pointers:{},pointersCount:0,downScreenX:null,downScreenY:null,isSourceDownEventTarget:!1,swipedX:0,swipedY:0,upSwipedX:0,upSwipedY:0,pinchedHypot:0},t.stageIndexes={current:0},t.componentsServices={showSlideSwipingHovererIfNotYet:null,hideSlideSwipingHoverer:null,hideSourceLoaderCollection:[],updateSourceDirectWrapperCollection:[],isFullscreenOpen:{},startSlideshow:null,stopSlideshow:null,isSlideShowOn:{},slideNumberUpdater:{},toolbarButtons:{fullscreen:{},slideshow:{}},isLightboxOpenManager:{get:function(){return t.state.isOpen},set:function(e,n){t.setState({isOpen:e},n)}}},t.elements={captions:null,container:u.a.createRef(),nav:u.a.createRef(),slideButtonPrevious:u.a.createRef(),slideButtonNext:u.a.createRef(),slideshowBar:u.a.createRef(),sourceAnimationWrappers:null,sourceEnhancementWrappers:null,sourceMainWrappers:null,sourceWrappersContainer:u.a.createRef(),sources:null,sourceComponents:[]},t.core={classFacade:{},clickZoomer:{},eventsDispatcher:{},fullscreenToggler:{},globalEventsController:{},inactiver:{},lightboxCloser:{},lightboxCloseActioner:{},lightboxOpener:{},lightboxOpenActioner:{},lightboxUpdater:{},scrollbarRecompensor:{},slideshowManager:{},slideChangeFacade:{},slideIndexChanger:{},sourceEnhancementWrappersTransformer:{},sourceDisplayFacade:{},sourcesPointerDown:{},stageManager:{},pointeringBucket:{},windowResizeActioner:{},zoomer:{}},t.collections={sourceMainWrapperTransformers:[],sourceLoadHandlers:[],sourceSizers:[],xhrs:[]},t.getQueuedAction=t.getQueuedAction.bind(rt(t)),t.middleware=t.middleware.bind(rt(t)),t.resolve=t.resolve.bind(rt(t)),t.timeout=t.timeout.bind(rt(t)),W(rt(t)),Ue(rt(t)),t}return r=s,(a=[{key:"getQueuedAction",value:function(e,t){var n=this,r=[];return function(){r.push(!0),n.timeout((function(){r.pop(),r.length||e()}),t)}}},{key:"middleware",value:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t.apply(void 0,Ve(n.concat(o)))&&e.apply(void 0,o)}}(e,t,[this])}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.unshift(this),Xe(e,Je(t))}},{key:"timeout",value:function(e,t){var n=this;setTimeout((function(){n.elements.container.current&&e()}),t)}},{key:"componentDidUpdate",value:function(e){this.core.lightboxUpdater.handleUpdate(e)}},{key:"componentDidMount",value:function(){B(this)}},{key:"componentWillUnmount",value:function(){!function(e){for(var t=e.collections.xhrs,n=e.componentsServices.isLightboxOpenManager,r=e.core.globalEventsController,o=0;o<t.length;o++)t[o].abort();n.get()&&r.removeListeners()}(this)}},{key:"render",value:function(){return this.state.isOpen?u.a.createElement("div",{className:o+"container fslightbox-full-dimension fslightbox-fade-in-strong",ref:this.elements.container},u.a.createElement(M,{fsLightbox:this}),u.a.createElement(x,{fsLightbox:this}),u.a.createElement(N,{fsLightbox:this}),u.a.createElement(Ye,{fsLightbox:this}),u.a.createElement(P,{fsLightbox:this}),u.a.createElement(H,{fsLightbox:this}),this.props.disableThumbs?null:u.a.createElement(U,{fsLightbox:this})):null}}])&&et(r.prototype,a),s}(s.Component);it.propTypes={toggler:l.a.bool,sources:l.a.array,initialAnimation:l.a.string,slideChangeAnimation:l.a.string,captions:l.a.array,onOpen:l.a.func,onClose:l.a.func,onInit:l.a.func,onShow:l.a.func,onSlideChange:l.a.func,onZoomingStart:l.a.func,onZoomingEnd:l.a.func,source:l.a.string,sourceIndex:l.a.number,slide:l.a.number,customAttributes:l.a.array,maxYoutubeVideoDimensions:l.a.object,svg:l.a.object,disableLocalStorage:l.a.bool,types:l.a.array,type:l.a.string,thumbs:l.a.array,disableThumbs:l.a.bool,showThumbsOnMount:l.a.bool,thumbsIcons:l.a.array,customToolbarButtons:l.a.array,exitFullscreenOnClose:l.a.bool,loadOnlyCurrentSource:l.a.bool,openOnMount:l.a.bool,slideDistance:l.a.number,slideshowTime:l.a.number,UIFadeOutTime:l.a.number,zoomIncrement:l.a.number},it.defaultProps={svg:{},initialAnimation:"fslightbox-fade-in-strong",slideChangeAnimation:"fslightbox-fade-in",slideDistance:.3,slideshowTime:8e3,UIFadeOutTime:8e3,zoomIncrement:.25},t.default=it}])},37810:(e,t,n)=>{"use strict";n(47042),n(41539),n(21703),n(96647),n(92222),n(57658),n(69600);var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,a=Object.prototype.toString,i="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||a.call(t)!==i)throw new TypeError(r+t);for(var n,s=o.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,s.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(o.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},39625:(e,t,n)=>{"use strict";n(24812);var r=n(37810);e.exports=Function.prototype.bind||r},75464:(e,t,n)=>{"use strict";n(68309),n(38880),n(24812);var r=function(){return"string"==typeof function(){}.name},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch(i){o=null}r.functionsHaveConfigurableNames=function(){if(!r()||!o)return!1;var e=o((function(){}),"name");return!!e&&!!e.configurable};var a=Function.prototype.bind;r.boundFunctionsHaveNames=function(){return r()&&"function"==typeof a&&""!==function(){}.bind().name},e.exports=r},53983:(e,t,n)=>{"use strict";var r,o=n(59039);n(21703),n(96647),n(38880),n(30489),n(67987),n(66992),n(39575),n(41539),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(9170),n(32120),n(78783),n(33948),n(18264),n(32165),n(82526),n(41817),n(16716),n(83710),n(44197),n(76495),n(87145),n(35109),n(65125),n(51532),n(9653),n(54678),n(91058),n(88674),n(81299),n(24603),n(28450),n(74916),n(88386),n(39714),n(70189),n(49743),n(8255),n(29135),n(4129),n(38478),n(92222),n(40561),n(15306),n(68309);var a=SyntaxError,i=Function,s=TypeError,u=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(A){c=null}var l=function(){throw new s},f=c?function(){try{return l}catch(e){try{return c(arguments,"callee").get}catch(t){return l}}}():l,d=n(66297)(),p=Object.getPrototypeOf||function(e){return e.__proto__},h={},m="undefined"==typeof Uint8Array?r:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):r,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":o(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":a,"%ThrowTypeError%":f,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=u("async function () {}");else if("%GeneratorFunction%"===t)n=u("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=u("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=p(o.prototype))}return v[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(39625),D=n(48948),w=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),E=y.call(Function.call,String.prototype.replace),x=y.call(Function.call,String.prototype.slice),k=y.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,F=function(e){var t=x(e,0,1),n=x(e,-1);if("%"===t&&"%"!==n)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,C,(function(e,t,n,o){r[r.length]=n?E(o,S,"$1"):t||e})),r},O=function(e,t){var n,r=e;if(D(b,r)&&(r="%"+(n=b[r])[0]+"%"),D(v,r)){var o=v[r];if(o===h&&(o=g(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new a("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=F(e),r=n.length>0?n[0]:"",o=O("%"+r+"%",t),i=o.name,u=o.value,l=!1,f=o.alias;f&&(r=f[0],_(n,w([0,1],f)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],m=x(h,0,1),g=x(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new a("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),D(v,i="%"+(r+="."+h)+"%"))u=v[i];else if(null!=u){if(!(h in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var b=c(u,h);u=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[h]}else p=D(u,h),u=u[h];p&&!l&&(v[i]=u)}}return u}},321:(e,t,n)=>{"use strict";var r=n(53983)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},66297:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539);var o="undefined"!=typeof Symbol&&Symbol,a=n(65905);e.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"===r(o("foo"))&&("symbol"===r(Symbol("bar"))&&a())))}},65905:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(47941),n(36210),n(38880),e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===r(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},68269:(e,t,n)=>{"use strict";n(39341),n(73706),n(10408),n(41539),n(82526),n(41817);var r=n(65905);e.exports=function(){return r()&&!!Symbol.toStringTag}},48948:(e,t,n)=>{"use strict";var r=n(39625);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},21916:(e,t,n)=>{"use strict";n(69070),n(36210),n(82526),n(38880),n(30489),n(92222);var r=n(39691),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var i=l(n);f&&(i=i.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<i.length;++v){var g=i[v];if(!(a[g]||r&&r[g]||m&&m[g]||s&&s[g])){var b=d(n,g);try{c(t,g,b)}catch(y){}}}}return t}},23127:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539);var o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,p=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,b=o?Symbol.for("react.lazy"):60116,y=o?Symbol.for("react.block"):60121,D=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,_=o?Symbol.for("react.scope"):60119;function E(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case p:case s:case c:case u:case m:return e;default:switch(e=e&&e.$$typeof){case f:case h:case b:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return E(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=f,t.ContextProvider=l,t.Element=a,t.ForwardRef=h,t.Fragment=s,t.Lazy=b,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=u,t.Suspense=m,t.isAsyncMode=function(e){return x(e)||E(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return E(e)===f},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===s},t.isLazy=function(e){return E(e)===b},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===u},t.isSuspense=function(e){return E(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===p||e===c||e===u||e===m||e===v||"object"===r(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===l||e.$$typeof===f||e.$$typeof===h||e.$$typeof===D||e.$$typeof===w||e.$$typeof===_||e.$$typeof===y)},t.typeOf=E},39691:(e,t,n)=>{"use strict";e.exports=n(23127)},74364:(e,t,n)=>{var r,o=n(59039);n(54678),n(74916),n(15306),n(4723),n(91058),n(82772),n(41539),n(88674),n(57658),n(32564),n(47042),n(24812),n(3843),n(83710),n(40561),n(47941),n(79753),n(77601),n(96647),n(75505),n(87714),n(82801),n(1174),n(66992),n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(89554),n(54747),function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop:function(){for(var e=this||a,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(l){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var a=e._howls[o]._getSoundIds(),i=0;i<a.length;i++){var s=e._howls[o]._soundById(a[i]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||a;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new o,i=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(e){var t=this;return a.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,void 0!==a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),f=1e3*l/Math.abs(s._rate),d=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=d,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=p)){var m=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,a.ctx.currentTime),s._playStart=a.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,l):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,l),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){m.currentTime=c,m.muted=s._muted||n._muted||a._muted||m.muted,m.volume=s._volume*a.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(o){n._emit("playerror",s._id,o)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var b=window&&window.ejecta||!m.readyState&&a._navigator.isCocoonJS;if(m.readyState>=3||b)g();else{n._playLock=!0,n._state="loading";m.addEventListener(a._canPlayEvent,(function e(){n._state="loaded",g(),m.removeEventListener(a._canPlayEvent,e,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var a=n._soundById(r[o]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[o]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,a.ctx.currentTime):i._node&&(i._node.muted=!!a._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var i=r._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,o[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*a.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var i=o._getSoundIds(r),s=0;s<i.length;s++){var u=o._soundById(i[s]);if(u){if(r||o._stopFade(i[s]),o._webAudio&&!u._muted){var c=a.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,i[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,a){var i=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),f=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-f)/r;f=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),i._webAudio?e._volume=s:i.volume(s,e._id,!0),a&&(i._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,i.volume(n,e._id),i._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var a=r._getSoundIds(t),i=0;i<a.length;i++)(n=r._soundById(a[i]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[i])&&(r.pause(a[i],!0),r.play(a[i],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var i=r._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,f=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),f)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?a.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var f=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var d=function e(){n._playLock?setTimeout(e,0):f()};setTimeout(d,0)}else f()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),a._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=a._howls.indexOf(e);r>=0&&a._howls.splice(r,1);var o=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src||e._src.indexOf(a._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<o.length;a++){var i=n===o[a].id;if(t===o[a].fn&&i||!t&&i){o.splice(a,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(r[s[a]])&&(r[s[a]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],a=o.length-1;a>=0;a--)o[a].id&&o[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[a].fn),0),o[a].once&&r.off(e,o[a].fn,o[a].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),this},_cleanBuffer:function(e){var t=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=a._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):a.noAudio||(e._node=a._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);f(r.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?f(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(a)}},l=function(e){try{e.send()}catch(t){e.onerror()}},f=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,d(t,e)):n()};"undefined"!=typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(r).catch(n):a.ctx.decodeAudioData(e,r,n)},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(a.usingWebAudio){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(o){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!r&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(r=function(){return{Howler:a,Howl:i}}.apply(t,[]))||(e.exports=r),t.Howler=a,t.Howl=i,void 0!==n.g?(n.g.HowlerGlobal=o,n.g.Howler=a,n.g.Howl=i,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=a,window.Howl=i,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,a){var i=this;if(!i.ctx||!i.ctx.listener)return i;var s=i._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(i._orientation=[e,t,n,r,o,a],void 0!==i.ctx.listener.forwardX?(i.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),i.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),i.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),i.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),i.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),i.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):i.ctx.listener.setOrientation(e,t,n,r,o,a),i)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var a=r._getSoundIds(n),i=0;i<a.length;i++){var s=r._soundById(a[i]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,r,o)}}),a;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return a._pos;a._pos=[e,n,r]}for(var i=a._getSoundIds(o),s=0;s<i.length;s++){var u=a._soundById(i[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),a._emit("pos",u._id)}}return a},Howl.prototype.orientation=function(e,n,r,o){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,r,o)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,r="number"!=typeof r?a._orientation[2]:r,void 0===o){if("number"!=typeof e)return a._orientation;a._orientation=[e,n,r]}for(var i=a._getSoundIds(o),s=0;s<i.length;s++){var u=a._soundById(i[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=a._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),a._emit("orientation",u._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,r,a=this,i=arguments;if(!a._webAudio)return a;if(0===i.length)return a._pannerAttr;if(1===i.length){if("object"!==o(i[0]))return(r=a._soundById(parseInt(i[0],10)))?r._pannerAttr:a._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var s=a._getSoundIds(n),u=0;u<s.length;u++)if(r=a._soundById(s[u])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var l=r._panner;l?(l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel):(r._pos||(r._pos=a._pos||[0,0,-.5]),t(r,"spatial"))}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},46001:(e,t)=>{t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},3129:(e,t,n)=>{var r=n(59039);n(21703),n(96647),n(74916),n(4723),n(77601);var o="html",a="head",i="body",s=/<([a-zA-Z]+[0-9]?)/,u=/<head[^]*>/i,c=/<body[^]*>/i,l=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},f=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},d="object"===("undefined"==typeof window?"undefined":r(window))&&window.DOMParser;if("function"==typeof d){var p=new d;l=f=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),p.parseFromString(e,"text/html")}}if("object"===("undefined"==typeof document?"undefined":r(document))&&document.implementation){var h=document.implementation.createHTMLDocument();l=function(e,t){return t?(h.documentElement.querySelector(t).innerHTML=e,h):(h.documentElement.innerHTML=e,h)}}var m,v="object"===("undefined"==typeof document?"undefined":r(document))?document.createElement("template"):{};v.content&&(m=function(e){return v.innerHTML=e,v.content.childNodes}),e.exports=function(e){var t,n,r,d,p=e.match(s);switch(p&&p[1]&&(t=p[1].toLowerCase()),t){case o:return n=f(e),u.test(e)||(r=n.querySelector(a))&&r.parentNode.removeChild(r),c.test(e)||(r=n.querySelector(i))&&r.parentNode.removeChild(r),n.querySelectorAll(o);case a:case i:return d=(n=l(e)).querySelectorAll(t),c.test(e)&&u.test(e)?d[0].parentNode.childNodes:d;default:return m?m(e):(r=l(e,i).querySelector(i)).childNodes}}},84634:(e,t,n)=>{n(21703),n(96647),n(74916),n(4723);var r=n(3129),o=n(21452).formatDOM,a=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(a);return n&&n[1]&&(t=n[1]),o(r(e),null,t)}},21452:(e,t,n)=>{n(68309),n(57658),n(82772),n(30541);for(var r,o=n(56825),a=n(46001).CASE_SENSITIVE_TAG_NAMES,i=o.Comment,s=o.Element,u=o.ProcessingInstruction,c=o.Text,l={},f=0,d=a.length;f<d;f++)r=a[f],l[r.toLowerCase()]=r;function p(e){for(var t,n={},r=0,o=e.length;r<o;r++)n[(t=e[r]).name]=t.value;return n}function h(e){var t=function(e){return l[e]}(e=e.toLowerCase());return t||e}t.formatAttributes=p,t.formatDOM=function e(t,n,r){n=n||null;for(var o=[],a=0,l=t.length;a<l;a++){var f,d=t[a];switch(d.nodeType){case 1:(f=new s(h(d.nodeName),p(d.attributes))).children=e(d.content?d.content.childNodes:d.childNodes,f);break;case 3:f=new c(d.nodeValue);break;case 8:f=new i(d.nodeValue);break;default:continue}var m=o[a-1]||null;m&&(m.next=f),f.parent=n,f.prev=m,f.next=null,o.push(f)}return r&&((f=new u(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=o[0]||null,f.parent=n,o.unshift(f),o[1]&&(o[1].prev=o[0])),o}},56825:function(e,t,n){"use strict";var r=n(59039);n(78011),n(38880),n(69070),n(57658);var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=n(35832),s=n(6751);a(n(6751),t);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=u),"object"===r(e)&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:u,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?i.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===i.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},6751:function(e,t,n){"use strict";n(68304),n(67987),n(21703),n(96647),n(78011),n(19601),n(69070),n(68309),n(21249),n(47941),n(89554),n(41539),n(54747);var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var i=n(35832),s=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=s;var u=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=u;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Text,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(u);t.Text=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Comment,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(u);t.Comment=l;var f=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=i.ElementType.Directive,r}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(u);t.ProcessingInstruction=f;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.CDATA,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Root,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=h;var m=function(e){function t(t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o="script"===t?i.ElementType.Script:"style"===t?i.ElementType.Style:i.ElementType.Tag);var a=e.call(this,r)||this;return a.name=t,a.attribs=n,a.type=o,a}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function v(e){return(0,i.isTag)(e)}function g(e){return e.type===i.ElementType.CDATA}function b(e){return e.type===i.ElementType.Text}function y(e){return e.type===i.ElementType.Comment}function D(e){return e.type===i.ElementType.Directive}function w(e){return e.type===i.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),b(e))n=new c(e.data);else if(y(e))n=new l(e.data);else if(v(e)){var r=t?E(e.children):[],o=new m(e.name,a({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),n=o}else if(g(e)){r=t?E(e.children):[];var i=new p(r);r.forEach((function(e){return e.parent=i})),n=i}else if(w(e)){r=t?E(e.children):[];var s=new h(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!D(e))throw new Error("Not implemented yet: ".concat(e.type));var u=new f(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function E(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=v,t.isCDATA=g,t.isText=b,t.isComment=y,t.isDirective=D,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},1403:function(e,t,n){"use strict";n(19601),n(69070),n(74916),n(96647),n(83710),n(41539),n(39714),n(91058),n(83650);var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(92825),a=n(78350),i=n(12797),s=r(r({},o.namedReferences),{all:o.namedReferences.html5}),u={specialChars:/[<>'"&]/g,nonAscii:/(?:[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,nonAsciiPrintable:/(?:[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,extensive:/(?:[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g},c={mode:"specialChars",level:"all",numeric:"decimal"};t.encode=function(e,t){var n=void 0===(l=(a=void 0===t?c:t).mode)?"specialChars":l,r=void 0===(h=a.numeric)?"decimal":h,o=a.level;if(!e)return"";var a,l,f=u[n],d=s[void 0===o?"all":o].characters,p="hexadecimal"===r;if(f.lastIndex=0,a=f.exec(e)){l="";var h=0;do{h!==a.index&&(l+=e.substring(h,a.index));var m=d[o=a[0]];if(!m){var v=o.length>1?i.getCodePoint(o,0):o.charCodeAt(0);m=(p?"&#x"+v.toString(16):"&#"+v)+";"}l+=m,h=a.index+o.length}while(a=f.exec(e));h!==e.length&&(l+=e.substring(h))}else l=e;return l};var l={scope:"body",level:"all"},f=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,d=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,p={xml:{strict:f,attribute:d,body:o.bodyRegExps.xml},html4:{strict:f,attribute:d,body:o.bodyRegExps.html4},html5:{strict:f,attribute:d,body:o.bodyRegExps.html5}},h=r(r({},p),{all:p.html5}),m=String.fromCharCode,v=m(65533),g={level:"all"};t.decodeEntity=function(e,t){var n=void 0===(r=(void 0===t?g:t).level)?"all":r;if(!e)return"";var r=e,o=(e[e.length-1],s[n].entities[e]);if(o)r=o;else if("&"===e[0]&&"#"===e[1]){var u=e[2],c="x"==u||"X"==u?parseInt(e.substr(3),16):parseInt(e.substr(2));r=c>=1114111?v:c>65535?i.fromCodePoint(c):m(a.numericUnicodeMap[c]||c)}return r},t.decode=function(e,t){var n=void 0===t?l:t,r=n.level,o=void 0===r?"all":r,u=n.scope,c=void 0===u?"xml"===o?"strict":"body":u;if(!e)return"";var f=h[o][c],d=s[o].entities,p="attribute"===c,g="strict"===c;f.lastIndex=0;var b,y=f.exec(e);if(y){b="";var D=0;do{D!==y.index&&(b+=e.substring(D,y.index));var w=y[0],_=w,E=w[w.length-1];if(p&&"="===E)_=w;else if(g&&";"!==E)_=w;else{var x=d[w];if(x)_=x;else if("&"===w[0]&&"#"===w[1]){var k=w[2],C="x"==k||"X"==k?parseInt(w.substr(3),16):parseInt(w.substr(2));_=C>=1114111?v:C>65535?i.fromCodePoint(C):m(a.numericUnicodeMap[C]||C)}}b+=_,D=y.index+w.length}while(y=f.exec(e));D!==e.length&&(b+=e.substring(D))}else b=e;return b}},92825:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},t.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":" ","&nbsp;":" ","&iexcl":"¡","&iexcl;":"¡","&cent":"¢","&cent;":"¢","&pound":"£","&pound;":"£","&curren":"¤","&curren;":"¤","&yen":"¥","&yen;":"¥","&brvbar":"¦","&brvbar;":"¦","&sect":"§","&sect;":"§","&uml":"¨","&uml;":"¨","&copy":"©","&copy;":"©","&ordf":"ª","&ordf;":"ª","&laquo":"«","&laquo;":"«","&not":"¬","&not;":"¬","&shy":"­","&shy;":"­","&reg":"®","&reg;":"®","&macr":"¯","&macr;":"¯","&deg":"°","&deg;":"°","&plusmn":"±","&plusmn;":"±","&sup2":"²","&sup2;":"²","&sup3":"³","&sup3;":"³","&acute":"´","&acute;":"´","&micro":"µ","&micro;":"µ","&para":"¶","&para;":"¶","&middot":"·","&middot;":"·","&cedil":"¸","&cedil;":"¸","&sup1":"¹","&sup1;":"¹","&ordm":"º","&ordm;":"º","&raquo":"»","&raquo;":"»","&frac14":"¼","&frac14;":"¼","&frac12":"½","&frac12;":"½","&frac34":"¾","&frac34;":"¾","&iquest":"¿","&iquest;":"¿","&Agrave":"À","&Agrave;":"À","&Aacute":"Á","&Aacute;":"Á","&Acirc":"Â","&Acirc;":"Â","&Atilde":"Ã","&Atilde;":"Ã","&Auml":"Ä","&Auml;":"Ä","&Aring":"Å","&Aring;":"Å","&AElig":"Æ","&AElig;":"Æ","&Ccedil":"Ç","&Ccedil;":"Ç","&Egrave":"È","&Egrave;":"È","&Eacute":"É","&Eacute;":"É","&Ecirc":"Ê","&Ecirc;":"Ê","&Euml":"Ë","&Euml;":"Ë","&Igrave":"Ì","&Igrave;":"Ì","&Iacute":"Í","&Iacute;":"Í","&Icirc":"Î","&Icirc;":"Î","&Iuml":"Ï","&Iuml;":"Ï","&ETH":"Ð","&ETH;":"Ð","&Ntilde":"Ñ","&Ntilde;":"Ñ","&Ograve":"Ò","&Ograve;":"Ò","&Oacute":"Ó","&Oacute;":"Ó","&Ocirc":"Ô","&Ocirc;":"Ô","&Otilde":"Õ","&Otilde;":"Õ","&Ouml":"Ö","&Ouml;":"Ö","&times":"×","&times;":"×","&Oslash":"Ø","&Oslash;":"Ø","&Ugrave":"Ù","&Ugrave;":"Ù","&Uacute":"Ú","&Uacute;":"Ú","&Ucirc":"Û","&Ucirc;":"Û","&Uuml":"Ü","&Uuml;":"Ü","&Yacute":"Ý","&Yacute;":"Ý","&THORN":"Þ","&THORN;":"Þ","&szlig":"ß","&szlig;":"ß","&agrave":"à","&agrave;":"à","&aacute":"á","&aacute;":"á","&acirc":"â","&acirc;":"â","&atilde":"ã","&atilde;":"ã","&auml":"ä","&auml;":"ä","&aring":"å","&aring;":"å","&aelig":"æ","&aelig;":"æ","&ccedil":"ç","&ccedil;":"ç","&egrave":"è","&egrave;":"è","&eacute":"é","&eacute;":"é","&ecirc":"ê","&ecirc;":"ê","&euml":"ë","&euml;":"ë","&igrave":"ì","&igrave;":"ì","&iacute":"í","&iacute;":"í","&icirc":"î","&icirc;":"î","&iuml":"ï","&iuml;":"ï","&eth":"ð","&eth;":"ð","&ntilde":"ñ","&ntilde;":"ñ","&ograve":"ò","&ograve;":"ò","&oacute":"ó","&oacute;":"ó","&ocirc":"ô","&ocirc;":"ô","&otilde":"õ","&otilde;":"õ","&ouml":"ö","&ouml;":"ö","&divide":"÷","&divide;":"÷","&oslash":"ø","&oslash;":"ø","&ugrave":"ù","&ugrave;":"ù","&uacute":"ú","&uacute;":"ú","&ucirc":"û","&ucirc;":"û","&uuml":"ü","&uuml;":"ü","&yacute":"ý","&yacute;":"ý","&thorn":"þ","&thorn;":"þ","&yuml":"ÿ","&yuml;":"ÿ","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&permil;":"‰","&lsaquo;":"‹","&rsaquo;":"›","&euro;":"€","&fnof;":"ƒ","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&bull;":"•","&hellip;":"…","&prime;":"′","&Prime;":"″","&oline;":"‾","&frasl;":"⁄","&weierp;":"℘","&image;":"ℑ","&real;":"ℜ","&trade;":"™","&alefsym;":"ℵ","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lArr;":"⇐","&uArr;":"⇑","&rArr;":"⇒","&dArr;":"⇓","&hArr;":"⇔","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&lang;":"〈","&rang;":"〉","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"},characters:{"'":"&apos;"," ":"&nbsp;","¡":"&iexcl;","¢":"&cent;","£":"&pound;","¤":"&curren;","¥":"&yen;","¦":"&brvbar;","§":"&sect;","¨":"&uml;","©":"&copy;","ª":"&ordf;","«":"&laquo;","¬":"&not;","­":"&shy;","®":"&reg;","¯":"&macr;","°":"&deg;","±":"&plusmn;","²":"&sup2;","³":"&sup3;","´":"&acute;","µ":"&micro;","¶":"&para;","·":"&middot;","¸":"&cedil;","¹":"&sup1;","º":"&ordm;","»":"&raquo;","¼":"&frac14;","½":"&frac12;","¾":"&frac34;","¿":"&iquest;","À":"&Agrave;","Á":"&Aacute;","Â":"&Acirc;","Ã":"&Atilde;","Ä":"&Auml;","Å":"&Aring;","Æ":"&AElig;","Ç":"&Ccedil;","È":"&Egrave;","É":"&Eacute;","Ê":"&Ecirc;","Ë":"&Euml;","Ì":"&Igrave;","Í":"&Iacute;","Î":"&Icirc;","Ï":"&Iuml;","Ð":"&ETH;","Ñ":"&Ntilde;","Ò":"&Ograve;","Ó":"&Oacute;","Ô":"&Ocirc;","Õ":"&Otilde;","Ö":"&Ouml;","×":"&times;","Ø":"&Oslash;","Ù":"&Ugrave;","Ú":"&Uacute;","Û":"&Ucirc;","Ü":"&Uuml;","Ý":"&Yacute;","Þ":"&THORN;","ß":"&szlig;","à":"&agrave;","á":"&aacute;","â":"&acirc;","ã":"&atilde;","ä":"&auml;","å":"&aring;","æ":"&aelig;","ç":"&ccedil;","è":"&egrave;","é":"&eacute;","ê":"&ecirc;","ë":"&euml;","ì":"&igrave;","í":"&iacute;","î":"&icirc;","ï":"&iuml;","ð":"&eth;","ñ":"&ntilde;","ò":"&ograve;","ó":"&oacute;","ô":"&ocirc;","õ":"&otilde;","ö":"&ouml;","÷":"&divide;","ø":"&oslash;","ù":"&ugrave;","ú":"&uacute;","û":"&ucirc;","ü":"&uuml;","ý":"&yacute;","þ":"&thorn;","ÿ":"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;","Œ":"&OElig;","œ":"&oelig;","Š":"&Scaron;","š":"&scaron;","Ÿ":"&Yuml;","ˆ":"&circ;","˜":"&tilde;"," ":"&ensp;"," ":"&emsp;"," ":"&thinsp;","‌":"&zwnj;","‍":"&zwj;","‎":"&lrm;","‏":"&rlm;","–":"&ndash;","—":"&mdash;","‘":"&lsquo;","’":"&rsquo;","‚":"&sbquo;","“":"&ldquo;","”":"&rdquo;","„":"&bdquo;","†":"&dagger;","‡":"&Dagger;","‰":"&permil;","‹":"&lsaquo;","›":"&rsaquo;","€":"&euro;","ƒ":"&fnof;","Α":"&Alpha;","Β":"&Beta;","Γ":"&Gamma;","Δ":"&Delta;","Ε":"&Epsilon;","Ζ":"&Zeta;","Η":"&Eta;","Θ":"&Theta;","Ι":"&Iota;","Κ":"&Kappa;","Λ":"&Lambda;","Μ":"&Mu;","Ν":"&Nu;","Ξ":"&Xi;","Ο":"&Omicron;","Π":"&Pi;","Ρ":"&Rho;","Σ":"&Sigma;","Τ":"&Tau;","Υ":"&Upsilon;","Φ":"&Phi;","Χ":"&Chi;","Ψ":"&Psi;","Ω":"&Omega;","α":"&alpha;","β":"&beta;","γ":"&gamma;","δ":"&delta;","ε":"&epsilon;","ζ":"&zeta;","η":"&eta;","θ":"&theta;","ι":"&iota;","κ":"&kappa;","λ":"&lambda;","μ":"&mu;","ν":"&nu;","ξ":"&xi;","ο":"&omicron;","π":"&pi;","ρ":"&rho;","ς":"&sigmaf;","σ":"&sigma;","τ":"&tau;","υ":"&upsilon;","φ":"&phi;","χ":"&chi;","ψ":"&psi;","ω":"&omega;","ϑ":"&thetasym;","ϒ":"&upsih;","ϖ":"&piv;","•":"&bull;","…":"&hellip;","′":"&prime;","″":"&Prime;","‾":"&oline;","⁄":"&frasl;","℘":"&weierp;","ℑ":"&image;","ℜ":"&real;","™":"&trade;","ℵ":"&alefsym;","←":"&larr;","↑":"&uarr;","→":"&rarr;","↓":"&darr;","↔":"&harr;","↵":"&crarr;","⇐":"&lArr;","⇑":"&uArr;","⇒":"&rArr;","⇓":"&dArr;","⇔":"&hArr;","∀":"&forall;","∂":"&part;","∃":"&exist;","∅":"&empty;","∇":"&nabla;","∈":"&isin;","∉":"&notin;","∋":"&ni;","∏":"&prod;","∑":"&sum;","−":"&minus;","∗":"&lowast;","√":"&radic;","∝":"&prop;","∞":"&infin;","∠":"&ang;","∧":"&and;","∨":"&or;","∩":"&cap;","∪":"&cup;","∫":"&int;","∴":"&there4;","∼":"&sim;","≅":"&cong;","≈":"&asymp;","≠":"&ne;","≡":"&equiv;","≤":"&le;","≥":"&ge;","⊂":"&sub;","⊃":"&sup;","⊄":"&nsub;","⊆":"&sube;","⊇":"&supe;","⊕":"&oplus;","⊗":"&otimes;","⊥":"&perp;","⋅":"&sdot;","⌈":"&lceil;","⌉":"&rceil;","⌊":"&lfloor;","⌋":"&rfloor;","〈":"&lang;","〉":"&rang;","◊":"&loz;","♠":"&spades;","♣":"&clubs;","♥":"&hearts;","♦":"&diams;"}},html5:{entities:{"&AElig":"Æ","&AElig;":"Æ","&AMP":"&","&AMP;":"&","&Aacute":"Á","&Aacute;":"Á","&Abreve;":"Ă","&Acirc":"Â","&Acirc;":"Â","&Acy;":"А","&Afr;":"𝔄","&Agrave":"À","&Agrave;":"À","&Alpha;":"Α","&Amacr;":"Ā","&And;":"⩓","&Aogon;":"Ą","&Aopf;":"𝔸","&ApplyFunction;":"⁡","&Aring":"Å","&Aring;":"Å","&Ascr;":"𝒜","&Assign;":"≔","&Atilde":"Ã","&Atilde;":"Ã","&Auml":"Ä","&Auml;":"Ä","&Backslash;":"∖","&Barv;":"⫧","&Barwed;":"⌆","&Bcy;":"Б","&Because;":"∵","&Bernoullis;":"ℬ","&Beta;":"Β","&Bfr;":"𝔅","&Bopf;":"𝔹","&Breve;":"˘","&Bscr;":"ℬ","&Bumpeq;":"≎","&CHcy;":"Ч","&COPY":"©","&COPY;":"©","&Cacute;":"Ć","&Cap;":"⋒","&CapitalDifferentialD;":"ⅅ","&Cayleys;":"ℭ","&Ccaron;":"Č","&Ccedil":"Ç","&Ccedil;":"Ç","&Ccirc;":"Ĉ","&Cconint;":"∰","&Cdot;":"Ċ","&Cedilla;":"¸","&CenterDot;":"·","&Cfr;":"ℭ","&Chi;":"Χ","&CircleDot;":"⊙","&CircleMinus;":"⊖","&CirclePlus;":"⊕","&CircleTimes;":"⊗","&ClockwiseContourIntegral;":"∲","&CloseCurlyDoubleQuote;":"”","&CloseCurlyQuote;":"’","&Colon;":"∷","&Colone;":"⩴","&Congruent;":"≡","&Conint;":"∯","&ContourIntegral;":"∮","&Copf;":"ℂ","&Coproduct;":"∐","&CounterClockwiseContourIntegral;":"∳","&Cross;":"⨯","&Cscr;":"𝒞","&Cup;":"⋓","&CupCap;":"≍","&DD;":"ⅅ","&DDotrahd;":"⤑","&DJcy;":"Ђ","&DScy;":"Ѕ","&DZcy;":"Џ","&Dagger;":"‡","&Darr;":"↡","&Dashv;":"⫤","&Dcaron;":"Ď","&Dcy;":"Д","&Del;":"∇","&Delta;":"Δ","&Dfr;":"𝔇","&DiacriticalAcute;":"´","&DiacriticalDot;":"˙","&DiacriticalDoubleAcute;":"˝","&DiacriticalGrave;":"`","&DiacriticalTilde;":"˜","&Diamond;":"⋄","&DifferentialD;":"ⅆ","&Dopf;":"𝔻","&Dot;":"¨","&DotDot;":"⃜","&DotEqual;":"≐","&DoubleContourIntegral;":"∯","&DoubleDot;":"¨","&DoubleDownArrow;":"⇓","&DoubleLeftArrow;":"⇐","&DoubleLeftRightArrow;":"⇔","&DoubleLeftTee;":"⫤","&DoubleLongLeftArrow;":"⟸","&DoubleLongLeftRightArrow;":"⟺","&DoubleLongRightArrow;":"⟹","&DoubleRightArrow;":"⇒","&DoubleRightTee;":"⊨","&DoubleUpArrow;":"⇑","&DoubleUpDownArrow;":"⇕","&DoubleVerticalBar;":"∥","&DownArrow;":"↓","&DownArrowBar;":"⤓","&DownArrowUpArrow;":"⇵","&DownBreve;":"̑","&DownLeftRightVector;":"⥐","&DownLeftTeeVector;":"⥞","&DownLeftVector;":"↽","&DownLeftVectorBar;":"⥖","&DownRightTeeVector;":"⥟","&DownRightVector;":"⇁","&DownRightVectorBar;":"⥗","&DownTee;":"⊤","&DownTeeArrow;":"↧","&Downarrow;":"⇓","&Dscr;":"𝒟","&Dstrok;":"Đ","&ENG;":"Ŋ","&ETH":"Ð","&ETH;":"Ð","&Eacute":"É","&Eacute;":"É","&Ecaron;":"Ě","&Ecirc":"Ê","&Ecirc;":"Ê","&Ecy;":"Э","&Edot;":"Ė","&Efr;":"𝔈","&Egrave":"È","&Egrave;":"È","&Element;":"∈","&Emacr;":"Ē","&EmptySmallSquare;":"◻","&EmptyVerySmallSquare;":"▫","&Eogon;":"Ę","&Eopf;":"𝔼","&Epsilon;":"Ε","&Equal;":"⩵","&EqualTilde;":"≂","&Equilibrium;":"⇌","&Escr;":"ℰ","&Esim;":"⩳","&Eta;":"Η","&Euml":"Ë","&Euml;":"Ë","&Exists;":"∃","&ExponentialE;":"ⅇ","&Fcy;":"Ф","&Ffr;":"𝔉","&FilledSmallSquare;":"◼","&FilledVerySmallSquare;":"▪","&Fopf;":"𝔽","&ForAll;":"∀","&Fouriertrf;":"ℱ","&Fscr;":"ℱ","&GJcy;":"Ѓ","&GT":">","&GT;":">","&Gamma;":"Γ","&Gammad;":"Ϝ","&Gbreve;":"Ğ","&Gcedil;":"Ģ","&Gcirc;":"Ĝ","&Gcy;":"Г","&Gdot;":"Ġ","&Gfr;":"𝔊","&Gg;":"⋙","&Gopf;":"𝔾","&GreaterEqual;":"≥","&GreaterEqualLess;":"⋛","&GreaterFullEqual;":"≧","&GreaterGreater;":"⪢","&GreaterLess;":"≷","&GreaterSlantEqual;":"⩾","&GreaterTilde;":"≳","&Gscr;":"𝒢","&Gt;":"≫","&HARDcy;":"Ъ","&Hacek;":"ˇ","&Hat;":"^","&Hcirc;":"Ĥ","&Hfr;":"ℌ","&HilbertSpace;":"ℋ","&Hopf;":"ℍ","&HorizontalLine;":"─","&Hscr;":"ℋ","&Hstrok;":"Ħ","&HumpDownHump;":"≎","&HumpEqual;":"≏","&IEcy;":"Е","&IJlig;":"Ĳ","&IOcy;":"Ё","&Iacute":"Í","&Iacute;":"Í","&Icirc":"Î","&Icirc;":"Î","&Icy;":"И","&Idot;":"İ","&Ifr;":"ℑ","&Igrave":"Ì","&Igrave;":"Ì","&Im;":"ℑ","&Imacr;":"Ī","&ImaginaryI;":"ⅈ","&Implies;":"⇒","&Int;":"∬","&Integral;":"∫","&Intersection;":"⋂","&InvisibleComma;":"⁣","&InvisibleTimes;":"⁢","&Iogon;":"Į","&Iopf;":"𝕀","&Iota;":"Ι","&Iscr;":"ℐ","&Itilde;":"Ĩ","&Iukcy;":"І","&Iuml":"Ï","&Iuml;":"Ï","&Jcirc;":"Ĵ","&Jcy;":"Й","&Jfr;":"𝔍","&Jopf;":"𝕁","&Jscr;":"𝒥","&Jsercy;":"Ј","&Jukcy;":"Є","&KHcy;":"Х","&KJcy;":"Ќ","&Kappa;":"Κ","&Kcedil;":"Ķ","&Kcy;":"К","&Kfr;":"𝔎","&Kopf;":"𝕂","&Kscr;":"𝒦","&LJcy;":"Љ","&LT":"<","&LT;":"<","&Lacute;":"Ĺ","&Lambda;":"Λ","&Lang;":"⟪","&Laplacetrf;":"ℒ","&Larr;":"↞","&Lcaron;":"Ľ","&Lcedil;":"Ļ","&Lcy;":"Л","&LeftAngleBracket;":"⟨","&LeftArrow;":"←","&LeftArrowBar;":"⇤","&LeftArrowRightArrow;":"⇆","&LeftCeiling;":"⌈","&LeftDoubleBracket;":"⟦","&LeftDownTeeVector;":"⥡","&LeftDownVector;":"⇃","&LeftDownVectorBar;":"⥙","&LeftFloor;":"⌊","&LeftRightArrow;":"↔","&LeftRightVector;":"⥎","&LeftTee;":"⊣","&LeftTeeArrow;":"↤","&LeftTeeVector;":"⥚","&LeftTriangle;":"⊲","&LeftTriangleBar;":"⧏","&LeftTriangleEqual;":"⊴","&LeftUpDownVector;":"⥑","&LeftUpTeeVector;":"⥠","&LeftUpVector;":"↿","&LeftUpVectorBar;":"⥘","&LeftVector;":"↼","&LeftVectorBar;":"⥒","&Leftarrow;":"⇐","&Leftrightarrow;":"⇔","&LessEqualGreater;":"⋚","&LessFullEqual;":"≦","&LessGreater;":"≶","&LessLess;":"⪡","&LessSlantEqual;":"⩽","&LessTilde;":"≲","&Lfr;":"𝔏","&Ll;":"⋘","&Lleftarrow;":"⇚","&Lmidot;":"Ŀ","&LongLeftArrow;":"⟵","&LongLeftRightArrow;":"⟷","&LongRightArrow;":"⟶","&Longleftarrow;":"⟸","&Longleftrightarrow;":"⟺","&Longrightarrow;":"⟹","&Lopf;":"𝕃","&LowerLeftArrow;":"↙","&LowerRightArrow;":"↘","&Lscr;":"ℒ","&Lsh;":"↰","&Lstrok;":"Ł","&Lt;":"≪","&Map;":"⤅","&Mcy;":"М","&MediumSpace;":" ","&Mellintrf;":"ℳ","&Mfr;":"𝔐","&MinusPlus;":"∓","&Mopf;":"𝕄","&Mscr;":"ℳ","&Mu;":"Μ","&NJcy;":"Њ","&Nacute;":"Ń","&Ncaron;":"Ň","&Ncedil;":"Ņ","&Ncy;":"Н","&NegativeMediumSpace;":"​","&NegativeThickSpace;":"​","&NegativeThinSpace;":"​","&NegativeVeryThinSpace;":"​","&NestedGreaterGreater;":"≫","&NestedLessLess;":"≪","&NewLine;":"\n","&Nfr;":"𝔑","&NoBreak;":"⁠","&NonBreakingSpace;":" ","&Nopf;":"ℕ","&Not;":"⫬","&NotCongruent;":"≢","&NotCupCap;":"≭","&NotDoubleVerticalBar;":"∦","&NotElement;":"∉","&NotEqual;":"≠","&NotEqualTilde;":"≂̸","&NotExists;":"∄","&NotGreater;":"≯","&NotGreaterEqual;":"≱","&NotGreaterFullEqual;":"≧̸","&NotGreaterGreater;":"≫̸","&NotGreaterLess;":"≹","&NotGreaterSlantEqual;":"⩾̸","&NotGreaterTilde;":"≵","&NotHumpDownHump;":"≎̸","&NotHumpEqual;":"≏̸","&NotLeftTriangle;":"⋪","&NotLeftTriangleBar;":"⧏̸","&NotLeftTriangleEqual;":"⋬","&NotLess;":"≮","&NotLessEqual;":"≰","&NotLessGreater;":"≸","&NotLessLess;":"≪̸","&NotLessSlantEqual;":"⩽̸","&NotLessTilde;":"≴","&NotNestedGreaterGreater;":"⪢̸","&NotNestedLessLess;":"⪡̸","&NotPrecedes;":"⊀","&NotPrecedesEqual;":"⪯̸","&NotPrecedesSlantEqual;":"⋠","&NotReverseElement;":"∌","&NotRightTriangle;":"⋫","&NotRightTriangleBar;":"⧐̸","&NotRightTriangleEqual;":"⋭","&NotSquareSubset;":"⊏̸","&NotSquareSubsetEqual;":"⋢","&NotSquareSuperset;":"⊐̸","&NotSquareSupersetEqual;":"⋣","&NotSubset;":"⊂⃒","&NotSubsetEqual;":"⊈","&NotSucceeds;":"⊁","&NotSucceedsEqual;":"⪰̸","&NotSucceedsSlantEqual;":"⋡","&NotSucceedsTilde;":"≿̸","&NotSuperset;":"⊃⃒","&NotSupersetEqual;":"⊉","&NotTilde;":"≁","&NotTildeEqual;":"≄","&NotTildeFullEqual;":"≇","&NotTildeTilde;":"≉","&NotVerticalBar;":"∤","&Nscr;":"𝒩","&Ntilde":"Ñ","&Ntilde;":"Ñ","&Nu;":"Ν","&OElig;":"Œ","&Oacute":"Ó","&Oacute;":"Ó","&Ocirc":"Ô","&Ocirc;":"Ô","&Ocy;":"О","&Odblac;":"Ő","&Ofr;":"𝔒","&Ograve":"Ò","&Ograve;":"Ò","&Omacr;":"Ō","&Omega;":"Ω","&Omicron;":"Ο","&Oopf;":"𝕆","&OpenCurlyDoubleQuote;":"“","&OpenCurlyQuote;":"‘","&Or;":"⩔","&Oscr;":"𝒪","&Oslash":"Ø","&Oslash;":"Ø","&Otilde":"Õ","&Otilde;":"Õ","&Otimes;":"⨷","&Ouml":"Ö","&Ouml;":"Ö","&OverBar;":"‾","&OverBrace;":"⏞","&OverBracket;":"⎴","&OverParenthesis;":"⏜","&PartialD;":"∂","&Pcy;":"П","&Pfr;":"𝔓","&Phi;":"Φ","&Pi;":"Π","&PlusMinus;":"±","&Poincareplane;":"ℌ","&Popf;":"ℙ","&Pr;":"⪻","&Precedes;":"≺","&PrecedesEqual;":"⪯","&PrecedesSlantEqual;":"≼","&PrecedesTilde;":"≾","&Prime;":"″","&Product;":"∏","&Proportion;":"∷","&Proportional;":"∝","&Pscr;":"𝒫","&Psi;":"Ψ","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"𝔔","&Qopf;":"ℚ","&Qscr;":"𝒬","&RBarr;":"⤐","&REG":"®","&REG;":"®","&Racute;":"Ŕ","&Rang;":"⟫","&Rarr;":"↠","&Rarrtl;":"⤖","&Rcaron;":"Ř","&Rcedil;":"Ŗ","&Rcy;":"Р","&Re;":"ℜ","&ReverseElement;":"∋","&ReverseEquilibrium;":"⇋","&ReverseUpEquilibrium;":"⥯","&Rfr;":"ℜ","&Rho;":"Ρ","&RightAngleBracket;":"⟩","&RightArrow;":"→","&RightArrowBar;":"⇥","&RightArrowLeftArrow;":"⇄","&RightCeiling;":"⌉","&RightDoubleBracket;":"⟧","&RightDownTeeVector;":"⥝","&RightDownVector;":"⇂","&RightDownVectorBar;":"⥕","&RightFloor;":"⌋","&RightTee;":"⊢","&RightTeeArrow;":"↦","&RightTeeVector;":"⥛","&RightTriangle;":"⊳","&RightTriangleBar;":"⧐","&RightTriangleEqual;":"⊵","&RightUpDownVector;":"⥏","&RightUpTeeVector;":"⥜","&RightUpVector;":"↾","&RightUpVectorBar;":"⥔","&RightVector;":"⇀","&RightVectorBar;":"⥓","&Rightarrow;":"⇒","&Ropf;":"ℝ","&RoundImplies;":"⥰","&Rrightarrow;":"⇛","&Rscr;":"ℛ","&Rsh;":"↱","&RuleDelayed;":"⧴","&SHCHcy;":"Щ","&SHcy;":"Ш","&SOFTcy;":"Ь","&Sacute;":"Ś","&Sc;":"⪼","&Scaron;":"Š","&Scedil;":"Ş","&Scirc;":"Ŝ","&Scy;":"С","&Sfr;":"𝔖","&ShortDownArrow;":"↓","&ShortLeftArrow;":"←","&ShortRightArrow;":"→","&ShortUpArrow;":"↑","&Sigma;":"Σ","&SmallCircle;":"∘","&Sopf;":"𝕊","&Sqrt;":"√","&Square;":"□","&SquareIntersection;":"⊓","&SquareSubset;":"⊏","&SquareSubsetEqual;":"⊑","&SquareSuperset;":"⊐","&SquareSupersetEqual;":"⊒","&SquareUnion;":"⊔","&Sscr;":"𝒮","&Star;":"⋆","&Sub;":"⋐","&Subset;":"⋐","&SubsetEqual;":"⊆","&Succeeds;":"≻","&SucceedsEqual;":"⪰","&SucceedsSlantEqual;":"≽","&SucceedsTilde;":"≿","&SuchThat;":"∋","&Sum;":"∑","&Sup;":"⋑","&Superset;":"⊃","&SupersetEqual;":"⊇","&Supset;":"⋑","&THORN":"Þ","&THORN;":"Þ","&TRADE;":"™","&TSHcy;":"Ћ","&TScy;":"Ц","&Tab;":"\t","&Tau;":"Τ","&Tcaron;":"Ť","&Tcedil;":"Ţ","&Tcy;":"Т","&Tfr;":"𝔗","&Therefore;":"∴","&Theta;":"Θ","&ThickSpace;":"  ","&ThinSpace;":" ","&Tilde;":"∼","&TildeEqual;":"≃","&TildeFullEqual;":"≅","&TildeTilde;":"≈","&Topf;":"𝕋","&TripleDot;":"⃛","&Tscr;":"𝒯","&Tstrok;":"Ŧ","&Uacute":"Ú","&Uacute;":"Ú","&Uarr;":"↟","&Uarrocir;":"⥉","&Ubrcy;":"Ў","&Ubreve;":"Ŭ","&Ucirc":"Û","&Ucirc;":"Û","&Ucy;":"У","&Udblac;":"Ű","&Ufr;":"𝔘","&Ugrave":"Ù","&Ugrave;":"Ù","&Umacr;":"Ū","&UnderBar;":"_","&UnderBrace;":"⏟","&UnderBracket;":"⎵","&UnderParenthesis;":"⏝","&Union;":"⋃","&UnionPlus;":"⊎","&Uogon;":"Ų","&Uopf;":"𝕌","&UpArrow;":"↑","&UpArrowBar;":"⤒","&UpArrowDownArrow;":"⇅","&UpDownArrow;":"↕","&UpEquilibrium;":"⥮","&UpTee;":"⊥","&UpTeeArrow;":"↥","&Uparrow;":"⇑","&Updownarrow;":"⇕","&UpperLeftArrow;":"↖","&UpperRightArrow;":"↗","&Upsi;":"ϒ","&Upsilon;":"Υ","&Uring;":"Ů","&Uscr;":"𝒰","&Utilde;":"Ũ","&Uuml":"Ü","&Uuml;":"Ü","&VDash;":"⊫","&Vbar;":"⫫","&Vcy;":"В","&Vdash;":"⊩","&Vdashl;":"⫦","&Vee;":"⋁","&Verbar;":"‖","&Vert;":"‖","&VerticalBar;":"∣","&VerticalLine;":"|","&VerticalSeparator;":"❘","&VerticalTilde;":"≀","&VeryThinSpace;":" ","&Vfr;":"𝔙","&Vopf;":"𝕍","&Vscr;":"𝒱","&Vvdash;":"⊪","&Wcirc;":"Ŵ","&Wedge;":"⋀","&Wfr;":"𝔚","&Wopf;":"𝕎","&Wscr;":"𝒲","&Xfr;":"𝔛","&Xi;":"Ξ","&Xopf;":"𝕏","&Xscr;":"𝒳","&YAcy;":"Я","&YIcy;":"Ї","&YUcy;":"Ю","&Yacute":"Ý","&Yacute;":"Ý","&Ycirc;":"Ŷ","&Ycy;":"Ы","&Yfr;":"𝔜","&Yopf;":"𝕐","&Yscr;":"𝒴","&Yuml;":"Ÿ","&ZHcy;":"Ж","&Zacute;":"Ź","&Zcaron;":"Ž","&Zcy;":"З","&Zdot;":"Ż","&ZeroWidthSpace;":"​","&Zeta;":"Ζ","&Zfr;":"ℨ","&Zopf;":"ℤ","&Zscr;":"𝒵","&aacute":"á","&aacute;":"á","&abreve;":"ă","&ac;":"∾","&acE;":"∾̳","&acd;":"∿","&acirc":"â","&acirc;":"â","&acute":"´","&acute;":"´","&acy;":"а","&aelig":"æ","&aelig;":"æ","&af;":"⁡","&afr;":"𝔞","&agrave":"à","&agrave;":"à","&alefsym;":"ℵ","&aleph;":"ℵ","&alpha;":"α","&amacr;":"ā","&amalg;":"⨿","&amp":"&","&amp;":"&","&and;":"∧","&andand;":"⩕","&andd;":"⩜","&andslope;":"⩘","&andv;":"⩚","&ang;":"∠","&ange;":"⦤","&angle;":"∠","&angmsd;":"∡","&angmsdaa;":"⦨","&angmsdab;":"⦩","&angmsdac;":"⦪","&angmsdad;":"⦫","&angmsdae;":"⦬","&angmsdaf;":"⦭","&angmsdag;":"⦮","&angmsdah;":"⦯","&angrt;":"∟","&angrtvb;":"⊾","&angrtvbd;":"⦝","&angsph;":"∢","&angst;":"Å","&angzarr;":"⍼","&aogon;":"ą","&aopf;":"𝕒","&ap;":"≈","&apE;":"⩰","&apacir;":"⩯","&ape;":"≊","&apid;":"≋","&apos;":"'","&approx;":"≈","&approxeq;":"≊","&aring":"å","&aring;":"å","&ascr;":"𝒶","&ast;":"*","&asymp;":"≈","&asympeq;":"≍","&atilde":"ã","&atilde;":"ã","&auml":"ä","&auml;":"ä","&awconint;":"∳","&awint;":"⨑","&bNot;":"⫭","&backcong;":"≌","&backepsilon;":"϶","&backprime;":"‵","&backsim;":"∽","&backsimeq;":"⋍","&barvee;":"⊽","&barwed;":"⌅","&barwedge;":"⌅","&bbrk;":"⎵","&bbrktbrk;":"⎶","&bcong;":"≌","&bcy;":"б","&bdquo;":"„","&becaus;":"∵","&because;":"∵","&bemptyv;":"⦰","&bepsi;":"϶","&bernou;":"ℬ","&beta;":"β","&beth;":"ℶ","&between;":"≬","&bfr;":"𝔟","&bigcap;":"⋂","&bigcirc;":"◯","&bigcup;":"⋃","&bigodot;":"⨀","&bigoplus;":"⨁","&bigotimes;":"⨂","&bigsqcup;":"⨆","&bigstar;":"★","&bigtriangledown;":"▽","&bigtriangleup;":"△","&biguplus;":"⨄","&bigvee;":"⋁","&bigwedge;":"⋀","&bkarow;":"⤍","&blacklozenge;":"⧫","&blacksquare;":"▪","&blacktriangle;":"▴","&blacktriangledown;":"▾","&blacktriangleleft;":"◂","&blacktriangleright;":"▸","&blank;":"␣","&blk12;":"▒","&blk14;":"░","&blk34;":"▓","&block;":"█","&bne;":"=⃥","&bnequiv;":"≡⃥","&bnot;":"⌐","&bopf;":"𝕓","&bot;":"⊥","&bottom;":"⊥","&bowtie;":"⋈","&boxDL;":"╗","&boxDR;":"╔","&boxDl;":"╖","&boxDr;":"╓","&boxH;":"═","&boxHD;":"╦","&boxHU;":"╩","&boxHd;":"╤","&boxHu;":"╧","&boxUL;":"╝","&boxUR;":"╚","&boxUl;":"╜","&boxUr;":"╙","&boxV;":"║","&boxVH;":"╬","&boxVL;":"╣","&boxVR;":"╠","&boxVh;":"╫","&boxVl;":"╢","&boxVr;":"╟","&boxbox;":"⧉","&boxdL;":"╕","&boxdR;":"╒","&boxdl;":"┐","&boxdr;":"┌","&boxh;":"─","&boxhD;":"╥","&boxhU;":"╨","&boxhd;":"┬","&boxhu;":"┴","&boxminus;":"⊟","&boxplus;":"⊞","&boxtimes;":"⊠","&boxuL;":"╛","&boxuR;":"╘","&boxul;":"┘","&boxur;":"└","&boxv;":"│","&boxvH;":"╪","&boxvL;":"╡","&boxvR;":"╞","&boxvh;":"┼","&boxvl;":"┤","&boxvr;":"├","&bprime;":"‵","&breve;":"˘","&brvbar":"¦","&brvbar;":"¦","&bscr;":"𝒷","&bsemi;":"⁏","&bsim;":"∽","&bsime;":"⋍","&bsol;":"\\","&bsolb;":"⧅","&bsolhsub;":"⟈","&bull;":"•","&bullet;":"•","&bump;":"≎","&bumpE;":"⪮","&bumpe;":"≏","&bumpeq;":"≏","&cacute;":"ć","&cap;":"∩","&capand;":"⩄","&capbrcup;":"⩉","&capcap;":"⩋","&capcup;":"⩇","&capdot;":"⩀","&caps;":"∩︀","&caret;":"⁁","&caron;":"ˇ","&ccaps;":"⩍","&ccaron;":"č","&ccedil":"ç","&ccedil;":"ç","&ccirc;":"ĉ","&ccups;":"⩌","&ccupssm;":"⩐","&cdot;":"ċ","&cedil":"¸","&cedil;":"¸","&cemptyv;":"⦲","&cent":"¢","&cent;":"¢","&centerdot;":"·","&cfr;":"𝔠","&chcy;":"ч","&check;":"✓","&checkmark;":"✓","&chi;":"χ","&cir;":"○","&cirE;":"⧃","&circ;":"ˆ","&circeq;":"≗","&circlearrowleft;":"↺","&circlearrowright;":"↻","&circledR;":"®","&circledS;":"Ⓢ","&circledast;":"⊛","&circledcirc;":"⊚","&circleddash;":"⊝","&cire;":"≗","&cirfnint;":"⨐","&cirmid;":"⫯","&cirscir;":"⧂","&clubs;":"♣","&clubsuit;":"♣","&colon;":":","&colone;":"≔","&coloneq;":"≔","&comma;":",","&commat;":"@","&comp;":"∁","&compfn;":"∘","&complement;":"∁","&complexes;":"ℂ","&cong;":"≅","&congdot;":"⩭","&conint;":"∮","&copf;":"𝕔","&coprod;":"∐","&copy":"©","&copy;":"©","&copysr;":"℗","&crarr;":"↵","&cross;":"✗","&cscr;":"𝒸","&csub;":"⫏","&csube;":"⫑","&csup;":"⫐","&csupe;":"⫒","&ctdot;":"⋯","&cudarrl;":"⤸","&cudarrr;":"⤵","&cuepr;":"⋞","&cuesc;":"⋟","&cularr;":"↶","&cularrp;":"⤽","&cup;":"∪","&cupbrcap;":"⩈","&cupcap;":"⩆","&cupcup;":"⩊","&cupdot;":"⊍","&cupor;":"⩅","&cups;":"∪︀","&curarr;":"↷","&curarrm;":"⤼","&curlyeqprec;":"⋞","&curlyeqsucc;":"⋟","&curlyvee;":"⋎","&curlywedge;":"⋏","&curren":"¤","&curren;":"¤","&curvearrowleft;":"↶","&curvearrowright;":"↷","&cuvee;":"⋎","&cuwed;":"⋏","&cwconint;":"∲","&cwint;":"∱","&cylcty;":"⌭","&dArr;":"⇓","&dHar;":"⥥","&dagger;":"†","&daleth;":"ℸ","&darr;":"↓","&dash;":"‐","&dashv;":"⊣","&dbkarow;":"⤏","&dblac;":"˝","&dcaron;":"ď","&dcy;":"д","&dd;":"ⅆ","&ddagger;":"‡","&ddarr;":"⇊","&ddotseq;":"⩷","&deg":"°","&deg;":"°","&delta;":"δ","&demptyv;":"⦱","&dfisht;":"⥿","&dfr;":"𝔡","&dharl;":"⇃","&dharr;":"⇂","&diam;":"⋄","&diamond;":"⋄","&diamondsuit;":"♦","&diams;":"♦","&die;":"¨","&digamma;":"ϝ","&disin;":"⋲","&div;":"÷","&divide":"÷","&divide;":"÷","&divideontimes;":"⋇","&divonx;":"⋇","&djcy;":"ђ","&dlcorn;":"⌞","&dlcrop;":"⌍","&dollar;":"$","&dopf;":"𝕕","&dot;":"˙","&doteq;":"≐","&doteqdot;":"≑","&dotminus;":"∸","&dotplus;":"∔","&dotsquare;":"⊡","&doublebarwedge;":"⌆","&downarrow;":"↓","&downdownarrows;":"⇊","&downharpoonleft;":"⇃","&downharpoonright;":"⇂","&drbkarow;":"⤐","&drcorn;":"⌟","&drcrop;":"⌌","&dscr;":"𝒹","&dscy;":"ѕ","&dsol;":"⧶","&dstrok;":"đ","&dtdot;":"⋱","&dtri;":"▿","&dtrif;":"▾","&duarr;":"⇵","&duhar;":"⥯","&dwangle;":"⦦","&dzcy;":"џ","&dzigrarr;":"⟿","&eDDot;":"⩷","&eDot;":"≑","&eacute":"é","&eacute;":"é","&easter;":"⩮","&ecaron;":"ě","&ecir;":"≖","&ecirc":"ê","&ecirc;":"ê","&ecolon;":"≕","&ecy;":"э","&edot;":"ė","&ee;":"ⅇ","&efDot;":"≒","&efr;":"𝔢","&eg;":"⪚","&egrave":"è","&egrave;":"è","&egs;":"⪖","&egsdot;":"⪘","&el;":"⪙","&elinters;":"⏧","&ell;":"ℓ","&els;":"⪕","&elsdot;":"⪗","&emacr;":"ē","&empty;":"∅","&emptyset;":"∅","&emptyv;":"∅","&emsp13;":" ","&emsp14;":" ","&emsp;":" ","&eng;":"ŋ","&ensp;":" ","&eogon;":"ę","&eopf;":"𝕖","&epar;":"⋕","&eparsl;":"⧣","&eplus;":"⩱","&epsi;":"ε","&epsilon;":"ε","&epsiv;":"ϵ","&eqcirc;":"≖","&eqcolon;":"≕","&eqsim;":"≂","&eqslantgtr;":"⪖","&eqslantless;":"⪕","&equals;":"=","&equest;":"≟","&equiv;":"≡","&equivDD;":"⩸","&eqvparsl;":"⧥","&erDot;":"≓","&erarr;":"⥱","&escr;":"ℯ","&esdot;":"≐","&esim;":"≂","&eta;":"η","&eth":"ð","&eth;":"ð","&euml":"ë","&euml;":"ë","&euro;":"€","&excl;":"!","&exist;":"∃","&expectation;":"ℰ","&exponentiale;":"ⅇ","&fallingdotseq;":"≒","&fcy;":"ф","&female;":"♀","&ffilig;":"ﬃ","&fflig;":"ﬀ","&ffllig;":"ﬄ","&ffr;":"𝔣","&filig;":"ﬁ","&fjlig;":"fj","&flat;":"♭","&fllig;":"ﬂ","&fltns;":"▱","&fnof;":"ƒ","&fopf;":"𝕗","&forall;":"∀","&fork;":"⋔","&forkv;":"⫙","&fpartint;":"⨍","&frac12":"½","&frac12;":"½","&frac13;":"⅓","&frac14":"¼","&frac14;":"¼","&frac15;":"⅕","&frac16;":"⅙","&frac18;":"⅛","&frac23;":"⅔","&frac25;":"⅖","&frac34":"¾","&frac34;":"¾","&frac35;":"⅗","&frac38;":"⅜","&frac45;":"⅘","&frac56;":"⅚","&frac58;":"⅝","&frac78;":"⅞","&frasl;":"⁄","&frown;":"⌢","&fscr;":"𝒻","&gE;":"≧","&gEl;":"⪌","&gacute;":"ǵ","&gamma;":"γ","&gammad;":"ϝ","&gap;":"⪆","&gbreve;":"ğ","&gcirc;":"ĝ","&gcy;":"г","&gdot;":"ġ","&ge;":"≥","&gel;":"⋛","&geq;":"≥","&geqq;":"≧","&geqslant;":"⩾","&ges;":"⩾","&gescc;":"⪩","&gesdot;":"⪀","&gesdoto;":"⪂","&gesdotol;":"⪄","&gesl;":"⋛︀","&gesles;":"⪔","&gfr;":"𝔤","&gg;":"≫","&ggg;":"⋙","&gimel;":"ℷ","&gjcy;":"ѓ","&gl;":"≷","&glE;":"⪒","&gla;":"⪥","&glj;":"⪤","&gnE;":"≩","&gnap;":"⪊","&gnapprox;":"⪊","&gne;":"⪈","&gneq;":"⪈","&gneqq;":"≩","&gnsim;":"⋧","&gopf;":"𝕘","&grave;":"`","&gscr;":"ℊ","&gsim;":"≳","&gsime;":"⪎","&gsiml;":"⪐","&gt":">","&gt;":">","&gtcc;":"⪧","&gtcir;":"⩺","&gtdot;":"⋗","&gtlPar;":"⦕","&gtquest;":"⩼","&gtrapprox;":"⪆","&gtrarr;":"⥸","&gtrdot;":"⋗","&gtreqless;":"⋛","&gtreqqless;":"⪌","&gtrless;":"≷","&gtrsim;":"≳","&gvertneqq;":"≩︀","&gvnE;":"≩︀","&hArr;":"⇔","&hairsp;":" ","&half;":"½","&hamilt;":"ℋ","&hardcy;":"ъ","&harr;":"↔","&harrcir;":"⥈","&harrw;":"↭","&hbar;":"ℏ","&hcirc;":"ĥ","&hearts;":"♥","&heartsuit;":"♥","&hellip;":"…","&hercon;":"⊹","&hfr;":"𝔥","&hksearow;":"⤥","&hkswarow;":"⤦","&hoarr;":"⇿","&homtht;":"∻","&hookleftarrow;":"↩","&hookrightarrow;":"↪","&hopf;":"𝕙","&horbar;":"―","&hscr;":"𝒽","&hslash;":"ℏ","&hstrok;":"ħ","&hybull;":"⁃","&hyphen;":"‐","&iacute":"í","&iacute;":"í","&ic;":"⁣","&icirc":"î","&icirc;":"î","&icy;":"и","&iecy;":"е","&iexcl":"¡","&iexcl;":"¡","&iff;":"⇔","&ifr;":"𝔦","&igrave":"ì","&igrave;":"ì","&ii;":"ⅈ","&iiiint;":"⨌","&iiint;":"∭","&iinfin;":"⧜","&iiota;":"℩","&ijlig;":"ĳ","&imacr;":"ī","&image;":"ℑ","&imagline;":"ℐ","&imagpart;":"ℑ","&imath;":"ı","&imof;":"⊷","&imped;":"Ƶ","&in;":"∈","&incare;":"℅","&infin;":"∞","&infintie;":"⧝","&inodot;":"ı","&int;":"∫","&intcal;":"⊺","&integers;":"ℤ","&intercal;":"⊺","&intlarhk;":"⨗","&intprod;":"⨼","&iocy;":"ё","&iogon;":"į","&iopf;":"𝕚","&iota;":"ι","&iprod;":"⨼","&iquest":"¿","&iquest;":"¿","&iscr;":"𝒾","&isin;":"∈","&isinE;":"⋹","&isindot;":"⋵","&isins;":"⋴","&isinsv;":"⋳","&isinv;":"∈","&it;":"⁢","&itilde;":"ĩ","&iukcy;":"і","&iuml":"ï","&iuml;":"ï","&jcirc;":"ĵ","&jcy;":"й","&jfr;":"𝔧","&jmath;":"ȷ","&jopf;":"𝕛","&jscr;":"𝒿","&jsercy;":"ј","&jukcy;":"є","&kappa;":"κ","&kappav;":"ϰ","&kcedil;":"ķ","&kcy;":"к","&kfr;":"𝔨","&kgreen;":"ĸ","&khcy;":"х","&kjcy;":"ќ","&kopf;":"𝕜","&kscr;":"𝓀","&lAarr;":"⇚","&lArr;":"⇐","&lAtail;":"⤛","&lBarr;":"⤎","&lE;":"≦","&lEg;":"⪋","&lHar;":"⥢","&lacute;":"ĺ","&laemptyv;":"⦴","&lagran;":"ℒ","&lambda;":"λ","&lang;":"⟨","&langd;":"⦑","&langle;":"⟨","&lap;":"⪅","&laquo":"«","&laquo;":"«","&larr;":"←","&larrb;":"⇤","&larrbfs;":"⤟","&larrfs;":"⤝","&larrhk;":"↩","&larrlp;":"↫","&larrpl;":"⤹","&larrsim;":"⥳","&larrtl;":"↢","&lat;":"⪫","&latail;":"⤙","&late;":"⪭","&lates;":"⪭︀","&lbarr;":"⤌","&lbbrk;":"❲","&lbrace;":"{","&lbrack;":"[","&lbrke;":"⦋","&lbrksld;":"⦏","&lbrkslu;":"⦍","&lcaron;":"ľ","&lcedil;":"ļ","&lceil;":"⌈","&lcub;":"{","&lcy;":"л","&ldca;":"⤶","&ldquo;":"“","&ldquor;":"„","&ldrdhar;":"⥧","&ldrushar;":"⥋","&ldsh;":"↲","&le;":"≤","&leftarrow;":"←","&leftarrowtail;":"↢","&leftharpoondown;":"↽","&leftharpoonup;":"↼","&leftleftarrows;":"⇇","&leftrightarrow;":"↔","&leftrightarrows;":"⇆","&leftrightharpoons;":"⇋","&leftrightsquigarrow;":"↭","&leftthreetimes;":"⋋","&leg;":"⋚","&leq;":"≤","&leqq;":"≦","&leqslant;":"⩽","&les;":"⩽","&lescc;":"⪨","&lesdot;":"⩿","&lesdoto;":"⪁","&lesdotor;":"⪃","&lesg;":"⋚︀","&lesges;":"⪓","&lessapprox;":"⪅","&lessdot;":"⋖","&lesseqgtr;":"⋚","&lesseqqgtr;":"⪋","&lessgtr;":"≶","&lesssim;":"≲","&lfisht;":"⥼","&lfloor;":"⌊","&lfr;":"𝔩","&lg;":"≶","&lgE;":"⪑","&lhard;":"↽","&lharu;":"↼","&lharul;":"⥪","&lhblk;":"▄","&ljcy;":"љ","&ll;":"≪","&llarr;":"⇇","&llcorner;":"⌞","&llhard;":"⥫","&lltri;":"◺","&lmidot;":"ŀ","&lmoust;":"⎰","&lmoustache;":"⎰","&lnE;":"≨","&lnap;":"⪉","&lnapprox;":"⪉","&lne;":"⪇","&lneq;":"⪇","&lneqq;":"≨","&lnsim;":"⋦","&loang;":"⟬","&loarr;":"⇽","&lobrk;":"⟦","&longleftarrow;":"⟵","&longleftrightarrow;":"⟷","&longmapsto;":"⟼","&longrightarrow;":"⟶","&looparrowleft;":"↫","&looparrowright;":"↬","&lopar;":"⦅","&lopf;":"𝕝","&loplus;":"⨭","&lotimes;":"⨴","&lowast;":"∗","&lowbar;":"_","&loz;":"◊","&lozenge;":"◊","&lozf;":"⧫","&lpar;":"(","&lparlt;":"⦓","&lrarr;":"⇆","&lrcorner;":"⌟","&lrhar;":"⇋","&lrhard;":"⥭","&lrm;":"‎","&lrtri;":"⊿","&lsaquo;":"‹","&lscr;":"𝓁","&lsh;":"↰","&lsim;":"≲","&lsime;":"⪍","&lsimg;":"⪏","&lsqb;":"[","&lsquo;":"‘","&lsquor;":"‚","&lstrok;":"ł","&lt":"<","&lt;":"<","&ltcc;":"⪦","&ltcir;":"⩹","&ltdot;":"⋖","&lthree;":"⋋","&ltimes;":"⋉","&ltlarr;":"⥶","&ltquest;":"⩻","&ltrPar;":"⦖","&ltri;":"◃","&ltrie;":"⊴","&ltrif;":"◂","&lurdshar;":"⥊","&luruhar;":"⥦","&lvertneqq;":"≨︀","&lvnE;":"≨︀","&mDDot;":"∺","&macr":"¯","&macr;":"¯","&male;":"♂","&malt;":"✠","&maltese;":"✠","&map;":"↦","&mapsto;":"↦","&mapstodown;":"↧","&mapstoleft;":"↤","&mapstoup;":"↥","&marker;":"▮","&mcomma;":"⨩","&mcy;":"м","&mdash;":"—","&measuredangle;":"∡","&mfr;":"𝔪","&mho;":"℧","&micro":"µ","&micro;":"µ","&mid;":"∣","&midast;":"*","&midcir;":"⫰","&middot":"·","&middot;":"·","&minus;":"−","&minusb;":"⊟","&minusd;":"∸","&minusdu;":"⨪","&mlcp;":"⫛","&mldr;":"…","&mnplus;":"∓","&models;":"⊧","&mopf;":"𝕞","&mp;":"∓","&mscr;":"𝓂","&mstpos;":"∾","&mu;":"μ","&multimap;":"⊸","&mumap;":"⊸","&nGg;":"⋙̸","&nGt;":"≫⃒","&nGtv;":"≫̸","&nLeftarrow;":"⇍","&nLeftrightarrow;":"⇎","&nLl;":"⋘̸","&nLt;":"≪⃒","&nLtv;":"≪̸","&nRightarrow;":"⇏","&nVDash;":"⊯","&nVdash;":"⊮","&nabla;":"∇","&nacute;":"ń","&nang;":"∠⃒","&nap;":"≉","&napE;":"⩰̸","&napid;":"≋̸","&napos;":"ŉ","&napprox;":"≉","&natur;":"♮","&natural;":"♮","&naturals;":"ℕ","&nbsp":" ","&nbsp;":" ","&nbump;":"≎̸","&nbumpe;":"≏̸","&ncap;":"⩃","&ncaron;":"ň","&ncedil;":"ņ","&ncong;":"≇","&ncongdot;":"⩭̸","&ncup;":"⩂","&ncy;":"н","&ndash;":"–","&ne;":"≠","&neArr;":"⇗","&nearhk;":"⤤","&nearr;":"↗","&nearrow;":"↗","&nedot;":"≐̸","&nequiv;":"≢","&nesear;":"⤨","&nesim;":"≂̸","&nexist;":"∄","&nexists;":"∄","&nfr;":"𝔫","&ngE;":"≧̸","&nge;":"≱","&ngeq;":"≱","&ngeqq;":"≧̸","&ngeqslant;":"⩾̸","&nges;":"⩾̸","&ngsim;":"≵","&ngt;":"≯","&ngtr;":"≯","&nhArr;":"⇎","&nharr;":"↮","&nhpar;":"⫲","&ni;":"∋","&nis;":"⋼","&nisd;":"⋺","&niv;":"∋","&njcy;":"њ","&nlArr;":"⇍","&nlE;":"≦̸","&nlarr;":"↚","&nldr;":"‥","&nle;":"≰","&nleftarrow;":"↚","&nleftrightarrow;":"↮","&nleq;":"≰","&nleqq;":"≦̸","&nleqslant;":"⩽̸","&nles;":"⩽̸","&nless;":"≮","&nlsim;":"≴","&nlt;":"≮","&nltri;":"⋪","&nltrie;":"⋬","&nmid;":"∤","&nopf;":"𝕟","&not":"¬","&not;":"¬","&notin;":"∉","&notinE;":"⋹̸","&notindot;":"⋵̸","&notinva;":"∉","&notinvb;":"⋷","&notinvc;":"⋶","&notni;":"∌","&notniva;":"∌","&notnivb;":"⋾","&notnivc;":"⋽","&npar;":"∦","&nparallel;":"∦","&nparsl;":"⫽⃥","&npart;":"∂̸","&npolint;":"⨔","&npr;":"⊀","&nprcue;":"⋠","&npre;":"⪯̸","&nprec;":"⊀","&npreceq;":"⪯̸","&nrArr;":"⇏","&nrarr;":"↛","&nrarrc;":"⤳̸","&nrarrw;":"↝̸","&nrightarrow;":"↛","&nrtri;":"⋫","&nrtrie;":"⋭","&nsc;":"⊁","&nsccue;":"⋡","&nsce;":"⪰̸","&nscr;":"𝓃","&nshortmid;":"∤","&nshortparallel;":"∦","&nsim;":"≁","&nsime;":"≄","&nsimeq;":"≄","&nsmid;":"∤","&nspar;":"∦","&nsqsube;":"⋢","&nsqsupe;":"⋣","&nsub;":"⊄","&nsubE;":"⫅̸","&nsube;":"⊈","&nsubset;":"⊂⃒","&nsubseteq;":"⊈","&nsubseteqq;":"⫅̸","&nsucc;":"⊁","&nsucceq;":"⪰̸","&nsup;":"⊅","&nsupE;":"⫆̸","&nsupe;":"⊉","&nsupset;":"⊃⃒","&nsupseteq;":"⊉","&nsupseteqq;":"⫆̸","&ntgl;":"≹","&ntilde":"ñ","&ntilde;":"ñ","&ntlg;":"≸","&ntriangleleft;":"⋪","&ntrianglelefteq;":"⋬","&ntriangleright;":"⋫","&ntrianglerighteq;":"⋭","&nu;":"ν","&num;":"#","&numero;":"№","&numsp;":" ","&nvDash;":"⊭","&nvHarr;":"⤄","&nvap;":"≍⃒","&nvdash;":"⊬","&nvge;":"≥⃒","&nvgt;":">⃒","&nvinfin;":"⧞","&nvlArr;":"⤂","&nvle;":"≤⃒","&nvlt;":"<⃒","&nvltrie;":"⊴⃒","&nvrArr;":"⤃","&nvrtrie;":"⊵⃒","&nvsim;":"∼⃒","&nwArr;":"⇖","&nwarhk;":"⤣","&nwarr;":"↖","&nwarrow;":"↖","&nwnear;":"⤧","&oS;":"Ⓢ","&oacute":"ó","&oacute;":"ó","&oast;":"⊛","&ocir;":"⊚","&ocirc":"ô","&ocirc;":"ô","&ocy;":"о","&odash;":"⊝","&odblac;":"ő","&odiv;":"⨸","&odot;":"⊙","&odsold;":"⦼","&oelig;":"œ","&ofcir;":"⦿","&ofr;":"𝔬","&ogon;":"˛","&ograve":"ò","&ograve;":"ò","&ogt;":"⧁","&ohbar;":"⦵","&ohm;":"Ω","&oint;":"∮","&olarr;":"↺","&olcir;":"⦾","&olcross;":"⦻","&oline;":"‾","&olt;":"⧀","&omacr;":"ō","&omega;":"ω","&omicron;":"ο","&omid;":"⦶","&ominus;":"⊖","&oopf;":"𝕠","&opar;":"⦷","&operp;":"⦹","&oplus;":"⊕","&or;":"∨","&orarr;":"↻","&ord;":"⩝","&order;":"ℴ","&orderof;":"ℴ","&ordf":"ª","&ordf;":"ª","&ordm":"º","&ordm;":"º","&origof;":"⊶","&oror;":"⩖","&orslope;":"⩗","&orv;":"⩛","&oscr;":"ℴ","&oslash":"ø","&oslash;":"ø","&osol;":"⊘","&otilde":"õ","&otilde;":"õ","&otimes;":"⊗","&otimesas;":"⨶","&ouml":"ö","&ouml;":"ö","&ovbar;":"⌽","&par;":"∥","&para":"¶","&para;":"¶","&parallel;":"∥","&parsim;":"⫳","&parsl;":"⫽","&part;":"∂","&pcy;":"п","&percnt;":"%","&period;":".","&permil;":"‰","&perp;":"⊥","&pertenk;":"‱","&pfr;":"𝔭","&phi;":"φ","&phiv;":"ϕ","&phmmat;":"ℳ","&phone;":"☎","&pi;":"π","&pitchfork;":"⋔","&piv;":"ϖ","&planck;":"ℏ","&planckh;":"ℎ","&plankv;":"ℏ","&plus;":"+","&plusacir;":"⨣","&plusb;":"⊞","&pluscir;":"⨢","&plusdo;":"∔","&plusdu;":"⨥","&pluse;":"⩲","&plusmn":"±","&plusmn;":"±","&plussim;":"⨦","&plustwo;":"⨧","&pm;":"±","&pointint;":"⨕","&popf;":"𝕡","&pound":"£","&pound;":"£","&pr;":"≺","&prE;":"⪳","&prap;":"⪷","&prcue;":"≼","&pre;":"⪯","&prec;":"≺","&precapprox;":"⪷","&preccurlyeq;":"≼","&preceq;":"⪯","&precnapprox;":"⪹","&precneqq;":"⪵","&precnsim;":"⋨","&precsim;":"≾","&prime;":"′","&primes;":"ℙ","&prnE;":"⪵","&prnap;":"⪹","&prnsim;":"⋨","&prod;":"∏","&profalar;":"⌮","&profline;":"⌒","&profsurf;":"⌓","&prop;":"∝","&propto;":"∝","&prsim;":"≾","&prurel;":"⊰","&pscr;":"𝓅","&psi;":"ψ","&puncsp;":" ","&qfr;":"𝔮","&qint;":"⨌","&qopf;":"𝕢","&qprime;":"⁗","&qscr;":"𝓆","&quaternions;":"ℍ","&quatint;":"⨖","&quest;":"?","&questeq;":"≟","&quot":'"',"&quot;":'"',"&rAarr;":"⇛","&rArr;":"⇒","&rAtail;":"⤜","&rBarr;":"⤏","&rHar;":"⥤","&race;":"∽̱","&racute;":"ŕ","&radic;":"√","&raemptyv;":"⦳","&rang;":"⟩","&rangd;":"⦒","&range;":"⦥","&rangle;":"⟩","&raquo":"»","&raquo;":"»","&rarr;":"→","&rarrap;":"⥵","&rarrb;":"⇥","&rarrbfs;":"⤠","&rarrc;":"⤳","&rarrfs;":"⤞","&rarrhk;":"↪","&rarrlp;":"↬","&rarrpl;":"⥅","&rarrsim;":"⥴","&rarrtl;":"↣","&rarrw;":"↝","&ratail;":"⤚","&ratio;":"∶","&rationals;":"ℚ","&rbarr;":"⤍","&rbbrk;":"❳","&rbrace;":"}","&rbrack;":"]","&rbrke;":"⦌","&rbrksld;":"⦎","&rbrkslu;":"⦐","&rcaron;":"ř","&rcedil;":"ŗ","&rceil;":"⌉","&rcub;":"}","&rcy;":"р","&rdca;":"⤷","&rdldhar;":"⥩","&rdquo;":"”","&rdquor;":"”","&rdsh;":"↳","&real;":"ℜ","&realine;":"ℛ","&realpart;":"ℜ","&reals;":"ℝ","&rect;":"▭","&reg":"®","&reg;":"®","&rfisht;":"⥽","&rfloor;":"⌋","&rfr;":"𝔯","&rhard;":"⇁","&rharu;":"⇀","&rharul;":"⥬","&rho;":"ρ","&rhov;":"ϱ","&rightarrow;":"→","&rightarrowtail;":"↣","&rightharpoondown;":"⇁","&rightharpoonup;":"⇀","&rightleftarrows;":"⇄","&rightleftharpoons;":"⇌","&rightrightarrows;":"⇉","&rightsquigarrow;":"↝","&rightthreetimes;":"⋌","&ring;":"˚","&risingdotseq;":"≓","&rlarr;":"⇄","&rlhar;":"⇌","&rlm;":"‏","&rmoust;":"⎱","&rmoustache;":"⎱","&rnmid;":"⫮","&roang;":"⟭","&roarr;":"⇾","&robrk;":"⟧","&ropar;":"⦆","&ropf;":"𝕣","&roplus;":"⨮","&rotimes;":"⨵","&rpar;":")","&rpargt;":"⦔","&rppolint;":"⨒","&rrarr;":"⇉","&rsaquo;":"›","&rscr;":"𝓇","&rsh;":"↱","&rsqb;":"]","&rsquo;":"’","&rsquor;":"’","&rthree;":"⋌","&rtimes;":"⋊","&rtri;":"▹","&rtrie;":"⊵","&rtrif;":"▸","&rtriltri;":"⧎","&ruluhar;":"⥨","&rx;":"℞","&sacute;":"ś","&sbquo;":"‚","&sc;":"≻","&scE;":"⪴","&scap;":"⪸","&scaron;":"š","&sccue;":"≽","&sce;":"⪰","&scedil;":"ş","&scirc;":"ŝ","&scnE;":"⪶","&scnap;":"⪺","&scnsim;":"⋩","&scpolint;":"⨓","&scsim;":"≿","&scy;":"с","&sdot;":"⋅","&sdotb;":"⊡","&sdote;":"⩦","&seArr;":"⇘","&searhk;":"⤥","&searr;":"↘","&searrow;":"↘","&sect":"§","&sect;":"§","&semi;":";","&seswar;":"⤩","&setminus;":"∖","&setmn;":"∖","&sext;":"✶","&sfr;":"𝔰","&sfrown;":"⌢","&sharp;":"♯","&shchcy;":"щ","&shcy;":"ш","&shortmid;":"∣","&shortparallel;":"∥","&shy":"­","&shy;":"­","&sigma;":"σ","&sigmaf;":"ς","&sigmav;":"ς","&sim;":"∼","&simdot;":"⩪","&sime;":"≃","&simeq;":"≃","&simg;":"⪞","&simgE;":"⪠","&siml;":"⪝","&simlE;":"⪟","&simne;":"≆","&simplus;":"⨤","&simrarr;":"⥲","&slarr;":"←","&smallsetminus;":"∖","&smashp;":"⨳","&smeparsl;":"⧤","&smid;":"∣","&smile;":"⌣","&smt;":"⪪","&smte;":"⪬","&smtes;":"⪬︀","&softcy;":"ь","&sol;":"/","&solb;":"⧄","&solbar;":"⌿","&sopf;":"𝕤","&spades;":"♠","&spadesuit;":"♠","&spar;":"∥","&sqcap;":"⊓","&sqcaps;":"⊓︀","&sqcup;":"⊔","&sqcups;":"⊔︀","&sqsub;":"⊏","&sqsube;":"⊑","&sqsubset;":"⊏","&sqsubseteq;":"⊑","&sqsup;":"⊐","&sqsupe;":"⊒","&sqsupset;":"⊐","&sqsupseteq;":"⊒","&squ;":"□","&square;":"□","&squarf;":"▪","&squf;":"▪","&srarr;":"→","&sscr;":"𝓈","&ssetmn;":"∖","&ssmile;":"⌣","&sstarf;":"⋆","&star;":"☆","&starf;":"★","&straightepsilon;":"ϵ","&straightphi;":"ϕ","&strns;":"¯","&sub;":"⊂","&subE;":"⫅","&subdot;":"⪽","&sube;":"⊆","&subedot;":"⫃","&submult;":"⫁","&subnE;":"⫋","&subne;":"⊊","&subplus;":"⪿","&subrarr;":"⥹","&subset;":"⊂","&subseteq;":"⊆","&subseteqq;":"⫅","&subsetneq;":"⊊","&subsetneqq;":"⫋","&subsim;":"⫇","&subsub;":"⫕","&subsup;":"⫓","&succ;":"≻","&succapprox;":"⪸","&succcurlyeq;":"≽","&succeq;":"⪰","&succnapprox;":"⪺","&succneqq;":"⪶","&succnsim;":"⋩","&succsim;":"≿","&sum;":"∑","&sung;":"♪","&sup1":"¹","&sup1;":"¹","&sup2":"²","&sup2;":"²","&sup3":"³","&sup3;":"³","&sup;":"⊃","&supE;":"⫆","&supdot;":"⪾","&supdsub;":"⫘","&supe;":"⊇","&supedot;":"⫄","&suphsol;":"⟉","&suphsub;":"⫗","&suplarr;":"⥻","&supmult;":"⫂","&supnE;":"⫌","&supne;":"⊋","&supplus;":"⫀","&supset;":"⊃","&supseteq;":"⊇","&supseteqq;":"⫆","&supsetneq;":"⊋","&supsetneqq;":"⫌","&supsim;":"⫈","&supsub;":"⫔","&supsup;":"⫖","&swArr;":"⇙","&swarhk;":"⤦","&swarr;":"↙","&swarrow;":"↙","&swnwar;":"⤪","&szlig":"ß","&szlig;":"ß","&target;":"⌖","&tau;":"τ","&tbrk;":"⎴","&tcaron;":"ť","&tcedil;":"ţ","&tcy;":"т","&tdot;":"⃛","&telrec;":"⌕","&tfr;":"𝔱","&there4;":"∴","&therefore;":"∴","&theta;":"θ","&thetasym;":"ϑ","&thetav;":"ϑ","&thickapprox;":"≈","&thicksim;":"∼","&thinsp;":" ","&thkap;":"≈","&thksim;":"∼","&thorn":"þ","&thorn;":"þ","&tilde;":"˜","&times":"×","&times;":"×","&timesb;":"⊠","&timesbar;":"⨱","&timesd;":"⨰","&tint;":"∭","&toea;":"⤨","&top;":"⊤","&topbot;":"⌶","&topcir;":"⫱","&topf;":"𝕥","&topfork;":"⫚","&tosa;":"⤩","&tprime;":"‴","&trade;":"™","&triangle;":"▵","&triangledown;":"▿","&triangleleft;":"◃","&trianglelefteq;":"⊴","&triangleq;":"≜","&triangleright;":"▹","&trianglerighteq;":"⊵","&tridot;":"◬","&trie;":"≜","&triminus;":"⨺","&triplus;":"⨹","&trisb;":"⧍","&tritime;":"⨻","&trpezium;":"⏢","&tscr;":"𝓉","&tscy;":"ц","&tshcy;":"ћ","&tstrok;":"ŧ","&twixt;":"≬","&twoheadleftarrow;":"↞","&twoheadrightarrow;":"↠","&uArr;":"⇑","&uHar;":"⥣","&uacute":"ú","&uacute;":"ú","&uarr;":"↑","&ubrcy;":"ў","&ubreve;":"ŭ","&ucirc":"û","&ucirc;":"û","&ucy;":"у","&udarr;":"⇅","&udblac;":"ű","&udhar;":"⥮","&ufisht;":"⥾","&ufr;":"𝔲","&ugrave":"ù","&ugrave;":"ù","&uharl;":"↿","&uharr;":"↾","&uhblk;":"▀","&ulcorn;":"⌜","&ulcorner;":"⌜","&ulcrop;":"⌏","&ultri;":"◸","&umacr;":"ū","&uml":"¨","&uml;":"¨","&uogon;":"ų","&uopf;":"𝕦","&uparrow;":"↑","&updownarrow;":"↕","&upharpoonleft;":"↿","&upharpoonright;":"↾","&uplus;":"⊎","&upsi;":"υ","&upsih;":"ϒ","&upsilon;":"υ","&upuparrows;":"⇈","&urcorn;":"⌝","&urcorner;":"⌝","&urcrop;":"⌎","&uring;":"ů","&urtri;":"◹","&uscr;":"𝓊","&utdot;":"⋰","&utilde;":"ũ","&utri;":"▵","&utrif;":"▴","&uuarr;":"⇈","&uuml":"ü","&uuml;":"ü","&uwangle;":"⦧","&vArr;":"⇕","&vBar;":"⫨","&vBarv;":"⫩","&vDash;":"⊨","&vangrt;":"⦜","&varepsilon;":"ϵ","&varkappa;":"ϰ","&varnothing;":"∅","&varphi;":"ϕ","&varpi;":"ϖ","&varpropto;":"∝","&varr;":"↕","&varrho;":"ϱ","&varsigma;":"ς","&varsubsetneq;":"⊊︀","&varsubsetneqq;":"⫋︀","&varsupsetneq;":"⊋︀","&varsupsetneqq;":"⫌︀","&vartheta;":"ϑ","&vartriangleleft;":"⊲","&vartriangleright;":"⊳","&vcy;":"в","&vdash;":"⊢","&vee;":"∨","&veebar;":"⊻","&veeeq;":"≚","&vellip;":"⋮","&verbar;":"|","&vert;":"|","&vfr;":"𝔳","&vltri;":"⊲","&vnsub;":"⊂⃒","&vnsup;":"⊃⃒","&vopf;":"𝕧","&vprop;":"∝","&vrtri;":"⊳","&vscr;":"𝓋","&vsubnE;":"⫋︀","&vsubne;":"⊊︀","&vsupnE;":"⫌︀","&vsupne;":"⊋︀","&vzigzag;":"⦚","&wcirc;":"ŵ","&wedbar;":"⩟","&wedge;":"∧","&wedgeq;":"≙","&weierp;":"℘","&wfr;":"𝔴","&wopf;":"𝕨","&wp;":"℘","&wr;":"≀","&wreath;":"≀","&wscr;":"𝓌","&xcap;":"⋂","&xcirc;":"◯","&xcup;":"⋃","&xdtri;":"▽","&xfr;":"𝔵","&xhArr;":"⟺","&xharr;":"⟷","&xi;":"ξ","&xlArr;":"⟸","&xlarr;":"⟵","&xmap;":"⟼","&xnis;":"⋻","&xodot;":"⨀","&xopf;":"𝕩","&xoplus;":"⨁","&xotime;":"⨂","&xrArr;":"⟹","&xrarr;":"⟶","&xscr;":"𝓍","&xsqcup;":"⨆","&xuplus;":"⨄","&xutri;":"△","&xvee;":"⋁","&xwedge;":"⋀","&yacute":"ý","&yacute;":"ý","&yacy;":"я","&ycirc;":"ŷ","&ycy;":"ы","&yen":"¥","&yen;":"¥","&yfr;":"𝔶","&yicy;":"ї","&yopf;":"𝕪","&yscr;":"𝓎","&yucy;":"ю","&yuml":"ÿ","&yuml;":"ÿ","&zacute;":"ź","&zcaron;":"ž","&zcy;":"з","&zdot;":"ż","&zeetrf;":"ℨ","&zeta;":"ζ","&zfr;":"𝔷","&zhcy;":"ж","&zigrarr;":"⇝","&zopf;":"𝕫","&zscr;":"𝓏","&zwj;":"‍","&zwnj;":"‌"},characters:{"Æ":"&AElig;","&":"&amp;","Á":"&Aacute;","Ă":"&Abreve;","Â":"&Acirc;","А":"&Acy;","𝔄":"&Afr;","À":"&Agrave;","Α":"&Alpha;","Ā":"&Amacr;","⩓":"&And;","Ą":"&Aogon;","𝔸":"&Aopf;","⁡":"&af;","Å":"&angst;","𝒜":"&Ascr;","≔":"&coloneq;","Ã":"&Atilde;","Ä":"&Auml;","∖":"&ssetmn;","⫧":"&Barv;","⌆":"&doublebarwedge;","Б":"&Bcy;","∵":"&because;","ℬ":"&bernou;","Β":"&Beta;","𝔅":"&Bfr;","𝔹":"&Bopf;","˘":"&breve;","≎":"&bump;","Ч":"&CHcy;","©":"&copy;","Ć":"&Cacute;","⋒":"&Cap;","ⅅ":"&DD;","ℭ":"&Cfr;","Č":"&Ccaron;","Ç":"&Ccedil;","Ĉ":"&Ccirc;","∰":"&Cconint;","Ċ":"&Cdot;","¸":"&cedil;","·":"&middot;","Χ":"&Chi;","⊙":"&odot;","⊖":"&ominus;","⊕":"&oplus;","⊗":"&otimes;","∲":"&cwconint;","”":"&rdquor;","’":"&rsquor;","∷":"&Proportion;","⩴":"&Colone;","≡":"&equiv;","∯":"&DoubleContourIntegral;","∮":"&oint;","ℂ":"&complexes;","∐":"&coprod;","∳":"&awconint;","⨯":"&Cross;","𝒞":"&Cscr;","⋓":"&Cup;","≍":"&asympeq;","⤑":"&DDotrahd;","Ђ":"&DJcy;","Ѕ":"&DScy;","Џ":"&DZcy;","‡":"&ddagger;","↡":"&Darr;","⫤":"&DoubleLeftTee;","Ď":"&Dcaron;","Д":"&Dcy;","∇":"&nabla;","Δ":"&Delta;","𝔇":"&Dfr;","´":"&acute;","˙":"&dot;","˝":"&dblac;","`":"&grave;","˜":"&tilde;","⋄":"&diamond;","ⅆ":"&dd;","𝔻":"&Dopf;","¨":"&uml;","⃜":"&DotDot;","≐":"&esdot;","⇓":"&dArr;","⇐":"&lArr;","⇔":"&iff;","⟸":"&xlArr;","⟺":"&xhArr;","⟹":"&xrArr;","⇒":"&rArr;","⊨":"&vDash;","⇑":"&uArr;","⇕":"&vArr;","∥":"&spar;","↓":"&downarrow;","⤓":"&DownArrowBar;","⇵":"&duarr;","̑":"&DownBreve;","⥐":"&DownLeftRightVector;","⥞":"&DownLeftTeeVector;","↽":"&lhard;","⥖":"&DownLeftVectorBar;","⥟":"&DownRightTeeVector;","⇁":"&rightharpoondown;","⥗":"&DownRightVectorBar;","⊤":"&top;","↧":"&mapstodown;","𝒟":"&Dscr;","Đ":"&Dstrok;","Ŋ":"&ENG;","Ð":"&ETH;","É":"&Eacute;","Ě":"&Ecaron;","Ê":"&Ecirc;","Э":"&Ecy;","Ė":"&Edot;","𝔈":"&Efr;","È":"&Egrave;","∈":"&isinv;","Ē":"&Emacr;","◻":"&EmptySmallSquare;","▫":"&EmptyVerySmallSquare;","Ę":"&Eogon;","𝔼":"&Eopf;","Ε":"&Epsilon;","⩵":"&Equal;","≂":"&esim;","⇌":"&rlhar;","ℰ":"&expectation;","⩳":"&Esim;","Η":"&Eta;","Ë":"&Euml;","∃":"&exist;","ⅇ":"&exponentiale;","Ф":"&Fcy;","𝔉":"&Ffr;","◼":"&FilledSmallSquare;","▪":"&squf;","𝔽":"&Fopf;","∀":"&forall;","ℱ":"&Fscr;","Ѓ":"&GJcy;",">":"&gt;","Γ":"&Gamma;","Ϝ":"&Gammad;","Ğ":"&Gbreve;","Ģ":"&Gcedil;","Ĝ":"&Gcirc;","Г":"&Gcy;","Ġ":"&Gdot;","𝔊":"&Gfr;","⋙":"&ggg;","𝔾":"&Gopf;","≥":"&geq;","⋛":"&gtreqless;","≧":"&geqq;","⪢":"&GreaterGreater;","≷":"&gtrless;","⩾":"&ges;","≳":"&gtrsim;","𝒢":"&Gscr;","≫":"&gg;","Ъ":"&HARDcy;","ˇ":"&caron;","^":"&Hat;","Ĥ":"&Hcirc;","ℌ":"&Poincareplane;","ℋ":"&hamilt;","ℍ":"&quaternions;","─":"&boxh;","Ħ":"&Hstrok;","≏":"&bumpeq;","Е":"&IEcy;","Ĳ":"&IJlig;","Ё":"&IOcy;","Í":"&Iacute;","Î":"&Icirc;","И":"&Icy;","İ":"&Idot;","ℑ":"&imagpart;","Ì":"&Igrave;","Ī":"&Imacr;","ⅈ":"&ii;","∬":"&Int;","∫":"&int;","⋂":"&xcap;","⁣":"&ic;","⁢":"&it;","Į":"&Iogon;","𝕀":"&Iopf;","Ι":"&Iota;","ℐ":"&imagline;","Ĩ":"&Itilde;","І":"&Iukcy;","Ï":"&Iuml;","Ĵ":"&Jcirc;","Й":"&Jcy;","𝔍":"&Jfr;","𝕁":"&Jopf;","𝒥":"&Jscr;","Ј":"&Jsercy;","Є":"&Jukcy;","Х":"&KHcy;","Ќ":"&KJcy;","Κ":"&Kappa;","Ķ":"&Kcedil;","К":"&Kcy;","𝔎":"&Kfr;","𝕂":"&Kopf;","𝒦":"&Kscr;","Љ":"&LJcy;","<":"&lt;","Ĺ":"&Lacute;","Λ":"&Lambda;","⟪":"&Lang;","ℒ":"&lagran;","↞":"&twoheadleftarrow;","Ľ":"&Lcaron;","Ļ":"&Lcedil;","Л":"&Lcy;","⟨":"&langle;","←":"&slarr;","⇤":"&larrb;","⇆":"&lrarr;","⌈":"&lceil;","⟦":"&lobrk;","⥡":"&LeftDownTeeVector;","⇃":"&downharpoonleft;","⥙":"&LeftDownVectorBar;","⌊":"&lfloor;","↔":"&leftrightarrow;","⥎":"&LeftRightVector;","⊣":"&dashv;","↤":"&mapstoleft;","⥚":"&LeftTeeVector;","⊲":"&vltri;","⧏":"&LeftTriangleBar;","⊴":"&trianglelefteq;","⥑":"&LeftUpDownVector;","⥠":"&LeftUpTeeVector;","↿":"&upharpoonleft;","⥘":"&LeftUpVectorBar;","↼":"&lharu;","⥒":"&LeftVectorBar;","⋚":"&lesseqgtr;","≦":"&leqq;","≶":"&lg;","⪡":"&LessLess;","⩽":"&les;","≲":"&lsim;","𝔏":"&Lfr;","⋘":"&Ll;","⇚":"&lAarr;","Ŀ":"&Lmidot;","⟵":"&xlarr;","⟷":"&xharr;","⟶":"&xrarr;","𝕃":"&Lopf;","↙":"&swarrow;","↘":"&searrow;","↰":"&lsh;","Ł":"&Lstrok;","≪":"&ll;","⤅":"&Map;","М":"&Mcy;"," ":"&MediumSpace;","ℳ":"&phmmat;","𝔐":"&Mfr;","∓":"&mp;","𝕄":"&Mopf;","Μ":"&Mu;","Њ":"&NJcy;","Ń":"&Nacute;","Ň":"&Ncaron;","Ņ":"&Ncedil;","Н":"&Ncy;","​":"&ZeroWidthSpace;","\n":"&NewLine;","𝔑":"&Nfr;","⁠":"&NoBreak;"," ":"&nbsp;","ℕ":"&naturals;","⫬":"&Not;","≢":"&nequiv;","≭":"&NotCupCap;","∦":"&nspar;","∉":"&notinva;","≠":"&ne;","≂̸":"&nesim;","∄":"&nexists;","≯":"&ngtr;","≱":"&ngeq;","≧̸":"&ngeqq;","≫̸":"&nGtv;","≹":"&ntgl;","⩾̸":"&nges;","≵":"&ngsim;","≎̸":"&nbump;","≏̸":"&nbumpe;","⋪":"&ntriangleleft;","⧏̸":"&NotLeftTriangleBar;","⋬":"&ntrianglelefteq;","≮":"&nlt;","≰":"&nleq;","≸":"&ntlg;","≪̸":"&nLtv;","⩽̸":"&nles;","≴":"&nlsim;","⪢̸":"&NotNestedGreaterGreater;","⪡̸":"&NotNestedLessLess;","⊀":"&nprec;","⪯̸":"&npreceq;","⋠":"&nprcue;","∌":"&notniva;","⋫":"&ntriangleright;","⧐̸":"&NotRightTriangleBar;","⋭":"&ntrianglerighteq;","⊏̸":"&NotSquareSubset;","⋢":"&nsqsube;","⊐̸":"&NotSquareSuperset;","⋣":"&nsqsupe;","⊂⃒":"&vnsub;","⊈":"&nsubseteq;","⊁":"&nsucc;","⪰̸":"&nsucceq;","⋡":"&nsccue;","≿̸":"&NotSucceedsTilde;","⊃⃒":"&vnsup;","⊉":"&nsupseteq;","≁":"&nsim;","≄":"&nsimeq;","≇":"&ncong;","≉":"&napprox;","∤":"&nsmid;","𝒩":"&Nscr;","Ñ":"&Ntilde;","Ν":"&Nu;","Œ":"&OElig;","Ó":"&Oacute;","Ô":"&Ocirc;","О":"&Ocy;","Ő":"&Odblac;","𝔒":"&Ofr;","Ò":"&Ograve;","Ō":"&Omacr;","Ω":"&ohm;","Ο":"&Omicron;","𝕆":"&Oopf;","“":"&ldquo;","‘":"&lsquo;","⩔":"&Or;","𝒪":"&Oscr;","Ø":"&Oslash;","Õ":"&Otilde;","⨷":"&Otimes;","Ö":"&Ouml;","‾":"&oline;","⏞":"&OverBrace;","⎴":"&tbrk;","⏜":"&OverParenthesis;","∂":"&part;","П":"&Pcy;","𝔓":"&Pfr;","Φ":"&Phi;","Π":"&Pi;","±":"&pm;","ℙ":"&primes;","⪻":"&Pr;","≺":"&prec;","⪯":"&preceq;","≼":"&preccurlyeq;","≾":"&prsim;","″":"&Prime;","∏":"&prod;","∝":"&vprop;","𝒫":"&Pscr;","Ψ":"&Psi;",'"':"&quot;","𝔔":"&Qfr;","ℚ":"&rationals;","𝒬":"&Qscr;","⤐":"&drbkarow;","®":"&reg;","Ŕ":"&Racute;","⟫":"&Rang;","↠":"&twoheadrightarrow;","⤖":"&Rarrtl;","Ř":"&Rcaron;","Ŗ":"&Rcedil;","Р":"&Rcy;","ℜ":"&realpart;","∋":"&niv;","⇋":"&lrhar;","⥯":"&duhar;","Ρ":"&Rho;","⟩":"&rangle;","→":"&srarr;","⇥":"&rarrb;","⇄":"&rlarr;","⌉":"&rceil;","⟧":"&robrk;","⥝":"&RightDownTeeVector;","⇂":"&downharpoonright;","⥕":"&RightDownVectorBar;","⌋":"&rfloor;","⊢":"&vdash;","↦":"&mapsto;","⥛":"&RightTeeVector;","⊳":"&vrtri;","⧐":"&RightTriangleBar;","⊵":"&trianglerighteq;","⥏":"&RightUpDownVector;","⥜":"&RightUpTeeVector;","↾":"&upharpoonright;","⥔":"&RightUpVectorBar;","⇀":"&rightharpoonup;","⥓":"&RightVectorBar;","ℝ":"&reals;","⥰":"&RoundImplies;","⇛":"&rAarr;","ℛ":"&realine;","↱":"&rsh;","⧴":"&RuleDelayed;","Щ":"&SHCHcy;","Ш":"&SHcy;","Ь":"&SOFTcy;","Ś":"&Sacute;","⪼":"&Sc;","Š":"&Scaron;","Ş":"&Scedil;","Ŝ":"&Scirc;","С":"&Scy;","𝔖":"&Sfr;","↑":"&uparrow;","Σ":"&Sigma;","∘":"&compfn;","𝕊":"&Sopf;","√":"&radic;","□":"&square;","⊓":"&sqcap;","⊏":"&sqsubset;","⊑":"&sqsubseteq;","⊐":"&sqsupset;","⊒":"&sqsupseteq;","⊔":"&sqcup;","𝒮":"&Sscr;","⋆":"&sstarf;","⋐":"&Subset;","⊆":"&subseteq;","≻":"&succ;","⪰":"&succeq;","≽":"&succcurlyeq;","≿":"&succsim;","∑":"&sum;","⋑":"&Supset;","⊃":"&supset;","⊇":"&supseteq;","Þ":"&THORN;","™":"&trade;","Ћ":"&TSHcy;","Ц":"&TScy;","\t":"&Tab;","Τ":"&Tau;","Ť":"&Tcaron;","Ţ":"&Tcedil;","Т":"&Tcy;","𝔗":"&Tfr;","∴":"&therefore;","Θ":"&Theta;","  ":"&ThickSpace;"," ":"&thinsp;","∼":"&thksim;","≃":"&simeq;","≅":"&cong;","≈":"&thkap;","𝕋":"&Topf;","⃛":"&tdot;","𝒯":"&Tscr;","Ŧ":"&Tstrok;","Ú":"&Uacute;","↟":"&Uarr;","⥉":"&Uarrocir;","Ў":"&Ubrcy;","Ŭ":"&Ubreve;","Û":"&Ucirc;","У":"&Ucy;","Ű":"&Udblac;","𝔘":"&Ufr;","Ù":"&Ugrave;","Ū":"&Umacr;",_:"&lowbar;","⏟":"&UnderBrace;","⎵":"&bbrk;","⏝":"&UnderParenthesis;","⋃":"&xcup;","⊎":"&uplus;","Ų":"&Uogon;","𝕌":"&Uopf;","⤒":"&UpArrowBar;","⇅":"&udarr;","↕":"&varr;","⥮":"&udhar;","⊥":"&perp;","↥":"&mapstoup;","↖":"&nwarrow;","↗":"&nearrow;","ϒ":"&upsih;","Υ":"&Upsilon;","Ů":"&Uring;","𝒰":"&Uscr;","Ũ":"&Utilde;","Ü":"&Uuml;","⊫":"&VDash;","⫫":"&Vbar;","В":"&Vcy;","⊩":"&Vdash;","⫦":"&Vdashl;","⋁":"&xvee;","‖":"&Vert;","∣":"&smid;","|":"&vert;","❘":"&VerticalSeparator;","≀":"&wreath;"," ":"&hairsp;","𝔙":"&Vfr;","𝕍":"&Vopf;","𝒱":"&Vscr;","⊪":"&Vvdash;","Ŵ":"&Wcirc;","⋀":"&xwedge;","𝔚":"&Wfr;","𝕎":"&Wopf;","𝒲":"&Wscr;","𝔛":"&Xfr;","Ξ":"&Xi;","𝕏":"&Xopf;","𝒳":"&Xscr;","Я":"&YAcy;","Ї":"&YIcy;","Ю":"&YUcy;","Ý":"&Yacute;","Ŷ":"&Ycirc;","Ы":"&Ycy;","𝔜":"&Yfr;","𝕐":"&Yopf;","𝒴":"&Yscr;","Ÿ":"&Yuml;","Ж":"&ZHcy;","Ź":"&Zacute;","Ž":"&Zcaron;","З":"&Zcy;","Ż":"&Zdot;","Ζ":"&Zeta;","ℨ":"&zeetrf;","ℤ":"&integers;","𝒵":"&Zscr;","á":"&aacute;","ă":"&abreve;","∾":"&mstpos;","∾̳":"&acE;","∿":"&acd;","â":"&acirc;","а":"&acy;","æ":"&aelig;","𝔞":"&afr;","à":"&agrave;","ℵ":"&aleph;","α":"&alpha;","ā":"&amacr;","⨿":"&amalg;","∧":"&wedge;","⩕":"&andand;","⩜":"&andd;","⩘":"&andslope;","⩚":"&andv;","∠":"&angle;","⦤":"&ange;","∡":"&measuredangle;","⦨":"&angmsdaa;","⦩":"&angmsdab;","⦪":"&angmsdac;","⦫":"&angmsdad;","⦬":"&angmsdae;","⦭":"&angmsdaf;","⦮":"&angmsdag;","⦯":"&angmsdah;","∟":"&angrt;","⊾":"&angrtvb;","⦝":"&angrtvbd;","∢":"&angsph;","⍼":"&angzarr;","ą":"&aogon;","𝕒":"&aopf;","⩰":"&apE;","⩯":"&apacir;","≊":"&approxeq;","≋":"&apid;","'":"&apos;","å":"&aring;","𝒶":"&ascr;","*":"&midast;","ã":"&atilde;","ä":"&auml;","⨑":"&awint;","⫭":"&bNot;","≌":"&bcong;","϶":"&bepsi;","‵":"&bprime;","∽":"&bsim;","⋍":"&bsime;","⊽":"&barvee;","⌅":"&barwedge;","⎶":"&bbrktbrk;","б":"&bcy;","„":"&ldquor;","⦰":"&bemptyv;","β":"&beta;","ℶ":"&beth;","≬":"&twixt;","𝔟":"&bfr;","◯":"&xcirc;","⨀":"&xodot;","⨁":"&xoplus;","⨂":"&xotime;","⨆":"&xsqcup;","★":"&starf;","▽":"&xdtri;","△":"&xutri;","⨄":"&xuplus;","⤍":"&rbarr;","⧫":"&lozf;","▴":"&utrif;","▾":"&dtrif;","◂":"&ltrif;","▸":"&rtrif;","␣":"&blank;","▒":"&blk12;","░":"&blk14;","▓":"&blk34;","█":"&block;","=⃥":"&bne;","≡⃥":"&bnequiv;","⌐":"&bnot;","𝕓":"&bopf;","⋈":"&bowtie;","╗":"&boxDL;","╔":"&boxDR;","╖":"&boxDl;","╓":"&boxDr;","═":"&boxH;","╦":"&boxHD;","╩":"&boxHU;","╤":"&boxHd;","╧":"&boxHu;","╝":"&boxUL;","╚":"&boxUR;","╜":"&boxUl;","╙":"&boxUr;","║":"&boxV;","╬":"&boxVH;","╣":"&boxVL;","╠":"&boxVR;","╫":"&boxVh;","╢":"&boxVl;","╟":"&boxVr;","⧉":"&boxbox;","╕":"&boxdL;","╒":"&boxdR;","┐":"&boxdl;","┌":"&boxdr;","╥":"&boxhD;","╨":"&boxhU;","┬":"&boxhd;","┴":"&boxhu;","⊟":"&minusb;","⊞":"&plusb;","⊠":"&timesb;","╛":"&boxuL;","╘":"&boxuR;","┘":"&boxul;","└":"&boxur;","│":"&boxv;","╪":"&boxvH;","╡":"&boxvL;","╞":"&boxvR;","┼":"&boxvh;","┤":"&boxvl;","├":"&boxvr;","¦":"&brvbar;","𝒷":"&bscr;","⁏":"&bsemi;","\\":"&bsol;","⧅":"&bsolb;","⟈":"&bsolhsub;","•":"&bullet;","⪮":"&bumpE;","ć":"&cacute;","∩":"&cap;","⩄":"&capand;","⩉":"&capbrcup;","⩋":"&capcap;","⩇":"&capcup;","⩀":"&capdot;","∩︀":"&caps;","⁁":"&caret;","⩍":"&ccaps;","č":"&ccaron;","ç":"&ccedil;","ĉ":"&ccirc;","⩌":"&ccups;","⩐":"&ccupssm;","ċ":"&cdot;","⦲":"&cemptyv;","¢":"&cent;","𝔠":"&cfr;","ч":"&chcy;","✓":"&checkmark;","χ":"&chi;","○":"&cir;","⧃":"&cirE;","ˆ":"&circ;","≗":"&cire;","↺":"&olarr;","↻":"&orarr;","Ⓢ":"&oS;","⊛":"&oast;","⊚":"&ocir;","⊝":"&odash;","⨐":"&cirfnint;","⫯":"&cirmid;","⧂":"&cirscir;","♣":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","∁":"&complement;","⩭":"&congdot;","𝕔":"&copf;","℗":"&copysr;","↵":"&crarr;","✗":"&cross;","𝒸":"&cscr;","⫏":"&csub;","⫑":"&csube;","⫐":"&csup;","⫒":"&csupe;","⋯":"&ctdot;","⤸":"&cudarrl;","⤵":"&cudarrr;","⋞":"&curlyeqprec;","⋟":"&curlyeqsucc;","↶":"&curvearrowleft;","⤽":"&cularrp;","∪":"&cup;","⩈":"&cupbrcap;","⩆":"&cupcap;","⩊":"&cupcup;","⊍":"&cupdot;","⩅":"&cupor;","∪︀":"&cups;","↷":"&curvearrowright;","⤼":"&curarrm;","⋎":"&cuvee;","⋏":"&cuwed;","¤":"&curren;","∱":"&cwint;","⌭":"&cylcty;","⥥":"&dHar;","†":"&dagger;","ℸ":"&daleth;","‐":"&hyphen;","⤏":"&rBarr;","ď":"&dcaron;","д":"&dcy;","⇊":"&downdownarrows;","⩷":"&eDDot;","°":"&deg;","δ":"&delta;","⦱":"&demptyv;","⥿":"&dfisht;","𝔡":"&dfr;","♦":"&diams;","ϝ":"&gammad;","⋲":"&disin;","÷":"&divide;","⋇":"&divonx;","ђ":"&djcy;","⌞":"&llcorner;","⌍":"&dlcrop;",$:"&dollar;","𝕕":"&dopf;","≑":"&eDot;","∸":"&minusd;","∔":"&plusdo;","⊡":"&sdotb;","⌟":"&lrcorner;","⌌":"&drcrop;","𝒹":"&dscr;","ѕ":"&dscy;","⧶":"&dsol;","đ":"&dstrok;","⋱":"&dtdot;","▿":"&triangledown;","⦦":"&dwangle;","џ":"&dzcy;","⟿":"&dzigrarr;","é":"&eacute;","⩮":"&easter;","ě":"&ecaron;","≖":"&eqcirc;","ê":"&ecirc;","≕":"&eqcolon;","э":"&ecy;","ė":"&edot;","≒":"&fallingdotseq;","𝔢":"&efr;","⪚":"&eg;","è":"&egrave;","⪖":"&eqslantgtr;","⪘":"&egsdot;","⪙":"&el;","⏧":"&elinters;","ℓ":"&ell;","⪕":"&eqslantless;","⪗":"&elsdot;","ē":"&emacr;","∅":"&varnothing;"," ":"&emsp13;"," ":"&emsp14;"," ":"&emsp;","ŋ":"&eng;"," ":"&ensp;","ę":"&eogon;","𝕖":"&eopf;","⋕":"&epar;","⧣":"&eparsl;","⩱":"&eplus;","ε":"&epsilon;","ϵ":"&varepsilon;","=":"&equals;","≟":"&questeq;","⩸":"&equivDD;","⧥":"&eqvparsl;","≓":"&risingdotseq;","⥱":"&erarr;","ℯ":"&escr;","η":"&eta;","ð":"&eth;","ë":"&euml;","€":"&euro;","!":"&excl;","ф":"&fcy;","♀":"&female;","ﬃ":"&ffilig;","ﬀ":"&fflig;","ﬄ":"&ffllig;","𝔣":"&ffr;","ﬁ":"&filig;",fj:"&fjlig;","♭":"&flat;","ﬂ":"&fllig;","▱":"&fltns;","ƒ":"&fnof;","𝕗":"&fopf;","⋔":"&pitchfork;","⫙":"&forkv;","⨍":"&fpartint;","½":"&half;","⅓":"&frac13;","¼":"&frac14;","⅕":"&frac15;","⅙":"&frac16;","⅛":"&frac18;","⅔":"&frac23;","⅖":"&frac25;","¾":"&frac34;","⅗":"&frac35;","⅜":"&frac38;","⅘":"&frac45;","⅚":"&frac56;","⅝":"&frac58;","⅞":"&frac78;","⁄":"&frasl;","⌢":"&sfrown;","𝒻":"&fscr;","⪌":"&gtreqqless;","ǵ":"&gacute;","γ":"&gamma;","⪆":"&gtrapprox;","ğ":"&gbreve;","ĝ":"&gcirc;","г":"&gcy;","ġ":"&gdot;","⪩":"&gescc;","⪀":"&gesdot;","⪂":"&gesdoto;","⪄":"&gesdotol;","⋛︀":"&gesl;","⪔":"&gesles;","𝔤":"&gfr;","ℷ":"&gimel;","ѓ":"&gjcy;","⪒":"&glE;","⪥":"&gla;","⪤":"&glj;","≩":"&gneqq;","⪊":"&gnapprox;","⪈":"&gneq;","⋧":"&gnsim;","𝕘":"&gopf;","ℊ":"&gscr;","⪎":"&gsime;","⪐":"&gsiml;","⪧":"&gtcc;","⩺":"&gtcir;","⋗":"&gtrdot;","⦕":"&gtlPar;","⩼":"&gtquest;","⥸":"&gtrarr;","≩︀":"&gvnE;","ъ":"&hardcy;","⥈":"&harrcir;","↭":"&leftrightsquigarrow;","ℏ":"&plankv;","ĥ":"&hcirc;","♥":"&heartsuit;","…":"&mldr;","⊹":"&hercon;","𝔥":"&hfr;","⤥":"&searhk;","⤦":"&swarhk;","⇿":"&hoarr;","∻":"&homtht;","↩":"&larrhk;","↪":"&rarrhk;","𝕙":"&hopf;","―":"&horbar;","𝒽":"&hscr;","ħ":"&hstrok;","⁃":"&hybull;","í":"&iacute;","î":"&icirc;","и":"&icy;","е":"&iecy;","¡":"&iexcl;","𝔦":"&ifr;","ì":"&igrave;","⨌":"&qint;","∭":"&tint;","⧜":"&iinfin;","℩":"&iiota;","ĳ":"&ijlig;","ī":"&imacr;","ı":"&inodot;","⊷":"&imof;","Ƶ":"&imped;","℅":"&incare;","∞":"&infin;","⧝":"&infintie;","⊺":"&intercal;","⨗":"&intlarhk;","⨼":"&iprod;","ё":"&iocy;","į":"&iogon;","𝕚":"&iopf;","ι":"&iota;","¿":"&iquest;","𝒾":"&iscr;","⋹":"&isinE;","⋵":"&isindot;","⋴":"&isins;","⋳":"&isinsv;","ĩ":"&itilde;","і":"&iukcy;","ï":"&iuml;","ĵ":"&jcirc;","й":"&jcy;","𝔧":"&jfr;","ȷ":"&jmath;","𝕛":"&jopf;","𝒿":"&jscr;","ј":"&jsercy;","є":"&jukcy;","κ":"&kappa;","ϰ":"&varkappa;","ķ":"&kcedil;","к":"&kcy;","𝔨":"&kfr;","ĸ":"&kgreen;","х":"&khcy;","ќ":"&kjcy;","𝕜":"&kopf;","𝓀":"&kscr;","⤛":"&lAtail;","⤎":"&lBarr;","⪋":"&lesseqqgtr;","⥢":"&lHar;","ĺ":"&lacute;","⦴":"&laemptyv;","λ":"&lambda;","⦑":"&langd;","⪅":"&lessapprox;","«":"&laquo;","⤟":"&larrbfs;","⤝":"&larrfs;","↫":"&looparrowleft;","⤹":"&larrpl;","⥳":"&larrsim;","↢":"&leftarrowtail;","⪫":"&lat;","⤙":"&latail;","⪭":"&late;","⪭︀":"&lates;","⤌":"&lbarr;","❲":"&lbbrk;","{":"&lcub;","[":"&lsqb;","⦋":"&lbrke;","⦏":"&lbrksld;","⦍":"&lbrkslu;","ľ":"&lcaron;","ļ":"&lcedil;","л":"&lcy;","⤶":"&ldca;","⥧":"&ldrdhar;","⥋":"&ldrushar;","↲":"&ldsh;","≤":"&leq;","⇇":"&llarr;","⋋":"&lthree;","⪨":"&lescc;","⩿":"&lesdot;","⪁":"&lesdoto;","⪃":"&lesdotor;","⋚︀":"&lesg;","⪓":"&lesges;","⋖":"&ltdot;","⥼":"&lfisht;","𝔩":"&lfr;","⪑":"&lgE;","⥪":"&lharul;","▄":"&lhblk;","љ":"&ljcy;","⥫":"&llhard;","◺":"&lltri;","ŀ":"&lmidot;","⎰":"&lmoustache;","≨":"&lneqq;","⪉":"&lnapprox;","⪇":"&lneq;","⋦":"&lnsim;","⟬":"&loang;","⇽":"&loarr;","⟼":"&xmap;","↬":"&rarrlp;","⦅":"&lopar;","𝕝":"&lopf;","⨭":"&loplus;","⨴":"&lotimes;","∗":"&lowast;","◊":"&lozenge;","(":"&lpar;","⦓":"&lparlt;","⥭":"&lrhard;","‎":"&lrm;","⊿":"&lrtri;","‹":"&lsaquo;","𝓁":"&lscr;","⪍":"&lsime;","⪏":"&lsimg;","‚":"&sbquo;","ł":"&lstrok;","⪦":"&ltcc;","⩹":"&ltcir;","⋉":"&ltimes;","⥶":"&ltlarr;","⩻":"&ltquest;","⦖":"&ltrPar;","◃":"&triangleleft;","⥊":"&lurdshar;","⥦":"&luruhar;","≨︀":"&lvnE;","∺":"&mDDot;","¯":"&strns;","♂":"&male;","✠":"&maltese;","▮":"&marker;","⨩":"&mcomma;","м":"&mcy;","—":"&mdash;","𝔪":"&mfr;","℧":"&mho;","µ":"&micro;","⫰":"&midcir;","−":"&minus;","⨪":"&minusdu;","⫛":"&mlcp;","⊧":"&models;","𝕞":"&mopf;","𝓂":"&mscr;","μ":"&mu;","⊸":"&mumap;","⋙̸":"&nGg;","≫⃒":"&nGt;","⇍":"&nlArr;","⇎":"&nhArr;","⋘̸":"&nLl;","≪⃒":"&nLt;","⇏":"&nrArr;","⊯":"&nVDash;","⊮":"&nVdash;","ń":"&nacute;","∠⃒":"&nang;","⩰̸":"&napE;","≋̸":"&napid;","ŉ":"&napos;","♮":"&natural;","⩃":"&ncap;","ň":"&ncaron;","ņ":"&ncedil;","⩭̸":"&ncongdot;","⩂":"&ncup;","н":"&ncy;","–":"&ndash;","⇗":"&neArr;","⤤":"&nearhk;","≐̸":"&nedot;","⤨":"&toea;","𝔫":"&nfr;","↮":"&nleftrightarrow;","⫲":"&nhpar;","⋼":"&nis;","⋺":"&nisd;","њ":"&njcy;","≦̸":"&nleqq;","↚":"&nleftarrow;","‥":"&nldr;","𝕟":"&nopf;","¬":"&not;","⋹̸":"&notinE;","⋵̸":"&notindot;","⋷":"&notinvb;","⋶":"&notinvc;","⋾":"&notnivb;","⋽":"&notnivc;","⫽⃥":"&nparsl;","∂̸":"&npart;","⨔":"&npolint;","↛":"&nrightarrow;","⤳̸":"&nrarrc;","↝̸":"&nrarrw;","𝓃":"&nscr;","⊄":"&nsub;","⫅̸":"&nsubseteqq;","⊅":"&nsup;","⫆̸":"&nsupseteqq;","ñ":"&ntilde;","ν":"&nu;","#":"&num;","№":"&numero;"," ":"&numsp;","⊭":"&nvDash;","⤄":"&nvHarr;","≍⃒":"&nvap;","⊬":"&nvdash;","≥⃒":"&nvge;",">⃒":"&nvgt;","⧞":"&nvinfin;","⤂":"&nvlArr;","≤⃒":"&nvle;","<⃒":"&nvlt;","⊴⃒":"&nvltrie;","⤃":"&nvrArr;","⊵⃒":"&nvrtrie;","∼⃒":"&nvsim;","⇖":"&nwArr;","⤣":"&nwarhk;","⤧":"&nwnear;","ó":"&oacute;","ô":"&ocirc;","о":"&ocy;","ő":"&odblac;","⨸":"&odiv;","⦼":"&odsold;","œ":"&oelig;","⦿":"&ofcir;","𝔬":"&ofr;","˛":"&ogon;","ò":"&ograve;","⧁":"&ogt;","⦵":"&ohbar;","⦾":"&olcir;","⦻":"&olcross;","⧀":"&olt;","ō":"&omacr;","ω":"&omega;","ο":"&omicron;","⦶":"&omid;","𝕠":"&oopf;","⦷":"&opar;","⦹":"&operp;","∨":"&vee;","⩝":"&ord;","ℴ":"&oscr;","ª":"&ordf;","º":"&ordm;","⊶":"&origof;","⩖":"&oror;","⩗":"&orslope;","⩛":"&orv;","ø":"&oslash;","⊘":"&osol;","õ":"&otilde;","⨶":"&otimesas;","ö":"&ouml;","⌽":"&ovbar;","¶":"&para;","⫳":"&parsim;","⫽":"&parsl;","п":"&pcy;","%":"&percnt;",".":"&period;","‰":"&permil;","‱":"&pertenk;","𝔭":"&pfr;","φ":"&phi;","ϕ":"&varphi;","☎":"&phone;","π":"&pi;","ϖ":"&varpi;","ℎ":"&planckh;","+":"&plus;","⨣":"&plusacir;","⨢":"&pluscir;","⨥":"&plusdu;","⩲":"&pluse;","⨦":"&plussim;","⨧":"&plustwo;","⨕":"&pointint;","𝕡":"&popf;","£":"&pound;","⪳":"&prE;","⪷":"&precapprox;","⪹":"&prnap;","⪵":"&prnE;","⋨":"&prnsim;","′":"&prime;","⌮":"&profalar;","⌒":"&profline;","⌓":"&profsurf;","⊰":"&prurel;","𝓅":"&pscr;","ψ":"&psi;"," ":"&puncsp;","𝔮":"&qfr;","𝕢":"&qopf;","⁗":"&qprime;","𝓆":"&qscr;","⨖":"&quatint;","?":"&quest;","⤜":"&rAtail;","⥤":"&rHar;","∽̱":"&race;","ŕ":"&racute;","⦳":"&raemptyv;","⦒":"&rangd;","⦥":"&range;","»":"&raquo;","⥵":"&rarrap;","⤠":"&rarrbfs;","⤳":"&rarrc;","⤞":"&rarrfs;","⥅":"&rarrpl;","⥴":"&rarrsim;","↣":"&rightarrowtail;","↝":"&rightsquigarrow;","⤚":"&ratail;","∶":"&ratio;","❳":"&rbbrk;","}":"&rcub;","]":"&rsqb;","⦌":"&rbrke;","⦎":"&rbrksld;","⦐":"&rbrkslu;","ř":"&rcaron;","ŗ":"&rcedil;","р":"&rcy;","⤷":"&rdca;","⥩":"&rdldhar;","↳":"&rdsh;","▭":"&rect;","⥽":"&rfisht;","𝔯":"&rfr;","⥬":"&rharul;","ρ":"&rho;","ϱ":"&varrho;","⇉":"&rrarr;","⋌":"&rthree;","˚":"&ring;","‏":"&rlm;","⎱":"&rmoustache;","⫮":"&rnmid;","⟭":"&roang;","⇾":"&roarr;","⦆":"&ropar;","𝕣":"&ropf;","⨮":"&roplus;","⨵":"&rotimes;",")":"&rpar;","⦔":"&rpargt;","⨒":"&rppolint;","›":"&rsaquo;","𝓇":"&rscr;","⋊":"&rtimes;","▹":"&triangleright;","⧎":"&rtriltri;","⥨":"&ruluhar;","℞":"&rx;","ś":"&sacute;","⪴":"&scE;","⪸":"&succapprox;","š":"&scaron;","ş":"&scedil;","ŝ":"&scirc;","⪶":"&succneqq;","⪺":"&succnapprox;","⋩":"&succnsim;","⨓":"&scpolint;","с":"&scy;","⋅":"&sdot;","⩦":"&sdote;","⇘":"&seArr;","§":"&sect;",";":"&semi;","⤩":"&tosa;","✶":"&sext;","𝔰":"&sfr;","♯":"&sharp;","щ":"&shchcy;","ш":"&shcy;","­":"&shy;","σ":"&sigma;","ς":"&varsigma;","⩪":"&simdot;","⪞":"&simg;","⪠":"&simgE;","⪝":"&siml;","⪟":"&simlE;","≆":"&simne;","⨤":"&simplus;","⥲":"&simrarr;","⨳":"&smashp;","⧤":"&smeparsl;","⌣":"&ssmile;","⪪":"&smt;","⪬":"&smte;","⪬︀":"&smtes;","ь":"&softcy;","/":"&sol;","⧄":"&solb;","⌿":"&solbar;","𝕤":"&sopf;","♠":"&spadesuit;","⊓︀":"&sqcaps;","⊔︀":"&sqcups;","𝓈":"&sscr;","☆":"&star;","⊂":"&subset;","⫅":"&subseteqq;","⪽":"&subdot;","⫃":"&subedot;","⫁":"&submult;","⫋":"&subsetneqq;","⊊":"&subsetneq;","⪿":"&subplus;","⥹":"&subrarr;","⫇":"&subsim;","⫕":"&subsub;","⫓":"&subsup;","♪":"&sung;","¹":"&sup1;","²":"&sup2;","³":"&sup3;","⫆":"&supseteqq;","⪾":"&supdot;","⫘":"&supdsub;","⫄":"&supedot;","⟉":"&suphsol;","⫗":"&suphsub;","⥻":"&suplarr;","⫂":"&supmult;","⫌":"&supsetneqq;","⊋":"&supsetneq;","⫀":"&supplus;","⫈":"&supsim;","⫔":"&supsub;","⫖":"&supsup;","⇙":"&swArr;","⤪":"&swnwar;","ß":"&szlig;","⌖":"&target;","τ":"&tau;","ť":"&tcaron;","ţ":"&tcedil;","т":"&tcy;","⌕":"&telrec;","𝔱":"&tfr;","θ":"&theta;","ϑ":"&vartheta;","þ":"&thorn;","×":"&times;","⨱":"&timesbar;","⨰":"&timesd;","⌶":"&topbot;","⫱":"&topcir;","𝕥":"&topf;","⫚":"&topfork;","‴":"&tprime;","▵":"&utri;","≜":"&trie;","◬":"&tridot;","⨺":"&triminus;","⨹":"&triplus;","⧍":"&trisb;","⨻":"&tritime;","⏢":"&trpezium;","𝓉":"&tscr;","ц":"&tscy;","ћ":"&tshcy;","ŧ":"&tstrok;","⥣":"&uHar;","ú":"&uacute;","ў":"&ubrcy;","ŭ":"&ubreve;","û":"&ucirc;","у":"&ucy;","ű":"&udblac;","⥾":"&ufisht;","𝔲":"&ufr;","ù":"&ugrave;","▀":"&uhblk;","⌜":"&ulcorner;","⌏":"&ulcrop;","◸":"&ultri;","ū":"&umacr;","ų":"&uogon;","𝕦":"&uopf;","υ":"&upsilon;","⇈":"&uuarr;","⌝":"&urcorner;","⌎":"&urcrop;","ů":"&uring;","◹":"&urtri;","𝓊":"&uscr;","⋰":"&utdot;","ũ":"&utilde;","ü":"&uuml;","⦧":"&uwangle;","⫨":"&vBar;","⫩":"&vBarv;","⦜":"&vangrt;","⊊︀":"&vsubne;","⫋︀":"&vsubnE;","⊋︀":"&vsupne;","⫌︀":"&vsupnE;","в":"&vcy;","⊻":"&veebar;","≚":"&veeeq;","⋮":"&vellip;","𝔳":"&vfr;","𝕧":"&vopf;","𝓋":"&vscr;","⦚":"&vzigzag;","ŵ":"&wcirc;","⩟":"&wedbar;","≙":"&wedgeq;","℘":"&wp;","𝔴":"&wfr;","𝕨":"&wopf;","𝓌":"&wscr;","𝔵":"&xfr;","ξ":"&xi;","⋻":"&xnis;","𝕩":"&xopf;","𝓍":"&xscr;","ý":"&yacute;","я":"&yacy;","ŷ":"&ycirc;","ы":"&ycy;","¥":"&yen;","𝔶":"&yfr;","ї":"&yicy;","𝕪":"&yopf;","𝓎":"&yscr;","ю":"&yucy;","ÿ":"&yuml;","ź":"&zacute;","ž":"&zcaron;","з":"&zcy;","ż":"&zdot;","ζ":"&zeta;","𝔷":"&zfr;","ж":"&zhcy;","⇝":"&zigrarr;","𝕫":"&zopf;","𝓏":"&zscr;","‍":"&zwj;","‌":"&zwnj;"}}}},78350:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},12797:(e,t,n)=>{"use strict";n(69070),n(94953),n(79841),Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},45576:(e,t,n)=>{n(21703),n(96647);var r=n(42885),o=n(84634),a=n(56322),i=n(61351);o="function"==typeof o.default?o.default:o;var s={lowerCaseAttributeNames:!1};function u(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return""===e?[]:i(o(e,(t=t||{}).htmlparser2||s),t)}u.domToReact=i,u.htmlToDOM=o,u.attributesToProps=a,u.Comment=r.Comment,u.Element=r.Element,u.ProcessingInstruction=r.ProcessingInstruction,u.Text=r.Text,e.exports=u,u.default=u},56322:(e,t,n)=>{n(82772);var r=n(92358),o=n(88904),a=["checked","value"],i=["input","select","textarea"],s={reset:!0,submit:!0};function u(e){return r.possibleStandardNames[e]}e.exports=function(e,t){var n,c,l,f,d,p={},h=(e=e||{}).type&&s[e.type];for(n in e)if(l=e[n],r.isCustomAttribute(n))p[n]=l;else if(f=u(c=n.toLowerCase()))switch(d=r.getPropertyInfo(f),-1===a.indexOf(f)||-1===i.indexOf(t)||h||(f=u("default"+c)),p[f]=l,d&&d.type){case r.BOOLEAN:p[f]=!0;break;case r.OVERLOADED_BOOLEAN:""===l&&(p[f]=!0)}else o.PRESERVE_CUSTOM_ATTRIBUTES&&(p[n]=l);return o.setStyleProp(e.style,p),p}},61351:(e,t,n)=>{n(74916),n(15306),n(73210),n(57658),n(68309);var r=n(16341),o=n(56322),a=n(88904),i=a.setStyleProp,s=a.canTextBeChildOfNode;function u(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&a.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var a,c,l,f,d,p=(n=n||{}).library||r,h=p.cloneElement,m=p.createElement,v=p.isValidElement,g=[],b="function"==typeof n.replace,y=n.trim,D=0,w=t.length;D<w;D++)if(a=t[D],b&&v(l=n.replace(a)))w>1&&(l=h(l,{key:l.key||D})),g.push(l);else if("text"!==a.type){switch(f=a.attribs,u(a)?i(f.style,f):f&&(f=o(f,a.name)),d=null,a.type){case"script":case"style":a.children[0]&&(f.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":"textarea"===a.name&&a.children[0]?f.defaultValue=a.children[0].data:a.children&&a.children.length&&(d=e(a.children,n));break;default:continue}w>1&&(f.key=D),g.push(m(a.name,f,d))}else{if((c=!a.data.trim().length)&&a.parent&&!s(a.parent))continue;if(y&&c)continue;g.push(a.data)}return 1===g.length?g[0]:g}},88904:(e,t,n)=>{var r=n(59039);n(21703),n(96647),n(82772),n(66992),n(41539),n(70189),n(78783),n(33948),n(68309);var o=n(16341),a=n(30638).default;var i={reactCompat:!0};var s=o.version.split(".")[0]>=16,u=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:s,invertObject:function(e,t){if(!e||"object"!==r(e))throw new TypeError("First argument must be an object");var n,o,a="function"==typeof t,i={},s={};for(n in e)o=e[n],a&&(i=t(n,o))&&2===i.length?s[i[0]]=i[1]:"string"==typeof o&&(s[o]=n);return s},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!=e)try{t.style=a(e,i)}catch(n){t.style={}}},canTextBeChildOfNode:function(e){return!u.has(e.name)},elementsWithNoTextChildren:u}},42885:function(e,t,n){"use strict";var r=n(59039);n(78011),n(38880),n(69070),n(57658);var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=n(35832),s=n(15795);a(n(15795),t);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=u),"object"===r(e)&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:u,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?i.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===i.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},15795:function(e,t,n){"use strict";n(68304),n(67987),n(21703),n(96647),n(78011),n(19601),n(69070),n(68309),n(21249),n(47941),n(89554),n(41539),n(54747);var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var i=n(35832),s=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=s;var u=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=u;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Text,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(u);t.Text=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Comment,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(u);t.Comment=l;var f=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=i.ElementType.Directive,r}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(u);t.ProcessingInstruction=f;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.CDATA,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Root,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=h;var m=function(e){function t(t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o="script"===t?i.ElementType.Script:"style"===t?i.ElementType.Style:i.ElementType.Tag);var a=e.call(this,r)||this;return a.name=t,a.attribs=n,a.type=o,a}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function v(e){return(0,i.isTag)(e)}function g(e){return e.type===i.ElementType.CDATA}function b(e){return e.type===i.ElementType.Text}function y(e){return e.type===i.ElementType.Comment}function D(e){return e.type===i.ElementType.Directive}function w(e){return e.type===i.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),b(e))n=new c(e.data);else if(y(e))n=new l(e.data);else if(v(e)){var r=t?E(e.children):[],o=new m(e.name,a({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),n=o}else if(g(e)){r=t?E(e.children):[];var i=new p(r);r.forEach((function(e){return e.parent=i})),n=i}else if(w(e)){r=t?E(e.children):[];var s=new h(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!D(e))throw new Error("Not implemented yet: ".concat(e.type));var u=new f(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function E(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=v,t.isCDATA=g,t.isText=b,t.isComment=y,t.isDirective=D,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},74158:(e,t,n)=>{n(21703),n(96647),n(74916),n(4723),n(94986),n(57658),n(47042),n(15306);var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,a=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,f="";function d(e){return e?e.replace(l,f):f}e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,l=1;function p(e){var t=e.match(o);t&&(n+=t.length);var r=e.lastIndexOf("\n");l=~r?e.length-r:l+e.length}function h(){var e={line:n,column:l};return function(t){return t.position=new m(e),y(),t}}function m(e){this.start=e,this.end={line:n,column:l},this.source=t.source}m.prototype.content=e;var v=[];function g(r){var o=new Error(t.source+":"+n+":"+l+": "+r);if(o.reason=r,o.filename=t.source,o.line=n,o.column=l,o.source=e,!t.silent)throw o;v.push(o)}function b(t){var n=t.exec(e);if(n){var r=n[0];return p(r),e=e.slice(r.length),n}}function y(){b(a)}function D(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;f!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,f===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return l+=2,p(r),e=e.slice(n),l+=2,t({type:"comment",comment:r})}}function _(){var e=h(),t=b(i);if(t){if(w(),!b(s))return g("property missing ':'");var n=b(u),o=e({type:"declaration",property:d(t[0].replace(r,f)),value:n?d(n[0].replace(r,f)):f});return b(c),o}}return y(),function(){var e,t=[];for(D(t);e=_();)!1!==e&&(t.push(e),D(t));return t}()}},62054:(e,t,n)=>{"use strict";var r=n(59039);n(39341),n(73706),n(10408),n(41539),n(82526),n(41817);var o=n(68269)(),a=n(55409)("Object.prototype.toString"),i=function(e){return!(o&&e&&"object"===r(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===a(e)},s=function(e){return!!i(e)||null!==e&&"object"===r(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==a(e)&&"[object Function]"===a(e.callee)},u=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=u?i:s},43853:(e,t,n)=>{"use strict";var r=n(59039);n(83710),n(41539);var o=Date.prototype.getDay,a=Object.prototype.toString,i=n(68269)();e.exports=function(e){return"object"===r(e)&&null!==e&&(i?function(e){try{return o.call(e),!0}catch(t){return!1}}(e):"[object Date]"===a.call(e))}},10366:(e,t,n)=>{"use strict";var r=n(59039);n(96649),n(96078),n(82526),n(41817),n(41539),n(38880);var o,a,i,s,u=n(55409),c=n(68269)();if(c){o=u("Object.prototype.hasOwnProperty"),a=u("RegExp.prototype.exec"),i={};var l=function(){throw i};s={toString:l,valueOf:l},"symbol"===r(Symbol.toPrimitive)&&(s[Symbol.toPrimitive]=l)}var f=u("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==r(e))return!1;var t=d(e,"lastIndex");if(!(t&&o(t,"value")))return!1;try{a(e,s)}catch(n){return n===i}}:function(e){return!(!e||"object"!==r(e)&&"function"!=typeof e)&&"[object RegExp]"===f(e)}},30514:(e,t,n)=>{e=n.nmd(e);var r=n(59039);n(96647),n(83710),n(41539),n(39714),n(89554),n(54747),n(74916),n(66992),n(33948),n(24603),n(28450),n(88386),n(15306),n(30489),n(78011),n(40561),n(82526),n(47941),n(57658),n(77601),n(47042),n(21249),n(18264),n(39575),n(79753);var o="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object Promise]",m="[object RegExp]",v="[object Set]",g="[object String]",b="[object Symbol]",y="[object WeakMap]",D="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",F="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",T=/\w*$/,P=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[D]=M[w]=M[s]=M[u]=M[_]=M[E]=M[x]=M[k]=M[C]=M[f]=M[d]=M[p]=M[m]=M[v]=M[g]=M[b]=M[S]=M[F]=M[O]=M[A]=!0,M["[object Error]"]=M[c]=M[y]=!1;var B="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,N="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,R=B||N||Function("return this")(),I="object"==r(t)&&t&&!t.nodeType&&t,L=I&&"object"==r(e)&&e&&!e.nodeType&&e,z=L&&L.exports===I;function q(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function V(e,t,n,r){var o=-1,a=e?e.length:0;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G,Y=Array.prototype,Z=Function.prototype,X=Object.prototype,J=R["__core-js_shared__"],Q=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",ee=Z.toString,te=X.hasOwnProperty,ne=X.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=z?R.Buffer:void 0,ae=R.Symbol,ie=R.Uint8Array,se=W(Object.getPrototypeOf,Object),ue=Object.create,ce=X.propertyIsEnumerable,le=Y.splice,fe=Object.getOwnPropertySymbols,de=oe?oe.isBuffer:void 0,pe=W(Object.keys,Object),he=Le(R,"DataView"),me=Le(R,"Map"),ve=Le(R,"Promise"),ge=Le(R,"Set"),be=Le(R,"WeakMap"),ye=Le(Object,"create"),De=He(he),we=He(me),_e=He(ve),Ee=He(ge),xe=He(be),ke=ae?ae.prototype:void 0,Ce=ke?ke.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Fe(e)}function Te(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ke(e)}(e)&&te.call(e,"callee")&&(!ce.call(e,"callee")||ne.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,a=!!o;for(var s in e)!t&&!te.call(e,s)||a&&("length"==s||Ue(s,o))||n.push(s);return n}function Pe(e,t,n){var r=e[t];te.call(e,t)&&$e(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function je(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1}function Me(e,t,n,r,o,a,h){var y;if(r&&(y=a?r(e,o,a,h):r(e)),void 0!==y)return y;if(!Ze(e))return e;var P=We(e);if(P){if(y=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&te.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,y)}else{var j=qe(e),B=j==c||j==l;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(j==p||j==i||B&&!a){if(H(e))return a?e:{};if(y=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:(t=se(e),Ze(t)?ue(t):{});var t}(B?{}:e),!t)return function(e,t){return Re(e,ze(e),t)}(e,function(e,t){return e&&Re(t,Xe(t),e)}(y,e))}else{if(!M[j])return a?e:{};y=function(e,t,n,r){var o=e.constructor;switch(t){case D:return Ne(e);case s:case u:return new o(+e);case w:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case E:case x:case k:case C:case S:case F:case O:case A:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return V(t?n($(e),!0):$(e),q,new e.constructor)}(e,r,n);case d:case g:return new o(e);case m:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return V(t?n(K(e),!0):K(e),U,new e.constructor)}(e,r,n);case b:return a=e,Ce?Object(Ce.call(a)):{}}var a}(e,j,Me,t)}}h||(h=new Ae);var N=h.get(e);if(N)return N;if(h.set(e,y),!P)var R=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Xe,ze)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(R||e,(function(o,a){R&&(o=e[a=o]),Pe(y,a,Me(o,t,n,r,a,e,h))})),y}function Be(e){return!(!Ze(e)||(t=e,Q&&Q in t))&&(Ye(e)||H(e)?re:P).test(He(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Re(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var i=t[o],s=r?r(n[i],e[i],i,n,e):void 0;Pe(n,i,void 0===s?e[i]:s)}return n}function Ie(e,t){var n,o,a=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Be(n)?n:void 0}Se.prototype.clear=function(){this.__data__=ye?ye(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===o?void 0:n}return te.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:te.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?o:t,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Fe.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]},Fe.prototype.has=function(e){return je(this.__data__,e)>-1},Fe.prototype.set=function(e,t){var n=this.__data__,r=je(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Oe.prototype.clear=function(){this.__data__={hash:new Se,map:new(me||Fe),string:new Se}},Oe.prototype.delete=function(e){return Ie(this,e).delete(e)},Oe.prototype.get=function(e){return Ie(this,e).get(e)},Oe.prototype.has=function(e){return Ie(this,e).has(e)},Oe.prototype.set=function(e,t){return Ie(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Fe},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Fe){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Oe(r)}return n.set(e,t),this};var ze=fe?W(fe,Object):function(){return[]},qe=function(e){return ne.call(e)};function Ue(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function He(e){if(null!=e){try{return ee.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(he&&qe(new he(new ArrayBuffer(1)))!=w||me&&qe(new me)!=f||ve&&qe(ve.resolve())!=h||ge&&qe(new ge)!=v||be&&qe(new be)!=y)&&(qe=function(e){var t=ne.call(e),n=t==p?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case De:return w;case we:return f;case _e:return h;case Ee:return v;case xe:return y}return t});var We=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!Ye(e)}var Ge=de||function(){return!1};function Ye(e){var t=Ze(e)?ne.call(e):"";return t==c||t==l}function Ze(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Xe(e){return Ke(e)?Te(e):function(e){if(!Ve(e))return pe(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Me(e,!0,!0)}},14431:(e,t,n)=>{var r=n(59039);n(96647),n(83710),n(41539),n(39714),n(30489);var o,a,i=Function.prototype,s=Object.prototype,u=i.toString,c=s.hasOwnProperty,l=u.call(Object),f=s.toString,d=(o=Object.getPrototypeOf,a=Object,function(e){return o(a(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==r(e)}(e)||"[object Object]"!=f.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=d(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},70184:(e,t,n)=>{var r=n(59039);n(69600),n(24603),n(28450),n(74916),n(88386),n(39714),n(77601),n(4723),n(96647),n(83710),n(41539),n(15306);var o="[object Symbol]",a=/^\s+|\s+$/g,i="\\u0300-\\u036f\\ufe20-\\ufe23",s="[\\ud800-\\udfff]",u="["+i+"\\u20d0-\\u20f0]",c="\\ud83c[\\udffb-\\udfff]",l="[^\\ud800-\\udfff]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="(?:"+u+"|"+c+")"+"?",h="[\\ufe0e\\ufe0f]?",m=h+p+("(?:\\u200d(?:"+[l,f,d].join("|")+")"+h+p+")*"),v="(?:"+[l+u+"?",u,f,d,s].join("|")+")",g=RegExp(c+"(?="+c+")|"+v+m,"g"),b=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),y="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,D="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,w=y||D||Function("return this")();function _(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,E,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function E(e){return e!=e}function x(e){return function(e){return b.test(e)}(e)?function(e){return e.match(g)||[]}(e):function(e){return e.split("")}(e)}var k=Object.prototype.toString,C=w.Symbol,S=C?C.prototype:void 0,F=S?S.toString:void 0;function O(e){if("string"==typeof e)return e;if(function(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&k.call(e)==o}(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function A(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}(e,t,n)}e.exports=function(e,t,n){var r;if((e=null==(r=e)?"":O(r))&&(n||void 0===t))return e.replace(a,"");if(!e||!(t=O(t)))return e;var o=x(e),i=x(t),s=function(e,t){for(var n=-1,r=e.length;++n<r&&_(t,e[n],0)>-1;);return n}(o,i),u=function(e,t){for(var n=e.length;n--&&_(t,e[n],0)>-1;);return n}(o,i)+1;return A(o,s,u).join("")}},56645:(e,t,n)=>{var r=n(59039);n(96647),n(83710),n(41539),n(39714),n(74916),n(66992),n(33948),n(24603),n(28450),n(88386),n(15306),n(40561),n(57658),n(77601),n(21249);var o="__lodash_hash_undefined__",a=9007199254740991,i=/^\[object .+?Constructor\]$/,s="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,u="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var o=e.length,a=n+(r?1:-1);for(;r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,p,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function d(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function p(e){return e!=e}function h(e,t){return e.has(t)}var m,v=Array.prototype,g=Function.prototype,b=Object.prototype,y=c["__core-js_shared__"],D=(m=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",w=g.toString,_=b.hasOwnProperty,E=b.toString,x=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=v.splice,C=Math.max,S=R(c,"Map"),F=R(Object,"create");function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.__data__=new T;++t<n;)this.add(e[t])}function j(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function M(e,t,n,r){var o,a=-1,i=f,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(t,(o=n,function(e){return o(e)}))),r?(i=d,s=!1):t.length>=200&&(i=h,s=!1,t=new P(t));e:for(;++a<u;){var p=e[a],m=n?n(p):p;if(p=r||0!==p?p:0,s&&m==m){for(var v=l;v--;)if(t[v]===m)continue e;c.push(p)}else i(t,m,r)||c.push(p)}return c}function B(e){if(!U(e)||(t=e,D&&D in t))return!1;var t,n=q(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?x:i;return n.test(function(e){if(null!=e){try{return w.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function N(e,t){var n,o,a=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function R(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return B(n)?n:void 0}O.prototype.clear=function(){this.__data__=F?F(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(F){var n=t[e];return n===o?void 0:n}return _.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return F?void 0!==t[e]:_.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=F&&void 0===t?o:t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},A.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},A.prototype.has=function(e){return j(this.__data__,e)>-1},A.prototype.set=function(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new O,map:new(S||A),string:new O}},T.prototype.delete=function(e){return N(this,e).delete(e)},T.prototype.get=function(e){return N(this,e).get(e)},T.prototype.has=function(e){return N(this,e).has(e)},T.prototype.set=function(e,t){return N(this,e).set(e,t),this},P.prototype.add=P.prototype.push=function(e){return this.__data__.set(e,o),this},P.prototype.has=function(e){return this.__data__.has(e)};var I,L,z=(I=function(e,t){return function(e){return!!e&&"object"==r(e)}(n=e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!q(e)}(n)?M(e,t):[];var n},L=C(void 0===L?I.length-1:L,0),function(){for(var e=arguments,t=-1,n=C(e.length-L,0),r=Array(n);++t<n;)r[t]=e[L+t];t=-1;for(var o=Array(L+1);++t<L;)o[t]=e[t];return o[L]=r,l(I,this,o)});function q(e){var t=U(e)?E.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function U(e){var t=r(e);return!!e&&("object"==t||"function"==t)}e.exports=z},61844:(e,t,n)=>{var r=n(15308)(n(78718),"DataView");e.exports=r},44275:(e,t,n)=>{var r=n(8066),o=n(70719),a=n(1546),i=n(73029),s=n(61589);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},24886:(e,t,n)=>{var r=n(45724),o=n(65989),a=n(92986),i=n(32066),s=n(91475);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},40558:(e,t,n)=>{var r=n(15308)(n(78718),"Map");e.exports=r},15242:(e,t,n)=>{var r=n(25682),o=n(44333),a=n(193),i=n(78844),s=n(95233);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},73034:(e,t,n)=>{var r=n(15308)(n(78718),"Promise");e.exports=r},63883:(e,t,n)=>{var r=n(15308)(n(78718),"Set");e.exports=r},39198:(e,t,n)=>{n(57658);var r=n(15242),o=n(43319),a=n(83662);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},56289:(e,t,n)=>{var r=n(24886),o=n(79355),a=n(54024),i=n(4630),s=n(19795),u=n(1605);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,e.exports=c},80448:(e,t,n)=>{var r=n(78718).Symbol;e.exports=r},52389:(e,t,n)=>{var r=n(78718).Uint8Array;e.exports=r},89335:(e,t,n)=>{var r=n(15308)(n(78718),"WeakMap");e.exports=r},66248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},45263:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},85974:(e,t,n)=>{n(57658);var r=n(78672),o=n(59967),a=n(84764),i=n(64482),s=n(69823),u=n(22410),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&o(e),f=!n&&!l&&i(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},56365:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},33768:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},86071:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},37278:(e,t,n)=>{var r=n(91639)("length");e.exports=r},97451:(e,t,n)=>{var r=n(56051);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},96950:(e,t,n)=>{var r=n(23011),o=n(14486)(r);e.exports=o},7400:(e,t,n)=>{var r=n(89840)();e.exports=r},23011:(e,t,n)=>{var r=n(7400),o=n(12712);e.exports=function(e,t){return e&&r(e,t,o)}},13489:(e,t,n)=>{var r=n(59875),o=n(40163);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},43789:(e,t,n)=>{var r=n(33768),o=n(84764);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},5853:(e,t,n)=>{var r=n(80448),o=n(64312),a=n(870),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},51996:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},82912:(e,t,n)=>{var r=n(5853),o=n(98807);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},46091:(e,t,n)=>{var r=n(92311),o=n(98807);e.exports=function e(t,n,a,i,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,s))}},92311:(e,t,n)=>{var r=n(56289),o=n(78974),a=n(12285),i=n(57923),s=n(81151),u=n(84764),c=n(64482),l=n(22410),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var b=u(e),y=u(t),D=b?d:s(e),w=y?d:s(t),_=(D=D==f?p:D)==p,E=(w=w==f?p:w)==p,x=D==w;if(x&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(x&&!_)return g||(g=new r),b||l(e)?o(e,t,n,m,v,g):a(e,t,D,n,m,v,g);if(!(1&n)){var k=_&&h.call(e,"__wrapped__"),C=E&&h.call(t,"__wrapped__");if(k||C){var S=k?e.value():e,F=C?t.value():t;return g||(g=new r),v(S,F,n,m,g)}}return!!x&&(g||(g=new r),i(e,t,n,m,v,g))}},33723:(e,t,n)=>{var r=n(56289),o=n(46091);e.exports=function(e,t,n,a){var i=n.length,s=i,u=!a;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var l=(c=n[i])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var p=new r;if(a)var h=a(f,d,l,e,t,p);if(!(void 0===h?o(d,f,3,a,p):h))return!1}}return!0}},51819:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714),n(24603),n(28450),n(74916),n(88386),n(15306),n(77601);var r=n(83451),o=n(39411),a=n(18032),i=n(38482),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?d:s).test(i(e))}},72886:(e,t,n)=>{var r=n(5853),o=n(97265),a=n(98807),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},53146:(e,t,n)=>{var r=n(59039),o=n(34169),a=n(15860),i=n(50407),s=n(84764),u=n(94052);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==r(e)?s(e)?a(e[0],e[1]):o(e):u(e)}},9968:(e,t,n)=>{n(57658);var r=n(78997),o=n(36906),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},83911:(e,t,n)=>{var r=n(96950),o=n(82858);e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,(function(e,r,o){a[++n]=t(e,r,o)})),a}},34169:(e,t,n)=>{var r=n(33723),o=n(55930),a=n(38727);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},15860:(e,t,n)=>{var r=n(46091),o=n(80209),a=n(52428),i=n(34485),s=n(67209),u=n(38727),c=n(40163);e.exports=function(e,t){return i(e)&&s(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,3)}}},91639:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},47577:(e,t,n)=>{var r=n(13489);e.exports=function(e){return function(t){return r(t,e)}}},78672:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},87459:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714);var r=n(80448),o=n(56365),a=n(84764),i=n(49863),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},55664:e=>{e.exports=function(e){return function(t){return e(t)}}},44674:e=>{e.exports=function(e,t){return e.has(t)}},21024:(e,t,n)=>{var r=n(50407);e.exports=function(e){return"function"==typeof e?e:r}},59875:(e,t,n)=>{var r=n(84764),o=n(34485),a=n(97987),i=n(1225);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},84020:(e,t,n)=>{var r=n(78718)["__core-js_shared__"];e.exports=r},14486:(e,t,n)=>{var r=n(82858);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&!1!==o(s[i],i,s););return n}}},89840:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var u=i[e?s:++o];if(!1===n(a[u],u,a))break}return t}}},78974:(e,t,n)=>{n(57658);var r=n(39198),o=n(86071),a=n(44674);e.exports=function(e,t,n,i,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var h=-1,m=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var g=e[h],b=t[h];if(i)var y=c?i(b,g,h,t,e,u):i(g,b,h,e,t,u);if(void 0!==y){if(y)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!a(v,t)&&(g===e||s(g,e,n,i,u)))return v.push(t)}))){m=!1;break}}else if(g!==b&&!s(g,b,n,i,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},12285:(e,t,n)=>{n(68309);var r=n(80448),o=n(52389),a=n(56051),i=n(78974),s=n(68894),u=n(2861),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=i(p(e),p(t),r,c,f,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},57923:(e,t,n)=>{var r=n(7183),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<l;){var g=e[d=c[f]],b=t[d];if(a)var y=u?a(b,g,d,t,e,s):a(g,b,d,e,t,s);if(!(void 0===y?g===b||i(g,b,n,a,s):y)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var D=e.constructor,w=t.constructor;D==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof D&&D instanceof D&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},54049:(e,t,n)=>{var r=n(59039),o="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g;e.exports=o},7183:(e,t,n)=>{var r=n(43789),o=n(42938),a=n(12712);e.exports=function(e){return r(e,a,o)}},25662:(e,t,n)=>{n(21249);var r=n(63873);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},55930:(e,t,n)=>{var r=n(67209),o=n(12712);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},15308:(e,t,n)=>{var r=n(51819),o=n(3546);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},64312:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714);var r=n(80448),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},42938:(e,t,n)=>{n(82526);var r=n(45263),o=n(64769),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},81151:(e,t,n)=>{n(18264),n(39575),n(41539);var r=n(61844),o=n(40558),a=n(73034),i=n(63883),s=n(89335),u=n(5853),c=n(38482),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=c(r),v=c(o),g=c(a),b=c(i),y=c(s),D=u;(r&&D(new r(new ArrayBuffer(1)))!=h||o&&D(new o)!=l||a&&D(a.resolve())!=f||i&&D(new i)!=d||s&&D(new s)!=p)&&(D=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case v:return l;case g:return f;case b:return d;case y:return p}return t}),e.exports=D},3546:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},50972:(e,t,n)=>{var r=n(59875),o=n(59967),a=n(84764),i=n(69823),s=n(97265),u=n(40163);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&i(d,l)&&(a(e)||o(e))}},95254:(e,t,n)=>{n(24603),n(28450),n(74916),n(88386),n(39714),n(77601);var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},8066:(e,t,n)=>{var r=n(45655);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},70719:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1546:(e,t,n)=>{var r=n(45655),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},73029:(e,t,n)=>{var r=n(45655),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},61589:(e,t,n)=>{var r=n(45655);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},69823:(e,t,n)=>{var r=n(59039);n(74916),n(77601);var o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=r(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},34485:(e,t,n)=>{var r=n(59039);n(74916),n(77601);var o=n(84764),a=n(49863),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},63873:(e,t,n)=>{var r=n(59039);e.exports=function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},39411:(e,t,n)=>{n(74916),n(66992),n(41539),n(33948);var r,o=n(84020),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},78997:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},67209:(e,t,n)=>{var r=n(18032);e.exports=function(e){return e==e&&!r(e)}},45724:e=>{e.exports=function(){this.__data__=[],this.size=0}},65989:(e,t,n)=>{n(40561);var r=n(97451),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},92986:(e,t,n)=>{var r=n(97451);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},32066:(e,t,n)=>{var r=n(97451);e.exports=function(e){return r(this.__data__,e)>-1}},91475:(e,t,n)=>{n(57658);var r=n(97451);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},25682:(e,t,n)=>{var r=n(44275),o=n(24886),a=n(40558);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},44333:(e,t,n)=>{var r=n(25662);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},193:(e,t,n)=>{var r=n(25662);e.exports=function(e){return r(this,e).get(e)}},78844:(e,t,n)=>{var r=n(25662);e.exports=function(e){return r(this,e).has(e)}},95233:(e,t,n)=>{var r=n(25662);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},68894:(e,t,n)=>{n(89554),n(41539),n(54747),e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},38727:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},58985:(e,t,n)=>{var r=n(26220);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},45655:(e,t,n)=>{var r=n(15308)(Object,"create");e.exports=r},36906:(e,t,n)=>{n(47941);var r=n(41)(Object.keys,Object);e.exports=r},29853:(e,t,n)=>{e=n.nmd(e);var r=n(59039),o=n(54049),a="object"==r(t)&&t&&!t.nodeType&&t,i=a&&"object"==r(e)&&e&&!e.nodeType&&e,s=i&&i.exports===a&&o.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u},870:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714);var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},41:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},78718:(e,t,n)=>{var r=n(59039),o=n(54049),a="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,i=o||a||Function("return this")();e.exports=i},43319:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},83662:e=>{e.exports=function(e){return this.__data__.has(e)}},2861:(e,t,n)=>{n(89554),n(41539),n(54747),e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},79355:(e,t,n)=>{var r=n(24886);e.exports=function(){this.__data__=new r,this.size=0}},54024:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4630:e=>{e.exports=function(e){return this.__data__.get(e)}},19795:e=>{e.exports=function(e){return this.__data__.has(e)}},1605:(e,t,n)=>{n(57658);var r=n(24886),o=n(40558),a=n(15242);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},79264:(e,t,n)=>{var r=n(37278),o=n(95254),a=n(25989);e.exports=function(e){return o(e)?a(e):r(e)}},97987:(e,t,n)=>{n(57658),n(74916),n(15306);var r=n(58985),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)})),t}));e.exports=i},40163:(e,t,n)=>{var r=n(49863);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},38482:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714);var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},25989:(e,t,n)=>{n(69600),n(24603),n(28450),n(74916),n(88386),n(39714),n(77601);var r="[\\ud800-\\udfff]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+o+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",f=l+c+("(?:\\u200d(?:"+[i,s,u].join("|")+")"+l+c+")*"),d="(?:"+[i+o+"?",o,s,u,r].join("|")+")",p=RegExp(a+"(?="+a+")|"+d+f,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},67852:(e,t,n)=>{e.exports=n(52880)},56051:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},52880:(e,t,n)=>{var r=n(66248),o=n(96950),a=n(21024),i=n(84764);e.exports=function(e,t){return(i(e)?r:o)(e,a(t))}},80209:(e,t,n)=>{var r=n(13489);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},52428:(e,t,n)=>{var r=n(51996),o=n(50972);e.exports=function(e,t){return null!=e&&o(e,t,r)}},50407:e=>{e.exports=function(e){return e}},59967:(e,t,n)=>{var r=n(82912),o=n(98807),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},84764:(e,t,n)=>{n(79753);var r=Array.isArray;e.exports=r},82858:(e,t,n)=>{var r=n(83451),o=n(97265);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},64482:(e,t,n)=>{e=n.nmd(e);var r=n(59039),o=n(78718),a=n(92587),i="object"==r(t)&&t&&!t.nodeType&&t,s=i&&"object"==r(e)&&e&&!e.nodeType&&e,u=s&&s.exports===i?o.Buffer:void 0,c=(u?u.isBuffer:void 0)||a;e.exports=c},56201:(e,t,n)=>{var r=n(46091);e.exports=function(e,t){return r(e,t)}},83451:(e,t,n)=>{var r=n(5853),o=n(18032);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},97265:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},83688:e=>{e.exports=function(e){return null===e}},18032:(e,t,n)=>{var r=n(59039);e.exports=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}},98807:(e,t,n)=>{var r=n(59039);e.exports=function(e){return null!=e&&"object"==r(e)}},24364:(e,t,n)=>{var r=n(5853),o=n(84764),a=n(98807);e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==r(e)}},49863:(e,t,n)=>{var r=n(59039),o=n(5853),a=n(98807);e.exports=function(e){return"symbol"==r(e)||a(e)&&"[object Symbol]"==o(e)}},22410:(e,t,n)=>{var r=n(72886),o=n(55664),a=n(29853),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},12712:(e,t,n)=>{var r=n(85974),o=n(9968),a=n(82858);e.exports=function(e){return a(e)?r(e):o(e)}},75240:(e,t,n)=>{var r=n(56365),o=n(53146),a=n(83911),i=n(84764);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},26220:(e,t,n)=>{n(21703),n(96647);var r=n(15242);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},94052:(e,t,n)=>{var r=n(91639),o=n(47577),a=n(34485),i=n(40163);e.exports=function(e){return a(e)?r(i(e)):o(e)}},87664:(e,t,n)=>{var r=n(9968),o=n(81151),a=n(82858),i=n(24364),s=n(79264);e.exports=function(e){if(null==e)return 0;if(a(e))return i(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},64769:e=>{e.exports=function(){return[]}},92587:e=>{e.exports=function(){return!1}},1225:(e,t,n)=>{var r=n(87459);e.exports=function(e){return null==e?"":r(e)}},14630:(e,t,n)=>{"use strict";var r=n(59039);function o(e){return e&&"object"===r(e)&&"default"in e?e.default:e}n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(19601),n(26541),n(47941),n(89554),n(54747),n(79753),n(39575),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(83650),n(21703),n(96647),n(38862),n(74916),n(77601),n(24603),n(28450),n(88386),n(39714),n(83710),n(68309),n(91058),n(57658),n(40561),n(2707),n(47042),n(82772);var a=o(n(99005)),i=o(n(64541)),s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(e,t){Object.keys(e).forEach((function(n){t(e[n],n)}))},l=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},f=function(e){return Array.isArray(e)},d=c,p=function(e){return f(e)&&!l(e)},h=function(e){return!!e&&("number"!=typeof e&&("string"!=typeof e&&("boolean"!=typeof e&&(!p(e)&&(null!==e&&(!(e instanceof RegExp)&&("function"!=typeof e&&(!(e instanceof Date)&&!l(e)))))))))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '"+t.field+"'");var n=new Error(e);return n.name="ModifyJsError",n},v=function(e,t){return e.every((function(e){return t&&t(e)||e}))},g=c,b=function(e){return Object.keys(e)},y=function(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e},D=function(e,t,n){if(n=n||{},!h(t))throw m("Modifier must be an object");var r;if(function(e,t){if(!h(e))return!1;var n=void 0;return d(e,(function(r,o){var a="$"===o.substr(0,1);if(void 0===n)n=a;else if(n!==a){if(!t)throw new Error("Inconsistent operator: "+JSON.stringify(e));n=!1}})),!!n}(t=a(t))?(r=a(e),g(t,(function(e,t){var o=E[t];if(!o)throw m("Invalid modifier specified "+t);g(e,(function(e,a){if(""===a)throw m("An empty update path is not valid.");var i=a.split(".");if(!v(i))throw m("The update path '"+a+"' contains an empty field name, which is not allowed.");var s=w(r,i,{noCreate:_[t],forbidArray:"$rename"===t,arrayIndices:n.arrayIndices}),u=i.pop();o(s,u,e,a,r)}))}))):r=t,n.returnInsteadOfReplacing)return r;g(b(e),(function(t){"_id"!==t&&delete e[t]})),g(r,(function(t,n){e[n]=t}))},w=function(e,t,n){n=n||{};for(var r,o=!1,a=0;a<t.length;a++){var i=a===t.length-1,u=t[a];if(!(p(r=e)||h(r))){if(n.noCreate)return;var c=m("cannot use the part '"+u+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(n.forbidArray)return null;if("$"===u){if(o)throw m("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw m("The positional operator did not find the match needed from the query");u=n.arrayIndices[0],o=!0}else{if(!/^[0-9]+$/.test(u)){if(n.noCreate)return;throw m("can't append to array using string field name ["+u+"]")}u=parseInt(u)}if(i&&(t[a]=u),n.noCreate&&u>=e.length)return;for(;e.length<u;)e.push(null);if(!i)if(e.length===u)e.push({});else if("object"!==s(e[u]))throw m("can't modify field '"+t[a+1]+"' of list value "+JSON.stringify(e[u]))}else if(!(u in e)){if(n.noCreate)return;i||(e[u]={})}if(i)return e;e=e[u]}},_={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},E={$currentDate:function(e,t,n){if("object"===(void 0===n?"undefined":s(n))&&n.hasOwnProperty("$type")){if("date"!==n.$type)throw m("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==n)throw m("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min:function(e,t,n){if("number"!=typeof n)throw m("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw m("Cannot apply $min modifier to non-number",{field:t});e[t]>n&&(e[t]=n)}else e[t]=n},$max:function(e,t,n){if("number"!=typeof n)throw m("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw m("Cannot apply $max modifier to non-number",{field:t});e[t]<n&&(e[t]=n)}else e[t]=n},$inc:function(e,t,n){if("number"!=typeof n)throw m("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw m("Cannot apply $inc modifier to non-number",{field:t});e[t]+=n}else e[t]=n},$set:function(e,t,n){var r;if(!y(e))throw(r=m("Cannot set property on non-object field",{field:t})).setPropertyError=!0,r;if(null===e)throw(r=m("Cannot set property on null",{field:t})).setPropertyError=!0,r;e[t]=n},$setOnInsert:function(e,t,n){},$unset:function(e,t,n){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw m("Cannot apply $push modifier to non-array",{field:t});if(n&&n.$each){var r=n.$each;if(!(r instanceof Array))throw m("$each must be an array",{field:t});var o=void 0;if("$position"in n){if("number"!=typeof n.$position)throw m("$position must be a numeric value",{field:t});if(n.$position<0)throw m("$position in $push must be zero or positive",{field:t});o=n.$position}var a=void 0;if("$slice"in n){if("number"!=typeof n.$slice)throw m("$slice must be a numeric value",{field:t});if(n.$slice>0)throw m("$slice in $push must be zero or negative",{field:t});a=n.$slice}var i=void 0;if(n.$sort)throw m("$sort in $push not implemented yet");if(void 0===o)for(var s=0;s<r.length;s++)e[t].push(r[s]);else{var u=[o,0];for(s=0;s<r.length;s++)u.push(r[s]);Array.prototype.splice.apply(e[t],u)}i,void 0!==a&&(e[t]=0===a?[]:e[t].slice(a))}else e[t].push(n)},$pushAll:function(e,t,n){if(!("object"===(void 0===n?"undefined":s(n))&&n instanceof Array))throw m("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(void 0===r)e[t]=n;else{if(!(r instanceof Array))throw m("Cannot apply $pushAll modifier to non-array",{field:t});for(var o=0;o<n.length;o++)r.push(n[o])}},$addToSet:function(e,t,n){var r=!1;"object"===(void 0===n?"undefined":s(n))&&("$each"===Object.keys(n)[0]&&(r=!0));var o=r?n.$each:[n],a=e[t];if(void 0===a)e[t]=o;else{if(!(a instanceof Array))throw m("Cannot apply $addToSet modifier to non-array",{field:t});g(o,(function(e){for(var t=0;t<a.length;t++)if(i(e,a[t]))return;a.push(e)}))}},$pop:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw m("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof n&&n<0?r.splice(0,1):r.pop()}}},$pull:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r)throw r instanceof Array?m("$pull not implemented yet"):m("Cannot apply $pull/pullAll modifier to non-array",{field:t})}},$pullAll:function(e,t,n){if(!("object"===(void 0===n?"undefined":s(n))&&n instanceof Array))throw m("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw m("Cannot apply $pull/pullAll modifier to non-array",{field:t});for(var o=[],a=0;a<r.length;a++){for(var u=!1,c=0;c<n.length;c++)if(i(r[a],n[c])){u=!0;break}u||o.push(r[a])}e[t]=o}}},$rename:function(e,t,n,r,o){if(r===n)throw m("$rename source must differ from target",{field:t});if(null===e)throw m("$rename source field invalid",{field:t});if("string"!=typeof n)throw m("$rename target must be a string",{field:t});if(n.indexOf("\0")>-1)throw m("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0!==e){var a=e[t];delete e[t];var i=n.split("."),s=w(o,i,{forbidArray:!0});if(null===s)throw m("$rename target field invalid",{field:t});s[i.pop()]=a}},$bit:function(e,t,n){throw m("$bit is not supported",{field:t})}};e.exports=function(e,t,n){if(!n||!n.each)return D(e,t,u({},n,{returnInsteadOfReplacing:!0}))}},34429:(e,t,n)=>{var r=n(8436).z;n(17770),n(18320),n(2220),n(4662),n(43989);var o=n(46316).$;t.z=r},43989:(e,t,n)=>{var r=n(8436).z;!function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],a=[],i=[],s=[],u=[],c=[],l=[],f=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,o[n]=h,a[h]=n;var m=e[n],v=e[m],g=e[v],b=257*e[h]^16843008*h;i[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,u[n]=b<<8|b>>>24,c[n]=b;b=16843009*g^65537*v^257*m^16843008*n;l[h]=b<<24|b>>>8,f[h]=b<<16|b>>>16,d[h]=b<<8|b>>>24,p[h]=b,n?(n=m^e[e[e[g^m]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],i=0;i<r;i++)if(i<n)a[i]=t[i];else{var s=a[i-1];i%n?n>6&&i%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=h[i/n|0]<<24),a[i]=a[i-n]^s}for(var u=this._invKeySchedule=[],c=0;c<r;c++){i=r-c;if(c%4)s=a[i];else s=a[i-4];u[c]=c<4||i<=4?s:l[o[s>>>24]]^f[o[s>>>16&255]]^d[o[s>>>8&255]]^p[o[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,s,u,c,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,p,a);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,a,i,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],p=4,h=1;h<u;h++){var m=r[c>>>24]^o[l>>>16&255]^a[f>>>8&255]^i[255&d]^n[p++],v=r[l>>>24]^o[f>>>16&255]^a[d>>>8&255]^i[255&c]^n[p++],g=r[f>>>24]^o[d>>>16&255]^a[c>>>8&255]^i[255&l]^n[p++],b=r[d>>>24]^o[c>>>16&255]^a[l>>>8&255]^i[255&f]^n[p++];c=m,l=v,f=g,d=b}m=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[p++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^n[p++],g=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[p++],b=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[p++];e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}()},4662:(e,t,n)=>{n(47042),n(57658),n(92222),n(96647),n(83710),n(41539),n(39714),n(40561);var r,o,a,i,s,u,c,l,f,d,p,h,m,v,g,b,y,D,w=n(8436).z;w.lib.Cipher||(o=(r=w).lib,a=o.Base,i=o.WordArray,s=o.BufferedBlockAlgorithm,(u=r.enc).Utf8,c=u.Base64,l=r.algo.EvpKDF,f=o.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?D:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=r.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function t(e,t,n){var r=this._iv;if(r){var o=r;this._iv=void 0}else o=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,a=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=a}}),e}(),m=(r.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var u=i.create(a,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:h,padding:m}),reset:function(){f.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),v=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return v.create({ciphertext:t,salt:r})}},b=o.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),a=o.finalize(t),i=o.cfg;return v.create({ciphertext:a,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(r.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=l.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,v.create({key:o,iv:a,salt:r})}},D=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var a=b.encrypt.call(this,e,t,o.key,r);return a.mixIn(o),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=o.iv,b.decrypt.call(this,e,t,o.key,r)}}))},8436:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714),n(57658),n(47042),n(69600),n(91058),n(83650),n(62130),n(21703),n(78221),n(92222),n(40561);var r=r||function(e,t){var n={},r=n.lib={},o=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<o;a++){var i=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=i<<24-(r+a)%4*8}else if(n.length>65535)for(a=0;a<o;a+=4)t[r+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),i=n.enc={},s=i.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var a=t[o>>>2]>>>24-o%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=i.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var a=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var l=0;l<u;l+=i)this._doProcessBlock(r,l);var f=r.splice(0,u);n.sigBytes-=c}return new a.init(f,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);t.z=r},17770:(e,t,n)=>{n(57658),n(69600),n(82772);var r,o,a=n(8436).z;o=(r=a).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],a=0;a<n;a+=3)for(var i=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)o.push(r.charAt(i>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=n.charAt(64);if(r){var a=e.indexOf(r);-1!=a&&(t=a)}for(var i=[],s=0,u=0;u<t;u++)if(u%4){var c=n.indexOf(e.charAt(u-1))<<u%4*2,l=n.indexOf(e.charAt(u))>>>6-u%4*2;i[s>>>2]|=(c|l)<<24-s%4*8,s++}return o.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},2220:(e,t,n)=>{n(92222);var r,o,a,i,s,u,c,l=n(8436).z;o=(r=l).lib,a=o.Base,i=o.WordArray,s=r.algo,u=s.MD5,c=s.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:u,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),a=o.words,s=n.keySize,u=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var l=1;l<u;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*s,o}}),r.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)}},46316:(e,t,n)=>{n(96647),n(83710),n(41539),n(39714),n(38862);var r=n(8436).z,o={stringify:function(e){var t={ct:e.ciphertext.toString(r.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t)},parse:function(e){var t=JSON.parse(e),n=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(t.ct)});return t.iv&&(n.iv=r.enc.Hex.parse(t.iv)),t.s&&(n.salt=r.enc.Hex.parse(t.s)),n}};t.$=o},18320:(e,t,n)=>{var r=n(8436).z;!function(e){var t=r,n=t.lib,o=n.WordArray,a=n.Hasher,i=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=i.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this._hash.words,i=e[t+0],u=e[t+1],p=e[t+2],h=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],b=e[t+7],y=e[t+8],D=e[t+9],w=e[t+10],_=e[t+11],E=e[t+12],x=e[t+13],k=e[t+14],C=e[t+15],S=a[0],F=a[1],O=a[2],A=a[3];S=c(S,F,O,A,i,7,s[0]),A=c(A,S,F,O,u,12,s[1]),O=c(O,A,S,F,p,17,s[2]),F=c(F,O,A,S,h,22,s[3]),S=c(S,F,O,A,m,7,s[4]),A=c(A,S,F,O,v,12,s[5]),O=c(O,A,S,F,g,17,s[6]),F=c(F,O,A,S,b,22,s[7]),S=c(S,F,O,A,y,7,s[8]),A=c(A,S,F,O,D,12,s[9]),O=c(O,A,S,F,w,17,s[10]),F=c(F,O,A,S,_,22,s[11]),S=c(S,F,O,A,E,7,s[12]),A=c(A,S,F,O,x,12,s[13]),O=c(O,A,S,F,k,17,s[14]),S=l(S,F=c(F,O,A,S,C,22,s[15]),O,A,u,5,s[16]),A=l(A,S,F,O,g,9,s[17]),O=l(O,A,S,F,_,14,s[18]),F=l(F,O,A,S,i,20,s[19]),S=l(S,F,O,A,v,5,s[20]),A=l(A,S,F,O,w,9,s[21]),O=l(O,A,S,F,C,14,s[22]),F=l(F,O,A,S,m,20,s[23]),S=l(S,F,O,A,D,5,s[24]),A=l(A,S,F,O,k,9,s[25]),O=l(O,A,S,F,h,14,s[26]),F=l(F,O,A,S,y,20,s[27]),S=l(S,F,O,A,x,5,s[28]),A=l(A,S,F,O,p,9,s[29]),O=l(O,A,S,F,b,14,s[30]),S=f(S,F=l(F,O,A,S,E,20,s[31]),O,A,v,4,s[32]),A=f(A,S,F,O,y,11,s[33]),O=f(O,A,S,F,_,16,s[34]),F=f(F,O,A,S,k,23,s[35]),S=f(S,F,O,A,u,4,s[36]),A=f(A,S,F,O,m,11,s[37]),O=f(O,A,S,F,b,16,s[38]),F=f(F,O,A,S,w,23,s[39]),S=f(S,F,O,A,x,4,s[40]),A=f(A,S,F,O,i,11,s[41]),O=f(O,A,S,F,h,16,s[42]),F=f(F,O,A,S,g,23,s[43]),S=f(S,F,O,A,D,4,s[44]),A=f(A,S,F,O,E,11,s[45]),O=f(O,A,S,F,C,16,s[46]),S=d(S,F=f(F,O,A,S,p,23,s[47]),O,A,i,6,s[48]),A=d(A,S,F,O,b,10,s[49]),O=d(O,A,S,F,k,15,s[50]),F=d(F,O,A,S,v,21,s[51]),S=d(S,F,O,A,E,6,s[52]),A=d(A,S,F,O,h,10,s[53]),O=d(O,A,S,F,w,15,s[54]),F=d(F,O,A,S,u,21,s[55]),S=d(S,F,O,A,y,6,s[56]),A=d(A,S,F,O,C,10,s[57]),O=d(O,A,S,F,g,15,s[58]),F=d(F,O,A,S,x,21,s[59]),S=d(S,F,O,A,m,6,s[60]),A=d(A,S,F,O,_,10,s[61]),O=d(O,A,S,F,p,15,s[62]),F=d(F,O,A,S,D,21,s[63]),a[0]=a[0]+S|0,a[1]=a[1]+F|0,a[2]=a[2]+O|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var a=e.floor(r/4294967296),i=r;n[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,o,a,i){var s=e+(t&n|~t&r)+o+i;return(s<<a|s>>>32-a)+t}function l(e,t,n,r,o,a,i){var s=e+(t&r|n&~r)+o+i;return(s<<a|s>>>32-a)+t}function f(e,t,n,r,o,a,i){var s=e+(t^n^r)+o+i;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,o,a,i){var s=e+(n^(t|~r))+o+i;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(u),t.HmacMD5=a._createHmacHelper(u)}(Math)},81733:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},61230:(e,t,n)=>{"use strict";var r=n(91197),o=n(67459),a=n(81733),i=n(34077),s=n(76765),u=o(i(),Object);r(u,{getPolyfill:i,implementation:a,shim:s}),e.exports=u},34077:(e,t,n)=>{"use strict";n(43304);var r=n(81733);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},76765:(e,t,n)=>{"use strict";n(43304);var r=n(34077),o=n(91197);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},31714:(e,t,n)=>{"use strict";n(41539),n(88674),e.exports=function(e,t){return t=t||function(){},e.then((function(e){return new Promise((function(e){e(t())})).then((function(){return e}))}),(function(e){return new Promise((function(e){e(t())})).then((function(){throw e}))}))}},64003:(e,t,n)=>{"use strict";n(81299),n(12419);var r=n(98647),o=n(27602),a=n(59039),i=n(41801),s=n(40851),u=n(24512),c=n(48410),l=n(77820);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}n(69070),n(19601),n(21703),n(96647),n(92222),n(83710),n(41539),n(39714),n(35192),n(9653),n(3843),n(32564),n(88674),n(66992),n(78783),n(33948),n(21249),n(57327),Object.defineProperty(t,"__esModule",{value:!0});var d=n(55362),p=n(23232),h=n(96327),m=function(){},v=new p.TimeoutError,g=function(e){u(g,e);var t,n,c,l,d=f(g);function g(e){var t,n,r,o,s;if(i(this,g),(t=d.call(this))._intervalCount=0,t._intervalEnd=0,t._pendingCount=0,t._resolveEmpty=m,t._resolveIdle=m,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:h.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(r=null===(n=e.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==r?r:"","` (").concat(a(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(s=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==s?s:"","` (").concat(a(e.interval),")"));return t._carryoverConcurrencyCount=e.carryoverConcurrencyCount,t._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,t._intervalCap=e.intervalCap,t._interval=e.interval,t._queue=new e.queueClass,t._queueClass=e.queueClass,t.concurrency=e.concurrency,t._timeout=e.timeout,t._throwOnTimeout=!0===e.throwOnTimeout,t._isPaused=!1===e.autoStart,t}return s(g,[{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=m,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=m,this.emit("idle"))}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}},{key:"_isIntervalPaused",value:function(){var e=this,t=Date.now();if(void 0===this._intervalId){var n=this._intervalEnd-t;if(!(n<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((function(){e._onResumeInterval()}),n)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){var t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var e=this;this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((function(){e._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}},{key:"_processQueue",value:function(){for(;this._tryToStartAnother(););}},{key:"concurrency",get:function(){return this._concurrency},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(a(e),")"));this._concurrency=e,this._processQueue()}},{key:"add",value:(l=o(r.mark((function e(t){var n,a=this,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",new Promise((function(e,i){var s=function(){var s=o(r.mark((function o(){var s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a._pendingCount++,a._intervalCount++,r.prev=2,s=void 0===a._timeout&&void 0===n.timeout?t():p.default(Promise.resolve(t()),void 0===n.timeout?a._timeout:n.timeout,(function(){(void 0===n.throwOnTimeout?a._throwOnTimeout:n.throwOnTimeout)&&i(v)})),r.t0=e,r.next=7,s;case 7:r.t1=r.sent,(0,r.t0)(r.t1),r.next=14;break;case 11:r.prev=11,r.t2=r.catch(2),i(r.t2);case 14:a._next();case 15:case"end":return r.stop()}}),o,null,[[2,11]])})));return function(){return s.apply(this,arguments)}}();a._queue.enqueue(s,n),a._tryToStartAnother(),a.emit("add")})));case 2:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"addAll",value:(c=o(r.mark((function e(t,n){var a=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=o(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"start",value:function(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this._queue=new this._queueClass}},{key:"onEmpty",value:(n=o(r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var n=t._resolveEmpty;t._resolveEmpty=function(){n(),e()}})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onIdle",value:(t=o(r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._pendingCount||0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var n=t._resolveIdle;t._resolveIdle=function(){n(),e()}})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"size",get:function(){return this._queue.size}},{key:"sizeBy",value:function(e){return this._queue.filter(e).length}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}},{key:"timeout",get:function(){return this._timeout},set:function(e){this._timeout=e}}]),g}(d);t.default=g},2336:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=0,o=e.length;o>0;){var a=o/2|0,i=r+a;n(e[i],t)<=0?(r=++i,o-=a+1):o=a}return r}},96327:(e,t,n)=>{"use strict";var r=n(41801),o=n(40851);n(69070),n(19601),n(57658),n(40561),n(21249),n(57327),n(41539),Object.defineProperty(t,"__esModule",{value:!0});var a=n(2336),i=function(){function e(){r(this,e),this._queue=[]}return o(e,[{key:"enqueue",value:function(e,t){var n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)this._queue.push(n);else{var r=a.default(this._queue,n,(function(e,t){return t.priority-e.priority}));this._queue.splice(r,0,n)}}},{key:"dequeue",value:function(){var e=this._queue.shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return this._queue.filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return this._queue.length}}]),e}();t.default=i},23232:(e,t,n)=>{"use strict";n(81299),n(12419);var r=n(40851),o=n(41801),a=n(24512),i=n(48410),s=n(77820),u=n(50957);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}n(68309),n(21703),n(96647),n(41539),n(88674),n(32564);var l=n(31714),f=function(e){a(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).name="TimeoutError",r}return r(n)}(u(Error)),d=function(e,t,n){return new Promise((function(r,o){if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t!==1/0){var a=setTimeout((function(){if("function"!=typeof n){var a="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),i=n instanceof Error?n:new f(a);"function"==typeof e.cancel&&e.cancel(),o(i)}else try{r(n())}catch(s){o(s)}}),t);l(e.then(r,o),(function(){clearTimeout(a)}))}else r(e)}))};e.exports=d,e.exports.default=d,e.exports.TimeoutError=f},1599:(e,t,n)=>{n(21703),n(96647),n(32564),n(92222),n(57658);var r,o,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,l=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||f||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},76745:(e,t,n)=>{"use strict";n(21703),n(96647),n(68309);var r=n(24585);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},66159:(e,t,n)=>{e.exports=n(76745)()},24585:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9172:(e,t,n)=>{"use strict";var r=n(59039);n(66992),n(41539),n(70189),n(78783),n(33948),n(74916),n(77601),n(47042),n(89554),n(15306),n(82526),n(41817),n(32165),n(19601),n(21703),n(96647),n(4723),n(73210),n(69070),n(81299),n(12419),n(26699),n(32023),n(68309),n(38880),n(79753),n(83710),n(39714),n(54747),n(47941),n(82772),n(57658),n(92087),n(2388),n(51532),n(3843),n(43304),n(92222),n(24812),n(30541),n(32564),n(88674),n(85844),n(69600),n(4129),n(38478),n(40561),n(38862);var o=n(16341),a=n(39457);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(e,t,n,o){if(null==t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(r(t)){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function g(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=b.hasOwnProperty(t)?b[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(v(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(m,e)||!d.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,D);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,D);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,D);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),O=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==r(e)?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var I,L=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var q=!1;function U(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var o=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){o=l}e.call(t.prototype)}else{try{throw Error()}catch(l){o=l}e()}}catch(l){if(l&&o&&"string"==typeof l.stack){for(var a=l.stack.split("\n"),i=o.stack.split("\n"),s=a.length-1,u=i.length-1;1<=s&&0<=u&&a[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(a[s]!==i[u]){if(1!==s||1!==u)do{if(s--,0>--u||a[s]!==i[u]){var c="\n"+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(r(e)){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ee(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&ne(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ne(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var re=Array.isArray;function oe(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(re(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,de,pe=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(me).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==r(t.dangerouslySetInnerHTML)||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==r(t.style))throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ce=null;function Se(e){if(e=_o(e)){if("function"!=typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Fe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Te(),Oe())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var o=xo(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,r(n)));return n}var Be=!1;if(f)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(de){Be=!1}function Re(e,t,n,r,o,a,i,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ie=!1,Le=null,ze=!1,qe=null,Ue={onError:function(e){Ie=!0,Le=e}};function Ve(e,t,n,r,o,a,i,s,u){Ie=!1,Le=null,Re.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return We(o),e;if(a===r)return We(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ze=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Qe=a.unstable_now,et=a.unstable_getCurrentPriorityLevel,tt=a.unstable_ImmediatePriority,nt=a.unstable_UserBlockingPriority,rt=a.unstable_NormalPriority,ot=a.unstable_LowPriority,at=a.unstable_IdlePriority,it=null,st=null;var ut=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ct(e)/lt|0)|0},ct=Math.log,lt=Math.LN2;var ft=64,dt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~o;0!==s?r=pt(s):0!==(a&=i)&&(r=pt(a))}else 0!==(i=n&~o)?r=pt(i):0!==a&&(r=pt(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-ut(t)),r|=e[n],t&=~o;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ft;return 0==(4194240&(ft<<=1))&&(ft=64),e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ut(t)]=n}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function _t(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Et,xt,kt,Ct,St,Ft=!1,Ot=[],At=null,Tt=null,Pt=null,jt=new Map,Mt=new Map,Bt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function It(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=_o(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=wo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_o(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function qt(e,t,n){zt(e)&&n.delete(t)}function Ut(){Ft=!1,null!==At&&zt(At)&&(At=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),jt.forEach(qt),Mt.forEach(qt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Vt(t,e)}if(0<Ot.length){Vt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==Tt&&Vt(Tt,e),null!==Pt&&Vt(Pt,e),jt.forEach(t),Mt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Bt.shift()}var $t=_.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var o=wt,a=$t.transition;$t.transition=null;try{wt=1,Yt(e,t,n,r)}finally{wt=o,$t.transition=a}}function Gt(e,t,n,r){var o=wt,a=$t.transition;$t.transition=null;try{wt=4,Yt(e,t,n,r)}finally{wt=o,$t.transition=a}}function Yt(e,t,n,r){if(Wt){var o=Xt(e,t,n,r);if(null===o)Wr(e,t,r,Zt,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=It(At,e,t,n,r,o),!0;case"dragenter":return Tt=It(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=It(Pt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return jt.set(a,It(jt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Mt.set(a,It(Mt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var a=_o(o);if(null!==a&&Et(a),null===(a=Xt(e,t,n,r))&&Wr(e,t,r,Zt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Zt=null;function Xt(e,t,n,r){if(Zt=null,null!==(e=wo(e=Ee(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(et()){case tt:return 1;case nt:return 4;case rt:case ot:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=L({},fn,{view:0,detail:0}),hn=sn(pn),mn=L({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=sn(mn),gn=sn(L({},mn,{dataTransfer:0})),bn=sn(L({},pn,{relatedTarget:0})),yn=sn(L({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(Dn),_n=sn(L({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var Fn=L({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=sn(Fn),An=sn(L({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(L({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(L({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=L({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(jn),Bn=[9,13,27,32],Nn=f&&"CompositionEvent"in window,Rn=null;f&&"documentMode"in document&&(Rn=document.documentMode);var In=f&&"TextEvent"in window&&!Rn,Ln=f&&(!Nn||Rn&&8<Rn&&11>=Rn),zn=String.fromCharCode(32),qn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return e=e.detail,"object"===r(e)&&"data"in e?e.data:null}var Hn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Kn(e,t,n,r){Fe(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function Zn(e){zr(e,0)}function Xn(e){if(Y(Eo(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Qn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",or),Yn=Gn=null)}function or(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Kn(t,Yn,e,Ee(e)),je(Zn,t)}}function ar(e,t,n){"focusin"===e?(rr(),Yn=n,(Gn=t).attachEvent("onpropertychange",or)):"focusout"===e&&rr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(cr(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var a=n[o];if(!d.call(t,a)||!cr(e[a],t[a]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=dr(n,a);var i=dr(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=f&&"documentMode"in document&&11>=document.documentMode,br=null,yr=null,Dr=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==Z(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Dr&&lr(Dr,r)||(Dr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Cr={};function Sr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}f&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Fr=Sr("animationend"),Or=Sr("animationiteration"),Ar=Sr("animationstart"),Tr=Sr("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Pr.set(e,t),c(t,[e])}for(var Br=0;Br<jr.length;Br++){var Nr=jr[Br];Mr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Mr(Fr,"onAnimationEnd"),Mr(Or,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,c){if(Ve.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var l=Le;Ie=!1,Le=null,ze||(ze=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,c=s.currentTarget,s=s.listener,u!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=u}}}if(ze)throw e=qe,ze=!1,qe=null,e}function qr(e,t){var n=t[bo];void 0===n&&(n=t[bo]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Jt(t)){case 1:var o=Kt;break;case 4:o=Gt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=wo(s)))return;if(5===(u=i.tag)||6===u){r=a=i;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,o=Ee(n),i=[];e:{var s=Pr.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Fr:case Or:case Ar:u=yn;break;case Tr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!=(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Me(h,d))&&l.push(Kr(h,m,p)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,o),i.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!wo(c)&&!c[go])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?wo(c):null)&&(c!==(f=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:Eo(u),p=null==c?s:Eo(c),(s=new l(m,h+"leave",u,n,o)).target=f,s.relatedTarget=p,m=null,wo(o)===r&&((l=new l(d,h+"enter",c,n,o)).target=p,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(d=c,h=0,p=l=u;p;p=Yr(p))h++;for(p=0,m=d;m;m=Yr(m))p++;for(;0<h-p;)l=Yr(l),h--;for(;0<p-h;)d=Yr(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Yr(l),d=Yr(d)}l=null}else l=null;null!==u&&Zr(i,s,u,l,!1),null!==c&&null!==f&&Zr(i,f,c,l,!0)}if("select"===(u=(s=r?Eo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Jn;else if(Wn(s))if(Qn)v=ur;else{v=ir;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Kn(i,v,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ne(s,"number",s.value)),g=r?Eo(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(br=g,yr=r,Dr=null);break;case"focusout":Dr=yr=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(i,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(i,n,o)}var b;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=nn()):(en="value"in(Qt=o)?Qt.value:Qt.textContent,Hn=!0)),0<(g=Gr(r,y)).length&&(y=new _n(y,e,null,n,o),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Vn(n))&&(y.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Un(e,t)?(e=nn(),tn=en=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=b))}zr(i,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Me(e,n))&&r.unshift(Kr(e,a,o)),null!=(a=Me(e,t))&&r.push(Kr(e,a,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=Me(n,a))&&i.unshift(Kr(n,u,s)):o||null!=(u=Me(n,a))&&i.push(Kr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function eo(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function to(){}var no=null,ro=null;function oo(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"===r(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ao="function"==typeof setTimeout?setTimeout:void 0,io="function"==typeof clearTimeout?clearTimeout:void 0,so="function"==typeof Promise?Promise:void 0,uo="function"==typeof queueMicrotask?queueMicrotask:void 0!==so?function(e){return so.resolve(null).then(e).catch(co)}:ao;function co(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function fo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function po(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),mo="__reactFiber$"+ho,vo="__reactProps$"+ho,go="__reactContainer$"+ho,bo="__reactEvents$"+ho,yo="__reactListeners$"+ho,Do="__reactHandles$"+ho;function wo(e){var t=e[mo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[mo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=po(e);null!==e;){if(n=e[mo])return n;e=po(e)}return t}n=(e=n).parentNode}return null}function _o(e){return!(e=e[mo]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Eo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[vo]||null}var ko=[],Co=-1;function So(e){return{current:e}}function Fo(e){0>Co||(e.current=ko[Co],ko[Co]=null,Co--)}function Oo(e,t){Co++,ko[Co]=e.current,e.current=t}var Ao={},To=So(Ao),Po=So(!1),jo=Ao;function Mo(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bo(e){return null!=(e=e.childContextTypes)}function No(){Fo(Po),Fo(To)}function Ro(e,t,n){if(To.current!==Ao)throw Error(i(168));Oo(To,t),Oo(Po,n)}function Io(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,$(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,jo=To.current,Oo(To,e),Oo(Po,Po.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Io(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,Fo(Po),Fo(To),Oo(To,e)):Fo(Po),Oo(Po,n)}var qo=null,Uo=!1,Vo=!1;function Ho(e){null===qo?qo=[e]:qo.push(e)}function $o(){if(!Vo&&null!==qo){Vo=!0;var e=0,t=wt;try{var n=qo;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qo=null,Uo=!1}catch(o){throw null!==qo&&(qo=qo.slice(e+1)),Ye(tt,$o),o}finally{wt=t,Vo=!1}}return null}var Wo=[],Ko=0,Go=null,Yo=0,Zo=[],Xo=0,Jo=null,Qo=1,ea="";function ta(e,t){Wo[Ko++]=Yo,Wo[Ko++]=Go,Go=e,Yo=t}function na(e,t,n){Zo[Xo++]=Qo,Zo[Xo++]=ea,Zo[Xo++]=Jo,Jo=e;var r=Qo;e=ea;var o=32-ut(r)-1;r&=~(1<<o),n+=1;var a=32-ut(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qo=1<<32-ut(t)+o|n<<o|r,ea=a+e}else Qo=1<<a|n<<o|r,ea=e}function ra(e){null!==e.return&&(ta(e,1),na(e,1,0))}function oa(e){for(;e===Go;)Go=Wo[--Ko],Wo[Ko]=null,Yo=Wo[--Ko],Wo[Ko]=null;for(;e===Jo;)Jo=Zo[--Xo],Zo[Xo]=null,ea=Zo[--Xo],Zo[Xo]=null,Qo=Zo[--Xo],Zo[Xo]=null}var aa=null,ia=null,sa=!1,ua=null;function ca(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,aa=e,ia=fo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,aa=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Qo,overflow:ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,aa=e,ia=null,!0);default:return!1}}function fa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function da(e){if(sa){var t=ia;if(t){var n=t;if(!la(e,t)){if(fa(e))throw Error(i(418));t=fo(n.nextSibling);var r=aa;t&&la(e,t)?ca(r,n):(e.flags=-4097&e.flags|2,sa=!1,aa=e)}}else{if(fa(e))throw Error(i(418));e.flags=-4097&e.flags|2,sa=!1,aa=e}}}function pa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;aa=e}function ha(e){if(e!==aa)return!1;if(!sa)return pa(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oo(e.type,e.memoizedProps)),t&&(t=ia)){if(fa(e))throw ma(),Error(i(418));for(;t;)ca(e,t),t=fo(t.nextSibling)}if(pa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=fo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=aa?fo(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ia;e;)e=fo(e.nextSibling)}function va(){ia=aa=null,sa=!1}function ga(e){null===ua?ua=[e]:ua.push(e)}var ba=_.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Da=So(null),wa=null,_a=null,Ea=null;function xa(){Ea=_a=wa=null}function ka(e){var t=Da.current;Fo(Da),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){wa=e,Ea=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===wa)throw Error(i(308));_a=e,wa.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Oa=null;function Aa(e){null===Oa?Oa=[e]:Oa.push(e)}function Ta(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Aa(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ja=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Au)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pa(e,n)}return null===(o=r.interleaved)?(t.next=t,Aa(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pa(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var o=e.updateQueue;ja=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===i?a=c:i.next=c,i=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==i&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=o.baseState;for(i=0,l=c=u=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(d=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=m.payload)?h.call(p,f,d):h))break e;f=L({},f,d);break e;case 2:ja=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=f):l=l.next=p,i|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===l&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Iu|=i,e.lanes=i,e.memoizedState=f}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Ua=(new o.Component).refs;function Va(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),o=rc(e),a=Na(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,o))&&(oc(t,e,o,r),Ia(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),o=rc(e),a=Na(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,o))&&(oc(t,e,o,r),Ia(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),o=Na(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ra(e,o,r))&&(oc(t,e,r,n),Ia(t,e,r))}};function $a(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,a))}function Wa(e,t,n){var o=!1,a=Ao,i=t.contextType;return"object"===r(i)&&null!==i?i=Fa(i):(a=Bo(t)?jo:To.current,i=(o=null!=(o=t.contextTypes))?Mo(e,a):Ao),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ka(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,o){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Ua,Ma(e);var i=t.contextType;"object"===r(i)&&null!==i?a.context=Fa(i):(i=Bo(t)?jo:To.current,a.context=Mo(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Va(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ha.enqueueReplaceState(a,a.state,null),za(e,n,a,o),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var a=o,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;t===Ua&&(t=a.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,o){var i=n.type;return i===k?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===i||"object"===r(i)&&null!==i&&i.$$typeof===M&&Xa(i)===t.type)?((o=a(t,n.props)).ref=Ya(e,t,n),o.return=e,o):((o=Nc(n.type,n.key,n.props,null,e.mode,o)).ref=Ya(e,t,n),o.return=e,o)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case E:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(re(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Za(e,t)}return null}function h(e,t,n,o){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:c(e,t,""+n,o);if("object"===r(n)&&null!==n){switch(n.$$typeof){case E:return n.key===a?l(e,t,n,o):null;case x:return n.key===a?f(e,t,n,o):null;case M:return h(e,t,(a=n._init)(n._payload),o)}if(re(n)||R(n))return null!==a?null:d(e,t,n,o,null);Za(e,n)}return null}function m(e,t,n,o,a){if("string"==typeof o&&""!==o||"number"==typeof o)return c(t,e=e.get(n)||null,""+o,a);if("object"===r(o)&&null!==o){switch(o.$$typeof){case E:return l(t,e=e.get(null===o.key?n:o.key)||null,o,a);case x:return f(t,e=e.get(null===o.key?n:o.key)||null,o,a);case M:return m(e,t,n,(0,o._init)(o._payload),a)}if(re(o)||R(o))return d(t,e=e.get(n)||null,o,a,null);Za(t,o)}return null}function v(r,a,i,u){for(var c=null,l=null,f=a,d=a=0,v=null;null!==f&&d<i.length;d++){f.index>d?(v=f,f=null):v=f.sibling;var g=h(r,f,i[d],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(r,f),a=s(g,a,d),null===l?c=g:l.sibling=g,l=g,f=v}if(d===i.length)return n(r,f),sa&&ta(r,d),c;if(null===f){for(;d<i.length;d++)null!==(f=p(r,i[d],u))&&(a=s(f,a,d),null===l?c=f:l.sibling=f,l=f);return sa&&ta(r,d),c}for(f=o(r,f);d<i.length;d++)null!==(v=m(f,r,d,i[d],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),a=s(v,a,d),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(r,e)})),sa&&ta(r,d),c}function g(r,a,u,c){var l=R(u);if("function"!=typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var f=l=null,d=a,v=a=0,g=null,b=u.next();null!==d&&!b.done;v++,b=u.next()){d.index>v?(g=d,d=null):g=d.sibling;var y=h(r,d,b.value,c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),a=s(y,a,v),null===f?l=y:f.sibling=y,f=y,d=g}if(b.done)return n(r,d),sa&&ta(r,v),l;if(null===d){for(;!b.done;v++,b=u.next())null!==(b=p(r,b.value,c))&&(a=s(b,a,v),null===f?l=b:f.sibling=b,f=b);return sa&&ta(r,v),l}for(d=o(r,d);!b.done;v++,b=u.next())null!==(b=m(d,r,v,b.value,c))&&(e&&null!==b.alternate&&d.delete(null===b.key?v:b.key),a=s(b,a,v),null===f?l=b:f.sibling=b,f=b);return e&&d.forEach((function(e){return t(r,e)})),sa&&ta(r,v),l}return function e(o,i,s,c){if("object"===r(s)&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===r(s)&&null!==s){switch(s.$$typeof){case E:e:{for(var l=s.key,f=i;null!==f;){if(f.key===l){if((l=s.type)===k){if(7===f.tag){n(o,f.sibling),(i=a(f,s.props.children)).return=o,o=i;break e}}else if(f.elementType===l||"object"===r(l)&&null!==l&&l.$$typeof===M&&Xa(l)===f.type){n(o,f.sibling),(i=a(f,s.props)).ref=Ya(o,f,s),i.return=o,o=i;break e}n(o,f);break}t(o,f),f=f.sibling}s.type===k?((i=Rc(s.props.children,o.mode,c,s.key)).return=o,o=i):((c=Nc(s.type,s.key,s.props,null,o.mode,c)).ref=Ya(o,i,s),c.return=o,o=c)}return u(o);case x:e:{for(f=s.key;null!==i;){if(i.key===f){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(o,i.sibling),(i=a(i,s.children||[])).return=o,o=i;break e}n(o,i);break}t(o,i),i=i.sibling}(i=zc(s,o.mode,c)).return=o,o=i}return u(o);case M:return e(o,i,(f=s._init)(s._payload),c)}if(re(s))return v(o,i,s,c);if(R(s))return g(o,i,s,c);Za(o,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(n(o,i.sibling),(i=a(i,s)).return=o,o=i):(n(o,i),(i=Lc(s,o.mode,c)).return=o,o=i),u(o)):n(o,i)}}var Qa=Ja(!0),ei=Ja(!1),ti={},ni=So(ti),ri=So(ti),oi=So(ti);function ai(e){if(e===ti)throw Error(i(174));return e}function ii(e,t){switch(Oo(oi,t),Oo(ri,e),Oo(ni,ti),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fo(ni),Oo(ni,t)}function si(){Fo(ni),Fo(ri),Fo(oi)}function ui(e){ai(oi.current);var t=ai(ni.current),n=le(t,e.type);t!==n&&(Oo(ri,e),Oo(ni,n))}function ci(e){ri.current===e&&(Fo(ni),Fo(ri))}var li=So(0);function fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function pi(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var hi=_.ReactCurrentDispatcher,mi=_.ReactCurrentBatchConfig,vi=0,gi=null,bi=null,yi=null,Di=!1,wi=!1,_i=0,Ei=0;function xi(){throw Error(i(321))}function ki(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function Ci(e,t,n,r,o,a){if(vi=a,gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=null===e||null===e.memoizedState?cs:ls,e=n(r,o),wi){a=0;do{if(wi=!1,_i=0,25<=a)throw Error(i(301));a+=1,yi=bi=null,t.updateQueue=null,hi.current=fs,e=n(r,o)}while(wi)}if(hi.current=us,t=null!==bi&&null!==bi.next,vi=0,yi=bi=gi=null,Di=!1,t)throw Error(i(300));return e}function Si(){var e=0!==_i;return _i=0,e}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?gi.memoizedState=yi=e:yi=yi.next=e,yi}function Oi(){if(null===bi){var e=gi.alternate;e=null!==e?e.memoizedState:null}else e=bi.next;var t=null===yi?gi.memoizedState:yi.next;if(null!==t)yi=t,bi=e;else{if(null===e)throw Error(i(310));e={memoizedState:(bi=e).memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},null===yi?gi.memoizedState=yi=e:yi=yi.next=e}return yi}function Ai(e,t){return"function"==typeof t?t(e):t}function Ti(e){var t=Oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=bi,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((vi&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,gi.lanes|=f,Iu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,cr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,gi.lanes|=a,Iu|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pi(e){var t=Oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);cr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ji(){}function Mi(e,t){var n=gi,r=Oi(),o=t(),a=!cr(r.memoizedState,o);if(a&&(r.memoizedState=o,_s=!0),r=r.queue,Wi(Ri.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==yi&&1&yi.memoizedState.tag){if(n.flags|=2048,qi(9,Ni.bind(null,n,r,o,t),void 0,null),null===Tu)throw Error(i(349));0!=(30&vi)||Bi(n,t,o)}return o}function Bi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Ii(t)&&Li(e)}function Ri(e,t,n){return n((function(){Ii(t)&&Li(e)}))}function Ii(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function Li(e){var t=Pa(e,1);null!==t&&oc(t,e,1,-1)}function zi(e){var t=Fi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=os.bind(null,gi,e),[t.memoizedState,e]}function qi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Oi().memoizedState}function Vi(e,t,n,r){var o=Fi();gi.flags|=e,o.memoizedState=qi(1|t,n,void 0,void 0===r?null:r)}function Hi(e,t,n,r){var o=Oi();r=void 0===r?null:r;var a=void 0;if(null!==bi){var i=bi.memoizedState;if(a=i.destroy,null!==r&&ki(r,i.deps))return void(o.memoizedState=qi(t,n,a,r))}gi.flags|=e,o.memoizedState=qi(1|t,n,a,r)}function $i(e,t){return Vi(8390656,8,e,t)}function Wi(e,t){return Hi(2048,8,e,t)}function Ki(e,t){return Hi(4,2,e,t)}function Gi(e,t){return Hi(4,4,e,t)}function Yi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zi(e,t,n){return n=null!=n?n.concat([e]):null,Hi(4,4,Yi.bind(null,t,e),n)}function Xi(){}function Ji(e,t){var n=Oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qi(e,t){var n=Oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function es(e,t,n){return 0==(21&vi)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(cr(n,t)||(n=gt(),gi.lanes|=n,Iu|=n,e.baseState=!0),t)}function ts(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=mi.transition;mi.transition={};try{e(!1),t()}finally{wt=n,mi.transition=r}}function ns(){return Oi().memoizedState}function rs(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},as(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){oc(n,e,r,nc()),ss(n,t,r)}}function os(e,t,n){var r=rc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(as(e))is(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,cr(s,i)){var u=t.interleaved;return null===u?(o.next=o,Aa(t)):(o.next=u.next,u.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ta(e,t,o,r))&&(oc(n,e,r,o=nc()),ss(n,t,r))}}function as(e){var t=e.alternate;return e===gi||null!==t&&t===gi}function is(e,t){wi=Di=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ss(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}var us={readContext:Fa,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},cs={readContext:Fa,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:$i,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vi(4194308,4,Yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vi(4,2,e,t)},useMemo:function(e,t){var n=Fi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rs.bind(null,gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:zi,useDebugValue:Xi,useDeferredValue:function(e){return Fi().memoizedState=e},useTransition:function(){var e=zi(!1),t=e[0];return e=ts.bind(null,e[1]),Fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gi,o=Fi();if(sa){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tu)throw Error(i(349));0!=(30&vi)||Bi(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,$i(Ri.bind(null,r,a,e),[e]),r.flags|=2048,qi(9,Ni.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fi(),t=Tu.identifierPrefix;if(sa){var n=ea;t=":"+t+"R"+(n=(Qo&~(1<<32-ut(Qo)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ei++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Fa,useCallback:Ji,useContext:Fa,useEffect:Wi,useImperativeHandle:Zi,useInsertionEffect:Ki,useLayoutEffect:Gi,useMemo:Qi,useReducer:Ti,useRef:Ui,useState:function(){return Ti(Ai)},useDebugValue:Xi,useDeferredValue:function(e){return es(Oi(),bi.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],Oi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Mi,useId:ns,unstable_isNewReconciler:!1},fs={readContext:Fa,useCallback:Ji,useContext:Fa,useEffect:Wi,useImperativeHandle:Zi,useInsertionEffect:Ki,useLayoutEffect:Gi,useMemo:Qi,useReducer:Pi,useRef:Ui,useState:function(){return Pi(Ai)},useDebugValue:Xi,useDeferredValue:function(e){var t=Oi();return null===bi?t.memoizedState=e:es(t,bi.memoizedState,e)},useTransition:function(){return[Pi(Ai)[0],Oi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Mi,useId:ns,unstable_isNewReconciler:!1};function ds(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ms="function"==typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function gs(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!=typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ds(e,t,n,r,o){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ws=_.ReactCurrentOwner,_s=!1;function Es(e,t,n,r){t.child=null===e?ei(t,null,n,r):Qa(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var a=t.ref;return Sa(t,o),r=Ci(e,t,n,r,a,o),n=Si(),null===e||_s?(sa&&n&&ra(t),t.flags|=1,Es(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ws(e,t,o))}function ks(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,o))}if(a=e.child,0==(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ws(e,t,o)}return t.flags|=1,(e=Bc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0==(e.lanes&o))return t.lanes=e.lanes,Ws(e,t,o);0!=(131072&e.flags)&&(_s=!0)}}return Os(e,t,n,r,o)}function Ss(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oo(Bu,Mu),Mu|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oo(Bu,Mu),Mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Oo(Bu,Mu),Mu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Oo(Bu,Mu),Mu|=r;return Es(e,t,o,n),t.child}function Fs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,o){var a=Bo(n)?jo:To.current;return a=Mo(t,a),Sa(t,o),n=Ci(e,t,n,r,a,o),r=Si(),null===e||_s?(sa&&r&&ra(t),t.flags|=1,Es(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ws(e,t,o))}function As(e,t,n,o,a){if(Bo(n)){var i=!0;Lo(t)}else i=!1;if(Sa(t,a),null===t.stateNode)$s(e,t),Wa(t,n,o),Ga(t,n,o,a),o=!0;else if(null===e){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,l=n.contextType;"object"===r(l)&&null!==l?l=Fa(l):l=Mo(t,l=Bo(n)?jo:To.current);var f=n.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(u!==o||c!==l)&&Ka(t,s,o,l),ja=!1;var p=t.memoizedState;s.state=p,za(t,o,s,a),c=t.memoizedState,u!==o||p!==c||Po.current||ja?("function"==typeof f&&(Va(t,n,f,o),c=t.memoizedState),(u=ja||$a(t,n,u,o,p,c,l))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),s.props=o,s.state=c,s.context=l,o=u):("function"==typeof s.componentDidMount&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Ba(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ya(t.type,u),s.props=l,d=t.pendingProps,p=s.context,c=n.contextType,"object"===r(c)&&null!==c?c=Fa(c):c=Mo(t,c=Bo(n)?jo:To.current);var h=n.getDerivedStateFromProps;(f="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(u!==d||p!==c)&&Ka(t,s,o,c),ja=!1,p=t.memoizedState,s.state=p,za(t,o,s,a);var m=t.memoizedState;u!==d||p!==m||Po.current||ja?("function"==typeof h&&(Va(t,n,h,o),m=t.memoizedState),(l=ja||$a(t,n,l,o,p,m,c)||!1)?(f||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(o,m,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,m,c)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=m),s.props=o,s.state=m,s.context=c,o=l):("function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Ts(e,t,n,o,i,a)}function Ts(e,t,n,r,o,a){Fs(e,t);var i=0!=(128&t.flags);if(!r&&!i)return o&&zo(t,n,!1),Ws(e,t,a);r=t.stateNode,ws.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,s,a)):Es(e,t,s,a),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),ii(e,t.containerInfo)}function js(e,t,n,r,o){return va(),ga(o),t.flags|=256,Es(e,t,n,r),t.child}var Ms,Bs,Ns,Rs={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,o=t.pendingProps,a=li.current,s=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oo(li,1&a),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=o.children,e=o.fallback,s?(o=t.mode,s=t.child,u={mode:"hidden",children:u},0==(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ic(u,o,0,null),e=Rc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=Rs,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,qs(e,t,s,r=ps(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Ic({mode:"visible",children:r.children},o,0,null),(a=Rc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Qa(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=Rs,a);if(0==(1&t.mode))return qs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,qs(e,t,s,r=ps(a=Error(i(419)),r,void 0))}if(u=0!=(s&e.childLanes),_s||u){if(null!==(r=Tu)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pa(e,o),oc(r,e,o,-1))}return gc(),qs(e,t,s,r=ps(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ia=fo(o.nextSibling),aa=t,sa=!0,ua=null,null!==e&&(Zo[Xo++]=Qo,Zo[Xo++]=ea,Zo[Xo++]=Jo,Qo=e.id,ea=e.overflow,Jo=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,u,o,r,a,n);if(s){s=o.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0==(1&u)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Bc(r,s):(s=Rc(s,u,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,u=null===(u=e.child.memoizedState)?Is(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,o}return e=(s=e.child).sibling,o=Bc(s,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function zs(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qs(e,t,n,r){return null!==r&&ga(r),Qa(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Vs(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Es(e,t,r.children,n),0!=(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oo(li,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Iu|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Bo(t.type)&&No(),Gs(t),null;case 3:return r=t.stateNode,si(),Fo(Po),Fo(To),pi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ua&&(uc(ua),ua=null))),Gs(t),null;case 5:ci(t);var o=ai(oi.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=ai(ni.current),ha(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mo]=t,r[vo]=a,e=0!=(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)qr(Rr[o],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":J(r,a),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qr("invalid",r);break;case"textarea":ie(r,a),qr("invalid",r)}for(var s in De(n,a),o=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&eo(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&eo(r.textContent,c,e),o=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&qr("scroll",r)}switch(n){case"input":G(r),te(r,a,!0);break;case"textarea":G(r),ue(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=to)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[mo]=t,e[vo]=r,Ms(e,t),t.stateNode=e;e:{switch(s=we(n,r),n){case"dialog":qr("cancel",e),qr("close",e),o=r;break;case"iframe":case"object":case"embed":qr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)qr(Rr[o],e);o=r;break;case"source":qr("error",e),o=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),o=r;break;case"details":qr("toggle",e),o=r;break;case"input":J(e,r),o=X(e,r),qr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ie(e,r),o=ae(e,r),qr("invalid",e)}for(a in De(n,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?be(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&pe(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"==typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&qr("scroll",e):null!=l&&w(e,a,l,s))}switch(n){case"input":G(e),te(e,r,!1);break;case"textarea":G(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=to)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=ai(oi.current),ai(ni.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[mo]=t,(a=r.nodeValue!==n)&&null!==(e=aa))switch(e.tag){case 3:eo(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&eo(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mo]=t,t.stateNode=r}return Gs(t),null;case 13:if(Fo(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ia&&0!=(1&t.mode)&&0==(128&t.flags))ma(),va(),t.flags|=98560,a=!1;else if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[mo]=t}else va(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==ua&&(uc(ua),ua=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&li.current)?0===Nu&&(Nu=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return si(),null===e&&Hr(t.stateNode.containerInfo),Gs(t),null;case 10:return ka(t.type._context),Gs(t),null;case 19:if(Fo(li),null===(a=t.memoizedState))return Gs(t),null;if(r=0!=(128&t.flags),null===(s=a.rendering))if(r)Ks(a,!1);else{if(0!==Nu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=fi(e))){for(t.flags|=128,Ks(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oo(li,1&li.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Hu&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fi(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return Gs(t),null}else 2*Qe()-a.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=li.current,Oo(li,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Mu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Zs(e,t){switch(oa(t),t.tag){case 1:return Bo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return si(),Fo(Po),Fo(To),pi(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ci(t),null;case 13:if(Fo(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fo(li),null;case 4:return si(),null;case 10:return ka(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ai(ni.current);var a,i=null;switch(n){case"input":o=X(e,o),r=X(e,r),i=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":o=ae(e,o),r=ae(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=to)}for(l in De(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var s=o[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&qr("scroll",e),i||s===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Qs="function"==typeof WeakSet?WeakSet:Set,eu=null;function tu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function nu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var ru=!1;function ou(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&nu(t,n,a)}o=o.next}while(o!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mo],delete t[vo],delete t[bo],delete t[yo],delete t[Do])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return 5===e.tag||3===e.tag||4===e.tag}function cu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=to));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function fu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fu(e,t,n),e=e.sibling;null!==e;)fu(e,t,n),e=e.sibling}var du=null,pu=!1;function hu(e,t,n){for(n=n.child;null!==n;)mu(e,t,n),n=n.sibling}function mu(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||tu(n,t);case 6:var r=du,o=pu;du=null,hu(e,t,n),pu=o,null!==(du=r)&&(pu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(pu?(e=du,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ht(e)):lo(du,n.stateNode));break;case 4:r=du,o=pu,du=n.stateNode.containerInfo,pu=!0,hu(e,t,n),du=r,pu=o;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!=(2&a)||0!=(4&a))&&nu(n,t,i),o=o.next}while(o!==r)}hu(e,t,n);break;case 1:if(!Js&&(tu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hu(e,t,n),Js=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,pu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,pu=!0;break e}u=u.return}if(null===du)throw Error(i(160));mu(a,s,o),du=null,pu=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){Cc(o,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bu(t,e),t=t.sibling}function bu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{ou(3,e,e.return),au(3,e)}catch(v){Cc(e,e.return,v)}try{ou(5,e,e.return)}catch(v){Cc(e,e.return,v)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&tu(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&tu(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(v){Cc(e,e.return,v)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(o,a),we(u,s);var l=we(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?be(o,d):"dangerouslySetInnerHTML"===f?pe(o,d):"children"===f?he(o,d):w(o,f,d,l)}switch(u){case"input":ee(o,a);break;case"textarea":se(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?oe(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?oe(o,!!a.multiple,a.defaultValue,!0):oe(o,!!a.multiple,a.multiple?[]:"",!1))}o[vo]=a}catch(v){Cc(e,e.return,v)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(v){Cc(e,e.return,v)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(v){Cc(e,e.return,v)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Vu=Qe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,gu(t,e),Js=l):gu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!=(1&e.mode))for(eu=e,f=e.child;null!==f;){for(d=eu=f;null!==eu;){switch(h=(p=eu).child,p.tag){case 0:case 11:case 14:case 15:ou(4,p,p.return);break;case 1:tu(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Cc(r,n,v)}}break;case 5:tu(p,p.return);break;case 22:if(null!==p.memoizedState){Eu(d);continue}}null!==h?(h.return=p,eu=h):Eu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,l?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",s))}catch(v){Cc(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){Cc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(uu(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),fu(e,cu(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;lu(e,cu(e),a);break;default:throw Error(i(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Du(e,t,n){eu=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!=(1&e.mode);null!==eu;){var o=eu,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Xs;if(!i){var s=o.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=i,(Js=u)&&!c)for(eu=o;null!==eu;)u=(i=eu).child,22===i.tag&&null!==i.memoizedState?xu(o):null!==u?(u.return=i,eu=u):xu(o);for(;null!==a;)eu=a,wu(a,t,n),a=a.sibling;eu=o,Xs=s,Js=c}_u(e)}else 0!=(8772&o.subtreeFlags)&&null!==a?(a.return=o,eu=a):_u(e)}}function _u(e){for(;null!==eu;){var t=eu;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qa(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}Js||512&t.flags&&iu(t)}catch(p){Cc(t,t.return,p)}}if(t===e){eu=null;break}if(null!==(n=t.sibling)){n.return=t.return,eu=n;break}eu=t.return}}function Eu(e){for(;null!==eu;){var t=eu;if(t===e){eu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,eu=n;break}eu=t.return}}function xu(e){for(;null!==eu;){var t=eu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){Cc(t,o,u)}}var a=t.return;try{iu(t)}catch(u){Cc(t,a,u)}break;case 5:var i=t.return;try{iu(t)}catch(u){Cc(t,i,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){eu=null;break}var s=t.sibling;if(null!==s){s.return=t.return,eu=s;break}eu=t.return}}var ku,Cu=Math.ceil,Su=_.ReactCurrentDispatcher,Fu=_.ReactCurrentOwner,Ou=_.ReactCurrentBatchConfig,Au=0,Tu=null,Pu=null,ju=0,Mu=0,Bu=So(0),Nu=0,Ru=null,Iu=0,Lu=0,zu=0,qu=null,Uu=null,Vu=0,Hu=1/0,$u=null,Wu=!1,Ku=null,Gu=null,Yu=!1,Zu=null,Xu=0,Ju=0,Qu=null,ec=-1,tc=0;function nc(){return 0!=(6&Au)?Qe():-1!==ec?ec:ec=Qe()}function rc(e){return 0==(1&e.mode)?1:0!=(2&Au)&&0!==ju?ju&-ju:null!==ba.transition?(0===tc&&(tc=gt()),tc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function oc(e,t,n,r){if(50<Ju)throw Ju=0,Qu=null,Error(i(185));yt(e,n,r),0!=(2&Au)&&e===Tu||(e===Tu&&(0==(2&Au)&&(Lu|=n),4===Nu&&cc(e,ju)),ac(e,r),1===n&&0===Au&&0==(1&t.mode)&&(Hu=Qe()+500,Uo&&$o()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ut(a),s=1<<i,u=o[i];-1===u?0!=(s&n)&&0==(s&r)||(o[i]=mt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tu?ju:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Uo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),uo((function(){0==(6&Au)&&$o()})),n=null;else{switch(_t(r)){case 1:n=tt;break;case 4:n=nt;break;case 16:default:n=rt;break;case 536870912:n=at}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(ec=-1,tc=0,0!=(6&Au))throw Error(i(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?ju:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=bc(e,r);else{t=r;var o=Au;Au|=2;var a=vc();for(Tu===e&&ju===t||($u=null,Hu=Qe()+500,hc(e,t));;)try{Dc();break}catch(u){mc(e,u)}xa(),Su.current=a,Au=o,null!==Pu?t=0:(Tu=null,ju=0,t=Nu)}if(0!==t){if(2===t&&(0!==(o=vt(e))&&(r=o,t=sc(e,o))),1===t)throw n=Ru,hc(e,0),cc(e,r),ac(e,Qe()),n;if(6===t)cc(e,r);else{if(o=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!cr(a(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=bc(e,r))&&(0!==(a=vt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ru,hc(e,0),cc(e,r),ac(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Uu,$u);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Vu+500-Qe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ao(Ec.bind(null,e,Uu,$u),t);break}Ec(e,Uu,$u);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-ut(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ao(Ec.bind(null,e,Uu,$u),r);break}Ec(e,Uu,$u);break;default:throw Error(i(329))}}}return ac(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=qu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Uu,Uu=n,null!==t&&uc(t)),e}function uc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function cc(e,t){for(t&=~zu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!=(6&Au))throw Error(i(327));xc();var t=ht(e,0);if(0==(1&t))return ac(e,Qe()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ru,hc(e,0),cc(e,t),ac(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Uu,$u),ac(e,Qe()),null}function fc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Hu=Qe()+500,Uo&&$o())}}function dc(e){null!==Zu&&0===Zu.tag&&0==(6&Au)&&xc();var t=Au;Au|=1;var n=Ou.transition,r=wt;try{if(Ou.transition=null,wt=1,e)return e()}finally{wt=r,Ou.transition=n,0==(6&(Au=t))&&$o()}}function pc(){Mu=Bu.current,Fo(Bu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,io(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(oa(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:si(),Fo(Po),Fo(To),pi();break;case 5:ci(r);break;case 4:si();break;case 13:case 19:Fo(li);break;case 10:ka(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Tu=e,Pu=e=Bc(e.current,null),ju=Mu=t,Nu=0,Ru=null,zu=Lu=Iu=0,Uu=qu=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}Oa=null}return e}function mc(e,t){for(;;){var n=Pu;try{if(xa(),hi.current=us,Di){for(var o=gi.memoizedState;null!==o;){var a=o.queue;null!==a&&(a.pending=null),o=o.next}Di=!1}if(vi=0,yi=bi=gi=null,wi=!1,_i=0,Fu.current=null,null===n||null===n.return){Nu=1,Ru=t,Pu=null;break}e:{var s=e,u=n.return,c=n,l=t;if(t=ju,c.flags|=32768,null!==l&&"object"===r(l)&&"function"==typeof l.then){var f=l,d=c,p=d.tag;if(0==(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ys(u);if(null!==m){m.flags&=-257,Ds(m,u,c,0,t),1&m.mode&&bs(s,f,t),l=f;var v=(t=m).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0==(1&t)){bs(s,f,t),gc();break e}l=Error(i(426))}else if(sa&&1&c.mode){var b=ys(u);if(null!==b){0==(65536&b.flags)&&(b.flags|=256),Ds(b,u,c,0,t),ga(ds(l,c));break e}}s=l=ds(l,c),4!==Nu&&(Nu=2),null===qu?qu=[s]:qu.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,La(s,vs(0,l,t));break e;case 1:c=l;var y=s.type,D=s.stateNode;if(0==(128&s.flags)&&("function"==typeof y.getDerivedStateFromError||null!==D&&"function"==typeof D.componentDidCatch&&(null===Gu||!Gu.has(D)))){s.flags|=65536,t&=-t,s.lanes|=t,La(s,gs(s,c,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=us,null===e?us:e}function gc(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Tu||0==(268435455&Iu)&&0==(268435455&Lu)||cc(Tu,ju)}function bc(e,t){var n=Au;Au|=2;var r=vc();for(Tu===e&&ju===t||($u=null,hc(e,t));;)try{yc();break}catch(o){mc(e,o)}if(xa(),Au=n,Su.current=r,null!==Pu)throw Error(i(261));return Tu=null,ju=0,Nu}function yc(){for(;null!==Pu;)wc(Pu)}function Dc(){for(;null!==Pu&&!Xe();)wc(Pu)}function wc(e){var t=ku(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?_c(e):Pu=t,Fu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ys(n,t,Mu)))return void(Pu=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Nu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Nu&&(Nu=5)}function Ec(e,t,n){var r=wt,o=Ou.transition;try{Ou.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Zu);if(0!=(6&Au))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ut(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,a),e===Tu&&(Pu=Tu=null,ju=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Yu||(Yu=!0,Tc(rt,(function(){return xc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Ou.transition,Ou.transition=null;var s=wt;wt=1;var u=Au;Au|=4,Fu.current=null,function(e,t){if(no=Wt,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==o&&3!==d.nodeType||(u=s+o),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++l===o&&(u=s),p===a&&++f===r&&(c=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:e,selectionRange:n},Wt=!1,eu=t;null!==eu;)if(e=(t=eu).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,eu=e;else for(;null!==eu;){t=eu;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:ya(t.type,v),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var D=t.stateNode.containerInfo;1===D.nodeType?D.textContent="":9===D.nodeType&&D.documentElement&&D.removeChild(D.documentElement);break;default:throw Error(i(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,eu=e;break}eu=t.return}m=ru,ru=!1}(e,n),bu(n,e),vr(ro),Wt=!!no,ro=no=null,e.current=n,Du(n,e,o),Je(),Au=u,wt=s,Ou.transition=a}else e.current=n;if(Yu&&(Yu=!1,Zu=e,Xu=o),0===(a=e.pendingLanes)&&(Gu=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!=(1&Xu)&&0!==e.tag&&xc(),0!=(1&(a=e.pendingLanes))?e===Qu?Ju++:(Ju=0,Qu=e):Ju=0,$o()}(e,t,n,r)}finally{Ou.transition=o,wt=r}return null}function xc(){if(null!==Zu){var e=_t(Xu),t=Ou.transition,n=wt;try{if(Ou.transition=null,wt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,Xu=0,0!=(6&Au))throw Error(i(331));var o=Au;for(Au|=4,eu=e.current;null!==eu;){var a=eu,s=a.child;if(0!=(16&eu.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(eu=l;null!==eu;){var f=eu;switch(f.tag){case 0:case 11:case 15:ou(8,f,a)}var d=f.child;if(null!==d)d.return=f,eu=d;else for(;null!==eu;){var p=(f=eu).sibling,h=f.return;if(su(f),f===l){eu=null;break}if(null!==p){p.return=h,eu=p;break}eu=h}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}eu=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,eu=s;else e:for(;null!==eu;){if(0!=(2048&(a=eu).flags))switch(a.tag){case 0:case 11:case 15:ou(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,eu=b;break e}eu=a.return}}var y=e.current;for(eu=y;null!==eu;){var D=(s=eu).child;if(0!=(2064&s.subtreeFlags)&&null!==D)D.return=s,eu=D;else e:for(s=y;null!==eu;){if(0!=(2048&(u=eu).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(_){Cc(u,u.return,_)}if(u===s){eu=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,eu=w;break e}eu=u.return}}if(Au=o,$o(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Ou.transition=t}}return!1}function kc(e,t,n){e=Ra(e,t=vs(0,t=ds(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),ac(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=gs(t,e=ds(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(ju&n)===n&&(4===Nu||3===Nu&&(130023424&ju)===ju&&500>Qe()-Vu?hc(e,0):zu|=n),ac(e,t)}function Fc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var n=nc();null!==(e=Pa(e,t))&&(yt(e,t,n),ac(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Fc(e,n)}function Tc(e,t){return Ye(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Pc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,o,a,s){var u=2;if(o=e,"function"==typeof e)Mc(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case k:return Rc(n.children,a,s,t);case C:u=8,a|=8;break;case S:return(e=jc(12,n,t,2|a)).elementType=S,e.lanes=s,e;case T:return(e=jc(13,n,t,a)).elementType=T,e.lanes=s,e;case P:return(e=jc(19,n,t,a)).elementType=P,e.lanes=s,e;case B:return Ic(n,a,s,t);default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case F:u=10;break e;case O:u=9;break e;case A:u=11;break e;case j:u=14;break e;case M:u=16,o=null;break e}throw Error(i(130,null==e?e:r(e),""))}return(t=jc(u,n,t,a)).elementType=e,t.type=o,t.lanes=s,t}function Rc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=jc(22,e,r,t)).elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,a,i,s,u){return e=new qc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hc(e){if(!e)return Ao;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Bo(n))return Io(e,n,t)}return t}function $c(e,t,n,r,o,a,i,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Hc(null),n=e.current,(a=Na(r=nc(),o=rc(n))).callback=null!=t?t:null,Ra(n,a,o),e.current.lanes=o,yt(e,o,r),ac(e,r),e}function Wc(e,t,n,r){var o=t.current,a=nc(),i=rc(o);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(o,t,i))&&(oc(e,o,i,a),Ia(e,o,i)),i}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)_s=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),va();break;case 5:ui(t);break;case 1:Bo(t.type)&&Lo(t);break;case 4:ii(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Oo(Da,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oo(li,1&li.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ls(e,t,n):(Oo(li,1&li.current),null!==(e=Ws(e,t,n))?e.sibling:null);Oo(li,1&li.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oo(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ws(e,t,n)}(e,t,n);_s=0!=(131072&e.flags)}else _s=!1,sa&&0!=(1048576&t.flags)&&na(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;$s(e,t),e=t.pendingProps;var a=Mo(t,To.current);Sa(t,n),a=Ci(null,t,o,e,a,n);var s=Si();return t.flags|=1,"object"===r(a)&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bo(o)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ma(t),a.updater=Ha,t.stateNode=a,a._reactInternals=t,Ga(t,o,e,n),t=Ts(null,t,o,!0,s,n)):(t.tag=0,sa&&s&&ra(t),Es(null,t,a,n),t=t.child),t;case 16:o=t.elementType;e:{switch($s(e,t),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===j)return 14}return 2}(o),e=ya(o,e),a){case 0:t=Os(null,t,o,e,n);break e;case 1:t=As(null,t,o,e,n);break e;case 11:t=xs(null,t,o,e,n);break e;case 14:t=ks(null,t,o,ya(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,Os(e,t,o,a=t.elementType===o?a:ya(o,a),n);case 1:return o=t.type,a=t.pendingProps,As(e,t,o,a=t.elementType===o?a:ya(o,a),n);case 3:e:{if(Ps(t),null===e)throw Error(i(387));o=t.pendingProps,a=(s=t.memoizedState).element,Ba(e,t),za(t,o,null,n);var u=t.memoizedState;if(o=u.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=js(e,t,o,n,a=ds(Error(i(423)),t));break e}if(o!==a){t=js(e,t,o,n,a=ds(Error(i(424)),t));break e}for(ia=fo(t.stateNode.containerInfo.firstChild),aa=t,sa=!0,ua=null,n=ei(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(va(),o===a){t=Ws(e,t,n);break e}Es(e,t,o,n)}t=t.child}return t;case 5:return ui(t),null===e&&da(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,u=a.children,oo(o,a)?u=null:null!==s&&oo(o,s)&&(t.flags|=32),Fs(e,t),Es(e,t,u,n),t.child;case 6:return null===e&&da(t),null;case 13:return Ls(e,t,n);case 4:return ii(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Qa(t,null,o,n):Es(e,t,o,n),t.child;case 11:return o=t.type,a=t.pendingProps,xs(e,t,o,a=t.elementType===o?a:ya(o,a),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,s=t.memoizedProps,u=a.value,Oo(Da,o._currentValue),o._currentValue=u,null!==s)if(cr(s.value,u)){if(s.children===a.children&&!Po.current){t=Ws(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===o){if(1===s.tag){(l=Na(-1,n&-n)).tag=2;var f=s.updateQueue;if(null!==f){var d=(f=f.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),f.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ca(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)u=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(u=s.return))throw Error(i(341));u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),Ca(u,n,t),u=s.sibling}else u=s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Es(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,Sa(t,n),o=o(a=Fa(a)),t.flags|=1,Es(e,t,o,n),t.child;case 14:return a=ya(o=t.type,t.pendingProps),ks(e,t,o,a=ya(o.type,a),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:ya(o,a),$s(e,t),t.tag=1,Bo(o)?(e=!0,Lo(t)):e=!1,Sa(t,n),Wa(t,o,a),Ga(t,o,a,n),Ts(null,t,o,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var Zc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function el(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tl(){}function nl(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof o){var s=o;o=function(){var e=Kc(i);s.call(e)}}Wc(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=Kc(i);a.call(e)}}var i=$c(t,r,e,0,null,!1,0,"",tl);return e._reactRootContainer=i,e[go]=i.current,Hr(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",tl);return e._reactRootContainer=u,e[go]=u.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,u,n,r)})),u}(n,t,e,o,r);return Kc(i)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[go]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Lt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(Dt(t,1|n),ac(t,Qe()),0==(6&Au)&&(Hu=Qe()+500,$o()))}break;case 13:dc((function(){var t=Pa(e,1);if(null!==t){var n=nc();oc(t,e,1,n)}})),Yc(e,1)}},xt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)oc(t,e,134217728,nc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Pa(e,t);if(null!==n)oc(n,e,t,nc());Yc(e,t)}},Ct=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));Y(r),ee(r,o)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=fc,Te=dc;var rl={usingClientEntryPoint:!1,Events:[_o,Eo,xo,Fe,Oe,fc]},ol={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},al={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(al),st=il}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Zc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[go]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!el(t))throw Error(i(200));return nl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Zc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,o,0,a,s),e[go]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Jc(t)},t.render=function(e,t,n){if(!el(t))throw Error(i(200));return nl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!el(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=fc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!el(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return nl(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},62438:(e,t,n)=>{"use strict";var r=n(15249);t.s=r.createRoot,r.hydrateRoot},15249:(e,t,n)=>{"use strict";n(21703),n(96647),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(9172)},78258:function(e,t,n){var r,o,a,i,s=n(59039);n(35837),n(78011),n(89554),n(41539),n(54747),n(47941),n(38880),n(69070),n(43371),n(68304),n(67987),n(5212),n(43304),n(92222),n(21703),n(96647),n(68309),i=function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var a={error:null},i=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=a,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n),i.getDerivedStateFromError=function(e){return{error:e}};var s=i.prototype;return s.reset=function(){this.setState(a)},s.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},s.componentDidUpdate=function(e,t){var n,r,o=this.state.error,a=this.props.resetKeys;null!==o&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,a)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,a),this.reset())},s.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,o=t.FallbackComponent,a=t.fallback;if(null!==e){var i={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(a))return a;if("function"==typeof n)return n(i);if(o)return r.createElement(o,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},i}(r.Component);e.ErrorBoundary=i,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(null!=e)throw e;if(null!=n)throw n;return o},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(i,t,r.createElement(e,n))},o=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n},Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)?i(t,n(16341)):(o=[t,n(16341)],void 0===(a="function"==typeof(r=i)?r.apply(t,o):r)||(e.exports=a))},4190:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539);var o,a=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen");function y(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case s:case c:case u:case h:case m:return e;default:switch(e=e&&e.$$typeof){case d:case f:case p:case g:case v:case l:return e;default:return t}}case i:return t}}}o=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===c||e===u||e===h||e===m||e===b||"object"===r(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===f||e.$$typeof===p||e.$$typeof===o||void 0!==e.getModuleId)},t.typeOf=y},41636:(e,t,n)=>{"use strict";e.exports=n(4190)},92358:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){s=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(69070),n(79753),n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(57658),n(47042),n(68309),n(91038),n(74916),n(77601),n(21703),n(96647),n(89554),n(15306),n(24812),n(24603),n(28450),n(88386),n(39714),n(85827),n(47941),Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){i[e]=new a(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=r(e,2),n=t[0],o=t[1];i[n]=new a(n,1,!1,o,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){i[e]=new a(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){i[e]=new a(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){i[e]=new a(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){i[e]=new a(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){i[e]=new a(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){i[e]=new a(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){i[e]=new a(e,5,!1,e.toLowerCase(),null,!1,!1)}));var s=/[\-\:]([a-z])/g,u=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(s,u);i[t]=new a(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(s,u);i[t]=new a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(s,u);i[t]=new a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){i[e]=new a(e,1,!1,e.toLowerCase(),null,!1,!1)}));i.xlinkHref=new a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){i[e]=new a(e,1,!1,e.toLowerCase(),null,!0,!0)}));var c=n(856),l=c.CAMELCASE,f=c.SAME,d=c.possibleStandardNames,p=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),h=Object.keys(d).reduce((function(e,t){var n=d[t];return n===f?e[t]=t:n===l?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return i.hasOwnProperty(e)?i[e]:null},t.isCustomAttribute=p,t.possibleStandardNames=h},856:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},77340:(e,t,n)=>{"use strict";var r=n(59039);n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(19601),n(21703),n(96647),n(79753),n(74916),n(15306),n(83710),n(39714),n(57658),n(69600),n(47941),n(24812);var o=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function y(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function D(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=y.prototype;var _=w.prototype=new D;_.constructor=w,g(_,y.prototype),_.isPureReactComponent=!0;var E=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:k.current}}function F(e){return"object"===r(e)&&null!==e&&e.$$typeof===o}var O=/\/+/g;function A(e,t){return"object"===r(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,i,s){var u=r(e);"undefined"!==u&&"boolean"!==u||(e=null);var c=!1;if(null===e)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case a:c=!0}}if(c)return s=s(c=e),e=""===i?"."+A(c,0):i,E(s)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(F(s)&&(s=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=""===i?".":i+":",E(e))for(var l=0;l<e.length;l++){var f=i+A(u=e[l],l);c+=T(u,t,n,f,s)}else if(f=function(e){return null===e||"object"!==r(e)?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"==typeof f)for(e=f.call(e),l=0;!(u=e.next()).done;)c+=T(u=u.value,t,n,f=i+A(u,l++),s);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},B={transition:null},N={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:B,ReactCurrentOwner:k};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=u,t.PureComponent=w,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:o,type:e.type,key:a,ref:i,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},16341:(e,t,n)=>{"use strict";e.exports=n(77340)},44264:(e,t,n)=>{"use strict";n(21703),n(96647),n(28450),n(88386),n(69070);var r=n(75464).functionsHaveConfigurableNames(),o=Object,a=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},95101:(e,t,n)=>{"use strict";var r=n(91197),o=n(67459),a=n(44264),i=n(5016),s=n(89453),u=o(i());r(u,{getPolyfill:i,implementation:a,shim:s}),e.exports=u},5016:(e,t,n)=>{"use strict";n(38880),n(92087),n(24603),n(28450),n(74916),n(88386),n(39714),n(69070);var r=n(44264),o=n(91197).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},89453:(e,t,n)=>{"use strict";n(38880),n(69070),n(21703),n(96647),n(30489);var r=n(91197).supportsDescriptors,o=n(5016),a=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),n=a(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},24939:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(69070),n(4129),n(38880),n(19601),n(82772),n(47941),n(47042),n(43371),n(33321),n(85827),n(92222),n(29253),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,i=l(n(16341)),s=l(n(56584)),u=["h","v","r","dur","q","tf","int","max","orig","fixed","freez","active","trigger","fixedStop","elem"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=s.default.div(o||(o=p(["\n  animation-name: ",";\n  animation-duration: ","ms;\n  animation-iteration-count: ",";\n  display: 'inline-block';\n  transform-origin: ",";\n\n  &"," {\n    animation-name: ",";\n    animation-play-state: ",";\n    animation: ",";\n  }\n\n  animation-play-state: ",";\n"])),(function(e){return e.shouldShakeDefault&&e.shakeKeyframes}),(function(e){return e.dur}),(function(e){return e.q}),(function(e){return e.orig}),(function(e){return e.trigger}),(function(e){return e.shouldShakeWhenTriggered&&e.shakeKeyframes}),(function(e){return e.freez&&(e.fixed?"paused":"running")}),(function(e){return e.fixed&&e.fixedStop&&"initial"}),(function(e){return e.active?e.freez&&!e.fixed?"paused":"running":"paused"})),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.random()*(e-t)-e/2},v=function(e,t,n,r,o){for(var a,i="translate(0,0) rotate(0)",s={"0%":{transform:i}},u=e;u<=t;u+=e){var c=m(n),l=m(r),f=m(o);s["".concat(u,"%")]={transform:"translate(".concat(c,"px, ").concat(l,"px) rotate(").concat(f,"deg)")}}return s["".concat(Math.min(t,100),"%")]={transform:i},a=s,Object.keys(a).reduce((function(e,t){return"".concat(e,"\n\t\t\t").concat(t," {\n\t\t\t\ttransform: ").concat(a[t].transform,"\n\t\t\t}")}),"")},g=function(e){var t=e.h,n=void 0===t?5:t,r=e.v,o=void 0===r?5:r,c=e.r,l=void 0===c?3:c,m=e.dur,g=void 0===m?300:m,b=e.q,y=void 0===b?"infinite":b,D=(e.tf,e.int),w=void 0===D?10:D,_=e.max,E=void 0===_?100:_,x=e.orig,k=void 0===x?"center center":x,C=e.fixed,S=void 0!==C&&C,F=e.freez,O=void 0!==F&&F,A=e.active,T=void 0===A||A,P=e.trigger,j=void 0===P?":hover":P,M=e.fixedStop,B=void 0!==M&&M,N=e.elem,R=void 0===N?"div":N,I=d(e,u),L=(0,i.useMemo)((function(){return(0,s.keyframes)(a||(a=p(["",""])),v(w,E,n,o,l))}),[w,E,n,o,l]),z=S||!S&&O,q=!S&&!O;return i.default.createElement(h,f({as:R,dur:g,orig:k,q:y,freez:O,fixed:S,fixedStop:B,active:T,trigger:j,shakeKeyframes:L,shouldShakeDefault:z,shouldShakeWhenTriggered:q},I),I.children)};t.default=g},1356:(e,t,n)=>{"use strict";n(69070),n(19601),n(82526),n(82772),n(47941),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(16341)),o=s(n(24939)),a=s(n(5790)),i=["type"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=function(e){var t=e.type,n=void 0===t?null:t,s=c(e,i),l=n&&a.default[n];return r.default.createElement(o.default,u({},l,s),s.children)};t.default=l},74255:(e,t,n)=>{"use strict";n(69070),n(19601),Object.defineProperty(t,"x_",{enumerable:!0,get:function(){return o.default}});var r=s(n(16341)),o=s(n(24939)),a=s(n(1356)),i=s(n(5790));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e){return r.default.createElement(a.default,u({},e,{type:"little"}))};var l=function(e){return r.default.createElement(a.default,u({},e,{type:"slow"}))};var f=function(e){return r.default.createElement(a.default,u({},e,{type:"hard"}))};var d=function(e){return r.default.createElement(a.default,u({},e,{type:"horizontal"}))};var p=function(e){return r.default.createElement(a.default,u({},e,{type:"vertical"}))};var h=function(e){return r.default.createElement(a.default,u({},e,{type:"rotate"}))};var m=function(e){return r.default.createElement(a.default,u({},e,{type:"crazy"}))};o.default,a.default,i.default},5790:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={little:{h:2,v:2,r:2},slow:{h:20,v:20,r:7,dur:5e3},hard:{h:20,v:20,r:7},horizontal:{h:20,v:0,r:0},vertical:{h:0,v:20,r:0},rotate:{h:0,v:0,r:15},crazy:{h:40,v:40,r:20,dur:100,int:.1}};t.default=r},1449:(e,t,n)=>{"use strict";n(69070),n(43371),n(54678),Object.defineProperty(t,"__esModule",{value:!0});t.ContentRect=function(e){if("getBBox"in e){var t=e.getBBox();return Object.freeze({height:t.height,left:0,top:0,width:t.width})}var n=window.getComputedStyle(e);return Object.freeze({height:parseFloat(n.height||"0"),left:parseFloat(n.paddingLeft||"0"),top:parseFloat(n.paddingTop||"0"),width:parseFloat(n.width||"0")})}},88145:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0});var r=n(1449),o=function(){function e(e){this.target=e,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){var e=r.ContentRect(this.target);return!!e&&(e.width!==this.broadcastWidth||e.height!==this.broadcastHeight)},e}();t.ResizeObservation=o},76405:(e,t,n)=>{"use strict";n(69070),n(21703),n(96647),n(57658),n(40561),n(82772),n(89554),n(41539),n(54747),n(5212);var r=n(88145),o=n(36666),a=[],i=function(){function e(e){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var t=function(e){if(void 0===e)return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if("function"!=typeof e)return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}(e);if(t)throw TypeError(t);this.$$callback=e}return e.prototype.observe=function(e){var t,n=u("observe",e);if(n)throw TypeError(n);c(this.$$observationTargets,e)>=0||(this.$$observationTargets.push(new r.ResizeObservation(e)),t=this,a.indexOf(t)<0&&(a.push(t),m()))},e.prototype.unobserve=function(e){var t=u("unobserve",e);if(t)throw TypeError(t);var n=c(this.$$observationTargets,e);n<0||(this.$$observationTargets.splice(n,1),0===this.$$observationTargets.length&&s(this))},e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],s(this)},e}();function s(e){var t=a.indexOf(e);t>=0&&(a.splice(t,1),g())}function u(e,t){return void 0===t?"Failed to execute '"+e+"' on 'ResizeObserver': 1 argument required, but only 0 present.":t&&t.nodeType===window.Node.ELEMENT_NODE?void 0:"Failed to execute '"+e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function c(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1}var l,f=function(e){a.forEach((function(t){t.$$activeTargets=[],t.$$skippedTargets=[],t.$$observationTargets.forEach((function(n){n.isActive()&&(p(n.target)>e?t.$$activeTargets.push(n):t.$$skippedTargets.push(n))}))}))},d=function(){var e=1/0;return a.forEach((function(t){if(t.$$activeTargets.length){var n=[];t.$$activeTargets.forEach((function(t){var r=new o.ResizeObserverEntry(t.target);n.push(r),t.$$broadcastWidth=r.contentRect.width,t.$$broadcastHeight=r.contentRect.height;var a=p(t.target);a<e&&(e=a)})),t.$$callback(n,t),t.$$activeTargets=[]}})),e},p=function(e){for(var t=0;e.parentNode;)e=e.parentNode,t+=1;return t},h=function(){var e,t=0;for(f(t);a.some((function(e){return!!e.$$activeTargets.length}));)t=d(),f(t);a.some((function(e){return!!e.$$skippedTargets.length}))&&(e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."}),window.dispatchEvent(e))},m=function(){l||v()},v=function e(){l=window.requestAnimationFrame((function(){h(),e()}))},g=function(){l&&!a.some((function(e){return!!e.$$observationTargets.length}))&&(window.cancelAnimationFrame(l),l=void 0)};t.N9=function(){return window.ResizeObserver=i}},36666:(e,t,n)=>{"use strict";n(69070),Object.defineProperty(t,"__esModule",{value:!0});var r=n(1449),o=function(e){this.target=e,this.contentRect=r.ContentRect(e)};t.ResizeObserverEntry=o},30597:(e,t,n)=>{"use strict";var r=n(59039);function o(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<s(o,t)))break e;e[r]=t,e[n]=o,n=r}}function a(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var i=2*(r+1)-1,u=e[i],c=i+1,l=e[c];if(0>s(u,n))c<o&&0>s(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[i]=n,r=i);else{if(!(c<o&&0>s(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(57658),n(83710),n(3843),n(32564),n(84633),n(24812),"object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var f=[],d=[],p=1,h=null,m=3,v=!1,g=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,D="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=a(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,o(f,t)}t=a(d)}}function E(e){if(b=!1,_(e),!g)if(null!==a(f))g=!0,B(x);else{var t=a(d);null!==t&&N(E,t.startTime-e)}}function x(e,n){g=!1,b&&(b=!1,D(F),F=-1),v=!0;var r=m;try{for(_(n),h=a(f);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"==typeof o){h.callback=null,m=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===a(f)&&i(f),_(n)}else i(f);h=a(f)}if(null!==h)var u=!0;else{var c=a(d);null!==c&&N(E,c.startTime-n),u=!1}return u}finally{h=null,m=r,v=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,F=-1,O=5,A=-1;function T(){return!(t.unstable_now()-A<O)}function P(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"==typeof w)k=function(){w(P)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,M=j.port2;j.port1.onmessage=P,k=function(){M.postMessage(null)}}else k=function(){y(P,0)};function B(e){S=e,C||(C=!0,k())}function N(e,n){F=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,B(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(f)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,n,i){var s=t.unstable_now();switch("object"===r(i)&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:p++,callback:n,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>s?(e.sortIndex=i,o(d,e),null===a(f)&&e===a(d)&&(b?(D(F),F=-1):b=!0,N(E,i-s))):(e.sortIndex=u,o(f,e),g||v||(g=!0,B(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},39457:(e,t,n)=>{"use strict";e.exports=n(30597)},61503:(e,t,n)=>{var r=n(59039);n(47941),n(24812),e.exports=function(e,t,n,o){var a=n?n.call(o,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==r(e)||!e||"object"!==r(t)||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var l=i[c];if(!u(l))return!1;var f=e[l],d=t[l];if(!1===(a=n?n.call(o,f,d,l):void 0)||void 0===a&&f!==d)return!1}return!0}},34023:(e,t,n)=>{"use strict";n(69070),n(89554),n(41539),n(54747),n(57658),n(69600),n(57327),n(47941),n(23157),n(94953),n(91058),t.No=void 0;var r={"o/":"👋","</3":"💔","<3":"💗","8-D":"😁","8D":"😁",":-D":"😁",":-3":"😁",":3":"😁",":D":"😁","B^D":"😁","X-D":"😁",XD:"😁","x-D":"😁",xD:"😁",":')":"😂",":'-)":"😂",":-))":"😃","8)":"😄",":)":"😊",":-)":"😄",":]":"😄",":^)":"😄",":c)":"😄",":o)":"😄",":}":"😄",":っ)":"😄","0:)":"😇","0:-)":"😇","0:-3":"😇","0:3":"😇","0;^)":"😇","O:-)":"😇","3:)":"😈","3:-)":"😈","}:)":"😈","}:-)":"😈","*)":"😉","*-)":"😉",":-,":"😉",";)":"😉",";-)":"😉",";-]":"😉",";D":"😉",";]":"😉",";^)":"😉",":-|":"😐",":|":"😐",":(":"😞",":-(":"😒",":-<":"😒",":-[":"😒",":-c":"😒",":<":"😒",":[":"😒",":c":"😒",":{":"😒",":っC":"😒","%)":"😖","%-)":"😖",":-P":"😜",":-b":"😜",":-p":"😜",":-Þ":"😜",":-þ":"😜",":P":"😜",":b":"😜",":p":"😜",":Þ":"😜",":þ":"😜",";(":"😜","X-P":"😜",XP:"😜","d:":"😜","x-p":"😜",xp:"😜",":-||":"😠",":@":"😠",":-.":"😡",":-/":"😡",":/":"😐",":L":"😡",":S":"😡",":\\":"😡",":'(":"😢",":'-(":"😢","^5":"😤","^<_<":"😤","o/\\o":"😤","|-O":"😫","|;-)":"😫",":###..":"😰",":#":"😅",":-###..":"😰","D-':":"😱",D8:"😱","D:":"😱","D:<":"😱","D;":"😱",DX:"😱","v.v":"😱","8-0":"😲",":-O":"😲",":-o":"😲",":O":"😲",":o":"😲","O-O":"😲",O_O:"😲",O_o:"😲","o-o":"😲",o_O:"😲",o_o:"😲",":$":"😳","#-)":"😵",":&":"😶",":-#":"😶",":-&":"😶",":-X":"😶",":X":"😶",":-J":"😼",":*":"😘",":^*":"😽","ಠ_ಠ":"🙅","*\\0/*":"🙆","\\o/":"🙆",":>":"😄",">.<":"😡",">:(":"😠",">:)":"😈",">:-)":"😈",">:/":"😡",">:O":"😲",">:P":"😜",">:[":"😒",">:\\":"😡",">;)":"😈",">_>^":"😤","^^":"😊",":sweat:":"😅",":smile:":"😄",":laughing:":"😆",":blush:":"😊",":smiley:":"😃",":relaxed:":"☺️",":smirk:":"😏",":heart_eyes:":"😍",":kissing_heart:":"😘",":kissing_closed_eyes:":"😚",":flushed:":"😳",":relieved:":"😌",":satisfied:":"😆",":grin:":"😁",":wink:":"😉",":stuck_out_tongue_winking_eye:":"😜",":stuck_out_tongue_closed_eyes:":"😝",":grinning:":"😀",":kissing:":"😗",":kissing_smiling_eyes:":"😙",":stuck_out_tongue:":"😛",":sleeping:":"😴",":worried:":"😟",":frowning:":"😦",":anguished:":"😧",":open_mouth:":"😮",":grimacing:":"😬",":confused:":"😕",":hushed:":"😯",":expressionless:":"😑",":unamused:":"😒",":sweat_smile:":"😅",":disappointed_relieved:":"😥",":weary:":"😩",":pensive:":"😔",":disappointed:":"😞",":confounded:":"😖",":fearful:":"😨",":cold_sweat:":"😰",":persevere:":"😣",":cry:":"😢",":sob:":"😭",":joy:":"😂",":astonished:":"😲",":scream:":"😱",":tired_face:":"😫",":angry:":"😠",":rage:":"😡",":triumph:":"😤",":sleepy:":"😪",":yum:":"😋",":mask:":"😷",":sunglasses:":"😎",":dizzy_face:":"😵",":imp:":"👿",":smiling_imp:":"😈",":neutral_face:":"😐",":no_mouth:":"😶",":innocent:":"😇",":alien:":"👽",":yellow_heart:":"💛",":blue_heart:":"💙",":purple_heart:":"💜",":heart:":"❤️",":green_heart:":"💚",":broken_heart:":"💔",":heartbeat:":"💓",":heartpulse:":"💗",":two_hearts:":"💕",":revolving_hearts:":"💞",":cupid:":"💘",":sparkling_heart:":"💖",":sparkles:":"✨",":star:":"⭐",":star2:":"🌟",":dizzy:":"💫",":boom:":"💥",":collision:":"💥",":anger:":"💢",":exclamation:":"❗",":question:":"❓",":grey_exclamation:":"❕",":grey_question:":"❔",":zzz:":"💤",":dash:":"💨",":sweat_drops:":"💦",":notes:":"🎶",":musical_note:":"🎵",":fire:":"🔥",":hankey:":"💩",":poop:":"💩",":shit:":"💩",":+1:":"👍",":thumbsup:":"👍",":-1:":"👎",":thumbsdown:":"👎",":ok_hand:":"👌",":punch:":"👊",":facepunch:":"👊",":fist:":"✊",":v:":"✌️",":wave:":"👋",":hand:":"✋",":raised_hand:":"✋",":open_hands:":"👐",":point_up:":"☝️",":point_down:":"👇",":point_left:":"👈",":point_right:":"👉",":raised_hands:":"🙌",":pray:":"🙏",":point_up_2:":"👆",":clap:":"👏",":muscle:":"💪",":metal:":"🤘",":fu:":"🖕",":walking:":"🚶",":runner:":"🏃",":running:":"🏃",":couple:":"👫",":family:":"👪",":two_men_holding_hands:":"👬",":two_women_holding_hands:":"👭",":dancer:":"💃",":dancers:":"👯",":no_good:":"🙅",":information_desk_person:":"💁",":raising_hand:":"🙋",":bride_with_veil:":"👰",":bow:":"🙇",":couplekiss:":"💏",":couple_with_heart:":"💑",":massage:":"💆",":haircut:":"💇",":nail_care:":"💅",":boy:":"👦",":girl:":"👧",":woman:":"👩",":man:":"👨",":baby:":"👶",":older_woman:":"👵",":older_man:":"👴",":man_with_gua_pi_mao:":"👲",":construction_worker:":"👷",":cop:":"👮",":angel:":"👼",":princess:":"👸",":smiley_cat:":"😺",":smile_cat:":"😸",":heart_eyes_cat:":"😻",":kissing_cat:":"😽",":smirk_cat:":"😼",":scream_cat:":"🙀",":crying_cat_face:":"😿",":joy_cat:":"😹",":pouting_cat:":"😾",":japanese_ogre:":"👹",":japanese_goblin:":"👺",":see_no_evil:":"🙈",":hear_no_evil:":"🙉",":speak_no_evil:":"🙊",":skull:":"💀",":feet:":"🐾",":lips:":"👄",":kiss:":"💋",":droplet:":"💧",":ear:":"👂",":eyes:":"👀",":nose:":"👃",":tongue:":"👅",":love_letter:":"💌",":bust_in_silhouette:":"👤",":busts_in_silhouette:":"👥",":speech_balloon:":"💬",":thought_balloon:":"💭",":sunny:":"☀️",":umbrella:":"☔",":cloud:":"☁️",":snowflake:":"❄️",":snowman:":"⛄",":zap:":"⚡",":cyclone:":"🌀",":foggy:":"🌁",":ocean:":"🌊",":cat:":"🐱",":dog:":"🐶",":mouse:":"🐭",":hamster:":"🐹",":rabbit:":"🐰",":wolf:":"🐺",":frog:":"🐸",":tiger:":"🐯",":koala:":"🐨",":bear:":"🐻",":pig:":"🐷",":pig_nose:":"🐽",":cow:":"🐮",":boar:":"🐗",":monkey_face:":"🐵",":monkey:":"🐒",":horse:":"🐴",":racehorse:":"🐎",":camel:":"🐫",":sheep:":"🐑",":elephant:":"🐘",":panda_face:":"🐼",":snake:":"🐍",":bird:":"🐦",":baby_chick:":"🐤",":hatched_chick:":"🐥",":hatching_chick:":"🐣",":chicken:":"🐔",":penguin:":"🐧",":turtle:":"🐢",":bug:":"🐛",":honeybee:":"🐝",":ant:":"🐜",":beetle:":"🐞",":snail:":"🐌",":octopus:":"🐙",":tropical_fish:":"🐠",":fish:":"🐟",":whale:":"🐳",":whale2:":"🐋",":dolphin:":"🐬",":cow2:":"🐄",":ram:":"🐏",":rat:":"🐀",":water_buffalo:":"🐃",":tiger2:":"🐅",":rabbit2:":"🐇",":dragon:":"🐉",":goat:":"🐐",":rooster:":"🐓",":dog2:":"🐕",":pig2:":"🐖",":mouse2:":"🐁",":ox:":"🐂",":dragon_face:":"🐲",":blowfish:":"🐡",":crocodile:":"🐊",":dromedary_camel:":"🐪",":leopard:":"🐆",":cat2:":"🐈",":poodle:":"🐩",":paw_prints:":"🐾",":bouquet:":"💐",":cherry_blossom:":"🌸",":tulip:":"🌷",":four_leaf_clover:":"🍀",":rose:":"🌹",":sunflower:":"🌻",":hibiscus:":"🌺",":maple_leaf:":"🍁",":leaves:":"🍃",":fallen_leaf:":"🍂",":herb:":"🌿",":mushroom:":"🍄",":cactus:":"🌵",":palm_tree:":"🌴",":evergreen_tree:":"🌲",":deciduous_tree:":"🌳",":chestnut:":"🌰",":seedling:":"🌱",":blossom:":"🌼",":ear_of_rice:":"🌾",":shell:":"🐚",":globe_with_meridians:":"🌐",":sun_with_face:":"🌞",":full_moon_with_face:":"🌝",":new_moon_with_face:":"🌚",":new_moon:":"🌑",":waxing_crescent_moon:":"🌒",":first_quarter_moon:":"🌓",":waxing_gibbous_moon:":"🌔",":full_moon:":"🌕",":waning_gibbous_moon:":"🌖",":last_quarter_moon:":"🌗",":waning_crescent_moon:":"🌘",":last_quarter_moon_with_face:":"🌜",":first_quarter_moon_with_face:":"🌛",":moon:":"🌔",":earth_africa:":"🌍",":earth_americas:":"🌎",":earth_asia:":"🌏",":volcano:":"🌋",":milky_way:":"🌌",":partly_sunny:":"⛅",":bamboo:":"🎍",":gift_heart:":"💝",":dolls:":"🎎",":school_satchel:":"🎒",":mortar_board:":"🎓",":flags:":"🎏",":fireworks:":"🎆",":sparkler:":"🎇",":wind_chime:":"🎐",":rice_scene:":"🎑",":jack_o_lantern:":"🎃",":ghost:":"👻",":santa:":"🎅",":christmas_tree:":"🎄",":gift:":"🎁",":bell:":"🔔",":no_bell:":"🔕",":tanabata_tree:":"🎋",":tada:":"🎉",":confetti_ball:":"🎊",":balloon:":"🎈",":crystal_ball:":"🔮",":cd:":"💿",":dvd:":"📀",":floppy_disk:":"💾",":camera:":"📷",":video_camera:":"📹",":movie_camera:":"🎥",":computer:":"💻",":tv:":"📺",":iphone:":"📱",":phone:":"☎️",":telephone:":"☎️",":telephone_receiver:":"📞",":pager:":"📟",":fax:":"📠",":minidisc:":"💽",":vhs:":"📼",":sound:":"🔉",":speaker:":"🔈",":mute:":"🔇",":loudspeaker:":"📢",":mega:":"📣",":hourglass:":"⌛",":hourglass_flowing_sand:":"⏳",":alarm_clock:":"⏰",":watch:":"⌚",":radio:":"📻",":satellite:":"📡",":loop:":"➿",":mag:":"🔍",":mag_right:":"🔎",":unlock:":"🔓",":lock:":"🔒",":lock_with_ink_pen:":"🔏",":closed_lock_with_key:":"🔐",":key:":"🔑",":bulb:":"💡",":flashlight:":"🔦",":high_brightness:":"🔆",":low_brightness:":"🔅",":electric_plug:":"🔌",":battery:":"🔋",":calling:":"📲",":email:":"✉️",":mailbox:":"📫",":postbox:":"📮",":bath:":"🛀",":bathtub:":"🛁",":shower:":"🚿",":toilet:":"🚽",":wrench:":"🔧",":nut_and_bolt:":"🔩",":hammer:":"🔨",":seat:":"💺",":moneybag:":"💰",":yen:":"💴",":dollar:":"💵",":pound:":"💷",":euro:":"💶",":credit_card:":"💳",":money_with_wings:":"💸",":e-mail:":"📧",":inbox_tray:":"📥",":outbox_tray:":"📤",":envelope:":"✉️",":incoming_envelope:":"📨",":postal_horn:":"📯",":mailbox_closed:":"📪",":mailbox_with_mail:":"📬",":mailbox_with_no_mail:":"📭",":package:":"📦",":door:":"🚪",":smoking:":"🚬",":bomb:":"💣",":gun:":"🔫",":hocho:":"🔪",":pill:":"💊",":syringe:":"💉",":page_facing_up:":"📄",":page_with_curl:":"📃",":bookmark_tabs:":"📑",":bar_chart:":"📊",":chart_with_upwards_trend:":"📈",":chart_with_downwards_trend:":"📉",":scroll:":"📜",":clipboard:":"📋",":calendar:":"📆",":date:":"📅",":card_index:":"📇",":file_folder:":"📁",":open_file_folder:":"📂",":scissors:":"✂️",":pushpin:":"📌",":paperclip:":"📎",":black_nib:":"✒️",":pencil2:":"✏️",":straight_ruler:":"📏",":triangular_ruler:":"📐",":closed_book:":"📕",":green_book:":"📗",":blue_book:":"📘",":orange_book:":"📙",":notebook:":"📓",":notebook_with_decorative_cover:":"📔",":ledger:":"📒",":books:":"📚",":bookmark:":"🔖",":name_badge:":"📛",":microscope:":"🔬",":telescope:":"🔭",":newspaper:":"📰",":football:":"🏈",":basketball:":"🏀",":soccer:":"⚽",":baseball:":"⚾",":tennis:":"🎾",":8ball:":"🎱",":rugby_football:":"🏉",":bowling:":"🎳",":golf:":"⛳",":mountain_bicyclist:":"🚵",":bicyclist:":"🚴",":horse_racing:":"🏇",":snowboarder:":"🏂",":swimmer:":"🏊",":surfer:":"🏄",":ski:":"🎿",":spades:":"♠️",":hearts:":"♥️",":clubs:":"♣️",":diamonds:":"♦️",":gem:":"💎",":ring:":"💍",":trophy:":"🏆",":musical_score:":"🎼",":musical_keyboard:":"🎹",":violin:":"🎻",":space_invader:":"👾",":video_game:":"🎮",":black_joker:":"🃏",":flower_playing_cards:":"🎴",":game_die:":"🎲",":dart:":"🎯",":mahjong:":"🀄",":clapper:":"🎬",":memo:":"📝",":pencil:":"📝",":book:":"📖",":art:":"🎨",":microphone:":"🎤",":headphones:":"🎧",":trumpet:":"🎺",":saxophone:":"🎷",":guitar:":"🎸",":shoe:":"👞",":sandal:":"👡",":high_heel:":"👠",":lipstick:":"💄",":boot:":"👢",":shirt:":"👕",":tshirt:":"👕",":necktie:":"👔",":womans_clothes:":"👚",":dress:":"👗",":running_shirt_with_sash:":"🎽",":jeans:":"👖",":kimono:":"👘",":bikini:":"👙",":ribbon:":"🎀",":tophat:":"🎩",":crown:":"👑",":womans_hat:":"👒",":mans_shoe:":"👞",":closed_umbrella:":"🌂",":briefcase:":"💼",":handbag:":"👜",":pouch:":"👝",":purse:":"👛",":eyeglasses:":"👓",":fishing_pole_and_fish:":"🎣",":coffee:":"☕",":tea:":"🍵",":sake:":"🍶",":baby_bottle:":"🍼",":beer:":"🍺",":beers:":"🍻",":cocktail:":"🍸",":tropical_drink:":"🍹",":wine_glass:":"🍷",":fork_and_knife:":"🍴",":pizza:":"🍕",":hamburger:":"🍔",":fries:":"🍟",":poultry_leg:":"🍗",":meat_on_bone:":"🍖",":spaghetti:":"🍝",":curry:":"🍛",":fried_shrimp:":"🍤",":bento:":"🍱",":sushi:":"🍣",":fish_cake:":"🍥",":rice_ball:":"🍙",":rice_cracker:":"🍘",":rice:":"🍚",":ramen:":"🍜",":stew:":"🍲",":oden:":"🍢",":dango:":"🍡",":egg:":"🥚",":bread:":"🍞",":doughnut:":"🍩",":custard:":"🍮",":icecream:":"🍦",":ice_cream:":"🍨",":shaved_ice:":"🍧",":birthday:":"🎂",":cake:":"🍰",":cookie:":"🍪",":chocolate_bar:":"🍫",":candy:":"🍬",":lollipop:":"🍭",":honey_pot:":"🍯",":apple:":"🍎",":green_apple:":"🍏",":tangerine:":"🍊",":lemon:":"🍋",":cherries:":"🍒",":grapes:":"🍇",":watermelon:":"🍉",":strawberry:":"🍓",":peach:":"🍑",":melon:":"🍈",":banana:":"🍌",":pear:":"🍐",":pineapple:":"🍍",":sweet_potato:":"🍠",":eggplant:":"🍆",":tomato:":"🍅",":corn:":"🌽",":house:":"🏠",":house_with_garden:":"🏡",":school:":"🏫",":office:":"🏢",":post_office:":"🏣",":hospital:":"🏥",":bank:":"🏦",":convenience_store:":"🏪",":love_hotel:":"🏩",":hotel:":"🏨",":wedding:":"💒",":church:":"⛪",":department_store:":"🏬",":european_post_office:":"🏤",":city_sunrise:":"🌇",":city_sunset:":"🌆",":japanese_castle:":"🏯",":european_castle:":"🏰",":tent:":"⛺",":factory:":"🏭",":tokyo_tower:":"🗼",":japan:":"🗾",":mount_fuji:":"🗻",":sunrise_over_mountains:":"🌄",":sunrise:":"🌅",":stars:":"🌠",":statue_of_liberty:":"🗽",":bridge_at_night:":"🌉",":carousel_horse:":"🎠",":rainbow:":"🌈",":ferris_wheel:":"🎡",":fountain:":"⛲",":roller_coaster:":"🎢",":ship:":"🚢",":speedboat:":"🚤",":boat:":"⛵",":sailboat:":"⛵",":rowboat:":"🚣",":anchor:":"⚓",":rocket:":"🚀",":airplane:":"✈️",":helicopter:":"🚁",":steam_locomotive:":"🚂",":tram:":"🚊",":mountain_railway:":"🚞",":bike:":"🚲",":aerial_tramway:":"🚡",":suspension_railway:":"🚟",":mountain_cableway:":"🚠",":tractor:":"🚜",":blue_car:":"🚙",":oncoming_automobile:":"🚘",":car:":"🚗",":red_car:":"🚗",":taxi:":"🚕",":oncoming_taxi:":"🚖",":articulated_lorry:":"🚛",":bus:":"🚌",":oncoming_bus:":"🚍",":rotating_light:":"🚨",":police_car:":"🚓",":oncoming_police_car:":"🚔",":fire_engine:":"🚒",":ambulance:":"🚑",":minibus:":"🚐",":truck:":"🚚",":train:":"🚋",":station:":"🚉",":train2:":"🚆",":bullettrain_front:":"🚅",":bullettrain_side:":"🚄",":light_rail:":"🚈",":monorail:":"🚝",":railway_car:":"🚃",":trolleybus:":"🚎",":ticket:":"🎫",":fuelpump:":"⛽",":vertical_traffic_light:":"🚦",":traffic_light:":"🚥",":warning:":"⚠️",":construction:":"🚧",":beginner:":"🔰",":atm:":"🏧",":slot_machine:":"🎰",":busstop:":"🚏",":barber:":"💈",":hotsprings:":"♨️",":checkered_flag:":"🏁",":crossed_flags:":"🎌",":izakaya_lantern:":"🏮",":moyai:":"🗿",":circus_tent:":"🎪",":performing_arts:":"🎭",":round_pushpin:":"📍",":triangular_flag_on_post:":"🚩",":jp:":"🇯🇵",":kr:":"🇰🇷",":cn:":"🇨🇳",":us:":"🇺🇸",":fr:":"🇫🇷",":es:":"🇪🇸",":it:":"🇮🇹",":ru:":"🇷🇺",":gb:":"🇬🇧",":uk:":"🇬🇧",":de:":"🇩🇪",":one:":"1️⃣",":two:":"2️⃣",":three:":"3️⃣",":four:":"4️⃣",":five:":"5️⃣",":six:":"6️⃣",":seven:":"7️⃣",":eight:":"8️⃣",":nine:":"9️⃣",":keycap_ten:":"🔟",":1234:":"🔢",":zero:":"0️⃣",":hash:":"#️⃣",":symbols:":"🔣",":arrow_backward:":"◀️",":arrow_down:":"⬇️",":arrow_forward:":"▶️",":arrow_left:":"⬅️",":capital_abcd:":"🔠",":abcd:":"🔡",":abc:":"🔤",":arrow_lower_left:":"↙️",":arrow_lower_right:":"↘️",":arrow_right:":"➡️",":arrow_up:":"⬆️",":arrow_upper_left:":"↖️",":arrow_upper_right:":"↗️",":arrow_double_down:":"⏬",":arrow_double_up:":"⏫",":arrow_down_small:":"🔽",":arrow_heading_down:":"⤵️",":arrow_heading_up:":"⤴️",":leftwards_arrow_with_hook:":"↩️",":arrow_right_hook:":"↪️",":left_right_arrow:":"↔️",":arrow_up_down:":"↕️",":arrow_up_small:":"🔼",":arrows_clockwise:":"🔃",":arrows_counterclockwise:":"🔄",":rewind:":"⏪",":fast_forward:":"⏩",":information_source:":"ℹ️",":ok:":"🆗",":twisted_rightwards_arrows:":"🔀",":repeat:":"🔁",":repeat_one:":"🔂",":new:":"🆕",":top:":"🔝",":up:":"🆙",":cool:":"🆒",":free:":"🆓",":ng:":"🆖",":cinema:":"🎦",":koko:":"🈁",":signal_strength:":"📶",":u5272:":"🈹",":u5408:":"🈴",":u55b6:":"🈺",":u6307:":"🈯",":u6708:":"🈷️",":u6709:":"🈶",":u6e80:":"🈵",":u7121:":"🈚",":u7533:":"🈸",":u7a7a:":"🈳",":u7981:":"🈲",":sa:":"🈂️",":restroom:":"🚻",":mens:":"🚹",":womens:":"🚺",":baby_symbol:":"🚼",":no_smoking:":"🚭",":parking:":"🅿️",":wheelchair:":"♿",":metro:":"🚇",":baggage_claim:":"🛄",":accept:":"🉑",":wc:":"🚾",":potable_water:":"🚰",":put_litter_in_its_place:":"🚮",":secret:":"㊙️",":congratulations:":"㊗️",":m:":"Ⓜ️",":passport_control:":"🛂",":left_luggage:":"🛅",":customs:":"🛃",":ideograph_advantage:":"🉐",":cl:":"🆑",":sos:":"🆘",":id:":"🆔",":no_entry_sign:":"🚫",":underage:":"🔞",":no_mobile_phones:":"📵",":do_not_litter:":"🚯",":non-potable_water:":"🚱",":no_bicycles:":"🚳",":no_pedestrians:":"🚷",":children_crossing:":"🚸",":no_entry:":"⛔",":eight_spoked_asterisk:":"✳️",":sparkle:":"❇️",":eight_pointed_black_star:":"✴️",":heart_decoration:":"💟",":vs:":"🆚",":vibration_mode:":"📳",":mobile_phone_off:":"📴",":chart:":"💹",":currency_exchange:":"💱",":aries:":"♈",":taurus:":"♉",":gemini:":"♊",":cancer:":"♋",":leo:":"♌",":virgo:":"♍",":libra:":"♎",":scorpius:":"♏",":sagittarius:":"♐",":capricorn:":"♑",":aquarius:":"♒",":pisces:":"♓",":ophiuchus:":"⛎",":six_pointed_star:":"🔯",":negative_squared_cross_mark:":"❎",":a:":"🅰️",":b:":"🅱️",":ab:":"🆎",":o2:":"🅾️",":diamond_shape_with_a_dot_inside:":"💠",":recycle:":"♻️",":end:":"🔚",":back:":"🔙",":on:":"🔛",":soon:":"🔜",":clock1:":"🕐",":clock130:":"🕜",":clock10:":"🕙",":clock1030:":"🕥",":clock11:":"🕚",":clock1130:":"🕦",":clock12:":"🕛",":clock1230:":"🕧",":clock2:":"🕑",":clock230:":"🕝",":clock3:":"🕒",":clock330:":"🕞",":clock4:":"🕓",":clock430:":"🕟",":clock5:":"🕔",":clock530:":"🕠",":clock6:":"🕕",":clock630:":"🕡",":clock7:":"🕖",":clock730:":"🕢",":clock8:":"🕗",":clock830:":"🕣",":clock9:":"🕘",":clock930:":"🕤",":heavy_dollar_sign:":"💲",":copyright:":"©️",":registered:":"®️",":tm:":"™️",":x:":"❌",":heavy_exclamation_mark:":"❗",":bangbang:":"‼️",":interrobang:":"⁉️",":o:":"⭕",":heavy_multiplication_x:":"✖️",":heavy_plus_sign:":"➕",":heavy_minus_sign:":"➖",":heavy_division_sign:":"➗",":white_flower:":"💮",":100:":"💯",":heavy_check_mark:":"✔️",":ballot_box_with_check:":"☑️",":radio_button:":"🔘",":link:":"🔗",":curly_loop:":"➰",":wavy_dash:":"〰️",":part_alternation_mark:":"〽️"};var o={":100:":"1f4af",":1234:":"1f522",":interrobang:":"2049",":tm:":"2122",":information_source:":"2139",":left_right_arrow:":"2194",":arrow_up_down:":"2195",":arrow_upper_left:":"2196",":arrow_upper_right:":"2197",":arrow_lower_right:":"2198",":arrow_lower_left:":"2199",":keyboard:":"2328",":sunny:":"2600",":cloud:":"2601",":umbrella:":"2602",":snowman:":"2603",":comet:":"2604",":ballot_box_with_check:":"2611",":umbrella_with_rain_drops:":"2614",":coffee:":"2615",":shamrock:":"2618",":skull_and_crossbones:":"2620",":radioactive_sign:":"2622",":biohazard_sign:":"2623",":orthodox_cross:":"2626",":wheel_of_dharma:":"2638",":white_frowning_face:":"2639",":aries:":"2648",":taurus:":"2649",":sagittarius:":"2650",":capricorn:":"2651",":aquarius:":"2652",":pisces:":"2653",":spades:":"2660",":clubs:":"2663",":hearts:":"2665",":diamonds:":"2666",":hotsprings:":"2668",":hammer_and_pick:":"2692",":anchor:":"2693",":crossed_swords:":"2694",":scales:":"2696",":alembic:":"2697",":gear:":"2699",":scissors:":"2702",":white_check_mark:":"2705",":airplane:":"2708",":email:":"2709",":envelope:":"2709",":black_nib:":"2712",":heavy_check_mark:":"2714",":heavy_multiplication_x:":"2716",":star_of_david:":"2721",":sparkles:":"2728",":eight_spoked_asterisk:":"2733",":eight_pointed_black_star:":"2734",":snowflake:":"2744",":sparkle:":"2747",":question:":"2753",":grey_question:":"2754",":grey_exclamation:":"2755",":exclamation:":"2757",":heavy_exclamation_mark:":"2757",":heavy_heart_exclamation_mark_ornament:":"2763",":heart:":"2764",":heavy_plus_sign:":"2795",":heavy_minus_sign:":"2796",":heavy_division_sign:":"2797",":arrow_heading_up:":"2934",":arrow_heading_down:":"2935",":wavy_dash:":"3030",":congratulations:":"3297",":secret:":"3299",":copyright:":"00a9",":registered:":"00ae",":bangbang:":"203c",":leftwards_arrow_with_hook:":"21a9",":arrow_right_hook:":"21aa",":watch:":"231a",":hourglass:":"231b",":eject:":"23cf",":fast_forward:":"23e9",":rewind:":"23ea",":arrow_double_up:":"23eb",":arrow_double_down:":"23ec",":black_right_pointing_double_triangle_with_vertical_bar:":"23ed",":black_left_pointing_double_triangle_with_vertical_bar:":"23ee",":black_right_pointing_triangle_with_double_vertical_bar:":"23ef",":alarm_clock:":"23f0",":stopwatch:":"23f1",":timer_clock:":"23f2",":hourglass_flowing_sand:":"23f3",":double_vertical_bar:":"23f8",":black_square_for_stop:":"23f9",":black_circle_for_record:":"23fa",":m:":"24c2",":black_small_square:":"25aa",":white_small_square:":"25ab",":arrow_forward:":"25b6",":arrow_backward:":"25c0",":white_medium_square:":"25fb",":black_medium_square:":"25fc",":white_medium_small_square:":"25fd",":black_medium_small_square:":"25fe",":phone:":"260e",":telephone:":"260e",":point_up:":"261d",":star_and_crescent:":"262a",":peace_symbol:":"262e",":yin_yang:":"262f",":relaxed:":"263a",":gemini:":"264a",":cancer:":"264b",":leo:":"264c",":virgo:":"264d",":libra:":"264e",":scorpius:":"264f",":recycle:":"267b",":wheelchair:":"267f",":atom_symbol:":"269b",":fleur_de_lis:":"269c",":warning:":"26a0",":zap:":"26a1",":white_circle:":"26aa",":black_circle:":"26ab",":coffin:":"26b0",":funeral_urn:":"26b1",":soccer:":"26bd",":baseball:":"26be",":snowman_without_snow:":"26c4",":partly_sunny:":"26c5",":thunder_cloud_and_rain:":"26c8",":ophiuchus:":"26ce",":pick:":"26cf",":helmet_with_white_cross:":"26d1",":chains:":"26d3",":no_entry:":"26d4",":shinto_shrine:":"26e9",":church:":"26ea",":mountain:":"26f0",":umbrella_on_ground:":"26f1",":fountain:":"26f2",":golf:":"26f3",":ferry:":"26f4",":boat:":"26f5",":sailboat:":"26f5",":skier:":"26f7",":ice_skate:":"26f8",":person_with_ball:":"26f9",":tent:":"26fa",":fuelpump:":"26fd",":fist:":"270a",":hand:":"270b",":raised_hand:":"270b",":v:":"270c",":writing_hand:":"270d",":pencil2:":"270f",":latin_cross:":"271d",":x:":"274c",":negative_squared_cross_mark:":"274e",":arrow_right:":"27a1",":curly_loop:":"27b0",":loop:":"27bf",":arrow_left:":"2b05",":arrow_up:":"2b06",":arrow_down:":"2b07",":black_large_square:":"2b1b",":white_large_square:":"2b1c",":star:":"2b50",":o:":"2b55",":part_alternation_mark:":"303d",":mahjong:":"1f004",":black_joker:":"1f0cf",":a:":"1f170",":b:":"1f171",":o2:":"1f17e",":parking:":"1f17f",":ab:":"1f18e",":cl:":"1f191",":cool:":"1f192",":free:":"1f193",":id:":"1f194",":new:":"1f195",":ng:":"1f196",":ok:":"1f197",":sos:":"1f198",":up:":"1f199",":vs:":"1f19a",":koko:":"1f201",":sa:":"1f202",":u7121:":"1f21a",":u6307:":"1f22f",":u7981:":"1f232",":u7a7a:":"1f233",":u5408:":"1f234",":u6e80:":"1f235",":u6709:":"1f236",":u6708:":"1f237",":u7533:":"1f238",":u5272:":"1f239",":u55b6:":"1f23a",":ideograph_advantage:":"1f250",":accept:":"1f251",":cyclone:":"1f300",":foggy:":"1f301",":closed_umbrella:":"1f302",":night_with_stars:":"1f303",":sunrise_over_mountains:":"1f304",":sunrise:":"1f305",":city_sunset:":"1f306",":city_sunrise:":"1f307",":rainbow:":"1f308",":bridge_at_night:":"1f309",":ocean:":"1f30a",":volcano:":"1f30b",":milky_way:":"1f30c",":earth_africa:":"1f30d",":earth_americas:":"1f30e",":earth_asia:":"1f30f",":globe_with_meridians:":"1f310",":new_moon:":"1f311",":waxing_crescent_moon:":"1f312",":first_quarter_moon:":"1f313",":moon:":"1f314",":waxing_gibbous_moon:":"1f314",":full_moon:":"1f315",":waning_gibbous_moon:":"1f316",":last_quarter_moon:":"1f317",":waning_crescent_moon:":"1f318",":crescent_moon:":"1f319",":new_moon_with_face:":"1f31a",":first_quarter_moon_with_face:":"1f31b",":last_quarter_moon_with_face:":"1f31c",":full_moon_with_face:":"1f31d",":sun_with_face:":"1f31e",":star2:":"1f31f",":stars:":"1f320",":thermometer:":"1f321",":mostly_sunny:":"1f324",":sun_small_cloud:":"1f324",":barely_sunny:":"1f325",":sun_behind_cloud:":"1f325",":partly_sunny_rain:":"1f326",":sun_behind_rain_cloud:":"1f326",":rain_cloud:":"1f327",":snow_cloud:":"1f328",":lightning:":"1f329",":lightning_cloud:":"1f329",":tornado:":"1f32a",":tornado_cloud:":"1f32a",":fog:":"1f32b",":wind_blowing_face:":"1f32c",":hotdog:":"1f32d",":taco:":"1f32e",":burrito:":"1f32f",":chestnut:":"1f330",":seedling:":"1f331",":evergreen_tree:":"1f332",":deciduous_tree:":"1f333",":palm_tree:":"1f334",":cactus:":"1f335",":hot_pepper:":"1f336",":tulip:":"1f337",":cherry_blossom:":"1f338",":rose:":"1f339",":hibiscus:":"1f33a",":sunflower:":"1f33b",":blossom:":"1f33c",":corn:":"1f33d",":ear_of_rice:":"1f33e",":herb:":"1f33f",":four_leaf_clover:":"1f340",":maple_leaf:":"1f341",":fallen_leaf:":"1f342",":leaves:":"1f343",":mushroom:":"1f344",":tomato:":"1f345",":eggplant:":"1f346",":grapes:":"1f347",":melon:":"1f348",":watermelon:":"1f349",":tangerine:":"1f34a",":lemon:":"1f34b",":banana:":"1f34c",":pineapple:":"1f34d",":apple:":"1f34e",":green_apple:":"1f34f",":pear:":"1f350",":peach:":"1f351",":cherries:":"1f352",":strawberry:":"1f353",":hamburger:":"1f354",":pizza:":"1f355",":meat_on_bone:":"1f356",":poultry_leg:":"1f357",":rice_cracker:":"1f358",":rice_ball:":"1f359",":rice:":"1f35a",":curry:":"1f35b",":ramen:":"1f35c",":spaghetti:":"1f35d",":bread:":"1f35e",":fries:":"1f35f",":sweet_potato:":"1f360",":dango:":"1f361",":oden:":"1f362",":sushi:":"1f363",":fried_shrimp:":"1f364",":fish_cake:":"1f365",":icecream:":"1f366",":shaved_ice:":"1f367",":ice_cream:":"1f368",":doughnut:":"1f369",":cookie:":"1f36a",":chocolate_bar:":"1f36b",":candy:":"1f36c",":lollipop:":"1f36d",":custard:":"1f36e",":honey_pot:":"1f36f",":cake:":"1f370",":bento:":"1f371",":stew:":"1f372",":egg:":"1f373",":fork_and_knife:":"1f374",":tea:":"1f375",":sake:":"1f376",":wine_glass:":"1f377",":cocktail:":"1f378",":tropical_drink:":"1f379",":beer:":"1f37a",":beers:":"1f37b",":baby_bottle:":"1f37c",":knife_fork_plate:":"1f37d",":champagne:":"1f37e",":popcorn:":"1f37f",":ribbon:":"1f380",":gift:":"1f381",":birthday:":"1f382",":jack_o_lantern:":"1f383",":christmas_tree:":"1f384",":santa:":"1f385",":fireworks:":"1f386",":sparkler:":"1f387",":balloon:":"1f388",":tada:":"1f389",":confetti_ball:":"1f38a",":tanabata_tree:":"1f38b",":crossed_flags:":"1f38c",":bamboo:":"1f38d",":dolls:":"1f38e",":flags:":"1f38f",":wind_chime:":"1f390",":rice_scene:":"1f391",":school_satchel:":"1f392",":mortar_board:":"1f393",":medal:":"1f396",":reminder_ribbon:":"1f397",":studio_microphone:":"1f399",":level_slider:":"1f39a",":control_knobs:":"1f39b",":film_frames:":"1f39e",":admission_tickets:":"1f39f",":carousel_horse:":"1f3a0",":ferris_wheel:":"1f3a1",":roller_coaster:":"1f3a2",":fishing_pole_and_fish:":"1f3a3",":microphone:":"1f3a4",":movie_camera:":"1f3a5",":cinema:":"1f3a6",":headphones:":"1f3a7",":art:":"1f3a8",":tophat:":"1f3a9",":circus_tent:":"1f3aa",":ticket:":"1f3ab",":clapper:":"1f3ac",":performing_arts:":"1f3ad",":video_game:":"1f3ae",":dart:":"1f3af",":slot_machine:":"1f3b0",":8ball:":"1f3b1",":game_die:":"1f3b2",":bowling:":"1f3b3",":flower_playing_cards:":"1f3b4",":musical_note:":"1f3b5",":notes:":"1f3b6",":saxophone:":"1f3b7",":guitar:":"1f3b8",":musical_keyboard:":"1f3b9",":trumpet:":"1f3ba",":violin:":"1f3bb",":musical_score:":"1f3bc",":running_shirt_with_sash:":"1f3bd",":tennis:":"1f3be",":ski:":"1f3bf",":basketball:":"1f3c0",":checkered_flag:":"1f3c1",":snowboarder:":"1f3c2",":runner:":"1f3c3",":running:":"1f3c3",":surfer:":"1f3c4",":sports_medal:":"1f3c5",":trophy:":"1f3c6",":horse_racing:":"1f3c7",":football:":"1f3c8",":rugby_football:":"1f3c9",":swimmer:":"1f3ca",":weight_lifter:":"1f3cb",":golfer:":"1f3cc",":racing_motorcycle:":"1f3cd",":racing_car:":"1f3ce",":cricket_bat_and_ball:":"1f3cf",":volleyball:":"1f3d0",":field_hockey_stick_and_ball:":"1f3d1",":ice_hockey_stick_and_puck:":"1f3d2",":table_tennis_paddle_and_ball:":"1f3d3",":snow_capped_mountain:":"1f3d4",":camping:":"1f3d5",":beach_with_umbrella:":"1f3d6",":building_construction:":"1f3d7",":house_buildings:":"1f3d8",":cityscape:":"1f3d9",":derelict_house_building:":"1f3da",":classical_building:":"1f3db",":desert:":"1f3dc",":desert_island:":"1f3dd",":national_park:":"1f3de",":stadium:":"1f3df",":house:":"1f3e0",":house_with_garden:":"1f3e1",":office:":"1f3e2",":post_office:":"1f3e3",":european_post_office:":"1f3e4",":hospital:":"1f3e5",":bank:":"1f3e6",":atm:":"1f3e7",":hotel:":"1f3e8",":love_hotel:":"1f3e9",":convenience_store:":"1f3ea",":school:":"1f3eb",":department_store:":"1f3ec",":factory:":"1f3ed",":izakaya_lantern:":"1f3ee",":lantern:":"1f3ee",":japanese_castle:":"1f3ef",":european_castle:":"1f3f0",":waving_white_flag:":"1f3f3",":waving_black_flag:":"1f3f4",":rosette:":"1f3f5",":label:":"1f3f7",":badminton_racquet_and_shuttlecock:":"1f3f8",":bow_and_arrow:":"1f3f9",":amphora:":"1f3fa",":skin-tone-2:":"1f3fb",":skin-tone-3:":"1f3fc",":skin-tone-4:":"1f3fd",":skin-tone-5:":"1f3fe",":skin-tone-6:":"1f3ff",":rat:":"1f400",":mouse2:":"1f401",":ox:":"1f402",":water_buffalo:":"1f403",":cow2:":"1f404",":tiger2:":"1f405",":leopard:":"1f406",":rabbit2:":"1f407",":cat2:":"1f408",":dragon:":"1f409",":crocodile:":"1f40a",":whale2:":"1f40b",":snail:":"1f40c",":snake:":"1f40d",":racehorse:":"1f40e",":ram:":"1f40f",":goat:":"1f410",":sheep:":"1f411",":monkey:":"1f412",":rooster:":"1f413",":chicken:":"1f414",":dog2:":"1f415",":pig2:":"1f416",":boar:":"1f417",":elephant:":"1f418",":octopus:":"1f419",":shell:":"1f41a",":bug:":"1f41b",":ant:":"1f41c",":bee:":"1f41d",":honeybee:":"1f41d",":beetle:":"1f41e",":fish:":"1f41f",":tropical_fish:":"1f420",":blowfish:":"1f421",":turtle:":"1f422",":hatching_chick:":"1f423",":baby_chick:":"1f424",":hatched_chick:":"1f425",":bird:":"1f426",":penguin:":"1f427",":koala:":"1f428",":poodle:":"1f429",":dromedary_camel:":"1f42a",":camel:":"1f42b",":dolphin:":"1f42c",":flipper:":"1f42c",":mouse:":"1f42d",":cow:":"1f42e",":tiger:":"1f42f",":rabbit:":"1f430",":cat:":"1f431",":dragon_face:":"1f432",":whale:":"1f433",":horse:":"1f434",":monkey_face:":"1f435",":dog:":"1f436",":pig:":"1f437",":frog:":"1f438",":hamster:":"1f439",":wolf:":"1f43a",":bear:":"1f43b",":panda_face:":"1f43c",":pig_nose:":"1f43d",":feet:":"1f43e",":paw_prints:":"1f43e",":chipmunk:":"1f43f",":eyes:":"1f440",":eye:":"1f441",":ear:":"1f442",":nose:":"1f443",":lips:":"1f444",":tongue:":"1f445",":point_up_2:":"1f446",":point_down:":"1f447",":point_left:":"1f448",":point_right:":"1f449",":facepunch:":"1f44a",":punch:":"1f44a",":wave:":"1f44b",":ok_hand:":"1f44c",":+1:":"1f44d",":thumbsup:":"1f44d",":-1:":"1f44e",":thumbsdown:":"1f44e",":clap:":"1f44f",":open_hands:":"1f450",":crown:":"1f451",":womans_hat:":"1f452",":eyeglasses:":"1f453",":necktie:":"1f454",":shirt:":"1f455",":tshirt:":"1f455",":jeans:":"1f456",":dress:":"1f457",":kimono:":"1f458",":bikini:":"1f459",":womans_clothes:":"1f45a",":purse:":"1f45b",":handbag:":"1f45c",":pouch:":"1f45d",":mans_shoe:":"1f45e",":shoe:":"1f45e",":athletic_shoe:":"1f45f",":high_heel:":"1f460",":sandal:":"1f461",":boot:":"1f462",":footprints:":"1f463",":bust_in_silhouette:":"1f464",":busts_in_silhouette:":"1f465",":boy:":"1f466",":girl:":"1f467",":man:":"1f468",":woman:":"1f469",":family:":"1f46a",":man-woman-boy:":"1f46a",":couple:":"1f46b",":man_and_woman_holding_hands:":"1f46b",":two_men_holding_hands:":"1f46c",":two_women_holding_hands:":"1f46d",":cop:":"1f46e",":dancers:":"1f46f",":bride_with_veil:":"1f470",":person_with_blond_hair:":"1f471",":man_with_gua_pi_mao:":"1f472",":man_with_turban:":"1f473",":older_man:":"1f474",":older_woman:":"1f475",":baby:":"1f476",":construction_worker:":"1f477",":princess:":"1f478",":japanese_ogre:":"1f479",":japanese_goblin:":"1f47a",":ghost:":"1f47b",":angel:":"1f47c",":alien:":"1f47d",":space_invader:":"1f47e",":imp:":"1f47f",":skull:":"1f480",":information_desk_person:":"1f481",":guardsman:":"1f482",":dancer:":"1f483",":lipstick:":"1f484",":nail_care:":"1f485",":massage:":"1f486",":haircut:":"1f487",":barber:":"1f488",":syringe:":"1f489",":pill:":"1f48a",":kiss:":"1f48b",":love_letter:":"1f48c",":ring:":"1f48d",":gem:":"1f48e",":couplekiss:":"1f48f",":bouquet:":"1f490",":couple_with_heart:":"1f491",":wedding:":"1f492",":heartbeat:":"1f493",":broken_heart:":"1f494",":two_hearts:":"1f495",":sparkling_heart:":"1f496",":heartpulse:":"1f497",":cupid:":"1f498",":blue_heart:":"1f499",":green_heart:":"1f49a",":yellow_heart:":"1f49b",":purple_heart:":"1f49c",":gift_heart:":"1f49d",":revolving_hearts:":"1f49e",":heart_decoration:":"1f49f",":diamond_shape_with_a_dot_inside:":"1f4a0",":bulb:":"1f4a1",":anger:":"1f4a2",":bomb:":"1f4a3",":zzz:":"1f4a4",":boom:":"1f4a5",":collision:":"1f4a5",":sweat_drops:":"1f4a6",":droplet:":"1f4a7",":dash:":"1f4a8",":hankey:":"1f4a9",":poop:":"1f4a9",":shit:":"1f4a9",":muscle:":"1f4aa",":dizzy:":"1f4ab",":speech_balloon:":"1f4ac",":thought_balloon:":"1f4ad",":white_flower:":"1f4ae",":moneybag:":"1f4b0",":currency_exchange:":"1f4b1",":heavy_dollar_sign:":"1f4b2",":credit_card:":"1f4b3",":yen:":"1f4b4",":dollar:":"1f4b5",":euro:":"1f4b6",":pound:":"1f4b7",":money_with_wings:":"1f4b8",":chart:":"1f4b9",":seat:":"1f4ba",":computer:":"1f4bb",":briefcase:":"1f4bc",":minidisc:":"1f4bd",":floppy_disk:":"1f4be",":cd:":"1f4bf",":dvd:":"1f4c0",":file_folder:":"1f4c1",":open_file_folder:":"1f4c2",":page_with_curl:":"1f4c3",":page_facing_up:":"1f4c4",":date:":"1f4c5",":calendar:":"1f4c6",":card_index:":"1f4c7",":chart_with_upwards_trend:":"1f4c8",":chart_with_downwards_trend:":"1f4c9",":bar_chart:":"1f4ca",":clipboard:":"1f4cb",":pushpin:":"1f4cc",":round_pushpin:":"1f4cd",":paperclip:":"1f4ce",":straight_ruler:":"1f4cf",":triangular_ruler:":"1f4d0",":bookmark_tabs:":"1f4d1",":ledger:":"1f4d2",":notebook:":"1f4d3",":notebook_with_decorative_cover:":"1f4d4",":closed_book:":"1f4d5",":book:":"1f4d6",":open_book:":"1f4d6",":green_book:":"1f4d7",":blue_book:":"1f4d8",":orange_book:":"1f4d9",":books:":"1f4da",":name_badge:":"1f4db",":scroll:":"1f4dc",":memo:":"1f4dd",":pencil:":"1f4dd",":telephone_receiver:":"1f4de",":pager:":"1f4df",":fax:":"1f4e0",":satellite_antenna:":"1f4e1",":loudspeaker:":"1f4e2",":mega:":"1f4e3",":outbox_tray:":"1f4e4",":inbox_tray:":"1f4e5",":package:":"1f4e6",":e-mail:":"1f4e7",":incoming_envelope:":"1f4e8",":envelope_with_arrow:":"1f4e9",":mailbox_closed:":"1f4ea",":mailbox:":"1f4eb",":mailbox_with_mail:":"1f4ec",":mailbox_with_no_mail:":"1f4ed",":postbox:":"1f4ee",":postal_horn:":"1f4ef",":newspaper:":"1f4f0",":iphone:":"1f4f1",":calling:":"1f4f2",":vibration_mode:":"1f4f3",":mobile_phone_off:":"1f4f4",":no_mobile_phones:":"1f4f5",":signal_strength:":"1f4f6",":camera:":"1f4f7",":camera_with_flash:":"1f4f8",":video_camera:":"1f4f9",":tv:":"1f4fa",":radio:":"1f4fb",":vhs:":"1f4fc",":film_projector:":"1f4fd",":prayer_beads:":"1f4ff",":twisted_rightwards_arrows:":"1f500",":repeat:":"1f501",":repeat_one:":"1f502",":arrows_clockwise:":"1f503",":arrows_counterclockwise:":"1f504",":low_brightness:":"1f505",":high_brightness:":"1f506",":mute:":"1f507",":speaker:":"1f508",":sound:":"1f509",":loud_sound:":"1f50a",":battery:":"1f50b",":electric_plug:":"1f50c",":mag:":"1f50d",":mag_right:":"1f50e",":lock_with_ink_pen:":"1f50f",":closed_lock_with_key:":"1f510",":key:":"1f511",":lock:":"1f512",":unlock:":"1f513",":bell:":"1f514",":no_bell:":"1f515",":bookmark:":"1f516",":link:":"1f517",":radio_button:":"1f518",":back:":"1f519",":end:":"1f51a",":on:":"1f51b",":soon:":"1f51c",":top:":"1f51d",":underage:":"1f51e",":keycap_ten:":"1f51f",":capital_abcd:":"1f520",":abcd:":"1f521",":symbols:":"1f523",":abc:":"1f524",":fire:":"1f525",":flashlight:":"1f526",":wrench:":"1f527",":hammer:":"1f528",":nut_and_bolt:":"1f529",":hocho:":"1f52a",":knife:":"1f52a",":gun:":"1f52b",":microscope:":"1f52c",":telescope:":"1f52d",":crystal_ball:":"1f52e",":six_pointed_star:":"1f52f",":beginner:":"1f530",":trident:":"1f531",":black_square_button:":"1f532",":white_square_button:":"1f533",":red_circle:":"1f534",":large_blue_circle:":"1f535",":large_orange_diamond:":"1f536",":large_blue_diamond:":"1f537",":small_orange_diamond:":"1f538",":small_blue_diamond:":"1f539",":small_red_triangle:":"1f53a",":small_red_triangle_down:":"1f53b",":arrow_up_small:":"1f53c",":arrow_down_small:":"1f53d",":om_symbol:":"1f549",":dove_of_peace:":"1f54a",":kaaba:":"1f54b",":mosque:":"1f54c",":synagogue:":"1f54d",":menorah_with_nine_branches:":"1f54e",":clock1:":"1f550",":clock2:":"1f551",":clock3:":"1f552",":clock4:":"1f553",":clock5:":"1f554",":clock6:":"1f555",":clock7:":"1f556",":clock8:":"1f557",":clock9:":"1f558",":clock10:":"1f559",":clock11:":"1f55a",":clock12:":"1f55b",":clock130:":"1f55c",":clock230:":"1f55d",":clock330:":"1f55e",":clock430:":"1f55f",":clock530:":"1f560",":clock630:":"1f561",":clock730:":"1f562",":clock830:":"1f563",":clock930:":"1f564",":clock1030:":"1f565",":clock1130:":"1f566",":clock1230:":"1f567",":candle:":"1f56f",":mantelpiece_clock:":"1f570",":hole:":"1f573",":man_in_business_suit_levitating:":"1f574",":sleuth_or_spy:":"1f575",":dark_sunglasses:":"1f576",":spider:":"1f577",":spider_web:":"1f578",":joystick:":"1f579",":linked_paperclips:":"1f587",":lower_left_ballpoint_pen:":"1f58a",":lower_left_fountain_pen:":"1f58b",":lower_left_paintbrush:":"1f58c",":lower_left_crayon:":"1f58d",":raised_hand_with_fingers_splayed:":"1f590",":middle_finger:":"1f595",":reversed_hand_with_middle_finger_extended:":"1f595",":spock-hand:":"1f596",":desktop_computer:":"1f5a5",":printer:":"1f5a8",":three_button_mouse:":"1f5b1",":trackball:":"1f5b2",":frame_with_picture:":"1f5bc",":card_index_dividers:":"1f5c2",":card_file_box:":"1f5c3",":file_cabinet:":"1f5c4",":wastebasket:":"1f5d1",":spiral_note_pad:":"1f5d2",":spiral_calendar_pad:":"1f5d3",":compression:":"1f5dc",":old_key:":"1f5dd",":rolled_up_newspaper:":"1f5de",":dagger_knife:":"1f5e1",":speaking_head_in_silhouette:":"1f5e3",":left_speech_bubble:":"1f5e8",":right_anger_bubble:":"1f5ef",":ballot_box_with_ballot:":"1f5f3",":world_map:":"1f5fa",":mount_fuji:":"1f5fb",":tokyo_tower:":"1f5fc",":statue_of_liberty:":"1f5fd",":japan:":"1f5fe",":moyai:":"1f5ff",":grinning:":"1f600",":grin:":"1f601",":joy:":"1f602",":smiley:":"1f603",":smile:":"1f604",":sweat_smile:":"1f605",":laughing:":"1f606",":satisfied:":"1f606",":innocent:":"1f607",":smiling_imp:":"1f608",":wink:":"1f609",":blush:":"1f60a",":yum:":"1f60b",":relieved:":"1f60c",":heart_eyes:":"1f60d",":sunglasses:":"1f60e",":smirk:":"1f60f",":neutral_face:":"1f610",":expressionless:":"1f611",":unamused:":"1f612",":sweat:":"1f613",":pensive:":"1f614",":confused:":"1f615",":confounded:":"1f616",":kissing:":"1f617",":kissing_heart:":"1f618",":kissing_smiling_eyes:":"1f619",":kissing_closed_eyes:":"1f61a",":stuck_out_tongue:":"1f61b",":stuck_out_tongue_winking_eye:":"1f61c",":stuck_out_tongue_closed_eyes:":"1f61d",":disappointed:":"1f61e",":worried:":"1f61f",":angry:":"1f620",":rage:":"1f621",":cry:":"1f622",":persevere:":"1f623",":triumph:":"1f624",":disappointed_relieved:":"1f625",":frowning:":"1f626",":anguished:":"1f627",":fearful:":"1f628",":weary:":"1f629",":sleepy:":"1f62a",":tired_face:":"1f62b",":grimacing:":"1f62c",":sob:":"1f62d",":open_mouth:":"1f62e",":hushed:":"1f62f",":cold_sweat:":"1f630",":scream:":"1f631",":astonished:":"1f632",":flushed:":"1f633",":sleeping:":"1f634",":dizzy_face:":"1f635",":no_mouth:":"1f636",":mask:":"1f637",":smile_cat:":"1f638",":joy_cat:":"1f639",":smiley_cat:":"1f63a",":heart_eyes_cat:":"1f63b",":smirk_cat:":"1f63c",":kissing_cat:":"1f63d",":pouting_cat:":"1f63e",":crying_cat_face:":"1f63f",":scream_cat:":"1f640",":slightly_frowning_face:":"1f641",":slightly_smiling_face:":"1f642",":upside_down_face:":"1f643",":face_with_rolling_eyes:":"1f644",":no_good:":"1f645",":ok_woman:":"1f646",":bow:":"1f647",":see_no_evil:":"1f648",":hear_no_evil:":"1f649",":speak_no_evil:":"1f64a",":raising_hand:":"1f64b",":raised_hands:":"1f64c",":person_frowning:":"1f64d",":person_with_pouting_face:":"1f64e",":pray:":"1f64f",":rocket:":"1f680",":helicopter:":"1f681",":steam_locomotive:":"1f682",":railway_car:":"1f683",":bullettrain_side:":"1f684",":bullettrain_front:":"1f685",":train2:":"1f686",":metro:":"1f687",":light_rail:":"1f688",":station:":"1f689",":tram:":"1f68a",":train:":"1f68b",":bus:":"1f68c",":oncoming_bus:":"1f68d",":trolleybus:":"1f68e",":busstop:":"1f68f",":minibus:":"1f690",":ambulance:":"1f691",":fire_engine:":"1f692",":police_car:":"1f693",":oncoming_police_car:":"1f694",":taxi:":"1f695",":oncoming_taxi:":"1f696",":car:":"1f697",":red_car:":"1f697",":oncoming_automobile:":"1f698",":blue_car:":"1f699",":truck:":"1f69a",":articulated_lorry:":"1f69b",":tractor:":"1f69c",":monorail:":"1f69d",":mountain_railway:":"1f69e",":suspension_railway:":"1f69f",":mountain_cableway:":"1f6a0",":aerial_tramway:":"1f6a1",":ship:":"1f6a2",":rowboat:":"1f6a3",":speedboat:":"1f6a4",":traffic_light:":"1f6a5",":vertical_traffic_light:":"1f6a6",":construction:":"1f6a7",":rotating_light:":"1f6a8",":triangular_flag_on_post:":"1f6a9",":door:":"1f6aa",":no_entry_sign:":"1f6ab",":smoking:":"1f6ac",":no_smoking:":"1f6ad",":put_litter_in_its_place:":"1f6ae",":do_not_litter:":"1f6af",":potable_water:":"1f6b0",":non-potable_water:":"1f6b1",":bike:":"1f6b2",":no_bicycles:":"1f6b3",":bicyclist:":"1f6b4",":mountain_bicyclist:":"1f6b5",":walking:":"1f6b6",":no_pedestrians:":"1f6b7",":children_crossing:":"1f6b8",":mens:":"1f6b9",":womens:":"1f6ba",":restroom:":"1f6bb",":baby_symbol:":"1f6bc",":toilet:":"1f6bd",":wc:":"1f6be",":shower:":"1f6bf",":bath:":"1f6c0",":bathtub:":"1f6c1",":passport_control:":"1f6c2",":customs:":"1f6c3",":baggage_claim:":"1f6c4",":left_luggage:":"1f6c5",":couch_and_lamp:":"1f6cb",":sleeping_accommodation:":"1f6cc",":shopping_bags:":"1f6cd",":bellhop_bell:":"1f6ce",":bed:":"1f6cf",":place_of_worship:":"1f6d0",":hammer_and_wrench:":"1f6e0",":shield:":"1f6e1",":oil_drum:":"1f6e2",":motorway:":"1f6e3",":railway_track:":"1f6e4",":motor_boat:":"1f6e5",":small_airplane:":"1f6e9",":airplane_departure:":"1f6eb",":airplane_arriving:":"1f6ec",":satellite:":"1f6f0",":passenger_ship:":"1f6f3",":zipper_mouth_face:":"1f910",":money_mouth_face:":"1f911",":face_with_thermometer:":"1f912",":nerd_face:":"1f913",":thinking_face:":"1f914",":face_with_head_bandage:":"1f915",":robot_face:":"1f916",":hugging_face:":"1f917",":the_horns:":"1f918",":sign_of_the_horns:":"1f918",":crab:":"1f980",":lion_face:":"1f981",":scorpion:":"1f982",":turkey:":"1f983",":unicorn_face:":"1f984",":cheese_wedge:":"1f9c0",":hash:":"0023-20e3",":keycap_star:":"002a-20e3",":zero:":"0030-20e3",":one:":"0031-20e3",":two:":"0032-20e3",":three:":"0033-20e3",":four:":"0034-20e3",":five:":"0035-20e3",":six:":"0036-20e3",":seven:":"0037-20e3",":eight:":"0038-20e3",":nine:":"0039-20e3",":man-man-boy:":"1f468-200d-1f468-200d-1f466",":man-man-boy-boy:":"1f468-200d-1f468-200d-1f466-200d-1f466",":man-man-girl:":"1f468-200d-1f468-200d-1f467",":man-man-girl-boy:":"1f468-200d-1f468-200d-1f467-200d-1f466",":man-man-girl-girl:":"1f468-200d-1f468-200d-1f467-200d-1f467",":man-woman-boy-boy:":"1f468-200d-1f469-200d-1f466-200d-1f466",":man-woman-girl:":"1f468-200d-1f469-200d-1f467",":man-woman-girl-boy:":"1f468-200d-1f469-200d-1f467-200d-1f466",":man-woman-girl-girl:":"1f468-200d-1f469-200d-1f467-200d-1f467",":man-heart-man:":"1f468-200d-2764-fe0f-200d-1f468",":man-kiss-man:":"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",":woman-woman-boy:":"1f469-200d-1f469-200d-1f466",":woman-woman-boy-boy:":"1f469-200d-1f469-200d-1f466-200d-1f466",":woman-woman-girl:":"1f469-200d-1f469-200d-1f467",":woman-woman-girl-boy:":"1f469-200d-1f469-200d-1f467-200d-1f466",":woman-woman-girl-girl:":"1f469-200d-1f469-200d-1f467-200d-1f467",":woman-heart-woman:":"1f469-200d-2764-fe0f-200d-1f469",":woman-kiss-woman:":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"};t.No=function(e){var t=e&&e.split(" "),n=[];return t&&t.forEach((function(e){var t=e;e in r&&(t=r[e]),n.push(t)})),n.join(" ")};var a=function(e,t){return Object.keys(e).filter((function(e){return e.startsWith(t)}))};var i=function(e){return String.fromCodePoint(parseInt(e,16))}},38421:(e,t,n)=>{var r=n(35997),o=n(95265),a=[n(77056)];e.exports=r.createStore(o,a)},77056:(e,t,n)=>{e.exports=function(){return n(47533),{}}},47533:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__(59039);__webpack_require__(5735),__webpack_require__(83710),__webpack_require__(9653),__webpack_require__(74916),__webpack_require__(77601),__webpack_require__(15306),__webpack_require__(47042),__webpack_require__(96647),__webpack_require__(41539),__webpack_require__(39714),__webpack_require__(83753),__webpack_require__(69600),__webpack_require__(57658),__webpack_require__(38862),__webpack_require__(21703),"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,a,i,s=gap,u=t[e];switch(u&&"object"===_typeof(u)&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),_typeof(u)){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)i[n]=str(n,u)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,o}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],u))&&i.push(quote(r)+(gap?": ":":")+o);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(o=str(r,u))&&i.push(quote(r)+(gap?": ":":")+o);return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"===_typeof(o))for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},35997:(e,t,n)=>{n(47042),n(24812),n(74916),n(15306),n(24603),n(28450),n(88386),n(39714),n(77601),n(21703),n(96647),n(92222),n(38862),n(57658),n(68309);var r=n(27782),o=r.slice,a=r.pluck,i=r.each,s=r.bind,u=r.create,c=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:p};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return p.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return p(this.storage,this.plugins,e)}};function p(e,t,n){n||(n=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",p=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:r,_namespaceRegexp:p,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(r){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=o(arguments,0),r=this;function a(){if(n)return i(arguments,(function(e,n){t[n]=e})),n.apply(r,t)}var s=[a].concat(t);return e.apply(r,s)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(r){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))i(e,(function(e){t._addPlugin(e)}));else if(!a(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");i(n,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=u(h,d,{plugins:[]});return m.raw={},i(m,(function(e,t){l(e)&&(m.raw[t]=s(m,e))})),i(e,(function(e){m._addStorage(e)})),i(t,(function(e){m._addPlugin(e)})),m}},27782:(e,t,n)=>{n(19601),n(78011),n(92222),n(73210),n(74916),n(15306),n(47042),n(41539);var r=Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)u(Object(arguments[o]),(function(t,n){e[n]=t}));return e},o=function(){if(Object.create)return function(e,t,n,o){var a=s(arguments,1);return r.apply(this,[Object.create(e)].concat(a))};var e=function(){};return function(t,n,o,a){var i=s(arguments,1);return e.prototype=t,r.apply(this,[new e].concat(i))}}(),a=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i="undefined"!=typeof window?window:n.g;function s(e,t){return Array.prototype.slice.call(e,t||0)}function u(e,t){c(e,(function(e,n){return t(e,n),!1}))}function c(e,t){if(l(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function l(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:r,create:o,trim:a,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:s,each:u,map:function(e,t){var n=l(e)?[]:{};return c(e,(function(e,r){return n[r]=t(e,r),!1})),n},pluck:c,isList:l,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:i}},95265:(e,t,n)=>{e.exports=[n(38586),n(29344),n(80074),n(24530),n(67372),n(86171)]},24530:(e,t,n)=>{n(73210),n(74916),n(15306),n(62130),n(78221),n(24603),n(28450),n(88386),n(39714),n(23123),n(77601);var r=n(27782),o=r.Global,a=r.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(i.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;i.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s((function(e,t){u(t)}))}};var i=o.document;function s(e){for(var t=i.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(a(t[n])){var r=t[n].split("="),o=unescape(r[0]);e(unescape(r[1]),o)}}function u(e){e&&c(e)&&(i.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(i.cookie)}},38586:(e,t,n)=>{var r=n(27782).Global;function o(){return r.localStorage}function a(e){return o().getItem(e)}e.exports={name:"localStorage",read:a,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(a(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},86171:e=>{e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(e){t={}}};var t={}},29344:(e,t,n)=>{var r=n(27782).Global;e.exports={name:"oldFF-globalStorage",read:function(e){return o[e]},write:function(e,t){o[e]=t},each:a,remove:function(e){return o.removeItem(e)},clearAll:function(){a((function(e,t){delete o[e]}))}};var o=r.globalStorage;function a(e){for(var t=o.length-1;t>=0;t--){var n=o.key(t);e(o[n],n)}}},80074:(e,t,n)=>{n(74916),n(4723),n(68309),n(24603),n(28450),n(88386),n(39714),n(15306),n(47042),n(30541);var r=n(27782).Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(s)return;var n=c(e);i((function(e){e.setAttribute(n,t),e.save(o)}))},read:function(e){if(s)return;var t=c(e),n=null;return i((function(e){n=e.getAttribute(t)})),n},each:function(e){i((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))},remove:function(e){var t=c(e);i((function(e){e.removeAttribute(t),e.save(o)}))},clearAll:function(){i((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(o)}))}};var o="storejs",a=r.document,i=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(r){n=a.createElement("div"),e=a.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(o),t.apply(this,r),e.removeChild(n)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(e){return e.replace(/^\d/,"___$&").replace(u,"___")}},67372:(e,t,n)=>{var r=n(27782).Global;function o(){return r.sessionStorage}function a(e){return o().getItem(e)}e.exports={name:"sessionStorage",read:a,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var n=o().key(t);e(a(n),n)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},30638:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=r(n(189)),a=n(84534);t.default=function(e,t){var n={};return e&&"string"==typeof e?((0,o.default)(e,(function(e,r){e&&r&&(n[(0,a.camelCase)(e,t)]=r)})),n):n}},84534:(e,t,n)=>{"use strict";n(74916),n(77601),n(15306),t.__esModule=!0,t.camelCase=void 0;var r=/^--[a-zA-Z0-9-]+$/,o=/-([a-z])/g,a=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||a.test(e)||r.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,c):e.replace(i,c)).replace(o,u))}},189:(e,t,n)=>{var r=n(74158);function o(e,t){var n,o=null;if(!e||"string"!=typeof e)return o;for(var a,i,s=r(e),u="function"==typeof t,c=0,l=s.length;c<l;c++)a=(n=s[c]).property,i=n.value,u?t(a,i,n):i&&(o||(o={}),o[a]=i);return o}e.exports=o,e.exports.default=o},56584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerStyleSheet:()=>Ve,StyleSheetConsumer:()=>se,StyleSheetContext:()=>ie,StyleSheetManager:()=>pe,ThemeConsumer:()=>Be,ThemeContext:()=>Me,ThemeProvider:()=>Ne,__PRIVATE__:()=>We,createGlobalStyle:()=>qe,css:()=>Ee,default:()=>Ke,isStyledComponent:()=>E,keyframes:()=>Ue,useTheme:()=>$e,version:()=>k,withTheme:()=>He});var r=n(20470),o=(n(19601),n(57658),n(96647),n(83710),n(41539),n(39714),n(43371),n(68309),n(89554),n(74916),n(15306),n(21703),n(69600),n(73210),n(92222),n(66992),n(39575),n(29135),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(51532),n(78783),n(33948),n(24603),n(28450),n(88386),n(4723),n(91058),n(40561),n(70189),n(54747),n(79753),n(82772),n(94986),n(85827),n(77601),n(57327),n(47941),n(69070),n(38862),n(5212),n(41636)),a=n(16341),i=n(61503),s=n.n(i);n(23123);const u=function(e){function t(e,r,o,c,l){for(var p,h,m,v,g,w=0,E=0,x=0,k=0,C=0,S=0,j=m=p=0,B=0,R=0,I=0,L=0,z=o.length,q=z-1,U="",V="",H="",$="";B<z;){if(h=o.charCodeAt(B),B===q&&0!==E+k+x+w&&(0!==E&&(h=47===E?10:47),k=x=w=0,z++,q++),0===E+k+x+w){if(B===q&&(0<R&&(U=U.replace(d,"")),0<U.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:U+=o.charAt(B)}h=59}switch(h){case 123:for(p=(U=U.trim()).charCodeAt(0),m=1,L=++B;B<z;){switch(h=o.charCodeAt(B)){case 123:m++;break;case 125:m--;break;case 47:switch(h=o.charCodeAt(B+1)){case 42:case 47:e:{for(j=B+1;j<q;++j)switch(o.charCodeAt(j)){case 47:if(42===h&&42===o.charCodeAt(j-1)&&B+2!==j){B=j+1;break e}break;case 10:if(47===h){B=j+1;break e}}B=j}}break;case 91:h++;case 40:h++;case 34:case 39:for(;B++<q&&o.charCodeAt(B)!==h;);}if(0===m)break;B++}if(m=o.substring(L,B),0===p&&(p=(U=U.replace(f,"").trim()).charCodeAt(0)),64===p){switch(0<R&&(U=U.replace(d,"")),h=U.charCodeAt(1)){case 100:case 109:case 115:case 45:R=r;break;default:R=P}if(L=(m=t(r,R,m,h,l+1)).length,0<M&&(g=u(3,m,R=n(P,U,I),r,O,F,L,h,l,c),U=R.join(""),void 0!==g&&0===(L=(m=g.trim()).length)&&(h=0,m="")),0<L)switch(h){case 115:U=U.replace(_,s);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(b,"$1 $2"))+"{"+m+"}",m=1===T||2===T&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===c&&(V+=m,m="")}else m=""}else m=t(r,n(r,U,I),m,c,l+1);H+=m,m=I=R=j=p=0,U="",h=o.charCodeAt(++B);break;case 125:case 59:if(1<(L=(U=(0<R?U.replace(d,""):U).trim()).length))switch(0===j&&(p=U.charCodeAt(0),45===p||96<p&&123>p)&&(L=(U=U.replace(" ",":")).length),0<M&&void 0!==(g=u(1,U,r,e,O,F,V.length,c,l,c))&&0===(L=(U=g.trim()).length)&&(U="\0\0"),p=U.charCodeAt(0),h=U.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){$+=U+o.charAt(B);break}default:58!==U.charCodeAt(L-1)&&(V+=a(U,p,h,U.charCodeAt(2)))}I=R=j=p=0,U="",h=o.charCodeAt(++B)}}switch(h){case 13:case 10:47===E?E=0:0===1+p&&107!==c&&0<U.length&&(R=1,U+="\0"),0<M*N&&u(0,U,r,e,O,F,V.length,c,l,c),F=1,O++;break;case 59:case 125:if(0===E+k+x+w){F++;break}default:switch(F++,v=o.charAt(B),h){case 9:case 32:if(0===k+w+E)switch(C){case 44:case 58:case 9:case 32:v="";break;default:32!==h&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===k+E+w&&(R=I=1,v="\f"+v);break;case 108:if(0===k+E+w+A&&0<j)switch(B-j){case 2:112===C&&58===o.charCodeAt(B-3)&&(A=C);case 8:111===S&&(A=S)}break;case 58:0===k+E+w&&(j=B);break;case 44:0===E+x+k+w&&(R=1,v+="\r");break;case 34:case 39:0===E&&(k=k===h?0:0===k?h:k);break;case 91:0===k+E+x&&w++;break;case 93:0===k+E+x&&w--;break;case 41:0===k+E+w&&x--;break;case 40:if(0===k+E+w){if(0===p)if(2*C+3*S==533);else p=1;x++}break;case 64:0===E+x+k+w+j+m&&(m=1);break;case 42:case 47:if(!(0<k+w+x))switch(E){case 0:switch(2*h+3*o.charCodeAt(B+1)){case 235:E=47;break;case 220:L=B,E=42}break;case 42:47===h&&42===C&&L+2!==B&&(33===o.charCodeAt(L+2)&&(V+=o.substring(L,B+1)),v="",E=0)}}0===E&&(U+=v)}S=C,C=h,B++}if(0<(L=V.length)){if(R=r,0<M&&(void 0!==(g=u(2,V,R,e,O,F,L,c,l,c))&&0===(V=g).length))return $+V+H;if(V=R.join(",")+"{"+V+"}",0!=T*A){switch(2!==T||i(V,2)||(A=0),A){case 111:V=V.replace(D,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}A=0}}return $+V+H}function n(e,t,n){var r=t.trim().split(v);t=r;var a=r.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<a;++s)t[s]=o(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<i;++c)t[u++]=o(e[c]+" ",r[s],n).trim()}return t}function o(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===T||2===T&&i(u,1)?"-webkit-"+u+u:u}if(0===T||2===T&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return h.test(o)?o.replace(p,":-webkit-")+o.replace(p,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),B(2!==t?r:r.replace(k,"$1"),n,t)}function s(e,t){var n=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,o,a,i,s,u,c){for(var f,d=0,p=t;d<M;++d)switch(f=j[d].call(l,e,p,n,r,o,a,i,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(B=null,e?"function"!=typeof e?T=1:(T=2,B=e):T=0),c}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<M){var o=u(-1,n,r,r,O,F,0,0,0,0);void 0!==o&&"string"==typeof o&&(n=o)}var a=t(P,r,n,0,0);return 0<M&&(void 0!==(o=u(-2,a,r,r,O,F,a.length,0,0,0))&&(a=o)),"",A=0,F=O=1,a}var f=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,h=/zoo|gra/,m=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,D=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,x=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,F=1,O=1,A=0,T=1,P=[],j=[],M=0,B=null,N=0;return l.use=function e(t){switch(t){case void 0:case null:M=j.length=0;break;default:if("function"==typeof t)j[M++]=t;else if("object"===(0,r.Z)(t))for(var n=0,o=t.length;n<o;++n)e(t[n]);else N=0|!!t}return e},l.set=c,void 0!==e&&c(e),l};const c={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var l=n(63011),f=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const d=(0,l.Z)((function(e){return f.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var p=n(21916),h=n.n(p),m=n(1599);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},b=function(e){return null!==e&&"object"==(0,r.Z)(e)&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,o.typeOf)(e)},y=Object.freeze([]),D=Object.freeze({});function w(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function E(e){return e&&"string"==typeof e.styledComponentId}var x=void 0!==m&&(m.env.REACT_APP_SC_ATTR||m.env.SC_ATTR)||"data-styled",k="5.3.6",C="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==m&&void 0!==m.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==m.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==m.env.REACT_APP_SC_DISABLE_SPEEDY&&m.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==m&&void 0!==m.env.SC_DISABLE_SPEEDY&&""!==m.env.SC_DISABLE_SPEEDY&&("false"!==m.env.SC_DISABLE_SPEEDY&&m.env.SC_DISABLE_SPEEDY)),F={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var A=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)(o<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var a=r;a<o;a++)this.groupSizes[a]=0}for(var i=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(i,t[s])&&(this.groupSizes[e]++,i++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,a=r;a<o;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),T=new Map,P=new Map,j=1,M=function(e){if(T.has(e))return T.get(e);for(;P.has(j);)j++;var t=j++;return T.set(e,t),P.set(t,e),t},B=function(e){return P.get(e)},N=function(e,t){t>=j&&(j=t+1),T.set(e,t),P.set(t,e)},R="style["+x+'][data-styled-version="5.3.6"]',I=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,o=n.split(","),a=0,i=o.length;a<i;a++)(r=o[a])&&e.registerName(t,r)},z=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],o=0,a=n.length;o<a;o++){var i=n[o].trim();if(i){var s=i.match(I);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(N(c,u),L(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(i)}}},q=function(){return n.nc},U=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),a=void 0!==o?o.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.3.6");var i=q();return i&&r.setAttribute("nonce",i),n.insertBefore(r,a),r},V=function(){function e(e){var t=this.element=U(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),H=function(){function e(e){var t=this.element=U(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),$=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=C,K={isServer:!C,useCSSOMInjection:!S},G=function(){function e(e,t,n){void 0===e&&(e=D),void 0===t&&(t={}),this.options=v({},K,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&C&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(R),n=0,r=t.length;n<r;n++){var o=t[n];o&&"active"!==o.getAttribute(x)&&(z(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return M(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(v({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,o=t.target,e=n?new $(o):r?new V(o):new H(o),new A(e)));var e,t,n,r,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(M(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(M(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(M(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=0;o<n;o++){var a=B(o);if(void 0!==a){var i=e.names.get(a),s=t.getGroup(o);if(i&&s&&i.size){var u=x+".g"+o+'[id="'+a+'"]',c="";void 0!==i&&i.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Y=/(a)(d)/gi,Z=function(e){return String.fromCharCode(e+(e>25?39:97))};function X(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Z(t%52)+n;return(Z(t%52)+n).replace(Y,"$1-$2")}var J=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return J(5381,e)};function ee(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(w(n)&&!E(n))return!1}return!0}var te=Q("5.3.6"),ne=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ee(e),this.componentId=t,this.baseHash=J(te,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var a=we(this.rules,e,t,n).join(""),i=X(J(this.baseHash,a)>>>0);if(!t.hasNameForId(r,i)){var s=n(a,"."+i,void 0,r);t.insertRules(r,i,s)}o.push(i),this.staticRulesId=i}else{for(var u=this.rules.length,c=J(this.baseHash,n.hash),l="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=we(d,e,t,n),h=Array.isArray(p)?p.join(""):p;c=J(c,h+f),l+=h}}if(l){var m=X(c>>>0);if(!t.hasNameForId(r,m)){var v=n(l,"."+m,void 0,r);t.insertRules(r,m,v)}o.push(m)}}return o.join(" ")},e}(),re=/^\s*\/\/.*$/gm,oe=[":","[",".","#"];function ae(e){var t,n,r,o,a=void 0===e?D:e,i=a.options,s=void 0===i?D:i,c=a.plugins,l=void 0===c?y:c,f=new u(s),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,a,i,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&-1!==oe.indexOf(a[n.length])||a.match(o)?e:"."+t};function m(e,a,i,s){void 0===s&&(s="&");var u=e.replace(re,""),c=a&&i?i+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),f(i||!a?"":a,c)}return f.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(r,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||O(15),J(e,t.name)}),5381).toString():"",m}var ie=a.createContext(),se=ie.Consumer,ue=a.createContext(),ce=(ue.Consumer,new G),le=ae();function fe(){return(0,a.useContext)(ie)||ce}function de(){return(0,a.useContext)(ue)||le}function pe(e){var t=(0,a.useState)(e.stylisPlugins),n=t[0],r=t[1],o=fe(),i=(0,a.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,a.useMemo)((function(){return ae({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,a.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.createElement(ie.Provider,{value:i},a.createElement(ue.Provider,{value:u},e.children))}var he=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=le);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),me=/([A-Z])/,ve=/([A-Z])/g,ge=/^ms-/,be=function(e){return"-"+e.toLowerCase()};function ye(e){return me.test(e)?e.replace(ve,be).replace(ge,"-ms-"):e}var De=function(e){return null==e||!1===e||""===e};function we(e,t,n,r){if(Array.isArray(e)){for(var o,a=[],i=0,s=e.length;i<s;i+=1)""!==(o=we(e[i],t,n,r))&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}return De(e)?"":E(e)?"."+e.styledComponentId:w(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:we(e(t),t,n,r):e instanceof he?n?(e.inject(n,r),e.getName(r)):e:b(e)?function e(t,n){var r,o,a=[];for(var i in t)t.hasOwnProperty(i)&&!De(t[i])&&(Array.isArray(t[i])&&t[i].isCss||w(t[i])?a.push(ye(i)+":",t[i],";"):b(t[i])?a.push.apply(a,e(t[i],i)):a.push(ye(i)+": "+(r=i,(null==(o=t[i])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||r in c?String(o).trim():o+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var _e=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return w(e)||b(e)?_e(we(g(y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_e(we(g(e,n)))}new Set;var xe=function(e,t,n){return void 0===n&&(n=D),e.theme!==n.theme&&e.theme||t||n.theme},ke=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ce=/(^-|-$)/g;function Se(e){return e.replace(ke,"-").replace(Ce,"")}var Fe=function(e){return X(Q(e)>>>0)};function Oe(e){return"string"==typeof e&&!0}var Ae=function(e){return"function"==typeof e||"object"==(0,r.Z)(e)&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Pe(e,t,n){var r=e[n];Ae(t)&&Ae(r)?je(r,t):e[n]=t}function je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=a[o];if(Ae(i))for(var s in i)Te(s)&&Pe(e,i[s],s)}return e}var Me=a.createContext(),Be=Me.Consumer;function Ne(e){var t=(0,a.useContext)(Me),n=(0,a.useMemo)((function(){return function(e,t){return e?w(e)?e(t):Array.isArray(e)||"object"!=(0,r.Z)(e)?O(8):t?v({},t,{},e):e:O(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.createElement(Me.Provider,{value:n},e.children):null}var Re={};function Ie(e,t,n){var r=E(e),o=!Oe(e),i=t.attrs,s=void 0===i?y:i,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Se(e);Re[n]=(Re[n]||0)+1;var r=n+"-"+Fe("5.3.6"+n+Re[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return Oe(e)?"styled."+e:"Styled("+_(e)+")"}(e):l,p=t.displayName&&t.componentId?Se(t.displayName)+"-"+t.componentId:t.componentId||c,m=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,g=t.shouldForwardProp;r&&e.shouldForwardProp&&(g=t.shouldForwardProp?function(n,r,o){return e.shouldForwardProp(n,r,o)&&t.shouldForwardProp(n,r,o)}:e.shouldForwardProp);var b,x=new ne(n,p,r?e.componentStyle:void 0),k=x.isStatic&&0===s.length,C=function(e,t){return function(e,t,n,r){var o=e.attrs,i=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=D);var r=v({},t,{theme:e}),o={};return n.forEach((function(e){var t,n,a,i=e;for(t in w(i)&&(i=i(r)),i)r[t]=o[t]="className"===t?(n=o[t],a=i[t],n&&a?n+" "+a:n||a):i[t]})),[r,o]}(xe(t,(0,a.useContext)(Me),s)||D,t,o),h=p[0],m=p[1],g=function(e,t,n,r){var o=fe(),a=de();return t?e.generateAndInjectStyles(D,o,a):e.generateAndInjectStyles(n,o,a)}(i,r,h),b=n,y=m.$as||t.$as||m.as||t.as||f,_=Oe(y),E=m!==t?v({},t,{},m):t,x={};for(var k in E)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?x.as=E[k]:(c?c(k,d,y):!_||d(k))&&(x[k]=E[k]));return t.style&&m.style!==t.style&&(x.style=v({},t.style,{},m.style)),x.className=Array.prototype.concat(u,l,g!==l?g:null,t.className,m.className).filter(Boolean).join(" "),x.ref=b,(0,a.createElement)(y,x)}(b,e,t,k)};return C.displayName=f,(b=a.forwardRef(C)).attrs=m,b.componentStyle=x,b.displayName=f,b.shouldForwardProp=g,b.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,b.styledComponentId=p,b.target=r?e.target:e,b.withComponent=function(e){var r=t.componentId,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["componentId"]),a=r&&r+"-"+(Oe(e)?e:Se(_(e)));return Ie(e,v({},o,{attrs:m,componentId:a}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?je({},e.defaultProps,t):t}}),b.toString=function(){return"."+b.styledComponentId},o&&h()(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var Le=function(e){return function e(t,n,r){if(void 0===r&&(r=D),!(0,o.isValidElementType)(n))return O(1,String(n));var a=function(){return t(n,r,Ee.apply(void 0,arguments))};return a.withConfig=function(o){return e(t,n,v({},r,{},o))},a.attrs=function(o){return e(t,n,v({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},a}(Ie,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Le[e]=Le(e)}));var ze=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ee(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var o=r(we(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Ee.apply(void 0,[e].concat(n)),i="sc-global-"+Fe(JSON.stringify(o)),s=new ze(o,i);function u(e){var t=fe(),n=de(),r=(0,a.useContext)(Me),o=(0,a.useRef)(t.allocateGSInstance(i)).current;return t.server&&c(o,e,t,r,n),(0,a.useLayoutEffect)((function(){if(!t.server)return c(o,e,t,r,n),function(){return s.removeStyles(o,t)}}),[o,e,t,r,n]),null}function c(e,t,n,r,o){if(s.isStatic)s.renderStyles(e,F,n,o);else{var a=v({},t,{theme:xe(t,r,u.defaultProps)});s.renderStyles(e,a,n,o)}}return a.memo(u)}function Ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Ee.apply(void 0,[e].concat(n)).join(""),a=Fe(o);return new he(a,o)}var Ve=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=q();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[x]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=q();return r&&(n.nonce=r),[a.createElement("style",v({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?O(2):a.createElement(pe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)},e}(),He=function(e){var t=a.forwardRef((function(t,n){var r=(0,a.useContext)(Me),o=e.defaultProps,i=xe(t,r,o);return a.createElement(e,v({},t,{theme:i,ref:n}))}));return h()(t,e),t.displayName="WithTheme("+_(e)+")",t},$e=function(){return(0,a.useContext)(Me)},We={StyleSheet:G,masterSheet:ce};const Ke=Le},2788:function(e,t,n){var r;e=n.nmd(e);var o=n(59039);n(92222),n(82772),n(74916),n(15306),n(77601),function(a,i){"use strict";var s="function",u="undefined",c="object",l="string",f="major",d="model",p="name",h="type",m="vendor",v="version",g="architecture",b="console",y="mobile",D="tablet",w="smarttv",_="wearable",E="embedded",x="Amazon",k="Apple",C="ASUS",S="BlackBerry",F="Firefox",O="Google",A="Huawei",T="LG",P="Microsoft",j="Motorola",M="Opera",B="Samsung",N="Sharp",R="Sony",I="Xiaomi",L="Zebra",z="Facebook",q="Chromium OS",U="Mac OS",V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return o(e)===l&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},W=function(e,t){if(o(e)===l)return e=e.replace(/^\s\s*/,""),o(t)===u?e:e.substring(0,350)},K=function(e,t){for(var n,r,a,u,l,f,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(n=r=0;n<p.length&&!l&&p[n];)if(l=p[n++].exec(e))for(a=0;a<h.length;a++)f=l[++r],u=h[a],o(u)===c&&u.length>0?2===u.length?o(u[1])==s?this[u[0]]=u[1].call(this,f):this[u[0]]=u[1]:3===u.length?o(u[1])!==s||u[1].exec&&u[1].test?this[u[0]]=f?f.replace(u[1],u[2]):i:this[u[0]]=f?u[1].call(this,f,u[2]):i:4===u.length&&(this[u[0]]=f?u[3].call(this,f.replace(u[1],u[2])):i):this[u]=f||i;d+=2}},G=function(e,t){for(var n in t)if(o(t[n])===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(H(t[n][r],e))return"?"===n?i:n}else if(H(t[n],e))return"?"===n?i:n;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[v,[p,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure Browser"],v],[/\bfocus\/([\w\.]+)/i],[v,[p,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[v,[p,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 Browser"],v],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,z],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,"Chrome WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,$]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",$]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[m,B],[h,D]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[m,B],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[m,k],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[m,k],[h,D]],[/(macintosh);/i],[d,[m,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[m,N],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[m,A],[h,D]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[m,A],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[m,I],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[m,I],[h,D]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[m,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[m,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[m,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[m,j],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[m,j],[h,D]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[m,T],[h,D]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[m,T],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[m,"Lenovo"],[h,D]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[m,"Nokia"],[h,y]],[/(pixel c)\b/i],[d,[m,O],[h,D]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[m,O],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[m,R],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[m,R],[h,D]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[m,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[m,x],[h,D]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[m,x],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,m,[h,D]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[m,S],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[m,C],[h,D]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[m,C],[h,y]],[/(nexus 9)/i],[d,[m,"HTC"],[h,D]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[d,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[m,"Acer"],[h,D]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[m,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,d,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,d,[h,D]],[/(surface duo)/i],[d,[m,P],[h,D]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[m,"Fairphone"],[h,y]],[/(u304aa)/i],[d,[m,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[d,[m,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[d,[m,"RCA"],[h,D]],[/\b(venue[\d ]{2,7}) b/i],[d,[m,"Dell"],[h,D]],[/\b(q(?:mv|ta)\w+) b/i],[d,[m,"Verizon"],[h,D]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[m,"Barnes & Noble"],[h,D]],[/\b(tm\d{3}\w+) b/i],[d,[m,"NuVision"],[h,D]],[/\b(k88) b/i],[d,[m,"ZTE"],[h,D]],[/\b(nx\d{3}j) b/i],[d,[m,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[d,[m,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[d,[m,"Swiss"],[h,D]],[/\b((zeki)?tb.*\b) b/i],[d,[m,"Zeki"],[h,D]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],d,[h,D]],[/\b(ns-?\w{0,9}) b/i],[d,[m,"Insignia"],[h,D]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[m,"NextBook"],[h,D]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],d,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],d,[h,y]],[/\b(ph-1) /i],[d,[m,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[m,"Envizen"],[h,D]],[/\b(trio[-\w\. ]+) b/i],[d,[m,"MachSpeed"],[h,D]],[/\btu_(1491) b/i],[d,[m,"Rotor"],[h,D]],[/(shield[\w ]+) b/i],[d,[m,"Nvidia"],[h,D]],[/(sprint) (\w+)/i],[m,d,[h,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,P],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[m,L],[h,D]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[m,L],[h,y]],[/smart-tv.+(samsung)/i],[m,[h,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,B],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,T],[h,w]],[/(apple) ?tv/i],[m,[d,"Apple TV"],[h,w]],[/crkey/i],[[d,"Chromecast"],[m,O],[h,w]],[/droid.+aft(\w)( bui|\))/i],[d,[m,x],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[m,N],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[m,R],[h,w]],[/(mitv-\w{5}) bui/i],[d,[m,I],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[m,d,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,W],[d,W],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,d,[h,b]],[/droid.+; (shield) bui/i],[d,[m,"Nvidia"],[h,b]],[/(playstation [345portablevi]+)/i],[d,[m,R],[h,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[m,P],[h,b]],[/((pebble))app/i],[m,d,[h,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[m,k],[h,_]],[/droid.+; (glass) \d/i],[d,[m,O],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[m,L],[h,_]],[/(quest( 2| pro)?)/i],[d,[m,z],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,E]],[/(aeobc)\b/i],[d,[m,x],[h,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,D]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,D]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[v,G,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[v,G,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,U],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,q],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},X=function e(t,n){if(o(t)===c&&(n=t,t=i),!(this instanceof e))return new e(t,n).getResult();var r=o(a)!==u&&a.navigator?a.navigator:i,f=t||(r&&r.userAgent?r.userAgent:""),d=r&&r.userAgentData?r.userAgentData:i,p=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Z,n):Z,h=r&&r.userAgent==f;return this.getBrowser=function(){var e,t={};return t.name=i,t.version=i,K.call(t,f,p.browser),t.major=(e=t.version,o(e)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i),h&&r&&r.brave&&o(r.brave.isBrave)==s&&(t.name="Brave"),t},this.getCPU=function(){var e={};return e.architecture=i,K.call(e,f,p.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,K.call(e,f,p.device),h&&!e.type&&d&&d.mobile&&(e.type=y),h&&"Macintosh"==e.model&&r&&o(r.standalone)!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e.model="iPad",e.type=D),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,K.call(e,f,p.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,K.call(e,f,p.os),h&&!e.name&&d&&"Unknown"!=d.platform&&(e.name=d.platform.replace(/chrome os/i,q).replace(/macos/i,U)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return f},this.setUA=function(e){return f=o(e)===l&&e.length>350?W(e,350):e,this},this.setUA(f),this};X.VERSION="1.0.35",X.BROWSER=V([p,v,f]),X.CPU=V([g]),X.DEVICE=V([d,m,h,b,y,w,D,_,E]),X.ENGINE=X.OS=V([p,v]),o(t)!==u?(o(e)!==u&&e.exports&&(t=e.exports=X),t.UAParser=X):o(n.amdD)===s&&n.amdO?(r=function(){return X}.call(t,n,t,e))===i||(e.exports=r):o(a)!==u&&(a.UAParser=X);var J=o(a)!==u&&(a.jQuery||a.Zepto);if(J&&!J.ua){var Q=new X;J.ua=Q.getResult(),J.ua.get=function(){return Q.getUA()},J.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":o(window))?window:this)},19662:(e,t,n)=>{var r=n(60614),o=n(66330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not a function")}},39483:(e,t,n)=>{var r=n(4411),o=n(66330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not a constructor")}},96077:(e,t,n)=>{var r=n(60614),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},51223:(e,t,n)=>{var r=n(5112),o=n(70030),a=n(3070).f,i=r("unscopables"),s=Array.prototype;null==s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},31530:(e,t,n)=>{"use strict";var r=n(28710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},25787:(e,t,n)=>{var r=n(47976),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},19670:(e,t,n)=>{var r=n(70111),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not an object")}},23013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,n)=>{var r=n(47293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},90260:(e,t,n)=>{"use strict";var r,o,a,i=n(23013),s=n(19781),u=n(17854),c=n(60614),l=n(70111),f=n(92597),d=n(70648),p=n(66330),h=n(68880),m=n(98052),v=n(3070).f,g=n(47976),b=n(79518),y=n(27674),D=n(5112),w=n(69711),_=n(29909),E=_.enforce,x=_.get,k=u.Int8Array,C=k&&k.prototype,S=u.Uint8ClampedArray,F=S&&S.prototype,O=k&&b(k),A=C&&b(C),T=Object.prototype,P=u.TypeError,j=D("toStringTag"),M=w("TYPED_ARRAY_TAG"),B="TypedArrayConstructor",N=i&&!!y&&"Opera"!==d(u.opera),R=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},z=function(e){var t=b(e);if(l(t)){var n=x(t);return n&&f(n,B)?n.TypedArrayConstructor:z(t)}},q=function(e){if(!l(e))return!1;var t=d(e);return f(I,t)||f(L,t)};for(r in I)(a=(o=u[r])&&o.prototype)?E(a).TypedArrayConstructor=o:N=!1;for(r in L)(a=(o=u[r])&&o.prototype)&&(E(a).TypedArrayConstructor=o);if((!N||!c(O)||O===Function.prototype)&&(O=function(){throw P("Incorrect invocation")},N))for(r in I)u[r]&&y(u[r],O);if((!N||!A||A===T)&&(A=O.prototype,N))for(r in I)u[r]&&y(u[r].prototype,A);if(N&&b(F)!==A&&y(F,A),s&&!f(A,j))for(r in R=!0,v(A,j,{get:function(){return l(this)?this[M]:void 0}}),I)u[r]&&h(u[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:R&&M,aTypedArray:function(e){if(q(e))return e;throw P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||g(O,e)))return e;throw P(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var o in I){var a=u[o];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(i){try{a.prototype[e]=t}catch(c){}}}A[e]&&!n||m(A,e,n?t:N&&C[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(s){if(y){if(n)for(r in I)if((o=u[r])&&f(o,e))try{delete o[e]}catch(a){}if(O[e]&&!n)return;try{return m(O,e,n?t:N&&O[e]||t)}catch(a){}}for(r in I)!(o=u[r])||o[e]&&!n||m(o,e,t)}},getTypedArrayConstructor:z,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(I,t)||f(L,t)},isTypedArray:q,TypedArray:O,TypedArrayPrototype:A}},13331:(e,t,n)=>{"use strict";var r=n(17854),o=n(1702),a=n(19781),i=n(23013),s=n(76530),u=n(68880),c=n(89190),l=n(47293),f=n(25787),d=n(19303),p=n(17466),h=n(57067),m=n(11179),v=n(79518),g=n(27674),b=n(8006).f,y=n(3070).f,D=n(21285),w=n(41589),_=n(58003),E=n(29909),x=s.PROPER,k=s.CONFIGURABLE,C=E.get,S=E.set,F="ArrayBuffer",O="DataView",A="Wrong index",T=r.ArrayBuffer,P=T,j=P&&P.prototype,M=r.DataView,B=M&&M.prototype,N=Object.prototype,R=r.Array,I=r.RangeError,L=o(D),z=o([].reverse),q=m.pack,U=m.unpack,V=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},K=function(e){return q(e,23,4)},G=function(e){return q(e,52,8)},Y=function(e,t){y(e.prototype,t,{get:function(){return C(this)[t]}})},Z=function(e,t,n,r){var o=h(n),a=C(e);if(o+t>a.byteLength)throw I(A);var i=C(a.buffer).bytes,s=o+a.byteOffset,u=w(i,s,s+t);return r?u:z(u)},X=function(e,t,n,r,o,a){var i=h(n),s=C(e);if(i+t>s.byteLength)throw I(A);for(var u=C(s.buffer).bytes,c=i+s.byteOffset,l=r(+o),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(i){var J=x&&T.name!==F;if(l((function(){T(1)}))&&l((function(){new T(-1)}))&&!l((function(){return new T,new T(1.5),new T(NaN),1!=T.length||J&&!k})))J&&k&&u(T,"name",F);else{(P=function(e){return f(this,j),new T(h(e))}).prototype=j;for(var Q,ee=b(T),te=0;ee.length>te;)(Q=ee[te++])in P||u(P,Q,T[Q]);j.constructor=P}g&&v(B)!==N&&g(B,N);var ne=new M(new P(2)),re=o(B.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||c(B,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else j=(P=function(e){f(this,j);var t=h(e);S(this,{bytes:L(R(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,B=(M=function(e,t,n){f(this,B),f(e,j);var r=C(e).byteLength,o=d(t);if(o<0||o>r)throw I("Wrong offset");if(o+(n=void 0===n?r-o:p(n))>r)throw I("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:o}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=o)}).prototype,a&&(Y(P,"byteLength"),Y(M,"buffer"),Y(M,"byteLength"),Y(M,"byteOffset")),c(B,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return U(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return U(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,V,t)},setUint8:function(e,t){X(this,1,e,V,t)},setInt16:function(e,t){X(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,G,t,arguments.length>2?arguments[2]:void 0)}});_(P,F),_(M,O),e.exports={ArrayBuffer:P,DataView:M}},1048:(e,t,n)=>{"use strict";var r=n(47908),o=n(51400),a=n(26244),i=n(85117),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),c=o(e,u),l=o(t,u),f=arguments.length>2?arguments[2]:void 0,d=s((void 0===f?u:o(f,u))-l,u-c),p=1;for(l<c&&c<l+d&&(p=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:i(n,c),c+=p,l+=p;return n}},21285:(e,t,n)=>{"use strict";var r=n(47908),o=n(51400),a=n(26244);e.exports=function(e){for(var t=r(this),n=a(t),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);c>s;)t[s++]=e;return t}},18533:(e,t,n)=>{"use strict";var r=n(42092).forEach,o=n(9341)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},97745:(e,t,n)=>{var r=n(26244);e.exports=function(e,t){for(var n=0,o=r(t),a=new e(o);o>n;)a[n]=t[n++];return a}},48457:(e,t,n)=>{"use strict";var r=n(49974),o=n(46916),a=n(47908),i=n(53411),s=n(97659),u=n(4411),c=n(26244),l=n(86135),f=n(18554),d=n(71246),p=Array;e.exports=function(e){var t=a(e),n=u(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,b,y,D,w,_,E=d(t),x=0;if(!E||this===p&&s(E))for(g=c(t),b=n?new this(g):p(g);g>x;x++)_=v?m(t[x],x):t[x],l(b,x,_);else for(w=(D=f(t,E)).next,b=n?new this:[];!(y=o(w,D)).done;x++)_=v?i(D,m,[y.value,x],!0):y.value,l(b,x,_);return b.length=x,b}},41318:(e,t,n)=>{var r=n(45656),o=n(51400),a=n(26244),i=function(e){return function(t,n,i){var s,u=r(t),c=a(u),l=o(i,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},9671:(e,t,n)=>{var r=n(49974),o=n(68361),a=n(47908),i=n(26244),s=function(e){var t=1==e;return function(n,s,u){for(var c,l=a(n),f=o(l),d=r(s,u),p=i(f);p-- >0;)if(d(c=f[p],p,l))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},42092:(e,t,n)=>{var r=n(49974),o=n(1702),a=n(68361),i=n(47908),s=n(26244),u=n(65417),c=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,m,v,g){for(var b,y,D=i(h),w=a(D),_=r(m,v),E=s(w),x=0,k=g||u,C=t?k(h,E):n||d?k(h,0):void 0;E>x;x++)if((p||x in w)&&(y=_(b=w[x],x,D),e))if(t)C[x]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return x;case 2:c(C,b)}else switch(e){case 4:return!1;case 7:c(C,b)}return f?-1:o||l?l:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},86583:(e,t,n)=>{"use strict";var r=n(22104),o=n(45656),a=n(19303),i=n(26244),s=n(9341),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return r(c,this,arguments)||0;var t=o(this),n=i(t),s=n-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},81194:(e,t,n)=>{var r=n(47293),o=n(5112),a=n(7392),i=o("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(47293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},53671:(e,t,n)=>{var r=n(19662),o=n(47908),a=n(68361),i=n(26244),s=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=o(t),f=a(l),d=i(l),p=e?d-1:0,h=e?-1:1;if(u<2)for(;;){if(p in f){c=f[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in f&&(c=n(c,f[p],p,l));return c}};e.exports={left:u(!1),right:u(!0)}},83658:(e,t,n)=>{"use strict";var r=n(19781),o=n(43157),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},41589:(e,t,n)=>{var r=n(51400),o=n(26244),a=n(86135),i=Array,s=Math.max;e.exports=function(e,t,n){for(var u=o(e),c=r(t,u),l=r(void 0===n?u:n,u),f=i(s(l-c,0)),d=0;c<l;c++,d++)a(f,d,e[c]);return f.length=d,f}},50206:(e,t,n)=>{var r=n(1702);e.exports=r([].slice)},94362:(e,t,n)=>{var r=n(41589),o=Math.floor,a=function(e,t){var n=e.length,u=o(n/2);return n<8?i(e,t):s(e,a(r(e,0,u),t),a(r(e,u),t),t)},i=function(e,t){for(var n,r,o=e.length,a=1;a<o;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var o=t.length,a=n.length,i=0,s=0;i<o||s<a;)e[i+s]=i<o&&s<a?r(t[i],n[s])<=0?t[i++]:n[s++]:i<o?t[i++]:n[s++];return e};e.exports=a},77475:(e,t,n)=>{var r=n(43157),o=n(4411),a=n(70111),i=n(5112)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[i]))&&(t=void 0)),void 0===t?s:t}},65417:(e,t,n)=>{var r=n(77475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},14170:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},53411:(e,t,n)=>{var r=n(19670),o=n(99212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(i){o(e,"throw",i)}}},17072:(e,t,n)=>{var r=n(5112)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},84326:(e,t,n)=>{var r=n(1702),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},70648:(e,t,n)=>{var r=n(51694),o=n(60614),a=n(84326),i=n(5112)("toStringTag"),s=Object,u="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),i))?n:u?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},95631:(e,t,n)=>{"use strict";var r=n(3070).f,o=n(70030),a=n(89190),i=n(49974),s=n(25787),u=n(68554),c=n(20408),l=n(51656),f=n(76178),d=n(96340),p=n(19781),h=n(62423).fastKey,m=n(29909),v=m.set,g=m.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,r){s(e,d),v(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),p||(e.size=0),u(r)||c(r,e[l],{that:e,AS_ENTRIES:n})})),d=f.prototype,m=g(t),b=function(e,t,n){var r,o,a=m(e),i=y(e,t);return i?i.value=n:(a.last=i={index:o=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=i),r&&(r.next=i),p?a.size++:e.size++,"F"!==o&&(a.index[o]=i)),e},y=function(e,t){var n,r=m(e),o=h(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=y(t,e);if(r){var o=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first==r&&(n.first=o),n.last==r&&(n.last=a),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=i(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),a(d,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),p&&r(d,"size",{get:function(){return m(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",o=g(t),a=g(r);l(e,t,(function(e,t){v(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},29320:(e,t,n)=>{"use strict";var r=n(1702),o=n(89190),a=n(62423).getWeakData,i=n(25787),s=n(19670),u=n(68554),c=n(70111),l=n(20408),f=n(42092),d=n(92597),p=n(29909),h=p.set,m=p.getterFor,v=f.find,g=f.findIndex,b=r([].splice),y=0,D=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},_=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var f=e((function(e,o){i(e,p),h(e,{type:t,id:y++,frozen:void 0}),u(o)||l(o,e[r],{that:e,AS_ENTRIES:n})})),p=f.prototype,v=m(t),g=function(e,t,n){var r=v(e),o=a(s(t),!0);return!0===o?D(r).set(t,n):o[r.id]=n,e};return o(p,{delete:function(e){var t=v(this);if(!c(e))return!1;var n=a(e);return!0===n?D(t).delete(e):n&&d(n,t.id)&&delete n[t.id]},has:function(e){var t=v(this);if(!c(e))return!1;var n=a(e);return!0===n?D(t).has(e):n&&d(n,t.id)}}),o(p,n?{get:function(e){var t=v(this);if(c(e)){var n=a(e);return!0===n?D(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),f}}},77710:(e,t,n)=>{"use strict";var r=n(82109),o=n(17854),a=n(1702),i=n(54705),s=n(98052),u=n(62423),c=n(20408),l=n(25787),f=n(60614),d=n(68554),p=n(70111),h=n(47293),m=n(17072),v=n(58003),g=n(79587);e.exports=function(e,t,n){var b=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),D=b?"set":"add",w=o[e],_=w&&w.prototype,E=w,x={},k=function(e){var t=a(_[e]);s(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(i(e,!f(w)||!(y||_.forEach&&!h((function(){(new w).entries().next()})))))E=n.getConstructor(t,e,b,D),u.enable();else if(i(e,!0)){var C=new E,S=C[D](y?{}:-0,1)!=C,F=h((function(){C.has(1)})),O=m((function(e){new w(e)})),A=!y&&h((function(){for(var e=new w,t=5;t--;)e[D](t,t);return!e.has(-0)}));O||((E=t((function(e,t){l(e,_);var n=g(new w,e,E);return d(t)||c(t,n[D],{that:n,AS_ENTRIES:b}),n}))).prototype=_,_.constructor=E),(F||A)&&(k("delete"),k("has"),b&&k("get")),(A||S)&&k(D),y&&_.clear&&delete _.clear}return x[e]=E,r({global:!0,constructor:!0,forced:E!=w},x),v(E,e),y||n.setStrong(E,e,b),E}},99920:(e,t,n)=>{var r=n(92597),o=n(53887),a=n(31236),i=n(3070);e.exports=function(e,t,n){for(var s=o(t),u=i.f,c=a.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||u(e,f,c(t,f))}}},84964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},49920:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},14230:(e,t,n)=>{var r=n(1702),o=n(84488),a=n(41340),i=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=a(o(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+s(a(r),i,"&quot;")+'"'),c+">"+u+"</"+t+">"}},76178:e=>{e.exports=function(e,t){return{value:e,done:t}}},68880:(e,t,n)=>{var r=n(19781),o=n(3070),a=n(79114);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:(e,t,n)=>{"use strict";var r=n(34948),o=n(3070),a=n(79114);e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,a(0,n)):e[i]=n}},85573:(e,t,n)=>{"use strict";var r=n(1702),o=n(47293),a=n(76650).start,i=RangeError,s=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,f=r(c.getTime),d=r(c.getUTCDate),p=r(c.getUTCFullYear),h=r(c.getUTCHours),m=r(c.getUTCMilliseconds),v=r(c.getUTCMinutes),g=r(c.getUTCMonth),b=r(c.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!s(f(this)))throw i("Invalid time value");var e=this,t=p(e),n=m(e),r=t<0?"-":t>9999?"+":"";return r+a(u(t),r?6:4,0)+"-"+a(g(e)+1,2,0)+"-"+a(d(e),2,0)+"T"+a(h(e),2,0)+":"+a(v(e),2,0)+":"+a(b(e),2,0)+"."+a(n,3,0)+"Z"}:l},38709:(e,t,n)=>{"use strict";var r=n(19670),o=n(92140),a=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return o(this,e)}},47045:(e,t,n)=>{var r=n(56339),o=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},98052:(e,t,n)=>{var r=n(60614),o=n(3070),a=n(56339),i=n(13072);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)u?e[t]=n:i(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},89190:(e,t,n)=>{var r=n(98052);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},13072:(e,t,n)=>{var r=n(17854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},85117:(e,t,n)=>{"use strict";var r=n(66330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},19781:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},80317:(e,t,n)=>{var r=n(17854),o=n(70111),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},93678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},48324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(e,t,n)=>{var r=n(80317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},68886:(e,t,n)=>{var r=n(88113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:(e,t,n)=>{var r=n(83823),o=n(35268);e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},83823:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},30256:(e,t,n)=>{var r=n(88113);e.exports=/MSIE|Trident/.test(r)},71528:(e,t,n)=>{var r=n(88113),o=n(17854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},6833:(e,t,n)=>{var r=n(88113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},35268:(e,t,n)=>{var r=n(84326),o=n(17854);e.exports="process"==r(o.process)},71036:(e,t,n)=>{var r=n(88113);e.exports=/web0s(?!.*chrome)/i.test(r)},88113:(e,t,n)=>{var r=n(35005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,a=n(17854),i=n(88113),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},98008:(e,t,n)=>{var r=n(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:(e,t,n)=>{var r=n(1702),o=Error,a=r("".replace),i=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(i);e.exports=function(e,t){if(u&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},22914:(e,t,n)=>{var r=n(47293),o=n(79114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},7762:(e,t,n)=>{"use strict";var r=n(19781),o=n(47293),a=n(19670),i=n(70030),s=n(56277),u=Error.prototype.toString,c=o((function(){if(r){var e=i(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==u.call(e))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));e.exports=c?function(){var e=a(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:u},82109:(e,t,n)=>{var r=n(17854),o=n(31236).f,a=n(68880),i=n(98052),s=n(13072),u=n(99920),c=n(54705);e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=o(n,l))&&p.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),i(n,l,d,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},27007:(e,t,n)=>{"use strict";n(74916);var r=n(21470),o=n(98052),a=n(22261),i=n(47293),s=n(5112),u=n(68880),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var m=r(/./[d]),v=t(d,""[e],(function(e,t,n,o,i){var s=r(e),u=t.exec;return u===a||u===l.exec?p&&!i?{done:!0,value:m(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,d,v[1])}f&&u(l[d],"sham",!0)}},6790:(e,t,n)=>{"use strict";var r=n(43157),o=n(26244),a=n(7207),i=n(49974),s=function(e,t,n,u,c,l,f,d){for(var p,h,m=c,v=0,g=!!f&&i(f,d);v<u;)v in n&&(p=g?g(n[v],v,t):n[v],l>0&&r(p)?(h=o(p),m=s(e,t,p,h,m,l-1)-1):(a(m+1),e[m]=p),m++),v++;return m};e.exports=s},76677:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},22104:(e,t,n)=>{var r=n(34374),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},49974:(e,t,n)=>{var r=n(21470),o=n(19662),a=n(34374),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},34374:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},27065:(e,t,n)=>{"use strict";var r=n(1702),o=n(19662),a=n(70111),i=n(92597),s=n(50206),u=n(34374),c=Function,l=r([].concat),f=r([].join),d={},p=function(e,t,n){if(!i(d,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";d[t]=c("C,a","return new C("+f(r,",")+")")}return d[t](e,n)};e.exports=u?c.bind:function(e){var t=o(this),n=t.prototype,r=s(arguments,1),i=function(){var n=l(r,s(arguments));return this instanceof i?p(t,n.length,n):t.apply(e,n)};return a(n)&&(i.prototype=n),i}},46916:(e,t,n)=>{var r=n(34374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},76530:(e,t,n)=>{var r=n(19781),o=n(92597),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},21470:(e,t,n)=>{var r=n(84326),o=n(1702);e.exports=function(e){if("Function"===r(e))return o(e)}},1702:(e,t,n)=>{var r=n(34374),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);e.exports=r?i:function(e){return function(){return a.apply(e,arguments)}}},35005:(e,t,n)=>{var r=n(17854),o=n(60614),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},71246:(e,t,n)=>{var r=n(70648),o=n(58173),a=n(68554),i=n(97497),s=n(5112)("iterator");e.exports=function(e){if(!a(e))return o(e,s)||o(e,"@@iterator")||i[r(e)]}},18554:(e,t,n)=>{var r=n(46916),o=n(19662),a=n(19670),i=n(66330),s=n(71246),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(o(n))return a(r(n,e));throw u(i(e)+" is not iterable")}},58173:(e,t,n)=>{var r=n(19662),o=n(68554);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},10647:(e,t,n)=>{var r=n(1702),o=n(47908),a=Math.floor,i=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,m=l;return void 0!==f&&(f=o(f),m=c),s(d,m,(function(o,s){var c;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>h){var d=a(l/10);return 0===d?o:d<=h?void 0===r[d-1]?i(s,1):r[d-1]+i(s,1):o}c=r[l-1]}return void 0===c?"":c}))}},17854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},92597:(e,t,n)=>{var r=n(1702),o=n(47908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(17854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},60490:(e,t,n)=>{var r=n(35005);e.exports=r("document","documentElement")},64664:(e,t,n)=>{var r=n(19781),o=n(47293),a=n(80317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},11179:e=>{var t=Array,n=Math.abs,r=Math.pow,o=Math.floor,a=Math.log,i=Math.LN2;e.exports={pack:function(e,s,u){var c,l,f,d=t(u),p=8*u-s-1,h=(1<<p)-1,m=h>>1,v=23===s?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,b=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=o(a(e)/i),e*(f=r(2,-c))<1&&(c--,f*=2),(e+=c+m>=1?v/f:v*r(2,1-m))*f>=2&&(c++,f/=2),c+m>=h?(l=0,c=h):c+m>=1?(l=(e*f-1)*r(2,s),c+=m):(l=e*r(2,m-1)*r(2,s),c=0));s>=8;)d[b++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)d[b++]=255&c,c/=256,p-=8;return d[--b]|=128*g,d},unpack:function(e,t){var n,o=e.length,a=8*o-t-1,i=(1<<a)-1,s=i>>1,u=a-7,c=o-1,l=e[c--],f=127&l;for(l>>=7;u>0;)f=256*f+e[c--],u-=8;for(n=f&(1<<-u)-1,f>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===f)f=1-s;else{if(f===i)return n?NaN:l?-1/0:1/0;n+=r(2,t),f-=s}return(l?-1:1)*n*r(2,f-t)}}},68361:(e,t,n)=>{var r=n(1702),o=n(47293),a=n(84326),i=Object,s=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},79587:(e,t,n)=>{var r=n(60614),o=n(70111),a=n(27674);e.exports=function(e,t,n){var i,s;return a&&r(i=t.constructor)&&i!==n&&o(s=i.prototype)&&s!==n.prototype&&a(e,s),e}},42788:(e,t,n)=>{var r=n(1702),o=n(60614),a=n(5465),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},58340:(e,t,n)=>{var r=n(70111),o=n(68880);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},62423:(e,t,n)=>{var r=n(82109),o=n(1702),a=n(3501),i=n(70111),s=n(92597),u=n(3070).f,c=n(8006),l=n(1156),f=n(52050),d=n(69711),p=n(76677),h=!1,m=d("meta"),v=0,g=function(e){u(e,m,{value:{objectID:"O"+v++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},h=!0;var e=c.f,t=o([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var r=e(n),o=0,a=r.length;o<a;o++)if(r[o]===m){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[m].weakData},onFreeze:function(e){return p&&h&&f(e)&&!s(e,m)&&g(e),e}};a[m]=!0},29909:(e,t,n)=>{var r,o,a,i=n(94811),s=n(17854),u=n(70111),c=n(68880),l=n(92597),f=n(5465),d=n(6200),p=n(3501),h="Object already initialized",m=s.TypeError,v=s.WeakMap;if(i||f.state){var g=f.state||(f.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw m(h);return t.facade=e,g.set(e,t),t},o=function(e){return g.get(e)||{}},a=function(e){return g.has(e)}}else{var b=d("state");p[b]=!0,r=function(e,t){if(l(e,b))throw m(h);return t.facade=e,c(e,b,t),t},o=function(e){return l(e,b)?e[b]:{}},a=function(e){return l(e,b)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},97659:(e,t,n)=>{var r=n(5112),o=n(97497),a=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},43157:(e,t,n)=>{var r=n(84326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},44067:(e,t,n)=>{var r=n(70648),o=n(1702)("".slice);e.exports=function(e){return"Big"===o(r(e),0,3)}},60614:(e,t,n)=>{var r=n(4154),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4411:(e,t,n)=>{var r=n(1702),o=n(47293),a=n(60614),i=n(70648),s=n(35005),u=n(42788),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(c),m=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},v=function(e){if(!a(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,u(e))}catch(t){return!0}};v.sham=!0,e.exports=!f||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},45032:(e,t,n)=>{var r=n(92597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},54705:(e,t,n)=>{var r=n(47293),o=n(60614),a=/#|\.prototype\./,i=function(e,t){var n=u[s(e)];return n==l||n!=c&&(o(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},55988:(e,t,n)=>{var r=n(70111),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},68554:e=>{e.exports=function(e){return null==e}},70111:(e,t,n)=>{var r=n(60614),o=n(4154),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},31913:e=>{e.exports=!1},47850:(e,t,n)=>{var r=n(70111),o=n(84326),a=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},52190:(e,t,n)=>{var r=n(35005),o=n(60614),a=n(47976),i=n(43307),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&a(t.prototype,s(e))}},20408:(e,t,n)=>{var r=n(49974),o=n(46916),a=n(19670),i=n(66330),s=n(97659),u=n(26244),c=n(47976),l=n(18554),f=n(71246),d=n(99212),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,b,y,D,w,_,E=n&&n.that,x=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),F=r(t,E),O=function(e){return v&&d(v,"normal",e),new h(!0,e)},A=function(e){return x?(a(e),S?F(e[0],e[1],O):F(e[0],e[1])):S?F(e,O):F(e)};if(k)v=e.iterator;else if(C)v=e;else{if(!(g=f(e)))throw p(i(e)+" is not iterable");if(s(g)){for(b=0,y=u(e);y>b;b++)if((D=A(e[b]))&&c(m,D))return D;return new h(!1)}v=l(e,g)}for(w=k?e.next:v.next;!(_=o(w,v)).done;){try{D=A(_.value)}catch(T){d(v,"throw",T)}if("object"==typeof D&&D&&c(m,D))return D}return new h(!1)}},99212:(e,t,n)=>{var r=n(46916),o=n(19670),a=n(58173);e.exports=function(e,t,n){var i,s;o(e);try{if(!(i=a(e,"return"))){if("throw"===t)throw n;return n}i=r(i,e)}catch(u){s=!0,i=u}if("throw"===t)throw n;if(s)throw i;return o(i),n}},63061:(e,t,n)=>{"use strict";var r=n(13383).IteratorPrototype,o=n(70030),a=n(79114),i=n(58003),s=n(97497),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=o(r,{next:a(+!c,n)}),i(e,l,!1,!0),s[l]=u,e}},51656:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(31913),i=n(76530),s=n(60614),u=n(63061),c=n(79518),l=n(27674),f=n(58003),d=n(68880),p=n(98052),h=n(5112),m=n(97497),v=n(13383),g=i.PROPER,b=i.CONFIGURABLE,y=v.IteratorPrototype,D=v.BUGGY_SAFARI_ITERATORS,w=h("iterator"),_="keys",E="values",x="entries",k=function(){return this};e.exports=function(e,t,n,i,h,v,C){u(n,t,i);var S,F,O,A=function(e){if(e===h&&B)return B;if(!D&&e in j)return j[e];switch(e){case _:case E:case x:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",P=!1,j=e.prototype,M=j[w]||j["@@iterator"]||h&&j[h],B=!D&&M||A(h),N="Array"==t&&j.entries||M;if(N&&(S=c(N.call(new e)))!==Object.prototype&&S.next&&(a||c(S)===y||(l?l(S,y):s(S[w])||p(S,w,k)),f(S,T,!0,!0),a&&(m[T]=k)),g&&h==E&&M&&M.name!==E&&(!a&&b?d(j,"name",E):(P=!0,B=function(){return o(M,this)})),h)if(F={values:A(E),keys:v?B:A(_),entries:A(x)},C)for(O in F)(D||P||!(O in j))&&p(j,O,F[O]);else r({target:t,proto:!0,forced:D||P},F);return a&&!C||j[w]===B||p(j,w,B,{name:h}),m[t]=B,F}},13383:(e,t,n)=>{"use strict";var r,o,a,i=n(47293),s=n(60614),u=n(70111),c=n(70030),l=n(79518),f=n(98052),d=n(5112),p=n(31913),h=d("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(o=l(l(a)))!==Object.prototype&&(r=o):m=!0),!u(r)||i((function(){var e={};return r[h].call(e)!==e}))?r={}:p&&(r=c(r)),s(r[h])||f(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},97497:e=>{e.exports={}},26244:(e,t,n)=>{var r=n(17466);e.exports=function(e){return r(e.length)}},56339:(e,t,n)=>{var r=n(47293),o=n(60614),a=n(92597),i=n(19781),s=n(76530).CONFIGURABLE,u=n(42788),c=n(29909),l=c.enforce,f=c.get,d=Object.defineProperty,p=i&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),h=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(i?d(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&a(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?i&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l(e);return a(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&f(this).source||u(this)}),"toString")},64310:e=>{e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},74758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},95948:(e,t,n)=>{var r,o,a,i,s,u,c,l,f=n(17854),d=n(49974),p=n(31236).f,h=n(20261).set,m=n(6833),v=n(71528),g=n(71036),b=n(35268),y=f.MutationObserver||f.WebKitMutationObserver,D=f.document,w=f.process,_=f.Promise,E=p(f,"queueMicrotask"),x=E&&E.value;x||(r=function(){var e,t;for(b&&(e=w.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(n){throw o?i():a=void 0,n}}a=void 0,e&&e.enter()},m||b||g||!y||!D?!v&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,l=d(c.then,c),i=function(){l(r)}):b?i=function(){w.nextTick(r)}:(h=d(h,f),i=function(){h(r)}):(s=!0,u=D.createTextNode(""),new y(r).observe(u,{characterData:!0}),i=function(){u.data=s=!s})),e.exports=x||function(e){var t={fn:e,next:void 0};a&&(a.next=t),o||(o=t,i()),a=t}},78523:(e,t,n)=>{"use strict";var r=n(19662),o=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},56277:(e,t,n)=>{var r=n(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3929:(e,t,n)=>{var r=n(47850),o=TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},77023:(e,t,n)=>{var r=n(17854).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},2814:(e,t,n)=>{var r=n(17854),o=n(47293),a=n(1702),i=n(41340),s=n(53111).trim,u=n(81361),c=a("".charAt),l=r.parseFloat,f=r.Symbol,d=f&&f.iterator,p=1/l(u+"-0")!=-1/0||d&&!o((function(){l(Object(d))}));e.exports=p?function(e){var t=s(i(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},83009:(e,t,n)=>{var r=n(17854),o=n(47293),a=n(1702),i=n(41340),s=n(53111).trim,u=n(81361),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,d=/^[+-]?0x/i,p=a(d.exec),h=8!==c(u+"08")||22!==c(u+"0x16")||f&&!o((function(){c(Object(f))}));e.exports=h?function(e,t){var n=s(i(e));return c(n,t>>>0||(p(d,n)?16:10))}:c},21574:(e,t,n)=>{"use strict";var r=n(19781),o=n(1702),a=n(46916),i=n(47293),s=n(81956),u=n(25181),c=n(55296),l=n(47908),f=n(68361),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||i((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=o}))?function(e,t){for(var n=l(e),o=arguments.length,i=1,d=u.f,p=c.f;o>i;)for(var m,v=f(arguments[i++]),g=d?h(s(v),d(v)):s(v),b=g.length,y=0;b>y;)m=g[y++],r&&!a(p,v,m)||(n[m]=v[m]);return n}:d},70030:(e,t,n)=>{var r,o=n(19670),a=n(36048),i=n(80748),s=n(3501),u=n(60490),c=n(80317),l=n(6200),f=l("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(o){}var e,t;m="undefined"!=typeof document?document.domain&&r?h(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):h(r);for(var n=i.length;n--;)delete m.prototype[i[n]];return m()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[f]=e):n=m(),void 0===t?n:a.f(n,t)}},36048:(e,t,n)=>{var r=n(19781),o=n(3353),a=n(3070),i=n(19670),s=n(45656),u=n(81956);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=u(t),c=o.length,l=0;c>l;)a.f(e,n=o[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(19781),o=n(64664),a=n(3353),i=n(19670),s=n(34948),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?a?function(e,t,n){if(i(e),t=s(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:d in n?n.configurable:r.configurable,enumerable:f in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(i(e),t=s(t),i(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},31236:(e,t,n)=>{var r=n(19781),o=n(46916),a=n(55296),i=n(79114),s=n(45656),u=n(34948),c=n(92597),l=n(64664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return i(!o(a.f,e,t),e[t])}},1156:(e,t,n)=>{var r=n(84326),o=n(45656),a=n(8006).f,i=n(41589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return a(e)}catch(t){return i(s)}}(e):a(o(e))}},8006:(e,t,n)=>{var r=n(16324),o=n(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},79518:(e,t,n)=>{var r=n(92597),o=n(60614),a=n(47908),i=n(6200),s=n(49920),u=i("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},52050:(e,t,n)=>{var r=n(47293),o=n(70111),a=n(84326),i=n(7556),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||i?function(e){return!!o(e)&&((!i||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},47976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},16324:(e,t,n)=>{var r=n(1702),o=n(92597),a=n(45656),i=n(41318).indexOf,s=n(3501),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&u(l,n);for(;t.length>c;)o(r,n=t[c++])&&(~i(l,n)||u(l,n));return l}},81956:(e,t,n)=>{var r=n(16324),o=n(80748);e.exports=Object.keys||function(e){return r(e,o)}},55296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},69026:(e,t,n)=>{"use strict";var r=n(31913),o=n(17854),a=n(47293),i=n(98008);e.exports=r||!a((function(){if(!(i&&i<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}}))},27674:(e,t,n)=>{var r=n(1702),o=n(19670),a=n(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(i){}return function(n,r){return o(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},44699:(e,t,n)=>{var r=n(19781),o=n(1702),a=n(81956),i=n(45656),s=o(n(55296).f),u=o([].push),c=function(e){return function(t){for(var n,o=i(t),c=a(o),l=c.length,f=0,d=[];l>f;)n=c[f++],r&&!s(o,n)||u(d,e?[n,o[n]]:o[n]);return d}};e.exports={entries:c(!0),values:c(!1)}},90288:(e,t,n)=>{"use strict";var r=n(51694),o=n(70648);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},92140:(e,t,n)=>{var r=n(46916),o=n(60614),a=n(70111),i=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!a(s=r(n,e)))return s;if(o(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!a(s=r(n,e)))return s;throw i("Can't convert object to primitive value")}},53887:(e,t,n)=>{var r=n(35005),o=n(1702),a=n(8006),i=n(25181),s=n(19670),u=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=i.f;return n?u(t,n(e)):t}},40857:(e,t,n)=>{var r=n(17854);e.exports=r},12534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},63702:(e,t,n)=>{var r=n(17854),o=n(2492),a=n(60614),i=n(54705),s=n(42788),u=n(5112),c=n(7871),l=n(83823),f=n(31913),d=n(7392),p=o&&o.prototype,h=u("species"),m=!1,v=a(r.PromiseRejectionEvent),g=i("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===d)return!0;if(f&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(m=n.then((function(){}))instanceof r))return!0}return!t&&(c||l)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},2492:(e,t,n)=>{var r=n(17854);e.exports=r.Promise},69478:(e,t,n)=>{var r=n(19670),o=n(70111),a=n(78523);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},80612:(e,t,n)=>{var r=n(2492),o=n(17072),a=n(63702).CONSTRUCTOR;e.exports=a||!o((function(e){r.all(e).then(void 0,(function(){}))}))},2626:(e,t,n)=>{var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},18572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},97651:(e,t,n)=>{var r=n(46916),o=n(19670),a=n(60614),i=n(84326),s=n(22261),u=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&o(c),c}if("RegExp"===i(e))return r(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},22261:(e,t,n)=>{"use strict";var r,o,a=n(46916),i=n(1702),s=n(41340),u=n(67066),c=n(52999),l=n(72309),f=n(70030),d=n(29909).get,p=n(9441),h=n(38173),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=i("".charAt),y=i("".indexOf),D=i("".replace),w=i("".slice),_=(o=/b*/g,a(v,r=/a/,"a"),a(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),E=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(_||x||E||p||h)&&(g=function(e){var t,n,r,o,i,c,l,p=this,h=d(p),k=s(e),C=h.raw;if(C)return C.lastIndex=p.lastIndex,t=a(g,C,k),p.lastIndex=C.lastIndex,t;var S=h.groups,F=E&&p.sticky,O=a(u,p),A=p.source,T=0,P=k;if(F&&(O=D(O,"y",""),-1===y(O,"g")&&(O+="g"),P=w(k,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==b(k,p.lastIndex-1))&&(A="(?: "+A+")",P=" "+P,T++),n=new RegExp("^(?:"+A+")",O)),x&&(n=new RegExp("^"+A+"$(?!\\s)",O)),_&&(r=p.lastIndex),o=a(v,F?n:p,P),F?o?(o.input=w(o.input,T),o[0]=w(o[0],T),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:_&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),x&&o&&o.length>1&&a(m,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&S)for(o.groups=c=f(null),i=0;i<S.length;i++)c[(l=S[i])[0]]=o[l[1]];return o}),e.exports=g},67066:(e,t,n)=>{"use strict";var r=n(19670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},34706:(e,t,n)=>{var r=n(46916),o=n(92597),a=n(47976),i=n(67066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!a(s,e)?t:r(i,e)}},52999:(e,t,n)=>{var r=n(47293),o=n(17854).RegExp,a=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=a||r((function(){return!o("a","y").sticky})),s=a||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:a}},9441:(e,t,n)=>{var r=n(47293),o=n(17854).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:(e,t,n)=>{var r=n(47293),o=n(17854).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84488:(e,t,n)=>{var r=n(68554),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},81150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},17152:(e,t,n)=>{var r=n(17854),o=n(22104),a=n(60614),i=n(88113),s=n(50206),u=n(48053),c=/MSIE .\./.test(i),l=r.Function,f=function(e){return c?function(t,n){var r=u(arguments.length,1)>2,i=a(t)?t:l(t),c=r?s(arguments,2):void 0;return e(r?function(){o(i,this,c)}:i,n)}:e};e.exports={setTimeout:f(r.setTimeout),setInterval:f(r.setInterval)}},96340:(e,t,n)=>{"use strict";var r=n(35005),o=n(3070),a=n(5112),i=n(19781),s=a("species");e.exports=function(e){var t=r(e),n=o.f;i&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},58003:(e,t,n)=>{var r=n(3070).f,o=n(92597),a=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,a)&&r(e,a,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(72309),o=n(69711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,n)=>{var r=n(17854),o=n(13072),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},72309:(e,t,n)=>{var r=n(31913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:(e,t,n)=>{var r=n(19670),o=n(39483),a=n(68554),i=n(5112)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[i])?t:o(n)}},43429:(e,t,n)=>{var r=n(47293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},28710:(e,t,n)=>{var r=n(1702),o=n(19303),a=n(41340),i=n(84488),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(i(t)),d=o(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=u(f,d))<55296||r>56319||d+1===p||(l=u(f,d+1))<56320||l>57343?e?s(f,d):r:e?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},54986:(e,t,n)=>{var r=n(88113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},76650:(e,t,n)=>{var r=n(1702),o=n(17466),a=n(41340),i=n(38415),s=n(84488),u=r(i),c=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var i,f,d=a(s(t)),p=o(n),h=d.length,m=void 0===r?" ":a(r);return p<=h||""==m?d:((f=u(m,l((i=p-h)/m.length))).length>i&&(f=c(f,0,i)),e?d+f:f+d)}};e.exports={start:f(!1),end:f(!0)}},33197:(e,t,n)=>{"use strict";var r=n(1702),o=2147483647,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(i.exec),l=Math.floor,f=String.fromCharCode,d=r("".charCodeAt),p=r([].join),h=r([].push),m=r("".replace),v=r("".split),g=r("".toLowerCase),b=function(e){return e+22+75*(e<26)},y=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},D=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=d(e,n++);if(o>=55296&&o<=56319&&n<r){var a=d(e,n++);56320==(64512&a)?h(t,((1023&o)<<10)+(1023&a)+65536):(h(t,o),n--)}else h(t,o)}return t}(e);var n,r,a=e.length,i=128,c=0,m=72;for(n=0;n<e.length;n++)(r=e[n])<128&&h(t,f(r));var v=t.length,g=v;for(v&&h(t,"-");g<a;){var D=o;for(n=0;n<e.length;n++)(r=e[n])>=i&&r<D&&(D=r);var w=g+1;if(D-i>l((o-c)/w))throw u(s);for(c+=(D-i)*w,i=D,n=0;n<e.length;n++){if((r=e[n])<i&&++c>o)throw u(s);if(r==i){for(var _=c,E=36;;){var x=E<=m?1:E>=m+26?26:E-m;if(_<x)break;var k=_-x,C=36-x;h(t,f(b(x+k%C))),_=l(k/C),E+=36}h(t,f(b(_))),m=y(c,w,g==v),c=0,g++}}c++,i++}return p(t,"")};e.exports=function(e){var t,n,r=[],o=v(m(g(e),i,"."),".");for(t=0;t<o.length;t++)n=o[t],h(r,c(a,n)?"xn--"+D(n):n);return p(r,".")}},38415:(e,t,n)=>{"use strict";var r=n(19303),o=n(41340),a=n(84488),i=RangeError;e.exports=function(e){var t=o(a(this)),n="",s=r(e);if(s<0||s==1/0)throw i("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},10365:(e,t,n)=>{"use strict";var r=n(53111).end,o=n(76091);e.exports=o("trimEnd")?function(){return r(this)}:"".trimEnd},76091:(e,t,n)=>{var r=n(76530).PROPER,o=n(47293),a=n(81361);e.exports=function(e){return o((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e}))}},53111:(e,t,n)=>{var r=n(1702),o=n(84488),a=n(41340),i=n(81361),s=r("".replace),u="["+i+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(e){return function(t){var n=a(o(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},36293:(e,t,n)=>{var r=n(7392),o=n(47293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},56532:(e,t,n)=>{var r=n(46916),o=n(35005),a=n(5112),i=n(98052);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&i(t,s,(function(e){return r(n,this)}),{arity:1})}},2015:(e,t,n)=>{var r=n(36293);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},20261:(e,t,n)=>{var r,o,a,i,s=n(17854),u=n(22104),c=n(49974),l=n(60614),f=n(92597),d=n(47293),p=n(60490),h=n(50206),m=n(80317),v=n(48053),g=n(6833),b=n(35268),y=s.setImmediate,D=s.clearImmediate,w=s.process,_=s.Dispatch,E=s.Function,x=s.MessageChannel,k=s.String,C=0,S={},F="onreadystatechange";try{r=s.location}catch(j){}var O=function(e){if(f(S,e)){var t=S[e];delete S[e],t()}},A=function(e){return function(){O(e)}},T=function(e){O(e.data)},P=function(e){s.postMessage(k(e),r.protocol+"//"+r.host)};y&&D||(y=function(e){v(arguments.length,1);var t=l(e)?e:E(e),n=h(arguments,1);return S[++C]=function(){u(t,void 0,n)},o(C),C},D=function(e){delete S[e]},b?o=function(e){w.nextTick(A(e))}:_&&_.now?o=function(e){_.now(A(e))}:x&&!g?(i=(a=new x).port2,a.port1.onmessage=T,o=c(i.postMessage,i)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(P)?(o=P,s.addEventListener("message",T,!1)):o=F in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),O(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:y,clear:D}},50863:(e,t,n)=>{var r=n(1702);e.exports=r(1..valueOf)},51400:(e,t,n)=>{var r=n(19303),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},64599:(e,t,n)=>{var r=n(57593),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},57067:(e,t,n)=>{var r=n(19303),o=n(17466),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw a("Wrong length or index");return n}},45656:(e,t,n)=>{var r=n(68361),o=n(84488);e.exports=function(e){return r(o(e))}},19303:(e,t,n)=>{var r=n(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},17466:(e,t,n)=>{var r=n(19303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},47908:(e,t,n)=>{var r=n(84488),o=Object;e.exports=function(e){return o(r(e))}},84590:(e,t,n)=>{var r=n(73002),o=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw o("Wrong offset");return n}},73002:(e,t,n)=>{var r=n(19303),o=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw o("The argument can't be less than 0");return t}},57593:(e,t,n)=>{var r=n(46916),o=n(70111),a=n(52190),i=n(58173),s=n(92140),u=n(5112),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,u=i(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!o(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},34948:(e,t,n)=>{var r=n(57593),o=n(52190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},51694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},41340:(e,t,n)=>{var r=n(70648),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},44038:(e,t,n)=>{var r=n(35268);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},66330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},19843:(e,t,n)=>{"use strict";var r=n(82109),o=n(17854),a=n(46916),i=n(19781),s=n(63832),u=n(90260),c=n(13331),l=n(25787),f=n(79114),d=n(68880),p=n(55988),h=n(17466),m=n(57067),v=n(84590),g=n(34948),b=n(92597),y=n(70648),D=n(70111),w=n(52190),_=n(70030),E=n(47976),x=n(27674),k=n(8006).f,C=n(97321),S=n(42092).forEach,F=n(96340),O=n(3070),A=n(31236),T=n(29909),P=n(79587),j=T.get,M=T.set,B=T.enforce,N=O.f,R=A.f,I=Math.round,L=o.RangeError,z=c.ArrayBuffer,q=z.prototype,U=c.DataView,V=u.NATIVE_ARRAY_BUFFER_VIEWS,H=u.TYPED_ARRAY_TAG,$=u.TypedArray,W=u.TypedArrayPrototype,K=u.aTypedArrayConstructor,G=u.isTypedArray,Y="BYTES_PER_ELEMENT",Z="Wrong length",X=function(e,t){K(e);for(var n=0,r=t.length,o=new e(r);r>n;)o[n]=t[n++];return o},J=function(e,t){N(e,t,{get:function(){return j(this)[t]}})},Q=function(e){var t;return E(q,e)||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},ee=function(e,t){return G(e)&&!w(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?f(2,e[t]):R(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&D(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?N(e,t,n):(e[t]=n.value,e)};i?(V||(A.f=te,O.f=ne,J(W,"buffer"),J(W,"byteOffset"),J(W,"byteLength"),J(W,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var i=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,p=o[u],g=p,b=g&&g.prototype,y={},w=function(e,t){N(e,t,{get:function(){return function(e,t){var n=j(e);return n.view[c](t*i+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var o=j(e);n&&(r=(r=I(r))<0?0:r>255?255:255&r),o.view[f](t*i+o.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};V?s&&(g=t((function(e,t,n,r){return l(e,b),P(D(t)?Q(t)?void 0!==r?new p(t,v(n,i),r):void 0!==n?new p(t,v(n,i)):new p(t):G(t)?X(g,t):a(C,g,t):new p(m(t)),e,g)})),x&&x(g,$),S(k(p),(function(e){e in g||d(g,e,p[e])})),g.prototype=b):(g=t((function(e,t,n,r){l(e,b);var o,s,u,c=0,f=0;if(D(t)){if(!Q(t))return G(t)?X(g,t):a(C,g,t);o=t,f=v(n,i);var d=t.byteLength;if(void 0===r){if(d%i)throw L(Z);if((s=d-f)<0)throw L(Z)}else if((s=h(r)*i)+f>d)throw L(Z);u=s/i}else u=m(t),o=new z(s=u*i);for(M(e,{buffer:o,byteOffset:f,byteLength:s,length:u,view:new U(o)});c<u;)w(e,c++)})),x&&x(g,$),b=g.prototype=_(W)),b.constructor!==g&&d(b,"constructor",g),B(b).TypedArrayConstructor=g,H&&d(b,H,u);var E=g!=p;y[u]=g,r({global:!0,constructor:!0,forced:E,sham:!V},y),Y in g||d(g,Y,i),Y in b||d(b,Y,i),F(u)}):e.exports=function(){}},63832:(e,t,n)=>{var r=n(17854),o=n(47293),a=n(17072),i=n(90260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!i||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new s(2),1,void 0).length}))},43074:(e,t,n)=>{var r=n(97745),o=n(66304);e.exports=function(e,t){return r(o(e),t)}},97321:(e,t,n)=>{var r=n(49974),o=n(46916),a=n(39483),i=n(47908),s=n(26244),u=n(18554),c=n(71246),l=n(97659),f=n(44067),d=n(90260).aTypedArrayConstructor,p=n(64599);e.exports=function(e){var t,n,h,m,v,g,b,y,D=a(this),w=i(e),_=arguments.length,E=_>1?arguments[1]:void 0,x=void 0!==E,k=c(w);if(k&&!l(k))for(y=(b=u(w,k)).next,w=[];!(g=o(y,b)).done;)w.push(g.value);for(x&&_>2&&(E=r(E,arguments[2])),n=s(w),h=new(d(D))(n),m=f(h),t=0;n>t;t++)v=x?E(w[t],t):w[t],h[t]=m?p(v):+v;return h}},66304:(e,t,n)=>{var r=n(90260),o=n(36707),a=r.aTypedArrayConstructor,i=r.getTypedArrayConstructor;e.exports=function(e){return a(o(e,i(e)))}},69711:(e,t,n)=>{var r=n(1702),o=0,a=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},85143:(e,t,n)=>{var r=n(47293),o=n(5112),a=n(31913),i=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},43307:(e,t,n)=>{var r=n(36293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(19781),o=n(47293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},94811:(e,t,n)=>{var r=n(17854),o=n(60614),a=r.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},26800:(e,t,n)=>{var r=n(40857),o=n(92597),a=n(6061),i=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:a.f(e)})}},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(17854),o=n(72309),a=n(92597),i=n(69711),s=n(36293),u=n(43307),c=o("wks"),l=r.Symbol,f=l&&l.for,d=u?l:l&&l.withoutSetter||i;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):d(t)}return c[e]}},81361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},89191:(e,t,n)=>{"use strict";var r=n(35005),o=n(92597),a=n(68880),i=n(47976),s=n(27674),u=n(99920),c=n(2626),l=n(79587),f=n(56277),d=n(58340),p=n(11060),h=n(22914),m=n(19781),v=n(31913);e.exports=function(e,t,n,g){var b="stackTraceLimit",y=g?2:1,D=e.split("."),w=D[D.length-1],_=r.apply(null,D);if(_){var E=_.prototype;if(!v&&o(E,"cause")&&delete E.cause,!n)return _;var x=r("Error"),k=t((function(e,t){var n=f(g?t:e,void 0),r=g?new _(e):new _;return void 0!==n&&a(r,"message",n),h&&a(r,"stack",p(r.stack,2)),this&&i(E,this)&&l(r,this,k),arguments.length>y&&d(r,arguments[y]),r}));if(k.prototype=E,"Error"!==w?s?s(k,x):u(k,x,{name:!0}):m&&b in _&&(c(k,_,b),c(k,_,"prepareStackTrace")),u(k,_),!v)try{E.name!==w&&a(E,"name",w),E.constructor=k}catch(C){}return k}}},32120:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(22104),i=n(47293),s=n(89191),u="AggregateError",c=o(u),l=!i((function(){return 1!==c([1]).errors[0]}))&&i((function(){return 7!==c([1],u,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:s(u,(function(e){return function(t,n){return a(e,this,arguments)}}),l,!0)})},56967:(e,t,n)=>{"use strict";var r=n(82109),o=n(47976),a=n(79518),i=n(27674),s=n(99920),u=n(70030),c=n(68880),l=n(79114),f=n(11060),d=n(58340),p=n(20408),h=n(56277),m=n(5112),v=n(22914),g=m("toStringTag"),b=Error,y=[].push,D=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,s=o(w,this);i?n=i(b(),s?a(this):w):(n=s?this:u(w),c(n,g,"Error")),void 0!==t&&c(n,"message",h(t)),v&&c(n,"stack",f(n.stack,1)),d(n,r);var l=[];return p(e,y,{that:l}),c(n,"errors",l),n};i?i(D,b):s(D,b,{name:!0});var w=D.prototype=u(b.prototype,{constructor:l(1,D),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:D})},9170:(e,t,n)=>{n(56967)},18264:(e,t,n)=>{"use strict";var r=n(82109),o=n(17854),a=n(13331),i=n(96340),s="ArrayBuffer",u=a.ArrayBuffer;r({global:!0,constructor:!0,forced:o.ArrayBuffer!==u},{ArrayBuffer:u}),i(s)},76938:(e,t,n)=>{var r=n(82109),o=n(90260);r({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},39575:(e,t,n)=>{"use strict";var r=n(82109),o=n(21470),a=n(47293),i=n(13331),s=n(19670),u=n(51400),c=n(17466),l=n(36707),f=i.ArrayBuffer,d=i.DataView,p=d.prototype,h=o(f.prototype.slice),m=o(p.getUint8),v=o(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(s(this),e);for(var n=s(this).byteLength,r=u(e,n),o=u(void 0===t?n:t,n),a=new(l(this,f))(c(o-r)),i=new d(this),p=new d(a),g=0;r<o;)v(p,g++,m(i,r++));return a}})},92222:(e,t,n)=>{"use strict";var r=n(82109),o=n(47293),a=n(43157),i=n(70111),s=n(47908),u=n(26244),c=n(7207),l=n(86135),f=n(65417),d=n(81194),p=n(5112),h=n(7392),m=p("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d("concat"),b=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!g},{concat:function(e){var t,n,r,o,a,i=s(this),d=f(i,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(b(a=-1===t?i:arguments[t]))for(o=u(a),c(p+o),n=0;n<o;n++,p++)n in a&&l(d,p,a[n]);else c(p+1),l(d,p++,a);return d.length=p,d}})},26541:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).every;r({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},43290:(e,t,n)=>{var r=n(82109),o=n(21285),a=n(51223);r({target:"Array",proto:!0},{fill:o}),a("fill")},57327:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).filter;r({target:"Array",proto:!0,forced:!n(81194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},34553:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).findIndex,a=n(51223),i="findIndex",s=!0;i in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},69826:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).find,a=n(51223),i="find",s=!0;i in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},84944:(e,t,n)=>{"use strict";var r=n(82109),o=n(6790),a=n(47908),i=n(26244),s=n(19303),u=n(65417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=i(t),r=u(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},89554:(e,t,n)=>{"use strict";var r=n(82109),o=n(18533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},91038:(e,t,n)=>{var r=n(82109),o=n(48457);r({target:"Array",stat:!0,forced:!n(17072)((function(e){Array.from(e)}))},{from:o})},26699:(e,t,n)=>{"use strict";var r=n(82109),o=n(41318).includes,a=n(47293),i=n(51223);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},82772:(e,t,n)=>{"use strict";var r=n(82109),o=n(21470),a=n(41318).indexOf,i=n(9341),s=o([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=i("indexOf");r({target:"Array",proto:!0,forced:u||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:a(this,e,t)}})},79753:(e,t,n)=>{n(82109)({target:"Array",stat:!0},{isArray:n(43157)})},66992:(e,t,n)=>{"use strict";var r=n(45656),o=n(51223),a=n(97497),i=n(29909),s=n(3070).f,u=n(51656),c=n(76178),l=n(31913),f=n(19781),d="Array Iterator",p=i.set,h=i.getterFor(d);e.exports=u(Array,"Array",(function(e,t){p(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(v){}},69600:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(68361),i=n(45656),s=n(9341),u=o([].join),c=a!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return u(i(this),void 0===e?",":e)}})},94986:(e,t,n)=>{var r=n(82109),o=n(86583);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},21249:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).map;r({target:"Array",proto:!0,forced:!n(81194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},57658:(e,t,n)=>{"use strict";var r=n(82109),o=n(47908),a=n(26244),i=n(83658),s=n(7207),u=n(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:u||c},{push:function(e){var t=o(this),n=a(t),r=arguments.length;s(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return i(t,n),n}})},96644:(e,t,n)=>{"use strict";var r=n(82109),o=n(53671).right,a=n(9341),i=n(7392),s=n(35268);r({target:"Array",proto:!0,forced:!a("reduceRight")||!s&&i>79&&i<83},{reduceRight:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:(e,t,n)=>{"use strict";var r=n(82109),o=n(53671).left,a=n(9341),i=n(7392),s=n(35268);r({target:"Array",proto:!0,forced:!a("reduce")||!s&&i>79&&i<83},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},65069:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(43157),i=o([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i(this)}})},47042:(e,t,n)=>{"use strict";var r=n(82109),o=n(43157),a=n(4411),i=n(70111),s=n(51400),u=n(26244),c=n(45656),l=n(86135),f=n(5112),d=n(81194),p=n(50206),h=d("slice"),m=f("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,d=c(this),h=u(d),b=s(e,h),y=s(void 0===t?h:t,h);if(o(d)&&(n=d.constructor,(a(n)&&(n===v||o(n.prototype))||i(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return p(d,b,y);for(r=new(void 0===n?v:n)(g(y-b,0)),f=0;b<y;b++,f++)b in d&&l(r,f,d[b]);return r.length=f,r}})},5212:(e,t,n)=>{"use strict";var r=n(82109),o=n(42092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(19662),i=n(47908),s=n(26244),u=n(85117),c=n(41340),l=n(47293),f=n(94362),d=n(9341),p=n(68886),h=n(30256),m=n(7392),v=n(98008),g=[],b=o(g.sort),y=o(g.push),D=l((function(){g.sort(void 0)})),w=l((function(){g.sort(null)})),_=d("sort"),E=!l((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:D||!w||!_||!E},{sort:function(e){void 0!==e&&a(e);var t=i(this);if(E)return void 0===e?b(t):b(t,e);var n,r,o=[],l=s(t);for(r=0;r<l;r++)r in t&&y(o,t[r]);for(f(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=s(o),r=0;r<n;)t[r]=o[r++];for(;r<l;)u(t,r++);return t}})},40561:(e,t,n)=>{"use strict";var r=n(82109),o=n(47908),a=n(51400),i=n(19303),s=n(26244),u=n(83658),c=n(7207),l=n(65417),f=n(86135),d=n(85117),p=n(81194)("splice"),h=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,v,g,b,y=o(this),D=s(y),w=a(e,D),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=D-w):(n=_-2,r=m(h(i(t),0),D-w)),c(D+n-r),p=l(y,r),v=0;v<r;v++)(g=w+v)in y&&f(p,v,y[g]);if(p.length=r,n<r){for(v=w;v<D-r;v++)b=v+n,(g=v+r)in y?y[b]=y[g]:d(y,b);for(v=D;v>D-r+n;v--)d(y,v-1)}else if(n>r)for(v=D-r;v>w;v--)b=v+n-1,(g=v+r-1)in y?y[b]=y[g]:d(y,b);for(v=0;v<n;v++)y[v+w]=arguments[v+2];return u(y,D-r+n),p}})},33792:(e,t,n)=>{n(51223)("flat")},30541:(e,t,n)=>{"use strict";var r=n(82109),o=n(47908),a=n(26244),i=n(83658),s=n(85117),u=n(7207),c=1!==[].unshift(0),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||l},{unshift:function(e){var t=o(this),n=a(t),r=arguments.length;if(r){u(n+r);for(var c=n;c--;){var l=c+r;c in t?t[l]=t[c]:s(t,l)}for(var f=0;f<r;f++)t[f]=arguments[f]}return i(t,n+r)}})},3690:(e,t,n)=>{var r=n(82109),o=n(13331);r({global:!0,constructor:!0,forced:!n(23013)},{DataView:o.DataView})},16716:(e,t,n)=>{n(3690)},3843:(e,t,n)=>{var r=n(82109),o=n(1702),a=Date,i=o(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return i(new a)}})},9550:(e,t,n)=>{n(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},28733:(e,t,n)=>{var r=n(82109),o=n(85573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},5735:(e,t,n)=>{"use strict";var r=n(82109),o=n(47293),a=n(47908),i=n(57593);r({target:"Date",proto:!0,arity:1,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=i(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},96078:(e,t,n)=>{var r=n(92597),o=n(98052),a=n(38709),i=n(5112)("toPrimitive"),s=Date.prototype;r(s,i)||o(s,i,a)},83710:(e,t,n)=>{var r=n(1702),o=n(98052),a=Date.prototype,i="Invalid Date",s="toString",u=r(a.toString),c=r(a.getTime);String(new Date(NaN))!=i&&o(a,s,(function(){var e=c(this);return e==e?u(this):i}))},21703:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(22104),i=n(89191),s="WebAssembly",u=o.WebAssembly,c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=i(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},f=function(e,t){if(u&&u[e]){var n={};n[e]=i("WebAssembly."+e,t,c),r({target:s,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},96647:(e,t,n)=>{var r=n(98052),o=n(7762),a=Error.prototype;a.toString!==o&&r(a,"toString",o)},62130:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(41340),i=o("".charAt),s=o("".charCodeAt),u=o(/./.exec),c=o(1..toString),l=o("".toUpperCase),f=/[\w*+\-./@]/,d=function(e,t){for(var n=c(e,16);n.length<t;)n="0"+n;return n};r({global:!0},{escape:function(e){for(var t,n,r=a(e),o="",c=r.length,p=0;p<c;)t=i(r,p++),u(f,t)?o+=t:o+=(n=s(t,0))<256?"%"+d(n,2):"%u"+l(d(n,4));return o}})},24812:(e,t,n)=>{var r=n(82109),o=n(27065);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},68309:(e,t,n)=>{var r=n(19781),o=n(76530).EXISTS,a=n(1702),i=n(3070).f,s=Function.prototype,u=a(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec);r&&!o&&i(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},35837:(e,t,n)=>{var r=n(82109),o=n(17854);r({global:!0,forced:o.globalThis!==o},{globalThis:o})},38862:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(22104),i=n(46916),s=n(1702),u=n(47293),c=n(43157),l=n(60614),f=n(70111),d=n(52190),p=n(50206),h=n(36293),m=o("JSON","stringify"),v=s(/./.exec),g=s("".charAt),b=s("".charCodeAt),y=s("".replace),D=s(1..toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,x=!h||u((function(){var e=o("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),k=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(e,t){var n=p(arguments),r=t;if((f(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(l(r)&&(t=i(r,this,e,t)),!d(t))return t}),n[1]=t,a(m,null,n)},S=function(e,t,n){var r=g(n,t-1),o=g(n,t+1);return v(_,e)&&!v(E,o)||v(E,e)&&!v(_,r)?"\\u"+D(b(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:x||k},{stringify:function(e,t,n){var r=p(arguments),o=a(x?C:m,null,r);return k&&"string"==typeof o?y(o,w,S):o}})},73706:(e,t,n)=>{var r=n(17854);n(58003)(r.JSON,"JSON",!0)},69098:(e,t,n)=>{"use strict";n(77710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(95631))},51532:(e,t,n)=>{n(69098)},2388:(e,t,n)=>{var r=n(82109),o=Math.floor,a=Math.log,i=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-o(a(t+.5)*i):32}})},25438:(e,t,n)=>{var r=n(82109),o=Math.hypot,a=Math.abs,i=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,s=0,u=arguments.length,c=0;s<u;)c<(n=a(arguments[s++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*i(o)}})},52420:(e,t,n)=>{n(82109)({target:"Math",stat:!0},{sign:n(64310)})},10408:(e,t,n)=>{n(58003)(Math,"Math",!0)},73689:(e,t,n)=>{n(82109)({target:"Math",stat:!0},{trunc:n(74758)})},9653:(e,t,n)=>{"use strict";var r=n(19781),o=n(17854),a=n(1702),i=n(54705),s=n(98052),u=n(92597),c=n(79587),l=n(47976),f=n(52190),d=n(57593),p=n(47293),h=n(8006).f,m=n(31236).f,v=n(3070).f,g=n(50863),b=n(53111).trim,y="Number",D=o.Number,w=D.prototype,_=o.TypeError,E=a("".slice),x=a("".charCodeAt),k=function(e){var t=d(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,n,r,o,a,i,s,u,c=d(e,"number");if(f(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(t=x(c,0))||45===t){if(88===(n=x(c,2))||120===n)return NaN}else if(48===t){switch(x(c,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(i=(a=E(c,2)).length,s=0;s<i;s++)if((u=x(a,s))<48||u>o)return NaN;return parseInt(a,r)}return+c};if(i(y,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var S,F=function(e){var t=arguments.length<1?0:D(k(e)),n=this;return l(w,n)&&p((function(){g(n)}))?c(Object(t),n,F):t},O=r?h(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;O.length>A;A++)u(D,S=O[A])&&!u(F,S)&&v(F,S,m(D,S));F.prototype=w,w.constructor=F,s(o,y,F,{constructor:!0})}},35192:(e,t,n)=>{n(82109)({target:"Number",stat:!0},{isFinite:n(77023)})},33161:(e,t,n)=>{n(82109)({target:"Number",stat:!0},{isInteger:n(55988)})},44048:(e,t,n)=>{n(82109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},44363:(e,t,n)=>{n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:(e,t,n)=>{n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},9494:(e,t,n)=>{var r=n(82109),o=n(83009);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},56977:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(19303),i=n(50863),s=n(38415),u=n(47293),c=RangeError,l=String,f=Math.floor,d=o(s),p=o("".slice),h=o(1..toFixed),m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},v=function(e,t,n){for(var r=-1,o=n;++r<6;)o+=t*e[r],e[r]=o%1e7,o=f(o/1e7)},g=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=f(r/t),r=r%t*1e7},b=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=l(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!u((function(){h({})}))},{toFixed:function(e){var t,n,r,o,s=i(this),u=a(e),f=[0,0,0,0,0,0],h="",y="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(h="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*m(2,69,1))-69)<0?s*m(2,-t,1):s/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(v(f,0,n),r=u;r>=7;)v(f,1e7,0),r-=7;for(v(f,m(10,r,1),0),r=t-1;r>=23;)g(f,1<<23),r-=23;g(f,1<<r),v(f,1,1),g(f,2),y=b(f)}else v(f,0,n),v(f,1<<-t,0),y=b(f)+d("0",u);return y=u>0?h+((o=y.length)<=u?"0."+d("0",u-o)+y:p(y,0,o-u)+"."+p(y,o-u)):h+y}})},55147:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(47293),i=n(50863),s=o(1..toPrecision);r({target:"Number",proto:!0,forced:a((function(){return"1"!==s(1,void 0)}))||!a((function(){s({})}))},{toPrecision:function(e){return void 0===e?s(i(this)):s(i(this),e)}})},19601:(e,t,n)=>{var r=n(82109),o=n(21574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},78011:(e,t,n)=>{n(82109)({target:"Object",stat:!0,sham:!n(19781)},{create:n(70030)})},59595:(e,t,n)=>{"use strict";var r=n(82109),o=n(19781),a=n(69026),i=n(19662),s=n(47908),u=n(3070);o&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(s(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},33321:(e,t,n)=>{var r=n(82109),o=n(19781),a=n(36048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!o},{defineProperties:a})},69070:(e,t,n)=>{var r=n(82109),o=n(19781),a=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!o},{defineProperty:a})},35500:(e,t,n)=>{"use strict";var r=n(82109),o=n(19781),a=n(69026),i=n(19662),s=n(47908),u=n(3070);o&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){u.f(s(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},69720:(e,t,n)=>{var r=n(82109),o=n(44699).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},43371:(e,t,n)=>{var r=n(82109),o=n(76677),a=n(47293),i=n(70111),s=n(62423).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{freeze:function(e){return u&&i(e)?u(s(e)):e}})},38559:(e,t,n)=>{var r=n(82109),o=n(20408),a=n(86135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},38880:(e,t,n)=>{var r=n(82109),o=n(47293),a=n(45656),i=n(31236).f,s=n(19781),u=o((function(){i(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return i(a(e),t)}})},49337:(e,t,n)=>{var r=n(82109),o=n(19781),a=n(53887),i=n(45656),s=n(31236),u=n(86135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),o=s.f,c=a(r),l={},f=0;c.length>f;)void 0!==(n=o(r,t=c[f++]))&&u(l,t,n);return l}})},36210:(e,t,n)=>{var r=n(82109),o=n(47293),a=n(1156).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},29660:(e,t,n)=>{var r=n(82109),o=n(36293),a=n(47293),i=n(25181),s=n(47908);r({target:"Object",stat:!0,forced:!o||a((function(){i.f(1)}))},{getOwnPropertySymbols:function(e){var t=i.f;return t?t(s(e)):[]}})},30489:(e,t,n)=>{var r=n(82109),o=n(47293),a=n(47908),i=n(79518),s=n(49920);r({target:"Object",stat:!0,forced:o((function(){i(1)})),sham:!s},{getPrototypeOf:function(e){return i(a(e))}})},98410:(e,t,n)=>{var r=n(82109),o=n(47293),a=n(70111),i=n(84326),s=n(7556),u=Object.isFrozen;r({target:"Object",stat:!0,forced:o((function(){u(1)}))||s},{isFrozen:function(e){return!a(e)||(!(!s||"ArrayBuffer"!=i(e))||!!u&&u(e))}})},43304:(e,t,n)=>{n(82109)({target:"Object",stat:!0},{is:n(81150)})},47941:(e,t,n)=>{var r=n(82109),o=n(47908),a=n(81956);r({target:"Object",stat:!0,forced:n(47293)((function(){a(1)}))},{keys:function(e){return a(o(e))}})},67987:(e,t,n)=>{"use strict";var r=n(19781),o=n(47045),a=n(70111),i=n(47908),s=n(84488),u=Object.getPrototypeOf,c=Object.setPrototypeOf,l=Object.prototype,f="__proto__";if(r&&u&&c&&!(f in l))try{o(l,f,{configurable:!0,get:function(){return u(i(this))},set:function(e){var t=s(this);(a(e)||null===e)&&a(t)&&c(t,e)}})}catch(d){}},68304:(e,t,n)=>{n(82109)({target:"Object",stat:!0},{setPrototypeOf:n(27674)})},41539:(e,t,n)=>{var r=n(51694),o=n(98052),a=n(90288);r||o(Object.prototype,"toString",a,{unsafe:!0})},26833:(e,t,n)=>{var r=n(82109),o=n(44699).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},54678:(e,t,n)=>{var r=n(82109),o=n(2814);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},91058:(e,t,n)=>{var r=n(82109),o=n(83009);r({global:!0,forced:parseInt!=o},{parseInt:o})},70821:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(19662),i=n(78523),s=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{all:function(e){var t=this,n=i.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=a(t.resolve),i=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,o(n,t,e).then((function(e){u||(u=!0,i[a]=e,--l||r(i))}),c)})),--l||r(i)}));return l.error&&c(l.value),n.promise}})},94164:(e,t,n)=>{"use strict";var r=n(82109),o=n(31913),a=n(63702).CONSTRUCTOR,i=n(2492),s=n(35005),u=n(60614),c=n(98052),l=i&&i.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&u(i)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},43401:(e,t,n)=>{"use strict";var r,o,a,i=n(82109),s=n(31913),u=n(35268),c=n(17854),l=n(46916),f=n(98052),d=n(27674),p=n(58003),h=n(96340),m=n(19662),v=n(60614),g=n(70111),b=n(25787),y=n(36707),D=n(20261).set,w=n(95948),_=n(842),E=n(12534),x=n(18572),k=n(29909),C=n(2492),S=n(63702),F=n(78523),O="Promise",A=S.CONSTRUCTOR,T=S.REJECTION_EVENT,P=S.SUBCLASSING,j=k.getterFor(O),M=k.set,B=C&&C.prototype,N=C,R=B,I=c.TypeError,L=c.document,z=c.process,q=F.f,U=q,V=!!(L&&L.createEvent&&c.dispatchEvent),H="unhandledrejection",$=function(e){var t;return!(!g(e)||!v(t=e.then))&&t},W=function(e,t){var n,r,o,a=t.value,i=1==t.state,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(i||(2===t.rejection&&X(t),t.rejection=1),!0===s?n=a:(f&&f.enter(),n=s(a),f&&(f.exit(),o=!0)),n===e.promise?c(I("Promise-chain cycle")):(r=$(n))?l(r,n,u,c):u(n)):c(a)}catch(d){f&&!o&&f.exit(),c(d)}},K=function(e,t){e.notified||(e.notified=!0,w((function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},G=function(e,t,n){var r,o;V?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!T&&(o=c["on"+e])?o(r):e===H&&_("Unhandled promise rejection",n)},Y=function(e){l(D,c,(function(){var t,n=e.facade,r=e.value;if(Z(e)&&(t=E((function(){u?z.emit("unhandledRejection",r,n):G(H,n,r)})),e.rejection=u||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},X=function(e){l(D,c,(function(){var t=e.facade;u?z.emit("rejectionHandled",t):G("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},Q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw I("Promise can't be resolved itself");var r=$(t);r?w((function(){var n={done:!1};try{l(r,t,J(ee,n,e),J(Q,n,e))}catch(o){Q(n,o,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(o){Q({done:!1},o,e)}}};if(A&&(R=(N=function(e){b(this,R),m(e),l(r,this);var t=j(this);try{e(J(ee,t),J(Q,t))}catch(n){Q(t,n)}}).prototype,(r=function(e){M(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=f(R,"then",(function(e,t){var n=j(this),r=q(y(this,N));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=u?z.domain:void 0,0==n.state?n.reactions.add(r):w((function(){W(r,n)})),r.promise})),o=function(){var e=new r,t=j(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(Q,t)},F.f=q=function(e){return e===N||undefined===e?new o(e):U(e)},!s&&v(C)&&B!==Object.prototype)){a=B.then,P||f(B,"then",(function(e,t){var n=this;return new N((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete B.constructor}catch(te){}d&&d(B,R)}i({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:N}),p(N,O,!1,!0),h(O)},88674:(e,t,n)=>{n(43401),n(70821),n(94164),n(6027),n(60683),n(96294)},6027:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(19662),i=n(78523),s=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{race:function(e){var t=this,n=i.f(t),r=n.reject,c=s((function(){var i=a(t.resolve);u(e,(function(e){o(i,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},60683:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(78523);r({target:"Promise",stat:!0,forced:n(63702).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return o(t.reject,void 0,e),t.promise}})},96294:(e,t,n)=>{"use strict";var r=n(82109),o=n(35005),a=n(31913),i=n(2492),s=n(63702).CONSTRUCTOR,u=n(69478),c=o("Promise"),l=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?i:this,e)}})},12419:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(22104),i=n(27065),s=n(39483),u=n(19670),c=n(70111),l=n(70030),f=n(47293),d=o("Reflect","construct"),p=Object.prototype,h=[].push,m=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),v=!f((function(){d((function(){}))})),g=m||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!m)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(h,r,t),new(a(i,e,r))}var o=n.prototype,f=l(c(o)?o:p),g=a(e,f,t);return c(g)?g:f}})},74819:(e,t,n)=>{var r=n(82109),o=n(46916),a=n(70111),i=n(19670),s=n(45032),u=n(31236),c=n(79518);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,f=arguments.length<3?t:arguments[2];return i(t)===f?t[n]:(r=u.f(t,n))?s(r)?r.value:void 0===r.get?void 0:o(r.get,f):a(l=c(t))?e(l,n,f):void 0}})},81299:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(58003);r({global:!0},{Reflect:{}}),a(o.Reflect,"Reflect",!0)},24603:(e,t,n)=>{var r=n(19781),o=n(17854),a=n(1702),i=n(54705),s=n(79587),u=n(68880),c=n(8006).f,l=n(47976),f=n(47850),d=n(41340),p=n(34706),h=n(52999),m=n(2626),v=n(98052),g=n(47293),b=n(92597),y=n(29909).enforce,D=n(96340),w=n(5112),_=n(9441),E=n(38173),x=w("match"),k=o.RegExp,C=k.prototype,S=o.SyntaxError,F=a(C.exec),O=a("".charAt),A=a("".replace),T=a("".indexOf),P=a("".slice),j=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,B=/a/g,N=new k(M)!==M,R=h.MISSED_STICKY,I=h.UNSUPPORTED_Y,L=r&&(!N||R||_||E||g((function(){return B[x]=!1,k(M)!=M||k(B)==B||"/a/i"!=k(M,"i")})));if(i("RegExp",L)){for(var z=function(e,t){var n,r,o,a,i,c,h=l(C,this),m=f(e),v=void 0===t,g=[],D=e;if(!h&&m&&v&&e.constructor===z)return e;if((m||l(C,e))&&(e=e.source,v&&(t=p(D))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),D=e,_&&"dotAll"in M&&(r=!!t&&T(t,"s")>-1)&&(t=A(t,/s/g,"")),n=t,R&&"sticky"in M&&(o=!!t&&T(t,"y")>-1)&&I&&(t=A(t,/y/g,"")),E&&(a=function(e){for(var t,n=e.length,r=0,o="",a=[],i={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(t=O(e,r)))t+=O(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:F(j,P(e,r+1))&&(r+=2,u=!0),o+=t,c++;continue;case">"===t&&u:if(""===l||b(i,l))throw new S("Invalid capture group name");i[l]=!0,a[a.length]=[l,c],u=!1,l="";continue}u?l+=t:o+=t}return[o,a]}(e),e=a[0],g=a[1]),i=s(k(e,t),h?this:C,z),(r||o||g.length)&&(c=y(i),r&&(c.dotAll=!0,c.raw=z(function(e){for(var t,n=e.length,r=0,o="",a=!1;r<=n;r++)"\\"!==(t=O(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),o+=t):o+="[\\s\\S]":o+=t+O(e,++r);return o}(e),n)),o&&(c.sticky=!0),g.length&&(c.groups=g)),e!==D)try{u(i,"source",""===D?"(?:)":D)}catch(w){}return i},q=c(k),U=0;q.length>U;)m(z,k,q[U++]);C.constructor=z,z.prototype=C,v(o,"RegExp",z,{constructor:!0})}D("RegExp")},28450:(e,t,n)=>{var r=n(19781),o=n(9441),a=n(84326),i=n(47045),s=n(29909).get,u=RegExp.prototype,c=TypeError;r&&o&&i(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},74916:(e,t,n)=>{"use strict";var r=n(82109),o=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},92087:(e,t,n)=>{var r=n(17854),o=n(19781),a=n(47045),i=n(67066),s=n(47293),u=r.RegExp,c=u.prototype;o&&s((function(){var e=!0;try{u(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&a(c,"flags",{configurable:!0,get:i})},88386:(e,t,n)=>{var r=n(19781),o=n(52999).MISSED_STICKY,a=n(84326),i=n(47045),s=n(29909).get,u=RegExp.prototype,c=TypeError;r&&o&&i(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},77601:(e,t,n)=>{"use strict";n(74916);var r,o,a=n(82109),i=n(46916),s=n(60614),u=n(19670),c=n(41340),l=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),f=/./.test;a({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=u(this),n=c(e),r=t.exec;if(!s(r))return i(f,t,n);var o=i(r,t,n);return null!==o&&(u(o),!0)}})},39714:(e,t,n)=>{"use strict";var r=n(76530).PROPER,o=n(98052),a=n(19670),i=n(41340),s=n(47293),u=n(34706),c="toString",l=RegExp.prototype.toString,f=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=c;(f||d)&&o(RegExp.prototype,c,(function(){var e=a(this);return"/"+i(e.source)+"/"+i(u(e))}),{unsafe:!0})},37227:(e,t,n)=>{"use strict";n(77710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(95631))},70189:(e,t,n)=>{n(37227)},79841:(e,t,n)=>{"use strict";var r=n(82109),o=n(28710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return o(this,e)}})},27852:(e,t,n)=>{"use strict";var r,o=n(82109),a=n(21470),i=n(31236).f,s=n(17466),u=n(41340),c=n(3929),l=n(84488),f=n(84964),d=n(31913),p=a("".endsWith),h=a("".slice),m=Math.min,v=f("endsWith");o({target:"String",proto:!0,forced:!!(d||v||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!v},{endsWith:function(e){var t=u(l(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:m(s(n),r),a=u(e);return p?p(t,a,o):h(t,o-a.length,o)===a}})},29253:(e,t,n)=>{"use strict";var r=n(82109),o=n(14230);r({target:"String",proto:!0,forced:n(43429)("fixed")},{fixed:function(){return o(this,"tt","","")}})},94953:(e,t,n)=>{var r=n(82109),o=n(1702),a=n(51400),i=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=o([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!=u.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw i(t+" is not a valid code point");n[o]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(n,"")}})},32023:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(3929),i=n(84488),s=n(41340),u=n(84964),c=o("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(i(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},78783:(e,t,n)=>{"use strict";var r=n(28710).charAt,o=n(41340),a=n(29909),i=n(51656),s=n(76178),u="String Iterator",c=a.set,l=a.getterFor(u);i(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?s(void 0,!0):(e=r(n,o),t.index+=e.length,s(e,!1))}))},29254:(e,t,n)=>{"use strict";var r=n(82109),o=n(14230);r({target:"String",proto:!0,forced:n(43429)("link")},{link:function(e){return o(this,"a","href",e)}})},76373:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(21470),i=n(63061),s=n(76178),u=n(84488),c=n(17466),l=n(41340),f=n(19670),d=n(68554),p=n(84326),h=n(47850),m=n(34706),v=n(58173),g=n(98052),b=n(47293),y=n(5112),D=n(36707),w=n(31530),_=n(97651),E=n(29909),x=n(31913),k=y("matchAll"),C="RegExp String",S="RegExp String Iterator",F=E.set,O=E.getterFor(S),A=RegExp.prototype,T=TypeError,P=a("".indexOf),j=a("".matchAll),M=!!j&&!b((function(){j("a",/./)})),B=i((function(e,t,n,r){F(this,{type:S,regexp:e,string:t,global:n,unicode:r,done:!1})}),C,(function(){var e=O(this);if(e.done)return s(void 0,!0);var t=e.regexp,n=e.string,r=_(t,n);return null===r?(e.done=!0,s(void 0,!0)):e.global?(""===l(r[0])&&(t.lastIndex=w(n,c(t.lastIndex),e.unicode)),s(r,!1)):(e.done=!0,s(r,!1))})),N=function(e){var t,n,r,o=f(this),a=l(e),i=D(o,RegExp),s=l(m(o));return t=new i(i===RegExp?o.source:o,s),n=!!~P(s,"g"),r=!!~P(s,"u"),t.lastIndex=c(o.lastIndex),new B(t,a,n,r)};r({target:"String",proto:!0,forced:M},{matchAll:function(e){var t,n,r,a,i=u(this);if(d(e)){if(M)return j(i,e)}else{if(h(e)&&(t=l(u(m(e))),!~P(t,"g")))throw T("`.matchAll` does not allow non-global regexes");if(M)return j(i,e);if(void 0===(r=v(e,k))&&x&&"RegExp"==p(e)&&(r=N),r)return o(r,e,i)}return n=l(i),a=new RegExp(e,"g"),x?o(N,a,n):a[k](n)}}),x||k in A||g(A,k,N)},4723:(e,t,n)=>{"use strict";var r=n(46916),o=n(27007),a=n(19670),i=n(68554),s=n(17466),u=n(41340),c=n(84488),l=n(58173),f=n(31530),d=n(97651);o("match",(function(e,t,n){return[function(t){var n=c(this),o=i(t)?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),o=u(e),i=n(t,r,o);if(i.done)return i.value;if(!r.global)return d(r,o);var c=r.unicode;r.lastIndex=0;for(var l,p=[],h=0;null!==(l=d(r,o));){var m=u(l[0]);p[h]=m,""===m&&(r.lastIndex=f(o,s(r.lastIndex),c)),h++}return 0===h?null:p}]}))},66528:(e,t,n)=>{"use strict";var r=n(82109),o=n(76650).end;r({target:"String",proto:!0,forced:n(54986)},{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},83112:(e,t,n)=>{"use strict";var r=n(82109),o=n(76650).start;r({target:"String",proto:!0,forced:n(54986)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},82481:(e,t,n)=>{n(82109)({target:"String",proto:!0},{repeat:n(38415)})},68757:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916),a=n(1702),i=n(84488),s=n(60614),u=n(68554),c=n(47850),l=n(41340),f=n(58173),d=n(34706),p=n(10647),h=n(5112),m=n(31913),v=h("replace"),g=TypeError,b=a("".indexOf),y=a("".replace),D=a("".slice),w=Math.max,_=function(e,t,n){return n>e.length?-1:""===t?n:b(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,a,h,E,x,k,C,S,F=i(this),O=0,A=0,T="";if(!u(e)){if((n=c(e))&&(r=l(i(d(e))),!~b(r,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(a=f(e,v))return o(a,e,F,t);if(m&&n)return y(l(F),e,t)}for(h=l(F),E=l(e),(x=s(t))||(t=l(t)),k=E.length,C=w(1,k),O=_(h,E,0);-1!==O;)S=x?l(t(E,O,h)):p(E,h,O,[],void 0,t),T+=D(h,A,O)+S,A=O+k,O=_(h,E,O+C);return A<h.length&&(T+=D(h,A)),T}})},15306:(e,t,n)=>{"use strict";var r=n(22104),o=n(46916),a=n(1702),i=n(27007),s=n(47293),u=n(19670),c=n(60614),l=n(68554),f=n(19303),d=n(17466),p=n(41340),h=n(84488),m=n(31530),v=n(58173),g=n(10647),b=n(97651),y=n(5112)("replace"),D=Math.max,w=Math.min,_=a([].concat),E=a([].push),x=a("".indexOf),k=a("".slice),C="$0"==="a".replace(/./,"$0"),S=!!/./[y]&&""===/./[y]("a","$0");i("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=h(this),a=l(e)?void 0:v(e,y);return a?o(a,e,r,n):o(t,p(r),e,n)},function(e,o){var i=u(this),s=p(e);if("string"==typeof o&&-1===x(o,a)&&-1===x(o,"$<")){var l=n(t,i,s,o);if(l.done)return l.value}var h=c(o);h||(o=p(o));var v=i.global;if(v){var y=i.unicode;i.lastIndex=0}for(var C=[];;){var S=b(i,s);if(null===S)break;if(E(C,S),!v)break;""===p(S[0])&&(i.lastIndex=m(s,d(i.lastIndex),y))}for(var F,O="",A=0,T=0;T<C.length;T++){for(var P=p((S=C[T])[0]),j=D(w(f(S.index),s.length),0),M=[],B=1;B<S.length;B++)E(M,void 0===(F=S[B])?F:String(F));var N=S.groups;if(h){var R=_([P],M,j,s);void 0!==N&&E(R,N);var I=p(r(o,void 0,R))}else I=g(P,s,j,M,N,o);j>=A&&(O+=k(s,A,j)+I,A=j+P.length)}return O+k(s,A)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||S)},64765:(e,t,n)=>{"use strict";var r=n(46916),o=n(27007),a=n(19670),i=n(68554),s=n(84488),u=n(81150),c=n(41340),l=n(58173),f=n(97651);o("search",(function(e,t,n){return[function(t){var n=s(this),o=i(t)?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=a(this),o=c(e),i=n(t,r,o);if(i.done)return i.value;var s=r.lastIndex;u(s,0)||(r.lastIndex=0);var l=f(r,o);return u(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},23123:(e,t,n)=>{"use strict";var r=n(22104),o=n(46916),a=n(1702),i=n(27007),s=n(19670),u=n(68554),c=n(47850),l=n(84488),f=n(36707),d=n(31530),p=n(17466),h=n(41340),m=n(58173),v=n(41589),g=n(97651),b=n(22261),y=n(52999),D=n(47293),w=y.UNSUPPORTED_Y,_=4294967295,E=Math.min,x=[].push,k=a(/./.exec),C=a(x),S=a("".slice);i("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=h(l(this)),i=void 0===n?_:n>>>0;if(0===i)return[];if(void 0===e)return[a];if(!c(e))return o(t,a,e,i);for(var s,u,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=new RegExp(e.source,p+"g");(s=o(b,g,a))&&!((u=g.lastIndex)>m&&(C(d,S(a,m,s.index)),s.length>1&&s.index<a.length&&r(x,d,v(s,1)),f=s[0].length,m=u,d.length>=i));)g.lastIndex===s.index&&g.lastIndex++;return m===a.length?!f&&k(g,"")||C(d,""):C(d,S(a,m)),d.length>i?v(d,0,i):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=l(this),i=u(t)?void 0:m(t,e);return i?o(i,t,r,n):o(a,h(r),t,n)},function(e,r){var o=s(this),i=h(e),u=n(a,o,i,r,a!==t);if(u.done)return u.value;var c=f(o,RegExp),l=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),v=new c(w?"^(?:"+o.source+")":o,m),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===i.length)return null===g(v,i)?[i]:[];for(var y=0,D=0,x=[];D<i.length;){v.lastIndex=w?0:D;var k,F=g(v,w?S(i,D):i);if(null===F||(k=E(p(v.lastIndex+(w?D:0)),i.length))===y)D=d(i,D,l);else{if(C(x,S(i,y,D)),x.length===b)return x;for(var O=1;O<=F.length-1;O++)if(C(x,F[O]),x.length===b)return x;D=y=k}}return C(x,S(i,y)),x}]}),!!D((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},23157:(e,t,n)=>{"use strict";var r,o=n(82109),a=n(21470),i=n(31236).f,s=n(17466),u=n(41340),c=n(3929),l=n(84488),f=n(84964),d=n(31913),p=a("".startsWith),h=a("".slice),m=Math.min,v=f("startsWith");o({target:"String",proto:!0,forced:!!(d||v||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!v},{startsWith:function(e){var t=u(l(this));c(e);var n=s(m(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return p?p(t,r,n):h(t,n,n+r.length)===r}})},60086:(e,t,n)=>{"use strict";var r=n(82109),o=n(14230);r({target:"String",proto:!0,forced:n(43429)("sub")},{sub:function(){return o(this,"sub","","")}})},83650:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(84488),i=n(19303),s=n(41340),u=o("".slice),c=Math.max,l=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,r,o=s(a(this)),f=o.length,d=i(e);return d===1/0&&(d=0),d<0&&(d=c(f+d,0)),(n=void 0===t?f:i(t))<=0||n===1/0||d>=(r=l(d+n,f))?"":u(o,d,r)}})},48702:(e,t,n)=>{n(83462);var r=n(82109),o=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},83462:(e,t,n)=>{var r=n(82109),o=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},73210:(e,t,n)=>{"use strict";var r=n(82109),o=n(53111).trim;r({target:"String",proto:!0,forced:n(76091)("trim")},{trim:function(){return o(this)}})},72443:(e,t,n)=>{n(26800)("asyncIterator")},4032:(e,t,n)=>{"use strict";var r=n(82109),o=n(17854),a=n(46916),i=n(1702),s=n(31913),u=n(19781),c=n(36293),l=n(47293),f=n(92597),d=n(47976),p=n(19670),h=n(45656),m=n(34948),v=n(41340),g=n(79114),b=n(70030),y=n(81956),D=n(8006),w=n(1156),_=n(25181),E=n(31236),x=n(3070),k=n(36048),C=n(55296),S=n(98052),F=n(72309),O=n(6200),A=n(3501),T=n(69711),P=n(5112),j=n(6061),M=n(26800),B=n(56532),N=n(58003),R=n(29909),I=n(42092).forEach,L=O("hidden"),z="Symbol",q=R.set,U=R.getterFor(z),V=Object.prototype,H=o.Symbol,$=H&&H.prototype,W=o.TypeError,K=o.QObject,G=E.f,Y=x.f,Z=w.f,X=C.f,J=i([].push),Q=F("symbols"),ee=F("op-symbols"),te=F("wks"),ne=!K||!K.prototype||!K.prototype.findChild,re=u&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(V,t);r&&delete V[t],Y(e,t,n),r&&e!==V&&Y(V,t,r)}:Y,oe=function(e,t){var n=Q[e]=b($);return q(n,{type:z,tag:e,description:t}),u||(n.description=t),n},ae=function(e,t,n){e===V&&ae(ee,t,n),p(e);var r=m(t);return p(n),f(Q,r)?(n.enumerable?(f(e,L)&&e[L][r]&&(e[L][r]=!1),n=b(n,{enumerable:g(0,!1)})):(f(e,L)||Y(e,L,g(1,{})),e[L][r]=!0),re(e,r,n)):Y(e,r,n)},ie=function(e,t){p(e);var n=h(t),r=y(n).concat(le(n));return I(r,(function(t){u&&!a(se,n,t)||ae(e,t,n[t])})),e},se=function(e){var t=m(e),n=a(X,this,t);return!(this===V&&f(Q,t)&&!f(ee,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,L)&&this[L][t])||n)},ue=function(e,t){var n=h(e),r=m(t);if(n!==V||!f(Q,r)||f(ee,r)){var o=G(n,r);return!o||!f(Q,r)||f(n,L)&&n[L][r]||(o.enumerable=!0),o}},ce=function(e){var t=Z(h(e)),n=[];return I(t,(function(e){f(Q,e)||f(A,e)||J(n,e)})),n},le=function(e){var t=e===V,n=Z(t?ee:h(e)),r=[];return I(n,(function(e){!f(Q,e)||t&&!f(V,e)||J(r,Q[e])})),r};c||(S($=(H=function(){if(d($,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=T(e),n=function(e){this===V&&a(n,ee,e),f(this,L)&&f(this[L],t)&&(this[L][t]=!1),re(this,t,g(1,e))};return u&&ne&&re(V,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return U(this).tag})),S(H,"withoutSetter",(function(e){return oe(T(e),e)})),C.f=se,x.f=ae,k.f=ie,E.f=ue,D.f=w.f=ce,_.f=le,j.f=function(e){return oe(P(e),e)},u&&(Y($,"description",{configurable:!0,get:function(){return U(this).description}}),s||S(V,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),I(y(te),(function(e){M(e)})),r({target:z,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?b(e):ie(b(e),t)},defineProperty:ae,defineProperties:ie,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),B(),N(H,z),A[L]=!0},41817:(e,t,n)=>{"use strict";var r=n(82109),o=n(19781),a=n(17854),i=n(1702),s=n(92597),u=n(60614),c=n(47976),l=n(41340),f=n(3070).f,d=n(99920),p=a.Symbol,h=p&&p.prototype;if(o&&u(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};d(v,p),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(p("test")),b=i(h.valueOf),y=i(h.toString),D=/^Symbol\((.*)\)[^)]+$/,w=i("".replace),_=i("".slice);f(h,"description",{configurable:!0,get:function(){var e=b(this);if(s(m,e))return"";var t=y(e),n=g?_(t,7,-1):w(t,D,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},40763:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(92597),i=n(41340),s=n(72309),u=n(2015),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=i(e);if(a(c,t))return c[t];var n=o("Symbol")(t);return c[t]=n,l[n]=t,n}})},32165:(e,t,n)=>{n(26800)("iterator")},82526:(e,t,n)=>{n(4032),n(40763),n(26620),n(38862),n(29660)},26620:(e,t,n)=>{var r=n(82109),o=n(92597),a=n(52190),i=n(66330),s=n(72309),u=n(2015),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw TypeError(i(e)+" is not a symbol");if(o(c,e))return c[e]}})},96649:(e,t,n)=>{var r=n(26800),o=n(56532);r("toPrimitive"),o()},39341:(e,t,n)=>{var r=n(35005),o=n(26800),a=n(58003);o("toStringTag"),a(r("Symbol"),"Symbol")},48675:(e,t,n)=>{"use strict";var r=n(90260),o=n(26244),a=n(19303),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=i(this),n=o(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},92990:(e,t,n)=>{"use strict";var r=n(1702),o=n(90260),a=r(n(1048)),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(i(this),e,t,arguments.length>2?arguments[2]:void 0)}))},18927:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33105:(e,t,n)=>{"use strict";var r=n(90260),o=n(21285),a=n(64599),i=n(70648),s=n(46916),u=n(1702),c=n(47293),l=r.aTypedArray,f=r.exportTypedArrayMethod,d=u("".slice);f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===d(i(this),0,3)?a(e):+e;return s(o,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},35035:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).filter,a=n(43074),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=o(i(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},14590:(e,t,n)=>{"use strict";var r=n(90260),o=n(9671).findLastIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},63408:(e,t,n)=>{"use strict";var r=n(90260),o=n(9671).findLast,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74345:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44197:(e,t,n)=>{n(19843)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},76495:(e,t,n)=>{n(19843)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},32846:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44731:(e,t,n)=>{"use strict";var r=n(90260),o=n(41318).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},77209:(e,t,n)=>{"use strict";var r=n(90260),o=n(41318).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},35109:(e,t,n)=>{n(19843)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},65125:(e,t,n)=>{n(19843)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},87145:(e,t,n)=>{n(19843)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},96319:(e,t,n)=>{"use strict";var r=n(17854),o=n(47293),a=n(1702),i=n(90260),s=n(66992),u=n(5112)("iterator"),c=r.Uint8Array,l=a(s.values),f=a(s.keys),d=a(s.entries),p=i.aTypedArray,h=i.exportTypedArrayMethod,m=c&&c.prototype,v=!o((function(){m[u].call([1])})),g=!!m&&m.values&&m[u]===m.values&&"values"===m.values.name,b=function(){return l(p(this))};h("entries",(function(){return d(p(this))}),v),h("keys",(function(){return f(p(this))}),v),h("values",b,v||!g,{name:"values"}),h(u,b,v||!g,{name:"values"})},58867:(e,t,n)=>{"use strict";var r=n(90260),o=n(1702),a=r.aTypedArray,i=r.exportTypedArrayMethod,s=o([].join);i("join",(function(e){return s(a(this),e)}))},37789:(e,t,n)=>{"use strict";var r=n(90260),o=n(22104),a=n(86583),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return o(a,i(this),t>1?[e,arguments[1]]:[e])}))},33739:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).map,a=n(66304),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},14483:(e,t,n)=>{"use strict";var r=n(90260),o=n(53671).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return o(a(this),e,t,t>1?arguments[1]:void 0)}))},29368:(e,t,n)=>{"use strict";var r=n(90260),o=n(53671).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return o(a(this),e,t,t>1?arguments[1]:void 0)}))},12056:(e,t,n)=>{"use strict";var r=n(90260),o=r.aTypedArray,a=r.exportTypedArrayMethod,i=Math.floor;a("reverse",(function(){for(var e,t=this,n=o(t).length,r=i(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},3462:(e,t,n)=>{"use strict";var r=n(17854),o=n(46916),a=n(90260),i=n(26244),s=n(84590),u=n(47908),c=n(47293),l=r.RangeError,f=r.Int8Array,d=f&&f.prototype,p=d&&d.set,h=a.aTypedArray,m=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return o(p,e,{length:1,0:3},1),3!==e[1]})),g=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(v)return o(p,this,n,t);var r=this.length,a=i(n),c=0;if(a+t>r)throw l("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!v||g)},30678:(e,t,n)=>{"use strict";var r=n(90260),o=n(66304),a=n(47293),i=n(50206),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=i(s(this),e,t),r=o(this),a=0,u=n.length,c=new r(u);u>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},27462:(e,t,n)=>{"use strict";var r=n(90260),o=n(42092).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33824:(e,t,n)=>{"use strict";var r=n(17854),o=n(21470),a=n(47293),i=n(19662),s=n(94362),u=n(90260),c=n(68886),l=n(30256),f=n(7392),d=n(98008),p=u.aTypedArray,h=u.exportTypedArrayMethod,m=r.Uint16Array,v=m&&o(m.prototype.sort),g=!(!v||a((function(){v(new m(2),null)}))&&a((function(){v(new m(2),{})}))),b=!!v&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));h("sort",(function(e){return void 0!==e&&i(e),b?v(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||g)},55021:(e,t,n)=>{"use strict";var r=n(90260),o=n(17466),a=n(51400),i=n(66304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,u=a(e,r);return new(i(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,o((void 0===t?r:a(t,r))-u))}))},12974:(e,t,n)=>{"use strict";var r=n(17854),o=n(22104),a=n(90260),i=n(47293),s=n(50206),u=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,d=!!u&&i((function(){f.call(new u(1))}));l("toLocaleString",(function(){return o(f,d?s(c(this)):c(this),s(arguments))}),i((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!i((function(){u.prototype.toLocaleString.call([1,2])})))},15016:(e,t,n)=>{"use strict";var r=n(90260).exportTypedArrayMethod,o=n(47293),a=n(17854),i=n(1702),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=i([].join);o((function(){c.call({})}))&&(c=function(){return l(this)});var f=u.toString!=c;r("toString",c,f)},8255:(e,t,n)=>{n(19843)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},29135:(e,t,n)=>{n(19843)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},82472:(e,t,n)=>{n(19843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},49743:(e,t,n)=>{n(19843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},78221:(e,t,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(41340),i=String.fromCharCode,s=o("".charAt),u=o(/./.exec),c=o("".slice),l=/^[\da-f]{2}$/i,f=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,n,r=a(e),o="",d=r.length,p=0;p<d;){if("%"===(t=s(r,p++)))if("u"===s(r,p)){if(n=c(r,p+1,p+5),u(f,n)){o+=i(parseInt(n,16)),p+=5;continue}}else if(n=c(r,p,p+2),u(l,n)){o+=i(parseInt(n,16)),p+=2;continue}o+=t}return o}})},41202:(e,t,n)=>{"use strict";var r,o=n(17854),a=n(1702),i=n(89190),s=n(62423),u=n(77710),c=n(29320),l=n(70111),f=n(52050),d=n(29909).enforce,p=n(94811),h=!o.ActiveXObject&&"ActiveXObject"in o,m=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=u("WeakMap",m,c);if(p&&h){r=c.getConstructor(m,"WeakMap",!0),s.enable();var g=v.prototype,b=a(g.delete),y=a(g.has),D=a(g.get),w=a(g.set);i(g,{delete:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new r),b(this,e)||t.frozen.delete(e)}return b(this,e)},has:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new r),y(this,e)||t.frozen.has(e)}return y(this,e)},get:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new r),y(this,e)?D(this,e):t.frozen.get(e)}return D(this,e)},set:function(e,t){if(l(e)&&!f(e)){var n=d(this);n.frozen||(n.frozen=new r),y(this,e)?w(this,e,t):n.frozen.set(e,t)}else w(this,e,t);return this}})}},4129:(e,t,n)=>{n(41202)},72098:(e,t,n)=>{"use strict";n(77710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(29320))},38478:(e,t,n)=>{n(72098)},75505:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(1702),i=n(47293),s=n(41340),u=n(92597),c=n(48053),l=n(14170).ctoi,f=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,p=/[=]+$/,h=o("atob"),m=String.fromCharCode,v=a("".charAt),g=a("".replace),b=a(f.exec),y=i((function(){return""!==h(" ")})),D=!i((function(){h("a")})),w=!y&&!D&&!i((function(){h()})),_=!y&&!D&&1!==h.length;r({global:!0,enumerable:!0,forced:y||D||w||_},{atob:function(e){if(c(arguments.length,1),w||_)return h(e);var t,n,r=g(s(e),d,""),a="",i=0,y=0;if(r.length%4==0&&(r=g(r,p,"")),r.length%4==1||b(f,r))throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=v(r,i++);)u(l,t)&&(n=y%4?64*n+l[t]:l[t],y++%4&&(a+=m(255&n>>(-2*y&6))));return a}})},27479:(e,t,n)=>{var r=n(82109),o=n(35005),a=n(1702),i=n(47293),s=n(41340),u=n(48053),c=n(14170).itoc,l=o("btoa"),f=a("".charAt),d=a("".charCodeAt),p=!!l&&!i((function(){l()})),h=!!l&&i((function(){return"bnVsbA=="!==l(null)})),m=!!l&&1!==l.length;r({global:!0,enumerable:!0,forced:p||h||m},{btoa:function(e){if(u(arguments.length,1),p||h||m)return l(s(e));for(var t,n,r=s(e),a="",i=0,v=c;f(r,i)||(v="=",i%1);){if((n=d(r,i+=3/4))>255)throw new(o("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a+=f(v,63&(t=t<<8|n)>>8-i%1*8)}return a}})},11091:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(20261).clear;r({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==a},{clearImmediate:a})},54747:(e,t,n)=>{var r=n(17854),o=n(48324),a=n(98509),i=n(18533),s=n(68880),u=function(e){if(e&&e.forEach!==i)try{s(e,"forEach",i)}catch(t){e.forEach=i}};for(var c in o)o[c]&&u(r[c]&&r[c].prototype);u(a)},33948:(e,t,n)=>{var r=n(17854),o=n(48324),a=n(98509),i=n(66992),s=n(68880),u=n(5112),c=u("iterator"),l=u("toStringTag"),f=i.values,d=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(r){e[c]=f}if(e[l]||s(e,l,t),o[t])for(var n in i)if(e[n]!==i[n])try{s(e,n,i[n])}catch(r){e[n]=i[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(a,"DOMTokenList")},87714:(e,t,n)=>{"use strict";var r=n(82109),o=n(44038),a=n(35005),i=n(47293),s=n(70030),u=n(79114),c=n(3070).f,l=n(98052),f=n(47045),d=n(92597),p=n(25787),h=n(19670),m=n(7762),v=n(56277),g=n(93678),b=n(11060),y=n(29909),D=n(19781),w=n(31913),_="DOMException",E="DATA_CLONE_ERR",x=a("Error"),k=a(_)||function(){try{(new(a("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==E&&25==e.code)return e.constructor}}(),C=k&&k.prototype,S=x.prototype,F=y.set,O=y.getterFor(_),A="stack"in x(_),T=function(e){return d(g,e)&&g[e].m?g[e].c:0},P=function(){p(this,j);var e=arguments.length,t=v(e<1?void 0:arguments[0]),n=v(e<2?void 0:arguments[1],"Error"),r=T(n);if(F(this,{type:_,name:n,message:t,code:r}),D||(this.name=n,this.message=t,this.code=r),A){var o=x(t);o.name=_,c(this,"stack",u(1,b(o.stack,1)))}},j=P.prototype=s(S),M=function(e){return{enumerable:!0,configurable:!0,get:e}},B=function(e){return M((function(){return O(this)[e]}))};D&&(f(j,"code",B("code")),f(j,"message",B("message")),f(j,"name",B("name"))),c(j,"constructor",u(1,P));var N=i((function(){return!(new k instanceof x)})),R=N||i((function(){return S.toString!==m||"2: 1"!==String(new k(1,2))})),I=N||i((function(){return 25!==new k(1,"DataCloneError").code})),L=N||25!==k.DATA_CLONE_ERR||25!==C.DATA_CLONE_ERR,z=w?R||I||L:N;r({global:!0,constructor:!0,forced:z},{DOMException:z?P:k});var q=a(_),U=q.prototype;for(var V in R&&(w||k===q)&&l(U,"toString",m),I&&D&&k===q&&f(U,"code",M((function(){return T(h(this).name)}))),g)if(d(g,V)){var H=g[V],$=H.s,W=u(6,H.c);d(q,$)||c(q,$,W),d(U,$)||c(U,$,W)}},82801:(e,t,n)=>{"use strict";var r=n(82109),o=n(17854),a=n(35005),i=n(79114),s=n(3070).f,u=n(92597),c=n(25787),l=n(79587),f=n(56277),d=n(93678),p=n(11060),h=n(19781),m=n(31913),v="DOMException",g=a("Error"),b=a(v),y=function(){c(this,D);var e=arguments.length,t=f(e<1?void 0:arguments[0]),n=f(e<2?void 0:arguments[1],"Error"),r=new b(t,n),o=g(t);return o.name=v,s(r,"stack",i(1,p(o.stack,1))),l(r,this,y),r},D=y.prototype=b.prototype,w="stack"in g(v),_="stack"in new b(1,2),E=b&&h&&Object.getOwnPropertyDescriptor(o,v),x=!(!E||E.writable&&E.configurable),k=w&&!x&&!_;r({global:!0,constructor:!0,forced:m||k},{DOMException:k?y:b});var C=a(v),S=C.prototype;if(S.constructor!==C)for(var F in m||s(S,"constructor",i(1,C)),d)if(u(d,F)){var O=d[F],A=O.s;u(C,A)||s(C,A,i(6,O.c))}},1174:(e,t,n)=>{var r=n(35005),o="DOMException";n(58003)(r(o),o)},84633:(e,t,n)=>{n(11091),n(12986)},85844:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(95948),i=n(19662),s=n(48053),u=n(35268),c=o.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),i(e);var t=u&&c.domain;a(t?t.bind(e):e)}})},12986:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(20261).set;r({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==a},{setImmediate:a})},96815:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(17152).setInterval;r({global:!0,bind:!0,forced:o.setInterval!==a},{setInterval:a})},88417:(e,t,n)=>{var r=n(82109),o=n(17854),a=n(17152).setTimeout;r({global:!0,bind:!0,forced:o.setTimeout!==a},{setTimeout:a})},61295:(e,t,n)=>{var r,o=n(31913),a=n(82109),i=n(17854),s=n(35005),u=n(1702),c=n(47293),l=n(69711),f=n(60614),d=n(4411),p=n(68554),h=n(70111),m=n(52190),v=n(20408),g=n(19670),b=n(70648),y=n(92597),D=n(86135),w=n(68880),_=n(26244),E=n(48053),x=n(34706),k=n(22914),C=n(7392),S=n(7871),F=n(83823),O=n(35268),A=i.Object,T=i.Date,P=i.Error,j=i.EvalError,M=i.RangeError,B=i.ReferenceError,N=i.SyntaxError,R=i.TypeError,I=i.URIError,L=i.PerformanceMark,z=i.WebAssembly,q=z&&z.CompileError||P,U=z&&z.LinkError||P,V=z&&z.RuntimeError||P,H=s("DOMException"),$=s("Set"),W=s("Map"),K=W.prototype,G=u(K.has),Y=u(K.get),Z=u(K.set),X=u($.prototype.add),J=s("Object","keys"),Q=u([].push),ee=u((!0).valueOf),te=u(1..valueOf),ne=u("".valueOf),re=u(T.prototype.getTime),oe=l("structuredClone"),ae="DataCloneError",ie="Transferring",se=function(e){return!c((function(){var t=new i.Set([7]),n=e(t),r=e(A(7));return n==t||!n.has(7)||"object"!=typeof r||7!=r}))&&e},ue=function(e,t){return!c((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},ce=i.structuredClone,le=o||!ue(ce,P)||!ue(ce,H)||(r=ce,!!c((function(){var e=r(new i.AggregateError([1],oe,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=oe||3!=e.cause}))),fe=!ce&&se((function(e){return new L(oe,{detail:e}).detail})),de=se(ce)||fe,pe=function(e){throw new H("Uncloneable type: "+e,ae)},he=function(e,t){throw new H((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ae)},me=function(e,t){if(m(e)&&pe("Symbol"),!h(e))return e;if(t){if(G(t,e))return Y(t,e)}else t=new W;var n,r,o,a,u,c,l,d,p,v,g=b(e),E=!1;switch(g){case"Array":o=[],E=!0;break;case"Object":o={},E=!0;break;case"Map":o=new W,E=!0;break;case"Set":o=new $,E=!0;break;case"RegExp":o=new RegExp(e.source,x(e));break;case"Error":switch(r=e.name){case"AggregateError":o=s("AggregateError")([]);break;case"EvalError":o=j();break;case"RangeError":o=M();break;case"ReferenceError":o=B();break;case"SyntaxError":o=N();break;case"TypeError":o=R();break;case"URIError":o=I();break;case"CompileError":o=q();break;case"LinkError":o=U();break;case"RuntimeError":o=V();break;default:o=P()}E=!0;break;case"DOMException":o=new H(e.message,e.name),E=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=i[g],h(n)||he(g),o=new n(me(e.buffer,t),e.byteOffset,"DataView"===g?e.byteLength:e.length);break;case"DOMQuad":try{o=new DOMQuad(me(e.p1,t),me(e.p2,t),me(e.p3,t),me(e.p4,t))}catch(C){de?o=de(e):he(g)}break;case"FileList":if(a=function(){var e;try{e=new i.DataTransfer}catch(C){try{e=new i.ClipboardEvent("").clipboardData}catch(t){}}return e&&e.items&&e.files?e:null}()){for(u=0,c=_(e);u<c;u++)a.items.add(me(e[u],t));o=a.files}else de?o=de(e):he(g);break;case"ImageData":try{o=new ImageData(me(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(C){de?o=de(e):he(g)}break;default:if(de)o=de(e);else switch(g){case"BigInt":o=A(e.valueOf());break;case"Boolean":o=A(ee(e));break;case"Number":o=A(te(e));break;case"String":o=A(ne(e));break;case"Date":o=new T(re(e));break;case"ArrayBuffer":(n=i.DataView)||"function"==typeof e.slice||he(g);try{if("function"==typeof e.slice)o=e.slice(0);else for(c=e.byteLength,o=new ArrayBuffer(c),p=new n(e),v=new n(o),u=0;u<c;u++)v.setUint8(u,p.getUint8(u))}catch(C){throw new H("ArrayBuffer is detached",ae)}break;case"SharedArrayBuffer":o=e;break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(C){he(g)}break;case"DOMPoint":case"DOMPointReadOnly":n=i[g];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(C){he(g)}break;case"DOMRect":case"DOMRectReadOnly":n=i[g];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(C){he(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=i[g];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(C){he(g)}break;case"AudioData":case"VideoFrame":f(e.clone)||he(g);try{o=e.clone()}catch(C){pe(g)}break;case"File":try{o=new File([e],e.name,e)}catch(C){he(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(g);default:pe(g)}}if(Z(t,e,o),E)switch(g){case"Array":case"Object":for(l=J(e),u=0,c=_(l);u<c;u++)d=l[u],D(o,d,me(e[d],t));break;case"Map":e.forEach((function(e,n){Z(o,me(n,t),me(e,t))}));break;case"Set":e.forEach((function(e){X(o,me(e,t))}));break;case"Error":w(o,"message",me(e.message,t)),y(e,"cause")&&w(o,"cause",me(e.cause,t)),"AggregateError"==r&&(o.errors=me(e.errors,t));case"DOMException":k&&w(o,"stack",me(e.stack,t))}return o},ve=ce&&!c((function(){if(F&&C>92||O&&C>94||S&&C>97)return!1;var e=new ArrayBuffer(8),t=ce(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength})),ge=function(e,t){if(!h(e))throw R("Transfer option cannot be converted to a sequence");var n=[];v(e,(function(e){Q(n,g(e))}));var r,o,a,s,u,c,l=0,p=_(n);if(ve)for(s=ce(n,{transfer:n});l<p;)Z(t,n[l],s[l++]);else for(;l<p;){if(r=n[l++],G(t,r))throw new H("Duplicate transferable",ae);switch(o=b(r)){case"ImageBitmap":a=i.OffscreenCanvas,d(a)||he(o,ie);try{(c=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),u=c.transferToImageBitmap()}catch(m){}break;case"AudioData":case"VideoFrame":f(r.clone)&&f(r.close)||he(o,ie);try{u=r.clone(),r.close()}catch(m){}break;case"ArrayBuffer":case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(o,ie)}if(void 0===u)throw new H("This object cannot be transferred: "+o,ae);Z(t,r,u)}};a({global:!0,enumerable:!0,sham:!ve,forced:le},{structuredClone:function(e){var t,n=E(arguments.length,1)>1&&!p(arguments[1])?g(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&(t=new W,ge(r,t)),me(e,t)}})},32564:(e,t,n)=>{n(96815),n(88417)},65556:(e,t,n)=>{"use strict";n(66992);var r=n(82109),o=n(17854),a=n(46916),i=n(1702),s=n(19781),u=n(85143),c=n(98052),l=n(89190),f=n(58003),d=n(63061),p=n(29909),h=n(25787),m=n(60614),v=n(92597),g=n(49974),b=n(70648),y=n(19670),D=n(70111),w=n(41340),_=n(70030),E=n(79114),x=n(18554),k=n(71246),C=n(48053),S=n(5112),F=n(94362),O=S("iterator"),A="URLSearchParams",T="URLSearchParamsIterator",P=p.set,j=p.getterFor(A),M=p.getterFor(T),B=Object.getOwnPropertyDescriptor,N=function(e){if(!s)return o[e];var t=B(o,e);return t&&t.value},R=N("fetch"),I=N("Request"),L=N("Headers"),z=I&&I.prototype,q=L&&L.prototype,U=o.RegExp,V=o.TypeError,H=o.decodeURIComponent,$=o.encodeURIComponent,W=i("".charAt),K=i([].join),G=i([].push),Y=i("".replace),Z=i([].shift),X=i([].splice),J=i("".split),Q=i("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=U("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},oe=function(e){var t=Y(e,ee," "),n=4;try{return H(t)}catch(r){for(;n;)t=Y(t,ne(n--),re);return t}},ae=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ie[e]},ue=function(e){return Y($(e),ae,se)},ce=d((function(e,t){P(this,{type:T,iterator:x(j(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(D(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?Q(e,1):e:w(e)))};le.prototype={type:A,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,s,u,c=k(e);if(c)for(n=(t=x(e,c)).next;!(r=a(n,t)).done;){if(i=(o=x(y(r.value))).next,(s=a(i,o)).done||(u=a(i,o)).done||!a(i,o).done)throw V("Expected sequence with length 2");G(this.entries,{key:w(s.value),value:w(u.value)})}else for(var l in e)v(e,l)&&G(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=J(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=J(t,"="),G(this.entries,{key:oe(Z(n)),value:oe(K(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],G(n,ue(e.key)+"="+ue(e.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){h(this,de);var e=arguments.length>0?arguments[0]:void 0;P(this,new le(e))},de=fe.prototype;if(l(de,{append:function(e,t){C(arguments.length,2);var n=j(this);G(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){C(arguments.length,1);for(var t=j(this),n=t.entries,r=w(e),o=0;o<n.length;)n[o].key===r?X(n,o,1):o++;t.updateURL()},get:function(e){C(arguments.length,1);for(var t=j(this).entries,n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){C(arguments.length,1);for(var t=j(this).entries,n=w(e),r=[],o=0;o<t.length;o++)t[o].key===n&&G(r,t[o].value);return r},has:function(e){C(arguments.length,1);for(var t=j(this).entries,n=w(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){C(arguments.length,1);for(var n,r=j(this),o=r.entries,a=!1,i=w(e),s=w(t),u=0;u<o.length;u++)(n=o[u]).key===i&&(a?X(o,u--,1):(a=!0,n.value=s));a||G(o,{key:i,value:s}),r.updateURL()},sort:function(){var e=j(this);F(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=j(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,O,de.entries,{name:"entries"}),c(de,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),f(fe,A),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&m(L)){var pe=i(q.has),he=i(q.set),me=function(e){if(D(e)){var t,n=e.body;if(b(n)===A)return t=e.headers?new L(e.headers):new L,pe(t,"content-type")||he(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:E(0,w(n)),headers:E(0,t)})}return e};if(m(R)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return R(e,arguments.length>1?me(arguments[1]):{})}}),m(I)){var ve=function(e){return h(this,z),new I(e,arguments.length>1?me(arguments[1]):{})};z.constructor=ve,ve.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:fe,getState:j}},41637:(e,t,n)=>{n(65556)},68789:(e,t,n)=>{"use strict";n(78783);var r,o=n(82109),a=n(19781),i=n(85143),s=n(17854),u=n(49974),c=n(1702),l=n(98052),f=n(47045),d=n(25787),p=n(92597),h=n(21574),m=n(48457),v=n(41589),g=n(28710).codeAt,b=n(33197),y=n(41340),D=n(58003),w=n(48053),_=n(65556),E=n(29909),x=E.set,k=E.getterFor("URL"),C=_.URLSearchParams,S=_.getState,F=s.URL,O=s.TypeError,A=s.parseInt,T=Math.floor,P=Math.pow,j=c("".charAt),M=c(/./.exec),B=c([].join),N=c(1..toString),R=c([].pop),I=c([].push),L=c("".replace),z=c([].shift),q=c("".split),U=c("".slice),V=c("".toLowerCase),H=c([].unshift),$="Invalid scheme",W="Invalid host",K="Invalid port",G=/[a-z]/i,Y=/[\d+-.a-z]/i,Z=/\d/,X=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ae=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=T(e/256);return B(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ie={},se=h({},ie,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=h({},se,{"#":1,"?":1,"{":1,"}":1}),ce=h({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&M(G,j(e,0))&&(":"==(n=j(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&de(U(e,0,2))&&(2==e.length||"/"===(t=j(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===V(e)},me={},ve={},ge={},be={},ye={},De={},we={},_e={},Ee={},xe={},ke={},Ce={},Se={},Fe={},Oe={},Ae={},Te={},Pe={},je={},Me={},Be={},Ne=function(e,t,n){var r,o,a,i=y(e);if(t){if(o=this.parse(i))throw O(o);this.searchParams=null}else{if(void 0!==n&&(r=new Ne(n,!0)),o=this.parse(i,null,r))throw O(o);(a=S(new C)).bindURL(this),this.searchParams=a}};Ne.prototype={type:"URL",parse:function(e,t,n){var o,a,i,s,u,c=this,l=t||me,f=0,d="",h=!1,g=!1,b=!1;for(e=y(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=L(e,re,"")),e=L(e,oe,""),o=m(e);f<=o.length;){switch(a=o[f],l){case me:if(!a||!M(G,a)){if(t)return $;l=ge;continue}d+=V(a),l=ve;break;case ve:if(a&&(M(Y,a)||"+"==a||"-"==a||"."==a))d+=V(a);else{if(":"!=a){if(t)return $;d="",l=ge,f=0;continue}if(t&&(c.isSpecial()!=p(fe,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&fe[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Fe:c.isSpecial()&&n&&n.scheme==c.scheme?l=be:c.isSpecial()?l=_e:"/"==o[f+1]?(l=ye,f++):(c.cannotBeABaseURL=!0,I(c.path,""),l=je)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!=a)return $;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Be;break}l="file"==n.scheme?Fe:De;continue;case be:if("/"!=a||"/"!=o[f+1]){l=De;continue}l=Ee,f++;break;case ye:if("/"==a){l=xe;break}l=Pe;continue;case De:if(c.scheme=n.scheme,a==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())l=we;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",l=Me;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,l=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",l=Be}break;case we:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Pe;continue}l=xe}else l=Ee;break;case _e:if(l=Ee,"/"!=a||"/"!=j(d,f+1))continue;f++;break;case Ee:if("/"!=a&&"\\"!=a){l=xe;continue}break;case xe:if("@"==a){h&&(d="%40"+d),h=!0,i=m(d);for(var D=0;D<i.length;D++){var w=i[D];if(":"!=w||b){var _=le(w,ce);b?c.password+=_:c.username+=_}else b=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(h&&""==d)return"Invalid authority";f-=m(d).length+1,d="",l=ke}else d+=a;break;case ke:case Ce:if(t&&"file"==c.scheme){l=Ae;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==d)return W;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Te,t)return;continue}"["==a?g=!0:"]"==a&&(g=!1),d+=a}else{if(""==d)return W;if(s=c.parseHost(d))return s;if(d="",l=Se,t==Ce)return}break;case Se:if(!M(Z,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=d){var E=A(d,10);if(E>65535)return K;c.port=c.isSpecial()&&E===fe[c.scheme]?null:E,d=""}if(t)return;l=Te;continue}return K}d+=a;break;case Fe:if(c.scheme="file","/"==a||"\\"==a)l=Oe;else{if(!n||"file"!=n.scheme){l=Pe;continue}if(a==r)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=v(n.path),c.query="",l=Me;else{if("#"!=a){pe(B(v(o,f),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),l=Pe;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",l=Be}}break;case Oe:if("/"==a||"\\"==a){l=Ae;break}n&&"file"==n.scheme&&!pe(B(v(o,f),""))&&(de(n.path[0],!0)?I(c.path,n.path[0]):c.host=n.host),l=Pe;continue;case Ae:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&de(d))l=Pe;else if(""==d){if(c.host="",t)return;l=Te}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Te}continue}d+=a;break;case Te:if(c.isSpecial()){if(l=Pe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(l=Pe,"/"!=a))continue}else c.fragment="",l=Be;else c.query="",l=Me;break;case Pe:if(a==r||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=V(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||I(c.path,"")):he(d)?"/"==a||"\\"==a&&c.isSpecial()||I(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=j(d,0)+":"),I(c.path,d)),d="","file"==c.scheme&&(a==r||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)z(c.path);"?"==a?(c.query="",l=Me):"#"==a&&(c.fragment="",l=Be)}else d+=le(a,ue);break;case je:"?"==a?(c.query="",l=Me):"#"==a?(c.fragment="",l=Be):a!=r&&(c.path[0]+=le(a,ie));break;case Me:t||"#"!=a?a!=r&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":le(a,ie)):(c.fragment="",l=Be);break;case Be:a!=r&&(c.fragment+=le(a,se))}f++}},parseHost:function(e){var t,n,r;if("["==j(e,0)){if("]"!=j(e,e.length-1))return W;if(t=function(e){var t,n,r,o,a,i,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return j(e,f)};if(":"==d()){if(":"!=j(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&M(ee,d());)t=16*t+A(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!M(Z,d()))return;for(;M(Z,d());){if(a=A(d(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(i=c-l,c=7;0!=c&&i>0;)s=u[c],u[c--]=u[l+i-1],u[l+--i]=s;else if(8!=c)return;return u}(U(e,1,-1)),!t)return W;this.host=t}else if(this.isSpecial()){if(e=b(e),M(te,e))return W;if(t=function(e){var t,n,r,o,a,i,s,u=q(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=u[r]))return e;if(a=10,o.length>1&&"0"==j(o,0)&&(a=M(X,o)?16:8,o=U(o,8==a?1:2)),""===o)i=0;else{if(!M(10==a?Q:8==a?J:ee,o))return e;i=A(o,a)}I(n,i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=P(256,5-t))return null}else if(i>255)return null;for(s=R(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s}(e),null===t)return W;this.host=t}else{if(M(ne,e))return W;for(t="",n=m(e),r=0;r<n.length;r++)t+=le(n[r],ie);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ae(o),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+B(i,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Re(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=y(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+B(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Te))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=y(e))?this.query=null:("?"==j(e,0)&&(e=U(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=y(e))?("#"==j(e,0)&&(e=U(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Re=function(e){var t=d(this,Ie),n=w(arguments.length,1)>1?arguments[1]:void 0,r=x(t,new Ne(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ie=Re.prototype,Le=function(e,t){return{get:function(){return k(this)[e]()},set:t&&function(e){return k(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(f(Ie,"href",Le("serialize","setHref")),f(Ie,"origin",Le("getOrigin")),f(Ie,"protocol",Le("getProtocol","setProtocol")),f(Ie,"username",Le("getUsername","setUsername")),f(Ie,"password",Le("getPassword","setPassword")),f(Ie,"host",Le("getHost","setHost")),f(Ie,"hostname",Le("getHostname","setHostname")),f(Ie,"port",Le("getPort","setPort")),f(Ie,"pathname",Le("getPathname","setPathname")),f(Ie,"search",Le("getSearch","setSearch")),f(Ie,"searchParams",Le("getSearchParams")),f(Ie,"hash",Le("getHash","setHash"))),l(Ie,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),l(Ie,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),F){var ze=F.createObjectURL,qe=F.revokeObjectURL;ze&&l(Re,"createObjectURL",u(ze,F)),qe&&l(Re,"revokeObjectURL",u(qe,F))}D(Re,"URL"),o({global:!0,constructor:!0,forced:!i,sham:!a},{URL:Re})},60285:(e,t,n)=>{n(68789)},83753:(e,t,n)=>{"use strict";var r=n(82109),o=n(46916);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},14577:e=>{"use strict";e.exports=window.Uppy.Core},48246:e=>{"use strict";e.exports=window.Uppy.Dashboard},28391:e=>{"use strict";e.exports=window.Uppy.DragDrop},1933:e=>{"use strict";e.exports=window.Uppy.FileInput},25743:e=>{"use strict";e.exports=window.Uppy.ProgressBar},83940:e=>{"use strict";e.exports=window.Uppy.StatusBar},88392:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},4282:(e,t,n)=>{n(79753),e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},19589:(e,t,n)=>{n(21703),n(96647),e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},27602:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}n(41539),n(88674),e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,u,"next",e)}function u(e){r(i,o,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},41801:(e,t,n)=>{n(21703),n(96647),e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},8300:(e,t,n)=>{n(24812),n(12419),n(41539),n(81299),n(57658);var r=n(24500),o=n(81996);function a(t,n,i){return o()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},40851:(e,t,n)=>{n(69070);var r=n(1355);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},79377:(e,t,n)=>{n(69070);var r=n(1355);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},77820:(e,t,n)=>{function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(68304),n(24812),n(30489),n(67987),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},24512:(e,t,n)=>{n(21703),n(96647),n(78011),n(69070);var r=n(24500);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},3048:(e,t,n)=>{n(82772),n(96647),n(83710),n(41539),n(39714),e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},81996:(e,t,n)=>{n(41539),n(81299),n(12419),e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},89363:(e,t,n)=>{n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(57658),e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},38580:(e,t,n)=>{n(21703),n(96647),e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},48410:(e,t,n)=>{n(21703),n(96647);var r=n(59039).default,o=n(19589);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},10147:(e,t,n)=>{n(69070),n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(72443),n(39341),n(73706),n(10408),n(78011),n(30489),n(89554),n(21703),n(96647),n(57658),n(54747),n(68309),n(68304),n(67987),n(88674),n(65069),n(47042);var r=n(59039).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(T){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new F(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var h={};function m(){}function v(){}function g(){}var b={};f(b,u,(function(){return this}));var y=Object.getPrototypeOf,D=y&&y(y(O([])));D&&D!==n&&a.call(D,u)&&(b=D);var w=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,s,u){var c=p(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=g,i(w,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),f(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new E(d(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},24500:(e,t,n)=>{function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}n(68304),n(24812),n(67987),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},34694:(e,t,n)=>{var r=n(4282),o=n(89363),a=n(91114),i=n(38580);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},46566:(e,t,n)=>{n(96649),n(96078),n(82526),n(41817),n(41539),n(21703),n(96647),n(9653);var r=n(59039).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1355:(e,t,n)=>{var r=n(59039).default,o=n(46566);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},59039:(e,t,n)=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},91114:(e,t,n)=>{n(47042),n(41539),n(68309),n(91038),n(78783),n(74916),n(77601);var r=n(88392);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},50957:(e,t,n)=>{n(66992),n(51532),n(41539),n(78783),n(33948),n(21703),n(96647),n(78011);var r=n(77820),o=n(24500),a=n(3048),i=n(8300);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},98647:(e,t,n)=>{var r=n(59039);n(35837);var o=n(10147)();e.exports=o;try{regeneratorRuntime=o}catch(a){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},9963:(e,t,n)=>{n(69070),n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),n(72443),n(39341),n(73706),n(10408),n(78011),n(30489),n(89554),n(21703),n(96647),n(57658),n(54747),n(68309),n(68304),n(67987),n(88674),n(65069),n(47042);var r=n(41705).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(T){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new F(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var h={};function m(){}function v(){}function g(){}var b={};f(b,u,(function(){return this}));var y=Object.getPrototypeOf,D=y&&y(y(O([])));D&&D!==n&&a.call(D,u)&&(b=D);var w=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,s,u){var c=p(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=g,i(w,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),f(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new E(d(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},41705:(e,t,n)=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},81270:(e,t,n)=>{var r=n(41705);n(35837);var o=n(9963)();e.exports=o;try{regeneratorRuntime=o}catch(a){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},20470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{getOnlineUsers:()=>b9,miniChatClose:()=>k9,miniChatOpen:()=>E9,openChatWithUser:()=>S9,openNewConversationWidget:()=>v9,openUniqueConversation:()=>y9,updateThreadsLists:()=>w9});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Decoder:()=>N_,Encoder:()=>B_,PacketType:()=>j_,protocol:()=>M_});__webpack_require__(41539),__webpack_require__(88674);function t(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=e.apply(n,r);function s(e){t(i,o,a,s,u,"next",e)}function u(e){t(i,o,a,s,u,"throw",e)}s(void 0)}))}}var r=__webpack_require__(98647),o=__webpack_require__.n(r),a=(__webpack_require__(32564),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(9653),__webpack_require__(16341)),i=__webpack_require__.t(a,2),s=__webpack_require__(62438);__webpack_require__(47941),__webpack_require__(57658),__webpack_require__(69600),__webpack_require__(21249),__webpack_require__(96647),__webpack_require__(75505),__webpack_require__(87714),__webpack_require__(82801),__webpack_require__(1174),__webpack_require__(47042),__webpack_require__(83710),__webpack_require__(39714),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(74916),__webpack_require__(77601),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(21703);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}__webpack_require__(69070);var c=__webpack_require__(20470);__webpack_require__(96649),__webpack_require__(96078);function l(e){var t=function(e,t){if("object"!==(0,c.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,c.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,c.Z)(t)?t:String(t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}__webpack_require__(57327),__webpack_require__(54678),__webpack_require__(56977),__webpack_require__(36210);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v,g,b=function(){function e(){u(this,e),p(this,"store",void 0),this.store={}}return d(e,[{key:"attach",value:function(e,t){this.store[e]||(this.store[e]=[]),this.store[e].push(t)}},{key:"fire",value:function(e,t){this.store[e]&&this.store[e].forEach((function(e){e(t)}))}},{key:"remove",value:function(e,t){t||delete this.store[e],this.store[e]&&(this.store[e]=this.store[e].filter((function(e){return t!==e})))}}]),e}();function y(e){if(void 0===g&&(void 0!==e.hidden?(v="hidden",g="visibilitychange"):void 0!==e.mozHidden?(v="mozHidden",g="mozvisibilitychange"):void 0!==e.msHidden?(v="msHidden",g="msvisibilitychange"):void 0!==e.webkitHidden&&(v="webkitHidden",g="webkitvisibilitychange"),void 0===v))throw new Error("Unable to determine browser event.  This may be an incompatible browser.  See https://github.com/rosskevin/ifvisible#browsers")}function D(e,t){var n,r;return function(){if(!n){n=!0,setTimeout((function(){return n=!1}),t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];r=e.apply(this,a)}return r}}var w=function(){function e(t,n,r){var o=this;u(this,e),p(this,"id",void 0),p(this,"ifvInstance",void 0),p(this,"seconds",void 0),p(this,"callback",void 0),this.ifvInstance=t,this.seconds=n,this.callback=r,this.start(),this.ifvInstance.on("statusChanged",(function(e){"active"===(null==e?void 0:e.status)?o.start():o.pause()}))}return d(e,[{key:"stop",value:function(){clearInterval(this.id)}},{key:"resume",value:function(){this.start()}},{key:"pause",value:function(){this.stop()}},{key:"start",value:function(){void 0!==this.id&&clearInterval(this.id),this.id=setInterval(this.callback,1e3*this.seconds)}}]),e}(),_=new(function(){function e(t,n){u(this,e),p(this,"status","active"),p(this,"timers",[]),p(this,"idleTime",3e4),p(this,"idleStartedTime",void 0),p(this,"win",void 0),p(this,"doc",void 0),p(this,"eventBus",void 0),p(this,"winListeners",void 0),p(this,"docListeners",void 0),p(this,"focusListener",void 0),p(this,"throttleDuration",500),this.win=t,this.doc=n,this.eventBus=new b,this.trackChange(),this.reattach()}return d(e,[{key:"on",value:function(e,t){return this.eventBus.attach(e,t),this}},{key:"off",value:function(e,t){return this.eventBus.remove(e,t),this}},{key:"setIdleDuration",value:function(e){return this.idleTime=1e3*e,this.reattach(),this}},{key:"getIdleDuration",value:function(){return this.idleTime}},{key:"getIdleInfo",value:function(){var e,t=+new Date,n=this.idleStartedTime?t-this.idleStartedTime:0;if("idle"===this.status)e={isIdle:!0,idleFor:n,timeLeft:0,timeLeftPer:100};else{var r=this.idleStartedTime?this.idleStartedTime+this.idleTime-t:this.idleTime;e={isIdle:!1,idleFor:n,timeLeft:r,timeLeftPer:parseFloat((100-100*r/this.idleTime).toFixed(2))}}return e}},{key:"setThrottleDuration",value:function(e){return this.throttleDuration=e,this.reattach,this}},{key:"idle",value:function(e){return e?this.on("idle",e):(this.status="idle",this.eventBus.fire("idle"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"blur",value:function(e){return e?this.on("blur",e):(this.status="hidden",this.eventBus.fire("blur"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"focus",value:function(e){return e?this.on("focus",e):"active"!==this.status&&(this.status="active",this.eventBus.fire("focus"),this.eventBus.fire("wakeup"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"wakeup",value:function(e){return e?this.on("wakeup",e):"active"!==this.status&&(this.status="active",this.eventBus.fire("wakeup"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"onEvery",value:function(e,t){return new w(this,e,t)}},{key:"now",value:function(e){return void 0!==e?this.status===e:"active"===this.status}},{key:"getStatus",value:function(){return this.status}},{key:"detach",value:function(){if(void 0!==this.winListeners&&void 0!==this.docListeners&&void 0!==this.focusListener){var e,t=h(Object.getOwnPropertyNames(this.winListeners));try{for(t.s();!(e=t.n()).done;){var n=e.value;this.win.removeEventListener(n,this.winListeners[n])}}catch(i){t.e(i)}finally{t.f()}var r,o=h(Object.getOwnPropertyNames(this.docListeners));try{for(o.s();!(r=o.n()).done;){var a=r.value;this.doc.removeEventListener(a,this.docListeners[a])}}catch(i){o.e(i)}finally{o.f()}this.off("focus",this.focusListener)}this.winListeners=void 0,this.docListeners=void 0,this.focusListener=void 0}},{key:"reattach",value:function(){var e,t=this;this.detach(),this.winListeners={},this.docListeners={},this.focusListener=void 0,this.docListeners[(e=this.doc,y(e),g)]=D((function(){return t.trackChange()}),this.throttleDuration);for(var n=0,r=["mousemove","mousedown","keyup","touchstart"];n<r.length;n++){var o=r[n];this.docListeners[o]=D((function(){return t.startIdleTimer()}),this.throttleDuration)}this.winListeners.scroll=D((function(){return t.startIdleTimer()}),this.throttleDuration),this.focusListener=D((function(){return t.startIdleTimer()}),this.throttleDuration);var a,i=h(Object.getOwnPropertyNames(this.docListeners));try{for(i.s();!(a=i.n()).done;){var s=a.value;this.doc.addEventListener(s,this.docListeners[s])}}catch(f){i.e(f)}finally{i.f()}var u,c=h(Object.getOwnPropertyNames(this.winListeners));try{for(c.s();!(u=c.n()).done;){var l=u.value;this.win.addEventListener(l,this.winListeners[l])}}catch(f){c.e(f)}finally{c.f()}this.focus(this.focusListener),this.startIdleTimer()}},{key:"trackChange",value:function(){var e;y(e=this.doc),e[v]?this.blur():this.focus()}},{key:"startIdleTimer",value:function(e){var t=this;e instanceof MouseEvent&&0===e.movementX&&0===e.movementY||(this.timers.map(clearTimeout),this.timers.length=0,"idle"===this.status&&this.wakeup(),this.idleStartedTime=+new Date,this.timers.push(setTimeout((function(){"active"!==t.status&&"hidden"!==t.status||t.idle()}),this.idleTime)))}}]),e}())(window,document);window.ifvisible=_;__webpack_require__(38880),__webpack_require__(49337),__webpack_require__(33321);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__(73689),__webpack_require__(92222),__webpack_require__(44048),__webpack_require__(26541),__webpack_require__(65069),__webpack_require__(52420),__webpack_require__(85827),__webpack_require__(82772),__webpack_require__(81299),__webpack_require__(12419),__webpack_require__(78011),__webpack_require__(68304),__webpack_require__(24812),__webpack_require__(67987);function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){if(t&&("object"===(0,c.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}__webpack_require__(30489);function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}__webpack_require__(51532);function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function P(e,t,n){return P=T()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&C(o,n.prototype),o},P.apply(null,arguments)}function j(e){var t="function"==typeof Map?new Map:void 0;return j=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return P(e,arguments,A(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)},j(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var B=function(e){S(n,e);var t=M(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n)}(j(Error)),N=function(e){S(n,e);var t=M(n);function n(e){return u(this,n),t.call(this,"Invalid DateTime: ".concat(e.toMessage()))}return d(n)}(B),R=function(e){S(n,e);var t=M(n);function n(e){return u(this,n),t.call(this,"Invalid Interval: ".concat(e.toMessage()))}return d(n)}(B),I=function(e){S(n,e);var t=M(n);function n(e){return u(this,n),t.call(this,"Invalid Duration: ".concat(e.toMessage()))}return d(n)}(B),L=function(e){S(n,e);var t=M(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n)}(B),z=function(e){S(n,e);var t=M(n);function n(e){return u(this,n),t.call(this,"Invalid unit ".concat(e))}return d(n)}(B),q=function(e){S(n,e);var t=M(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n)}(B),U=function(e){S(n,e);var t=M(n);function n(){return u(this,n),t.call(this,"Zone is an abstract class")}return d(n)}(B);function V(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__(38862),__webpack_require__(2707),__webpack_require__(43304);var H="numeric",$="short",W="long",K={year:H,month:H,day:H},G={year:H,month:$,day:H},Y={year:H,month:$,day:H,weekday:$},Z={year:H,month:W,day:H},X={year:H,month:W,day:H,weekday:W},J={hour:H,minute:H},Q={hour:H,minute:H,second:H},ee={hour:H,minute:H,second:H,timeZoneName:$},te={hour:H,minute:H,second:H,timeZoneName:W},ne={hour:H,minute:H,hourCycle:"h23"},re={hour:H,minute:H,second:H,hourCycle:"h23"},oe={hour:H,minute:H,second:H,hourCycle:"h23",timeZoneName:$},ae={hour:H,minute:H,second:H,hourCycle:"h23",timeZoneName:W},ie={year:H,month:H,day:H,hour:H,minute:H},se={year:H,month:H,day:H,hour:H,minute:H,second:H},ue={year:H,month:$,day:H,hour:H,minute:H},ce={year:H,month:$,day:H,hour:H,minute:H,second:H},le={year:H,month:$,day:H,weekday:$,hour:H,minute:H},fe={year:H,month:W,day:H,hour:H,minute:H,timeZoneName:$},de={year:H,month:W,day:H,hour:H,minute:H,second:H,timeZoneName:$},pe={year:H,month:W,day:H,weekday:W,hour:H,minute:H,timeZoneName:W},he={year:H,month:W,day:H,weekday:W,hour:H,minute:H,second:H,timeZoneName:W};__webpack_require__(83112),__webpack_require__(91058),__webpack_require__(69826);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){return void 0===e}function be(e){return"number"==typeof e}function ye(e){return"number"==typeof e&&e%1==0}function De(e){return"[object Date]"===Object.prototype.toString.call(e)}function we(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function _e(e){return Array.isArray(e)?e:[e]}function Ee(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var o=[t(r),r];return e&&n(e[0],o[0])===e[0]?e:o}),null)[1]}function xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ke(e,t,n){return ye(e)&&e>=t&&e<=n}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e<0;return n?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Se(e){return ge(e)||null===e||""===e?void 0:parseInt(e,10)}function Fe(e){return ge(e)||null===e||""===e?void 0:parseFloat(e)}function Oe(e){if(!ge(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.pow(10,t),o=n?Math.trunc:Math.round;return o(e*r)/r}function Te(e){return e%4==0&&(e%100!=0||e%400==0)}function Pe(e){return Te(e)?366:365}function je(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?Te(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Me(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function Be(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function Ne(e){return e>99?e:e>60?1900+e:2e3+e}function Re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);var i=ve({timeZoneName:t},a),s=new Intl.DateTimeFormat(n,i).formatToParts(o).find((function(e){return"timezonename"===e.type.toLowerCase()}));return s?s.value:null}function Ie(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Le(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new q("Invalid unit value ".concat(e));return t}function ze(e,t){var n={};for(var r in e)if(xe(e,r)){var o=e[r];if(null==o)continue;n[t(r)]=Le(o)}return n}function qe(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return"".concat(o).concat(Ce(n,2),":").concat(Ce(r,2));case"narrow":return"".concat(o).concat(n).concat(r>0?":".concat(r):"");case"techie":return"".concat(o).concat(Ce(n,2)).concat(Ce(r,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function Ue(e){return function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}(e,["hour","minute","second","millisecond"])}var Ve=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var He=["January","February","March","April","May","June","July","August","September","October","November","December"],$e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],We=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ke(e){switch(e){case"narrow":return[].concat(We);case"short":return[].concat($e);case"long":return[].concat(He);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Ge=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ye=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ze=["M","T","W","T","F","S","S"];function Xe(e){switch(e){case"narrow":return[].concat(Ze);case"short":return[].concat(Ye);case"long":return[].concat(Ge);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Je=["AM","PM"],Qe=["Before Christ","Anno Domini"],et=["BC","AD"],tt=["B","A"];function nt(e){switch(e){case"narrow":return[].concat(tt);case"short":return[].concat(et);case"long":return[].concat(Qe);default:return null}}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t){var n,r="",o=at(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.literal?r+=a.val:r+=t(a.val)}}catch(i){o.e(i)}finally{o.f()}return r}var ut={D:K,DD:G,DDD:Z,DDDD:X,t:J,tt:Q,ttt:ee,tttt:te,T:ne,TT:re,TTT:oe,TTTT:ae,f:ie,ff:ue,fff:fe,ffff:pe,F:se,FF:ce,FFF:de,FFFF:he},ct=function(){function e(t,n){u(this,e),this.opts=n,this.loc=t,this.systemLoc=null}return d(e,[{key:"formatWithSystemDefault",value:function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,ot(ot({},this.opts),t)).format()}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.loc.dtFormatter(e,ot(ot({},this.opts),t));return n.format()}},{key:"formatDateTimeParts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.loc.dtFormatter(e,ot(ot({},this.opts),t));return n.formatToParts()}},{key:"resolvedOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.loc.dtFormatter(e,ot(ot({},this.opts),t));return n.resolvedOptions()}},{key:"num",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return Ce(e,t);var n=ot({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}},{key:"formatDateTimeFromString",value:function(t,n){var r=this,o="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=function(e,n){return r.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return o?function(e){return Je[e.hour<12?0:1]}(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function(e,n){return o?function(e,t){return Ke(t)[e.month-1]}(t,e):i(n?{month:e}:{month:e,day:"numeric"},"month")},l=function(e,n){return o?function(e,t){return Xe(t)[e.weekday-1]}(t,e):i(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},f=function(e){return o?function(e,t){return nt(t)[e.year<0?0:1]}(t,e):i({era:e},"era")};return st(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"uu":return r.num(Math.floor(t.millisecond/10),2);case"uuu":return r.num(Math.floor(t.millisecond/100));case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12==0?12:t.hour%12);case"hh":return r.num(t.hour%12==0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return s({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?i({day:"numeric"},"day"):r.num(t.day);case"dd":return a?i({day:"2-digit"},"day"):r.num(t.day,2);case"c":case"E":return r.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return a?i({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return a?i({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?i({month:"numeric"},"month"):r.num(t.month);case"MM":return a?i({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?i({year:"numeric"},"year"):r.num(t.year);case"yy":return a?i({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return a?i({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return a?i({year:"numeric"},"year"):r.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(n){var o=e.macroTokenToFormatOpts(n);return o?r.formatWithSystemDefault(t,o):n}(n)}}))}},{key:"formatDurationFromString",value:function(t,n){var r,o=this,a=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=e.parseFormat(n),s=i.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),u=t.shiftTo.apply(t,V(s.map(a).filter((function(e){return e}))));return st(i,(r=u,function(e){var t=a(e);return t?o.num(r.get(t),e.length):e}))}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new e(t,n)}},{key:"parseFormat",value:function(e){for(var t=null,n="",r=!1,o=[],a=0;a<e.length;a++){var i=e.charAt(a);"'"===i?(n.length>0&&o.push({literal:r,val:n}),t=null,n="",r=!r):r||i===t?n+=i:(n.length>0&&o.push({literal:!1,val:n}),n=i,t=i)}return n.length>0&&o.push({literal:r,val:n}),o}},{key:"macroTokenToFormatOpts",value:function(e){return ut[e]}}]),e}(),lt=function(){function e(t,n){u(this,e),this.reason=t,this.explanation=n}return d(e,[{key:"toMessage",value:function(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}]),e}();function ft(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}__webpack_require__(23157),__webpack_require__(3843);var dt=function(){function e(){u(this,e)}return d(e,[{key:"type",get:function(){throw new U}},{key:"name",get:function(){throw new U}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new U}},{key:"offsetName",value:function(e,t){throw new U}},{key:"formatOffset",value:function(e,t){throw new U}},{key:"offset",value:function(e){throw new U}},{key:"equals",value:function(e){throw new U}},{key:"isValid",get:function(){throw new U}}]),e}();function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var ht=null,mt=function(e){S(n,e);var t=pt(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return Re(e,t.format,t.locale)}},{key:"formatOffset",value:function(e,t){return qe(this.offset(e),t)}},{key:"offset",value:function(e){return-new Date(e).getTimezoneOffset()}},{key:"equals",value:function(e){return"system"===e.type}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===ht&&(ht=new n),ht}}]),n}(dt);__webpack_require__(15306);function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var gt={};var bt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var yt={},Dt=function(e){S(n,e);var t=vt(n);function n(e){var r;return u(this,n),(r=t.call(this)).zoneName=e,r.valid=n.isValidZone(e),r}return d(n,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return Re(e,t.format,t.locale,this.name)}},{key:"formatOffset",value:function(e,t){return qe(this.offset(e),t)}},{key:"offset",value:function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,r=(n=this.name,gt[n]||(gt[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),gt[n]),o=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],o=0;o<n.length;o++){var a=n[o],i=a.type,s=a.value,u=bt[i];"era"===i?r[u]=s:ge(u)||(r[u]=parseInt(s,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=k(/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),8),o=r[1],a=r[2];return[r[3],o,a,r[4],r[5],r[6],r[7]]}(r,t),a=k(o,7),i=a[0],s=a[1],u=a[2],c=a[3],l=a[4],f=a[5],d=a[6];"BC"===c&&(i=1-Math.abs(i));var p=+t,h=p%1e3;return(Me({year:i,month:s,day:u,hour:24===l?0:l,minute:f,second:d,millisecond:0})-(p-=h>=0?h:1e3+h))/6e4}},{key:"equals",value:function(e){return"iana"===e.type&&e.name===this.name}},{key:"isValid",get:function(){return this.valid}}],[{key:"create",value:function(e){return yt[e]||(yt[e]=new n(e)),yt[e]}},{key:"resetCache",value:function(){yt={},gt={}}},{key:"isValidSpecifier",value:function(e){return this.isValidZone(e)}},{key:"isValidZone",value:function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}}]),n}(dt);__webpack_require__(29253),__webpack_require__(4723);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var _t=null,Et=function(e){S(n,e);var t=wt(n);function n(e){var r;return u(this,n),(r=t.call(this)).fixed=e,r}return d(n,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC".concat(qe(this.fixed,"narrow"))}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(qe(-this.fixed,"narrow"))}},{key:"offsetName",value:function(){return this.name}},{key:"formatOffset",value:function(e,t){return qe(this.fixed,t)}},{key:"isUniversal",get:function(){return!0}},{key:"offset",value:function(){return this.fixed}},{key:"equals",value:function(e){return"fixed"===e.type&&e.fixed===this.fixed}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===_t&&(_t=new n(0)),_t}},{key:"instance",value:function(e){return 0===e?n.utcInstance:new n(e)}},{key:"parseSpecifier",value:function(e){if(e){var t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new n(Ie(t[1],t[2]))}return null}}]),n}(dt);function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var kt=function(e){S(n,e);var t=xt(n);function n(e){var r;return u(this,n),(r=t.call(this)).zoneName=e,r}return d(n,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(){return null}},{key:"formatOffset",value:function(){return""}},{key:"offset",value:function(){return NaN}},{key:"equals",value:function(){return!1}},{key:"isValid",get:function(){return!1}}]),n}(dt);function Ct(e,t){if(ge(e)||null===e)return t;if(e instanceof dt)return e;if(function(e){return"string"==typeof e}(e)){var n=e.toLowerCase();return"local"===n||"system"===n?t:"utc"===n||"gmt"===n?Et.utcInstance:Et.parseSpecifier(n)||Dt.create(e)}return be(e)?Et.instance(e):"object"===(0,c.Z)(e)&&e.offset&&"number"==typeof e.offset?e:new kt(e)}var St,Ft=function(){return Date.now()},Ot="system",At=null,Tt=null,Pt=null,jt=function(){function e(){u(this,e)}return d(e,null,[{key:"now",get:function(){return Ft},set:function(e){Ft=e}},{key:"defaultZone",get:function(){return Ct(Ot,mt.instance)},set:function(e){Ot=e}},{key:"defaultLocale",get:function(){return At},set:function(e){At=e}},{key:"defaultNumberingSystem",get:function(){return Tt},set:function(e){Tt=e}},{key:"defaultOutputCalendar",get:function(){return Pt},set:function(e){Pt=e}},{key:"throwOnInvalid",get:function(){return St},set:function(e){St=e}},{key:"resetCaches",value:function(){Jt.resetCache(),Dt.resetCache()}}]),e}(),Mt=["base"],Bt=["padTo","floor"];function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It={};function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=It[n];return r||(r=new Intl.ListFormat(e,t),It[n]=r),r}var zt={};function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=zt[n];return r||(r=new Intl.DateTimeFormat(e,t),zt[n]=r),r}var Ut={};var Vt={};var Ht=null;function $t(){return Ht||(Ht=(new Intl.DateTimeFormat).resolvedOptions().locale)}function Wt(e){for(var t=[],n=1;n<=12;n++){var r=Co.utc(2016,n,1);t.push(e(r))}return t}function Kt(e){for(var t=[],n=1;n<=7;n++){var r=Co.utc(2016,11,13+n);t.push(e(r))}return t}function Gt(e,t,n,r,o){var a=e.listingMode(n);return"error"===a?null:"en"===a?r(t):o(t)}var Yt=function(){function e(t,n,r){u(this,e),this.padTo=r.padTo||0,this.floor=r.floor||!1;r.padTo,r.floor;var o=ft(r,Bt);if(!n||Object.keys(o).length>0){var a=Rt({useGrouping:!1},r);r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=Ut[n];return r||(r=new Intl.NumberFormat(e,t),Ut[n]=r),r}(t,a)}}return d(e,[{key:"format",value:function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Ce(this.floor?Math.floor(e):Ae(e,3),this.padTo)}}]),e}(),Zt=function(){function e(t,n,r){var o;if(u(this,e),this.opts=r,t.zone.isUniversal){var a=t.offset/60*-1,i=a>=0?"Etc/GMT+".concat(a):"Etc/GMT".concat(a);0!==t.offset&&Dt.create(i).valid?(o=i,this.dt=t):(o="UTC",r.timeZoneName?this.dt=t:this.dt=0===t.offset?t:Co.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,o=t.zone.name);var s=Rt({},this.opts);o&&(s.timeZone=o),this.dtf=qt(n,s)}return d(e,[{key:"format",value:function(){return this.dtf.format(this.dt.toJSDate())}},{key:"formatToParts",value:function(){return this.dtf.formatToParts(this.dt.toJSDate())}},{key:"resolvedOptions",value:function(){return this.dtf.resolvedOptions()}}]),e}(),Xt=function(){function e(t,n,r){u(this,e),this.opts=Rt({style:"long"},r),!n&&we()&&(this.rtf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.base,ft(t,Mt)),r=JSON.stringify([e,n]),o=Vt[r];return o||(o=new Intl.RelativeTimeFormat(e,t),Vt[r]=o),o}(t,r))}return d(e,[{key:"format",value:function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&a){var i="days"===e;switch(t){case 1:return i?"tomorrow":"next ".concat(o[e][0]);case-1:return i?"yesterday":"last ".concat(o[e][0]);case 0:return i?"today":"this ".concat(o[e][0])}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),c=1===u,l=o[e],f=r?c?l[1]:l[2]||l[1]:c?o[e][0]:e;return s?"".concat(u," ").concat(f," ago"):"in ".concat(u," ").concat(f)}(t,e,this.opts.numeric,"long"!==this.opts.style)}},{key:"formatToParts",value:function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}]),e}(),Jt=function(){function e(t,n,r,o){u(this,e);var a=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,r=e.substring(0,t);try{n=qt(e).resolvedOptions()}catch(a){n=qt(r).resolvedOptions()}var o=n;return[r,o.numberingSystem,o.calendar]}(t),i=k(a,3),s=i[0],c=i[1],l=i[2];this.locale=s,this.numberingSystem=n||c||null,this.outputCalendar=r||l||null,this.intl=function(e,t,n){return n||t?(e+="-u",n&&(e+="-ca-".concat(n)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}return d(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}},{key:"listingMode",value:function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}},{key:"clone",value:function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}},{key:"redefaultToEN",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(Rt(Rt({},e),{},{defaultToEN:!0}))}},{key:"redefaultToSystem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(Rt(Rt({},e),{},{defaultToEN:!1}))}},{key:"months",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Gt(this,e,r,Ke,(function(){var r=n?{month:e,day:"numeric"}:{month:e},o=n?"format":"standalone";return t.monthsCache[o][e]||(t.monthsCache[o][e]=Wt((function(e){return t.extract(e,r,"month")}))),t.monthsCache[o][e]}))}},{key:"weekdays",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Gt(this,e,r,Xe,(function(){var r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=n?"format":"standalone";return t.weekdaysCache[o][e]||(t.weekdaysCache[o][e]=Kt((function(e){return t.extract(e,r,"weekday")}))),t.weekdaysCache[o][e]}))}},{key:"meridiems",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Gt(this,void 0,t,(function(){return Je}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[Co.utc(2016,11,13,9),Co.utc(2016,11,13,19)].map((function(n){return e.extract(n,t,"dayperiod")}))}return e.meridiemCache}))}},{key:"eras",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Gt(this,e,n,nt,(function(){var n={era:e};return t.eraCache[e]||(t.eraCache[e]=[Co.utc(-40,1,1),Co.utc(2017,1,1)].map((function(e){return t.extract(e,n,"era")}))),t.eraCache[e]}))}},{key:"extract",value:function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null}},{key:"numberFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Yt(this.intl,e.forceSimple||this.fastNumbers,e)}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Zt(e,this.intl,t)}},{key:"relFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Xt(this.intl,this.isEnglish(),e)}},{key:"listFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lt(this.intl,e)}},{key:"isEnglish",value:function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}},{key:"equals",value:function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}],[{key:"fromOpts",value:function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}},{key:"create",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t||jt.defaultLocale,i=a||(o?"en-US":$t()),s=n||jt.defaultNumberingSystem,u=r||jt.defaultOutputCalendar;return new e(i,s,u,a)}},{key:"resetCache",value:function(){Ht=null,zt={},Ut={},Vt={}}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.locale,r=t.numberingSystem,o=t.outputCalendar;return e.create(n,r,o)}}]),e}();__webpack_require__(24603),__webpack_require__(28450),__webpack_require__(88386),__webpack_require__(73210);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^".concat(r,"$"))}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=k(t,3),o=r[0],a=r[1],i=r[2],s=k(n(e,i),3),u=s[0],c=s[1],l=s[2];return[en(en({},o),u),c||a,l]}),[{},null,1]).slice(0,2)}}function rn(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=k(a[o],2),s=i[0],u=i[1],c=s.exec(e);if(c)return u(c)}return[null,null]}function on(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,o={};for(r=0;r<t.length;r++)o[t[r]]=Se(e[n+r]);return[o,null,n+r]}}var an=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,sn="(?:".concat(an.source,"?(?:\\[(").concat(Ve.source,")\\])?)?"),un=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,cn=RegExp("".concat(un.source).concat(sn)),ln=RegExp("(?:T".concat(cn.source,")?")),fn=on("weekYear","weekNumber","weekDay"),dn=on("year","ordinal"),pn=RegExp("".concat(un.source," ?(?:").concat(an.source,"|(").concat(Ve.source,"))?")),hn=RegExp("(?: ".concat(pn.source,")?"));function mn(e,t,n){var r=e[t];return ge(r)?n:Se(r)}function vn(e,t){return[{hours:mn(e,t,0),minutes:mn(e,t+1,0),seconds:mn(e,t+2,0),milliseconds:Oe(e[t+3])},null,t+4]}function gn(e,t){var n=!e[t]&&!e[t+1],r=Ie(e[t+1],e[t+2]);return[{},n?null:Et.instance(r),t+3]}function bn(e,t){return[{},e[t]?Dt.create(e[t]):null,t+1]}var yn=RegExp("^T?".concat(un.source,"$")),Dn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function wn(e){var t=k(e,9),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f="-"===n[0],d=c&&"-"===c[0],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==e&&(t||e&&f)?-e:e};return[{years:p(Fe(r)),months:p(Fe(o)),weeks:p(Fe(a)),days:p(Fe(i)),hours:p(Fe(s)),minutes:p(Fe(u)),seconds:p(Fe(c),"-0"===c),milliseconds:p(Oe(l),d)}]}var _n={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function En(e,t,n,r,o,a,i){var s={year:2===t.length?Ne(Se(t)):Se(t),month:$e.indexOf(n)+1,day:Se(r),hour:Se(o),minute:Se(a)};return i&&(s.second=Se(i)),e&&(s.weekday=e.length>3?Ge.indexOf(e)+1:Ye.indexOf(e)+1),s}var xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kn(e){var t,n=k(e,12),r=n[1],o=n[2],a=n[3],i=n[4],s=n[5],u=n[6],c=n[7],l=n[8],f=n[9],d=n[10],p=n[11],h=En(r,i,a,o,s,u,c);return t=l?_n[l]:f?0:Ie(d,p),[h,new Et(t)]}var Cn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Sn=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Fn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function On(e){var t=k(e,8),n=t[1],r=t[2],o=t[3];return[En(n,t[4],o,r,t[5],t[6],t[7]),Et.utcInstance]}function An(e){var t=k(e,8),n=t[1],r=t[2],o=t[3],a=t[4],i=t[5],s=t[6];return[En(n,t[7],r,o,a,i,s),Et.utcInstance]}var Tn=tn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ln),Pn=tn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ln),jn=tn(/(\d{4})-?(\d{3})/,ln),Mn=tn(cn),Bn=nn((function(e,t){return[{year:mn(e,t),month:mn(e,t+1,1),day:mn(e,t+2,1)},null,t+3]}),vn,gn,bn),Nn=nn(fn,vn,gn,bn),Rn=nn(dn,vn,gn,bn),In=nn(vn,gn,bn);function Ln(e){return rn(e,[Tn,Bn],[Pn,Nn],[jn,Rn],[Mn,In])}function zn(e){return rn(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[xn,kn])}function qn(e){return rn(e,[Cn,On],[Sn,On],[Fn,An])}var Un=nn(vn);var Vn=tn(/(\d{4})-(\d\d)-(\d\d)/,hn),Hn=tn(pn),$n=nn(vn,gn,bn);function Wn(e){return rn(e,[Vn,Bn],[Hn,$n])}function Kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn="Invalid Duration",Jn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Qn=Zn({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Jn),er=365.2425,tr=30.436875,nr=Zn({years:{quarters:4,months:12,weeks:52.1775,days:er,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:tr,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Jn),rr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],or=rr.slice(0).reverse();function ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={values:n?t.values:Zn(Zn({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new sr(r)}function ir(e,t,n,r,o){var a=e[o][n],i=t[n]/a,s=!(Math.sign(i)===Math.sign(r[o]))&&0!==r[o]&&Math.abs(i)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(i):Math.trunc(i);r[o]+=s,t[n]-=s*a}var sr=function(){function e(t){u(this,e);var n="longterm"===t.conversionAccuracy||!1;this.values=t.values,this.loc=t.loc||Jt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n?nr:Qn,this.isLuxonDuration=!0}return d(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Zn(Zn({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?ct.create(this.loc,n).formatDurationFromString(this,e):Xn}},{key:"toHuman",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=rr.map((function(n){var r=e.values[n];return ge(r)?null:e.loc.numberFormatter(Zn(Zn({style:"unit",unitDisplay:"long"},t),{},{unit:n.slice(0,-1)})).format(r)})).filter((function(e){return e}));return this.loc.listFormatter(Zn({type:"conjunction",style:t.listStyle||"narrow"},t)).format(n)}},{key:"toObject",value:function(){return this.isValid?Zn({},this.values):{}}},{key:"toISO",value:function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ae(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=Zn({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var o=n.toFormat(r);return e.includePrefix&&(o="T"+o),o}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toString",value:function(){return this.toISO()}},{key:"toMillis",value:function(){return this.as("milliseconds")}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"plus",value:function(t){if(!this.isValid)return this;var n,r=e.fromDurationLike(t),o={},a=Kn(rr);try{for(a.s();!(n=a.n()).done;){var i=n.value;(xe(r.values,i)||xe(this.values,i))&&(o[i]=r.get(i)+this.get(i))}}catch(s){a.e(s)}finally{a.f()}return ar(this,{values:o},!0)}},{key:"minus",value:function(t){if(!this.isValid)return this;var n=e.fromDurationLike(t);return this.plus(n.negate())}},{key:"mapUnits",value:function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var o=r[n];t[o]=Le(e(this.values[o],o))}return ar(this,{values:t},!0)}},{key:"get",value:function(t){return this[e.normalizeUnit(t)]}},{key:"set",value:function(t){return this.isValid?ar(this,{values:Zn(Zn({},this.values),ze(t,e.normalizeUnit))}):this}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.conversionAccuracy,o=this.loc.clone({locale:t,numberingSystem:n}),a={loc:o};return r&&(a.conversionAccuracy=r),ar(this,a)}},{key:"as",value:function(e){return this.isValid?this.shiftTo(e).get(e):NaN}},{key:"normalize",value:function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){or.reduce((function(n,r){return ge(t[r])?n:(n&&ir(e,t,n,t,r),r)}),null)}(this.matrix,e),ar(this,{values:e},!0)}},{key:"shiftTo",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));var o,a,i={},s={},u=this.toObject(),c=Kn(rr);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(n.indexOf(l)>=0){o=l;var f=0;for(var d in s)f+=this.matrix[d][l]*s[d],s[d]=0;be(u[l])&&(f+=u[l]);var p=Math.trunc(f);for(var h in i[l]=p,s[l]=(1e3*f-1e3*p)/1e3,u)rr.indexOf(h)>rr.indexOf(l)&&ir(this.matrix,u,h,i,l)}else be(u[l])&&(s[l]=u[l])}}catch(v){c.e(v)}finally{c.f()}for(var m in s)0!==s[m]&&(i[o]+=m===o?s[m]:s[m]/this.matrix[o][m]);return ar(this,{values:i},!0).normalize()}},{key:"negate",value:function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=0===this.values[r]?0:-this.values[r]}return ar(this,{values:e},!0)}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"equals",value:function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;var t,n,r,o=Kn(rr);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n=this.values[a],r=e.values[a],!(void 0===n||0===n?void 0===r||0===r:n===r))return!1}}catch(i){o.e(i)}finally{o.f()}return!0}}],[{key:"fromMillis",value:function(t,n){return e.fromObject({milliseconds:t},n)}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||"object"!==(0,c.Z)(t))throw new q("Duration.fromObject: argument expected to be an object, got ".concat(null===t?"null":(0,c.Z)(t)));return new e({values:ze(t,e.normalizeUnit),loc:Jt.fromObject(n),conversionAccuracy:n.conversionAccuracy})}},{key:"fromDurationLike",value:function(t){if(be(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"===(0,c.Z)(t))return e.fromObject(t);throw new q("Unknown duration argument ".concat(t," of type ").concat((0,c.Z)(t)))}},{key:"fromISO",value:function(t,n){var r=function(e){return rn(e,[Dn,wn])}(t),o=k(r,1)[0];return o?e.fromObject(o,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"fromISOTime",value:function(t,n){var r=function(e){return rn(e,[yn,Un])}(t),o=k(r,1)[0];return o?e.fromObject(o,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new q("need to specify a reason the Duration is invalid");var r=t instanceof lt?t:new lt(t,n);if(jt.throwOnInvalid)throw new I(r);return new e({invalid:r})}},{key:"normalizeUnit",value:function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new z(e);return t}},{key:"isDuration",value:function(e){return e&&e.isLuxonDuration||!1}}]),e}();function ur(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lr="Invalid Interval";function fr(e,t){return e&&e.isValid?t&&t.isValid?t<e?dr.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:dr.invalid("missing or invalid end"):dr.invalid("missing or invalid start")}var dr=function(){function e(t){u(this,e),this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}return d(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";if(!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}},{key:"hasSame",value:function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}},{key:"isEmpty",value:function(){return this.s.valueOf()===this.e.valueOf()}},{key:"isAfter",value:function(e){return!!this.isValid&&this.s>e}},{key:"isBefore",value:function(e){return!!this.isValid&&this.e<=e}},{key:"contains",value:function(e){return!!this.isValid&&(this.s<=e&&this.e>e)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,r=t.end;return this.isValid?e.fromDateTimes(n||this.s,r||this.e):this}},{key:"splitAt",value:function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var a=r.map(So).filter((function(e){return t.contains(e)})).sort(),i=[],s=this.s,u=0;s<this.e;){var c=a[u]||this.e,l=+c>+this.e?this.e:c;i.push(e.fromDateTimes(s,l)),s=l,u+=1}return i}},{key:"splitBy",value:function(t){var n=sr.fromDurationLike(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,o=this.s,a=1,i=[];o<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*a})));r=+s>+this.e?this.e:s,i.push(e.fromDateTimes(o,r)),o=r,a+=1}return i}},{key:"divideEqually",value:function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}},{key:"overlaps",value:function(e){return this.e>e.s&&this.s<e.e}},{key:"abutsStart",value:function(e){return!!this.isValid&&+this.e==+e.s}},{key:"abutsEnd",value:function(e){return!!this.isValid&&+e.e==+this.s}},{key:"engulfs",value:function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}},{key:"equals",value:function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}},{key:"intersection",value:function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)}},{key:"union",value:function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)}},{key:"difference",value:function(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))}},{key:"toString",value:function(){return this.isValid?"[".concat(this.s.toISO()," – ").concat(this.e.toISO(),")"):lr}},{key:"toISO",value:function(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):lr}},{key:"toISODate",value:function(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):lr}},{key:"toISOTime",value:function(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):lr}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.separator,r=void 0===n?" – ":n;return this.isValid?"".concat(this.s.toFormat(e)).concat(r).concat(this.e.toFormat(e)):lr}},{key:"toDuration",value:function(e,t){return this.isValid?this.e.diff(this.s,e,t):sr.invalid(this.invalidReason)}},{key:"mapEndpoints",value:function(t){return e.fromDateTimes(t(this.s),t(this.e))}}],[{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new q("need to specify a reason the Interval is invalid");var r=t instanceof lt?t:new lt(t,n);if(jt.throwOnInvalid)throw new R(r);return new e({invalid:r})}},{key:"fromDateTimes",value:function(t,n){var r=So(t),o=So(n),a=fr(r,o);return null==a?new e({start:r,end:o}):a}},{key:"after",value:function(t,n){var r=sr.fromDurationLike(n),o=So(t);return e.fromDateTimes(o,o.plus(r))}},{key:"before",value:function(t,n){var r=sr.fromDurationLike(n),o=So(t);return e.fromDateTimes(o.minus(r),o)}},{key:"fromISO",value:function(t,n){var r=k((t||"").split("/",2),2),o=r[0],a=r[1];if(o&&a){var i,s,u,c;try{s=(i=Co.fromISO(o,n)).isValid}catch(a){s=!1}try{c=(u=Co.fromISO(a,n)).isValid}catch(a){c=!1}if(s&&c)return e.fromDateTimes(i,u);if(s){var l=sr.fromISO(a,n);if(l.isValid)return e.after(i,l)}else if(c){var f=sr.fromISO(o,n);if(f.isValid)return e.before(u,f)}}return e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"isInterval",value:function(e){return e&&e.isLuxonInterval||!1}},{key:"merge",value:function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=k(e,2),r=n[0],o=n[1];return o?o.overlaps(t)||o.abutsStart(t)?[r,o.union(t)]:[r.concat([o]),t]:[r,t]}),[[],null]),n=k(t,2),r=n[0],o=n[1];return o&&r.push(o),r}},{key:"xor",value:function(t){var n,r,o=null,a=0,i=[],s=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),u=(n=Array.prototype).concat.apply(n,V(s)).sort((function(e,t){return e.time-t.time})),c=ur(u);try{for(c.s();!(r=c.n()).done;){var l=r.value;1===(a+="s"===l.type?1:-1)?o=l.time:(o&&+o!=+l.time&&i.push(e.fromDateTimes(o,l.time)),o=null)}}catch(f){c.e(f)}finally{c.f()}return e.merge(i)}}]),e}(),pr=function(){function e(){u(this,e)}return d(e,null,[{key:"hasDST",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt.defaultZone,t=Co.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}},{key:"isValidIANAZone",value:function(e){return Dt.isValidZone(e)}},{key:"normalizeZone",value:function(e){return Ct(e,jt.defaultZone)}},{key:"months",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,o=t.numberingSystem,a=void 0===o?null:o,i=t.locObj,s=void 0===i?null:i,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||Jt.create(r,a,c)).months(e)}},{key:"monthsFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,o=t.numberingSystem,a=void 0===o?null:o,i=t.locObj,s=void 0===i?null:i,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||Jt.create(r,a,c)).months(e,!0)}},{key:"weekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,o=t.numberingSystem,a=void 0===o?null:o,i=t.locObj,s=void 0===i?null:i;return(s||Jt.create(r,a,null)).weekdays(e)}},{key:"weekdaysFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,o=t.numberingSystem,a=void 0===o?null:o,i=t.locObj,s=void 0===i?null:i;return(s||Jt.create(r,a,null)).weekdays(e,!0)}},{key:"meridiems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=void 0===t?null:t;return Jt.create(n).meridiems()}},{key:"eras",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n;return Jt.create(r,null,"gregory").eras(e)}},{key:"features",value:function(){return{relative:we()}}}]),e}();function hr(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor(sr.fromMillis(r).as("days"))}function mr(e,t,n,r){var o=function(e,t,n){for(var r,o,a=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=hr(e,t);return(n-n%7)/7}],["days",hr]],i={},s=0,u=a;s<u.length;s++){var c=k(u[s],2),l=c[0],f=c[1];if(n.indexOf(l)>=0){r=l;var d=f(e,t);(o=e.plus(p({},l,d)))>t?(e=e.plus(p({},l,d-1)),d-=1):e=o,i[l]=d}}return[e,i,o,r]}(e,t,n),a=k(o,4),i=a[0],s=a[1],u=a[2],c=a[3],l=t-i,f=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===f.length&&(u<t&&(u=i.plus(p({},c,1))),u!==i&&(s[c]=(s[c]||0)+l/(u-i)));var d,h=sr.fromObject(s,r);return f.length>0?(d=sr.fromMillis(l,r)).shiftTo.apply(d,V(f)).plus(h):h}__webpack_require__(34553),__webpack_require__(26699),__webpack_require__(32023),__webpack_require__(64765);var vr={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},gr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},br=vr.hanidec.replace(/[\[|\]]/g,"").split("");function yr(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(vr.hanidec))t+=br.indexOf(e[n]);else for(var o in gr){var a=k(gr[o],2),i=a[0],s=a[1];r>=i&&r<=s&&(t+=r-i)}}return parseInt(t,10)}return t}function Dr(e){var t=e.numberingSystem,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp("".concat(vr[t||"latn"]).concat(n))}function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{regex:e,deser:function(e){var n=k(e,1)[0];return t(yr(n))}}}var _r=String.fromCharCode(160),Er="[ ".concat(_r,"]"),xr=new RegExp(Er,"g");function kr(e){return e.replace(/\./g,"\\.?").replace(xr,Er)}function Cr(e){return e.replace(/\./g,"").replace(xr," ").toLowerCase()}function Sr(e,t){return null===e?null:{regex:RegExp(e.map(kr).join("|")),deser:function(n){var r=k(n,1)[0];return e.findIndex((function(e){return Cr(r)===Cr(e)}))+t}}}function Fr(e,t){return{regex:e,deser:function(e){var t=k(e,3);return Ie(t[1],t[2])},groups:t}}function Or(e){return{regex:e,deser:function(e){return k(e,1)[0]}}}function Ar(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Tr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};var Pr=null;function jr(e,t){if(e.literal)return e;var n=ct.macroTokenToFormatOpts(e.val);if(!n)return e;var r=ct.create(t,n).formatDateTimeParts((Pr||(Pr=Co.fromMillis(1555555555555)),Pr)).map((function(e){return function(e,t,n){var r=e.type,o=e.value;if("literal"===r)return{literal:!0,val:o};var a=n[r],i=Tr[r];return"object"===(0,c.Z)(i)&&(i=i[a]),i?{literal:!1,val:i}:void 0}(e,0,n)}));return r.includes(void 0)?e:r}function Mr(e,t,n){var r=function(e,t){var n;return(n=Array.prototype).concat.apply(n,V(e.map((function(e){return jr(e,t)}))))}(ct.parseFormat(n),e),o=r.map((function(t){return function(e,t){var n=Dr(t),r=Dr(t,"{2}"),o=Dr(t,"{3}"),a=Dr(t,"{4}"),i=Dr(t,"{6}"),s=Dr(t,"{1,2}"),u=Dr(t,"{1,3}"),c=Dr(t,"{1,6}"),l=Dr(t,"{1,9}"),f=Dr(t,"{2,4}"),d=Dr(t,"{4,6}"),p=function(e){return{regex:RegExp(Ar(e.val)),deser:function(e){return k(e,1)[0]},literal:!0}},h=function(h){if(e.literal)return p(h);switch(h.val){case"G":return Sr(t.eras("short",!1),0);case"GG":return Sr(t.eras("long",!1),0);case"y":return wr(c);case"yy":case"kk":return wr(f,Ne);case"yyyy":case"kkkk":return wr(a);case"yyyyy":return wr(d);case"yyyyyy":return wr(i);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return wr(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return wr(r);case"MMM":return Sr(t.months("short",!0,!1),1);case"MMMM":return Sr(t.months("long",!0,!1),1);case"LLL":return Sr(t.months("short",!1,!1),1);case"LLLL":return Sr(t.months("long",!1,!1),1);case"o":case"S":return wr(u);case"ooo":case"SSS":return wr(o);case"u":return Or(l);case"uu":return Or(s);case"uuu":case"E":case"c":return wr(n);case"a":return Sr(t.meridiems(),0);case"EEE":return Sr(t.weekdays("short",!1,!1),1);case"EEEE":return Sr(t.weekdays("long",!1,!1),1);case"ccc":return Sr(t.weekdays("short",!0,!1),1);case"cccc":return Sr(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Fr(new RegExp("([+-]".concat(s.source,")(?::(").concat(r.source,"))?")),2);case"ZZZ":return Fr(new RegExp("([+-]".concat(s.source,")(").concat(r.source,")?")),2);case"z":return Or(/[a-z_+-/]{1,256}?/i);default:return p(h)}}(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return h.token=e,h}(t,e)})),a=o.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:r,invalidReason:a.invalidReason};var i=function(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return"".concat(e,"(").concat(t.source,")")}),"");return["^".concat(t,"$"),e]}(o),s=k(i,2),u=s[0],c=s[1],l=RegExp(u,"i"),f=function(e,t,n){var r=e.match(t);if(r){var o={},a=1;for(var i in n)if(xe(n,i)){var s=n[i],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(o[s.token.val[0]]=s.deser(r.slice(a,a+u))),a+=u}return[r,o]}return[r,{}]}(t,l,c),d=k(f,2),p=d[0],h=d[1],m=h?function(e){var t,n=null;ge(e.z)||(n=Dt.create(e.z)),ge(e.Z)||(n||(n=new Et(e.Z)),t=e.Z),ge(e.q)||(e.M=3*(e.q-1)+1),ge(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),ge(e.u)||(e.S=Oe(e.u));var r=Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(t[r]=e[n]),t}),{});return[r,n,t]}(h):[null,null,void 0],v=k(m,3),g=v[0],b=v[1],y=v[2];if(xe(h,"a")&&xe(h,"H"))throw new L("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:l,rawMatches:p,matches:h,result:g,zone:b,specificOffset:y}}function Br(e,t,n){var r=Mr(e,t,n);return[r.result,r.zone,r.specificOffset,r.invalidReason]}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=[0,31,59,90,120,151,181,212,243,273,304,334],Lr=[0,31,60,91,121,152,182,213,244,274,305,335];function zr(e,t){return new lt("unit out of range","you specified ".concat(t," (of type ").concat((0,c.Z)(t),") as a ").concat(e,", which is invalid"))}function qr(e,t,n){var r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var o=r.getUTCDay();return 0===o?7:o}function Ur(e,t,n){return n+(Te(e)?Lr:Ir)[t-1]}function Vr(e,t){var n=Te(e)?Lr:Ir,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function Hr(e){var t,n=e.year,r=e.month,o=e.day,a=Ur(n,r,o),i=qr(n,r,o),s=Math.floor((a-i+10)/7);return s<1?s=Be(t=n-1):s>Be(n)?(t=n+1,s=1):t=n,Rr({weekYear:t,weekNumber:s,weekday:i},Ue(e))}function $r(e){var t,n=e.weekYear,r=e.weekNumber,o=e.weekday,a=qr(n,1,4),i=Pe(n),s=7*r+o-a-3;s<1?s+=Pe(t=n-1):s>i?(t=n+1,s-=Pe(n)):t=n;var u=Vr(t,s);return Rr({year:t,month:u.month,day:u.day},Ue(e))}function Wr(e){var t=e.year;return Rr({year:t,ordinal:Ur(t,e.month,e.day)},Ue(e))}function Kr(e){var t=e.year,n=Vr(t,e.ordinal);return Rr({year:t,month:n.month,day:n.day},Ue(e))}function Gr(e){var t=ye(e.weekYear),n=ke(e.weekNumber,1,Be(e.weekYear)),r=ke(e.weekday,1,7);return t?n?!r&&zr("weekday",e.weekday):zr("week",e.week):zr("weekYear",e.weekYear)}function Yr(e){var t=ye(e.year),n=ke(e.ordinal,1,Pe(e.year));return t?!n&&zr("ordinal",e.ordinal):zr("year",e.year)}function Zr(e){var t=ye(e.year),n=ke(e.month,1,12),r=ke(e.day,1,je(e.year,e.month));return t?n?!r&&zr("day",e.day):zr("month",e.month):zr("year",e.year)}function Xr(e){var t=e.hour,n=e.minute,r=e.second,o=e.millisecond,a=ke(t,0,23)||24===t&&0===n&&0===r&&0===o,i=ke(n,0,59),s=ke(r,0,59),u=ke(o,0,999);return a?i?s?!u&&zr("millisecond",o):zr("second",r):zr("minute",n):zr("hour",t)}function Jr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var no="Invalid DateTime",ro=864e13;function oo(e){return new lt("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function ao(e){return null===e.weekData&&(e.weekData=Hr(e.c)),e.weekData}function io(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Co(to(to(to({},n),t),{},{old:n}))}function so(e,t,n){var r=e-60*t*1e3,o=n.offset(r);if(t===o)return[r,t];r-=60*(o-t)*1e3;var a=n.offset(r);return o===a?[r,o]:[e-60*Math.min(o,a)*1e3,Math.max(o,a)]}function uo(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function co(e,t,n){return so(Me(e),t,n)}function lo(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=to(to({},e.c),{},{year:r,month:o,day:Math.min(e.c.day,je(r,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),i=sr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=k(so(Me(a),n,e.zone),2),u=s[0],c=s[1];return 0!==i&&(u+=i,c=e.zone.offset(u)),{ts:u,o:c}}function fo(e,t,n,r,o,a){var i=n.setZone,s=n.zone;if(e&&0!==Object.keys(e).length){var u=t||s,c=Co.fromObject(e,to(to({},n),{},{zone:u,specificOffset:a}));return i?c:c.setZone(s)}return Co.invalid(new lt("unparsable",'the input "'.concat(o,"\" can't be parsed as ").concat(r)))}function po(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?ct.create(Jt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ho(e,t){var n=e.c.year>9999||e.c.year<0,r="";return n&&e.c.year>=0&&(r+="+"),r+=Ce(e.c.year,n?6:4),t?(r+="-",r+=Ce(e.c.month),r+="-",r+=Ce(e.c.day)):(r+=Ce(e.c.month),r+=Ce(e.c.day)),r}function mo(e,t,n,r,o,a){var i=Ce(e.c.hour);return t?(i+=":",i+=Ce(e.c.minute),0===e.c.second&&n||(i+=":")):i+=Ce(e.c.minute),0===e.c.second&&n||(i+=Ce(e.c.second),0===e.c.millisecond&&r||(i+=".",i+=Ce(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!a?i+="Z":e.o<0?(i+="-",i+=Ce(Math.trunc(-e.o/60)),i+=":",i+=Ce(Math.trunc(-e.o%60))):(i+="+",i+=Ce(Math.trunc(e.o/60)),i+=":",i+=Ce(Math.trunc(e.o%60)))),a&&(i+="["+e.zone.ianaName+"]"),i}var vo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},go={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yo=["year","month","day","hour","minute","second","millisecond"],Do=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wo=["year","ordinal","hour","minute","second","millisecond"];function _o(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new z(e);return t}function Eo(e,t){var n,r,o=Ct(t.zone,jt.defaultZone),a=Jt.fromObject(t),i=jt.now();if(ge(e.year))n=i;else{var s,u=Jr(yo);try{for(u.s();!(s=u.n()).done;){var c=s.value;ge(e[c])&&(e[c]=vo[c])}}catch(d){u.e(d)}finally{u.f()}var l=Zr(e)||Xr(e);if(l)return Co.invalid(l);var f=k(co(e,o.offset(i),o),2);n=f[0],r=f[1]}return new Co({ts:n,zone:o,loc:a,o:r})}function xo(e,t,n){var r=!!ge(n.round)||n.round,o=function(e,o){return e=Ae(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,o)},a=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return o(a(n.unit),n.unit);var i,s=Jr(n.units);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=a(u);if(Math.abs(c)>=1)return o(c,u)}}catch(l){s.e(l)}finally{s.f()}return o(e>t?-0:0,n.units[n.units.length-1])}function ko(e){var t,n={};return e.length>0&&"object"===(0,c.Z)(e[e.length-1])?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var Co=function(){function e(t){u(this,e);var n=t.zone||jt.defaultZone,r=t.invalid||(Number.isNaN(t.ts)?new lt("invalid input"):null)||(n.isValid?null:oo(n));this.ts=ge(t.ts)?jt.now():t.ts;var o=null,a=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n)){var i=[t.old.c,t.old.o];o=i[0],a=i[1]}else{var s=n.offset(this.ts);o=uo(this.ts,s),o=(r=Number.isNaN(o.year)?new lt("invalid input"):null)?null:o,a=r?null:s}this._zone=n,this.loc=t.loc||Jt.create(),this.invalid=r,this.weekData=null,this.c=o,this.o=a,this.isLuxonDateTime=!0}return d(e,[{key:"get",value:function(e){return this[e]}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?ao(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?ao(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?ao(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Wr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?pr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?pr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?pr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?pr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Te(this.year)}},{key:"daysInMonth",get:function(){return je(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Pe(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Be(this.weekYear):NaN}},{key:"resolvedLocaleOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ct.create(this.loc.clone(e),e).resolvedOptions(this),n=t.locale,r=t.numberingSystem,o=t.calendar;return{locale:n,numberingSystem:r,outputCalendar:o}}},{key:"toUTC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(Et.instance(e),t)}},{key:"toLocal",value:function(){return this.setZone(jt.defaultZone)}},{key:"setZone",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.keepLocalTime,o=void 0!==r&&r,a=n.keepCalendarTime,i=void 0!==a&&a;if((t=Ct(t,jt.defaultZone)).equals(this.zone))return this;if(t.isValid){var s=this.ts;if(o||i){var u=t.offset(this.ts),c=this.toObject(),l=co(c,u,t),f=k(l,1);s=f[0]}return io(this,{ts:s,zone:t})}return e.invalid(oo(t))}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.outputCalendar,o=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return io(this,{loc:o})}},{key:"setLocale",value:function(e){return this.reconfigure({locale:e})}},{key:"set",value:function(e){if(!this.isValid)return this;var t,n=ze(e,_o),r=!ge(n.weekYear)||!ge(n.weekNumber)||!ge(n.weekday),o=!ge(n.ordinal),a=!ge(n.year),i=!ge(n.month)||!ge(n.day),s=a||i,u=n.weekYear||n.weekNumber;if((s||o)&&u)throw new L("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&o)throw new L("Can't mix ordinal dates with month/day");r?t=$r(to(to({},Hr(this.c)),n)):ge(n.ordinal)?(t=to(to({},this.toObject()),n),ge(n.day)&&(t.day=Math.min(je(t.year,t.month),t.day))):t=Kr(to(to({},Wr(this.c)),n));var c=k(co(t,this.o,this.zone),2);return io(this,{ts:c[0],o:c[1]})}},{key:"plus",value:function(e){return this.isValid?io(this,lo(this,sr.fromDurationLike(e))):this}},{key:"minus",value:function(e){return this.isValid?io(this,lo(this,sr.fromDurationLike(e).negate())):this}},{key:"startOf",value:function(e){if(!this.isValid)return this;var t={},n=sr.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)}},{key:"endOf",value:function(e){return this.isValid?this.plus(p({},e,1)).startOf(e).minus(1):this}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?ct.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):no}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?ct.create(this.loc.clone(t),e).formatDateTime(this):no}},{key:"toLocaleParts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?ct.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}},{key:"toISO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"extended":t,r=e.suppressSeconds,o=void 0!==r&&r,a=e.suppressMilliseconds,i=void 0!==a&&a,s=e.includeOffset,u=void 0===s||s,c=e.extendedZone,l=void 0!==c&&c;if(!this.isValid)return null;var f="extended"===n,d=ho(this,f);return d+="T",d+=mo(this,f,o,i,u,l)}},{key:"toISODate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"extended":t;return this.isValid?ho(this,"extended"===n):null}},{key:"toISOWeekDate",value:function(){return po(this,"kkkk-'W'WW-c")}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.suppressMilliseconds,n=void 0!==t&&t,r=e.suppressSeconds,o=void 0!==r&&r,a=e.includeOffset,i=void 0===a||a,s=e.includePrefix,u=void 0!==s&&s,c=e.extendedZone,l=void 0!==c&&c,f=e.format,d=void 0===f?"extended":f;if(!this.isValid)return null;var p=u?"T":"";return p+mo(this,"extended"===d,o,n,i,l)}},{key:"toRFC2822",value:function(){return po(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}},{key:"toHTTP",value:function(){return po(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}},{key:"toSQLDate",value:function(){return this.isValid?ho(this,!0):null}},{key:"toSQLTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOffset,n=void 0===t||t,r=e.includeZone,o=void 0!==r&&r,a=e.includeOffsetSpace,i=void 0===a||a,s="HH:mm:ss.SSS";return(o||n)&&(i&&(s+=" "),o?s+="z":n&&(s+="ZZ")),po(this,s,!0)}},{key:"toSQL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}},{key:"toString",value:function(){return this.isValid?this.toISO():no}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"toMillis",value:function(){return this.isValid?this.ts:NaN}},{key:"toSeconds",value:function(){return this.isValid?this.ts/1e3:NaN}},{key:"toUnixInteger",value:function(){return this.isValid?Math.floor(this.ts/1e3):NaN}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toBSON",value:function(){return this.toJSDate()}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};var t=to({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}},{key:"toJSDate",value:function(){return new Date(this.isValid?this.ts:NaN)}},{key:"diff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return sr.invalid("created by diffing an invalid DateTime");var r=to({locale:this.locale,numberingSystem:this.numberingSystem},n),o=_e(t).map(sr.normalizeUnit),a=e.valueOf()>this.valueOf(),i=a?this:e,s=a?e:this,u=mr(i,s,o,r);return a?u.negate():u}},{key:"diffNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(e.now(),t,n)}},{key:"until",value:function(e){return this.isValid?dr.fromDateTimes(this,e):this}},{key:"hasSame",value:function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)}},{key:"equals",value:function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}},{key:"toRelative",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,o=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(o=t.unit,a=void 0),xo(n,this.plus(r),to(to({},t),{},{numeric:"always",units:o,unit:a}))}},{key:"toRelativeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?xo(t.base||e.fromObject({},{zone:this.zone}),this,to(to({},t),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}}],[{key:"now",value:function(){return new e({})}},{key:"local",value:function(){var e=ko(arguments),t=k(e,2),n=t[0],r=t[1],o=k(r,7),a=o[0],i=o[1],s=o[2],u=o[3],c=o[4],l=o[5],f=o[6];return Eo({year:a,month:i,day:s,hour:u,minute:c,second:l,millisecond:f},n)}},{key:"utc",value:function(){var e=ko(arguments),t=k(e,2),n=t[0],r=t[1],o=k(r,7),a=o[0],i=o[1],s=o[2],u=o[3],c=o[4],l=o[5],f=o[6];return n.zone=Et.utcInstance,Eo({year:a,month:i,day:s,hour:u,minute:c,second:l,millisecond:f},n)}},{key:"fromJSDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=De(t)?t.valueOf():NaN;if(Number.isNaN(r))return e.invalid("invalid input");var o=Ct(n.zone,jt.defaultZone);return o.isValid?new e({ts:r,zone:o,loc:Jt.fromObject(n)}):e.invalid(oo(o))}},{key:"fromMillis",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(be(t))return t<-ro||t>ro?e.invalid("Timestamp out of range"):new e({ts:t,zone:Ct(n.zone,jt.defaultZone),loc:Jt.fromObject(n)});throw new q("fromMillis requires a numerical input, but received a ".concat((0,c.Z)(t)," with value ").concat(t))}},{key:"fromSeconds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(be(t))return new e({ts:1e3*t,zone:Ct(n.zone,jt.defaultZone),loc:Jt.fromObject(n)});throw new q("fromSeconds requires a numerical input")}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var r=Ct(n.zone,jt.defaultZone);if(!r.isValid)return e.invalid(oo(r));var o=jt.now(),a=ge(n.specificOffset)?r.offset(o):n.specificOffset,i=ze(t,_o),s=!ge(i.ordinal),u=!ge(i.year),c=!ge(i.month)||!ge(i.day),l=u||c,f=i.weekYear||i.weekNumber,d=Jt.fromObject(n);if((l||s)&&f)throw new L("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new L("Can't mix ordinal dates with month/day");var p,h,m=f||i.weekday&&!l,v=uo(o,a);m?(p=Do,h=go,v=Hr(v)):s?(p=wo,h=bo,v=Wr(v)):(p=yo,h=vo);var g,b=!1,y=Jr(p);try{for(y.s();!(g=y.n()).done;){var D=g.value,w=i[D];ge(w)?i[D]=b?h[D]:v[D]:b=!0}}catch(T){y.e(T)}finally{y.f()}var _=m?Gr(i):s?Yr(i):Zr(i),E=_||Xr(i);if(E)return e.invalid(E);var x=m?$r(i):s?Kr(i):i,C=co(x,a,r),S=k(C,2),F=S[0],O=S[1],A=new e({ts:F,zone:r,o:O,loc:d});return i.weekday&&l&&t.weekday!==A.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(i.weekday," and a date of ").concat(A.toISO())):A}},{key:"fromISO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ln(e),r=k(n,2),o=r[0],a=r[1];return fo(o,a,t,"ISO 8601",e)}},{key:"fromRFC2822",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zn(e),r=k(n,2),o=r[0],a=r[1];return fo(o,a,t,"RFC 2822",e)}},{key:"fromHTTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qn(e),r=k(n,2),o=r[0],a=r[1];return fo(o,a,t,"HTTP",t)}},{key:"fromFormat",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(ge(t)||ge(n))throw new q("fromFormat requires an input string and a format");var o=r.locale,a=void 0===o?null:o,i=r.numberingSystem,s=void 0===i?null:i,u=Jt.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),c=Br(u,t,n),l=k(c,4),f=l[0],d=l[1],p=l[2],h=l[3];return h?e.invalid(h):fo(f,d,r,"format ".concat(n),t,p)}},{key:"fromString",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormat(t,n,r)}},{key:"fromSQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wn(e),r=k(n,2),o=r[0],a=r[1];return fo(o,a,t,"SQL",e)}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new q("need to specify a reason the DateTime is invalid");var r=t instanceof lt?t:new lt(t,n);if(jt.throwOnInvalid)throw new N(r);return new e({invalid:r})}},{key:"isDateTime",value:function(e){return e&&e.isLuxonDateTime||!1}},{key:"min",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new q("min requires all arguments be DateTimes");return Ee(n,(function(e){return e.valueOf()}),Math.min)}},{key:"max",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new q("max requires all arguments be DateTimes");return Ee(n,(function(e){return e.valueOf()}),Math.max)}},{key:"fromFormatExplain",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.locale,o=void 0===r?null:r,a=n.numberingSystem,i=void 0===a?null:a,s=Jt.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return Mr(s,e,t)}},{key:"fromStringExplain",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormatExplain(t,n,r)}},{key:"DATE_SHORT",get:function(){return K}},{key:"DATE_MED",get:function(){return G}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return Y}},{key:"DATE_FULL",get:function(){return Z}},{key:"DATE_HUGE",get:function(){return X}},{key:"TIME_SIMPLE",get:function(){return J}},{key:"TIME_WITH_SECONDS",get:function(){return Q}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return ee}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return te}},{key:"TIME_24_SIMPLE",get:function(){return ne}},{key:"TIME_24_WITH_SECONDS",get:function(){return re}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return oe}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return ae}},{key:"DATETIME_SHORT",get:function(){return ie}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return se}},{key:"DATETIME_MED",get:function(){return ue}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return ce}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return le}},{key:"DATETIME_FULL",get:function(){return fe}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return de}},{key:"DATETIME_HUGE",get:function(){return pe}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return he}}]),e}();function So(e){if(Co.isDateTime(e))return e;if(e&&e.valueOf&&be(e.valueOf()))return Co.fromJSDate(e);if(e&&"object"===(0,c.Z)(e))return Co.fromObject(e);throw new q("Unknown datetime argument: ".concat(e,", of type ").concat((0,c.Z)(e)))}__webpack_require__(70189);var Fo=__webpack_require__(9052),Oo=__webpack_require__.n(Fo),Ao=__webpack_require__(2788),To=__webpack_require__.n(Ao),Po=(__webpack_require__(5212),function(e,t){var n=Mo(e),r=Mo(t),o=n.pop(),a=r.pop(),i=Io(n,r);return 0!==i?i:o&&a?Io(o.split("."),a.split(".")):o||a?o?-1:1:0}),jo=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Mo=function(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(jo);if(!t)throw new Error("Invalid argument not valid semver ('".concat(e,"' received)"));return t.shift(),t},Bo=function(e){return"*"===e||"x"===e||"X"===e},No=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},Ro=function(e,t){if(Bo(e)||Bo(t))return 0;var n=function(e,t){return(0,c.Z)(e)!==(0,c.Z)(t)?[String(e),String(t)]:[e,t]}(No(e),No(t)),r=k(n,2),o=r[0],a=r[1];return o>a?1:o<a?-1:0},Io=function(e,t){for(var n=0;n<Math.max(e.length,t.length);n++){var r=Ro(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0},Lo={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},zo=(Object.keys(Lo),new(To())),qo=zo.getDevice(),Uo=zo.getOS(),Vo=zo.getBrowser();zo.getEngine();function Ho(){return"mobile"===qo.type||"tablet"===qo.type}function $o(){return"iOS"===Uo.name}function Wo(){return"firefox"===Vo.name.toLowerCase()}function Ko(){if("iOS"===Uo.name&&Uo.version){if(-1===Po(Uo.version,"14"))return!0}else if("Mac OS"===Uo.name&&"Safari"===Vo.name&&Vo.version&&-1===Po(Vo.version,"14"))return!0;return!1}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__(69720),__webpack_require__(19601),__webpack_require__(30541),__webpack_require__(43290);function Zo(e){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(e)}function Xo(e){var t=function(e,t){if("object"!==Zo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zo(t)?t:String(t)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xo(r.key),r)}}function Qo(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}__webpack_require__(92087);function ea(e,t){if(e===t)return!0;if(e&&t&&"object"==Zo(e)&&"object"==Zo(t)){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!ea(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((n=o.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var a=o[r];if(!ea(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}__webpack_require__(43371),__webpack_require__(98410);function ta(e){var t=e.split("."),n=t.length;return 1===n?function(t){return t[e]}:function(e){for(var r=e,o=0;o<n;++o){if(void 0===(r=r[t[o]]))return r}return r}}function na(e,t){var n=e[t];if(!n)throw new Error("missing value from object "+t);return n}function ra(e){return Object.assign({},e)}function oa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort((function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"===Zo(e)?1:-1})).map((function(e){return oa(e,t)}));if("object"===Zo(e)&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).forEach((function(r){n[r]=oa(e[r],t)})),n}return e}var aa=function e(t){if(!t)return t;if(null===t||"object"!==Zo(t))return t;if(Array.isArray(t)){for(var n=new Array(t.length),r=n.length;r--;)n[r]=e(t[r]);return n}var o={};for(var a in t)o[a]=e(t[a]);return o};function ia(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function sa(e,t){return t instanceof RegExp?t.toString():t}function ua(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function ca(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ua(a,r,o,i,s,"next",e)}function s(e){ua(a,r,o,i,s,"throw",e)}i(void 0)}))}}var la=__webpack_require__(81270),fa=__webpack_require__.n(la);__webpack_require__(40561);function da(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ha(e){return e[e.length-1]}function ma(e){return Array.isArray(e)?e.slice(0):[e]}function va(e){return Array.isArray(e)}function ga(e){return null!=e}function ba(e,t){var n,r=0,o=-1,a=da(e);try{for(a.s();!(n=a.n()).done;){if(!t(n.value,o+=1))break;r+=1}}catch(i){a.e(i)}finally{a.f()}return r}function ya(e,t){for(var n=t.length,r=0;r<n;++r){var o=t[r];e.push(o)}}function Da(e,t){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Da(e,t)}function wa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Da(e,t)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function Ea(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xa(e,t,n){return xa=Ea()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Da(o,n.prototype),o},xa.apply(null,arguments)}function ka(e){var t="function"==typeof Map?new Map:void 0;return ka=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return xa(e,arguments,_a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Da(n,e)},ka(e)}var Ca={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(e){return e},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        Error messages are not included in RxDB core to reduce build size.\n        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html\n        - or search for the error code here: https://github.com/pubkey/rxdb/search?q="+e+"\n        "}};function Sa(e,t,n){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length?t:(t+="Given parameters: {\n",t+=Object.keys(e).map((function(t){var n="[object Object]";try{n="errors"===t?e[t].map((function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))})):JSON.stringify(e[t],(function(e,t){return void 0===t?null:t}),2)}catch(r){}return t+":"+n})).join("\n"),t+="}")}(n)}var Fa=function(e){function t(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Sa(n,t,o);return(r=e.call(this,a)||this).code=t,r.message=a,r.parameters=o,r.rxdb=!0,r}return wa(t,e),t.prototype.toString=function(){return this.message},Qo(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(ka(Error)),Oa=function(e){function t(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Sa(n,t,o);return(r=e.call(this,a)||this).code=t,r.message=a,r.parameters=o,r.rxdb=!0,r}return wa(t,e),t.prototype.toString=function(){return this.message},Qo(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(ka(TypeError));function Aa(e,t){return new Fa(e,Ca.tunnelErrorMessage(e),t)}function Ta(e,t){return new Oa(e,Ca.tunnelErrorMessage(e),t)}var Pa={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function ja(e){return Aa("COL20",{name:Pa[e.status],document:e.documentId,writeError:e})}var Ma={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Ba(e,t){Ma[e]&&Ma[e].forEach((function(e){return e(t)}))}function Na(e,t){return Promise.all(Ma[e].map((function(e){return e(t)})))}__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(59595),__webpack_require__(35500);function Ra(e){return"function"==typeof e}function Ia(e){return function(t){if(function(e){return Ra(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}__webpack_require__(72443);var La=function(e,t){return La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},La(e,t)};function za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}La(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function qa(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function Ua(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Va(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ha(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function $a(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Wa(e){return this instanceof Wa?(this.v=e,this):new Wa(e)}function Ka(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Wa?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(o[e](t))}catch(n){l(a[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Ga(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Va(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;function Ya(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Za=Ya((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Xa(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ja=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var i=Va(a),s=i.next();!s.done;s=i.next()){s.value.remove(this)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(Ra(u))try{u()}catch(h){o=h instanceof Za?h.errors:[h]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=Va(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{ti(d)}catch(m){o=null!=o?o:[],m instanceof Za?o=$a($a([],Ha(o)),Ha(m.errors)):o.push(m)}}}catch(v){n={error:v}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Za(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ti(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Xa(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Xa(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Qa=Ja.EMPTY;function ei(e){return e instanceof Ja||e&&"closed"in e&&Ra(e.remove)&&Ra(e.add)&&Ra(e.unsubscribe)}function ti(e){Ra(e)?e():e.unsubscribe()}var ni={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ri={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ri.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,$a([e,t],Ha(n))):setTimeout.apply(void 0,$a([e,t],Ha(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=ri.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function oi(e){ri.setTimeout((function(){var t=ni.onUnhandledError;if(!t)throw e;t(e)}))}function ai(){}var ii=si("C",void 0,void 0);function si(e,t,n){return{kind:e,value:t,error:n}}var ui=null;function ci(e){if(ni.useDeprecatedSynchronousErrorHandling){var t=!ui;if(t&&(ui={errorThrown:!1,error:null}),e(),t){var n=ui,r=n.errorThrown,o=n.error;if(ui=null,r)throw o}}else e()}var li=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ei(t)&&t.add(n)):n.destination=gi,n}return za(t,e),t.create=function(e,t,n){return new hi(e,t,n)},t.prototype.next=function(e){this.isStopped?vi(function(e){return si("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?vi(si("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?vi(ii,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ja),fi=Function.prototype.bind;function di(e,t){return fi.call(e,t)}var pi=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){mi(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){mi(n)}else mi(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){mi(t)}},e}(),hi=function(e){function t(t,n,r){var o,a,i=e.call(this)||this;Ra(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&ni.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},o={next:t.next&&di(t.next,a),error:t.error&&di(t.error,a),complete:t.complete&&di(t.complete,a)}):o=t;return i.destination=new pi(o),i}return za(t,e),t}(li);function mi(e){var t;ni.useDeprecatedSynchronousErrorHandling?(t=e,ni.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=t)):oi(e)}function vi(e,t){var n=ni.onStoppedNotification;n&&ri.setTimeout((function(){return n(e,t)}))}var gi={closed:!0,next:ai,error:function(e){throw e},complete:ai};function bi(e,t,n,r,o){return new yi(e,t,n,r,o)}var yi=function(e){function t(t,n,r,o,a,i){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return za(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(li);function Di(e,t){return Ia((function(n,r){var o=0;n.subscribe(bi(r,(function(n){r.next(e.call(t,n,o++))})))}))}function wi(e,t){return Ia((function(n,r){var o=0;n.subscribe(bi(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}var _i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Ei(e){return Ra(null==e?void 0:e.then)}var xi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ki(e){return e}function Ci(e){return 0===e.length?ki:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Si=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,o=function(e){return e&&e instanceof li||function(e){return e&&Ra(e.next)&&Ra(e.error)&&Ra(e.complete)}(e)&&ei(e)}(e)?e:new hi(e,t,n);return ci((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Fi(t))((function(t,r){var o=new hi({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[xi]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ci(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Fi(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Fi(e){var t;return null!==(t=null!=e?e:ni.Promise)&&void 0!==t?t:Promise}function Oi(e){return Ra(e[xi])}function Ai(e){return Symbol.asyncIterator&&Ra(null==e?void 0:e[Symbol.asyncIterator])}function Ti(e){return new TypeError("You provided "+(null!==e&&"object"===(0,c.Z)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Pi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ji(e){return Ra(null==e?void 0:e[Pi])}function Mi(e){return Ka(this,arguments,(function(){var t,n,r;return Ua(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Wa(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Wa(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Wa(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Bi(e){return Ra(null==e?void 0:e.getReader)}function Ni(e){if(e instanceof Si)return e;if(null!=e){if(Oi(e))return o=e,new Si((function(e){var t=o[xi]();if(Ra(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(_i(e))return r=e,new Si((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Ei(e))return n=e,new Si((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,oi)}));if(Ai(e))return Ri(e);if(ji(e))return t=e,new Si((function(e){var n,r;try{for(var o=Va(t),a=o.next();!a.done;a=o.next()){var i=a.value;if(e.next(i),e.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(Bi(e))return Ri(Mi(e))}var t,n,r,o;throw Ti(e)}function Ri(e){return new Si((function(t){(function(e,t){var n,r,o,a;return qa(this,void 0,void 0,(function(){var i,s;return Ua(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Ga(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Ii(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var a=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(a),!o)return a}function Li(e,t,n){return void 0===n&&(n=1/0),Ra(t)?Li((function(n,r){return Di((function(e,o){return t(n,e,r,o)}))(Ni(e(n,r)))}),n):("number"==typeof t&&(n=t),Ia((function(t,r){return function(e,t,n,r,o,a,i,s){var u=[],c=0,l=0,f=!1,d=function(){!f||u.length||c||t.complete()},p=function(e){return c<r?h(e):u.push(e)},h=function e(s){a&&t.next(s),c++;var f=!1;Ni(n(s,l++)).subscribe(bi(t,(function(e){null==o||o(e),a?p(e):t.next(e)}),(function(){f=!0}),void 0,(function(){if(f)try{c--;for(var n=function(){var n=u.shift();i?Ii(t,i,(function(){return e(n)})):e(n)};u.length&&c<r;)n();d()}catch(o){t.error(o)}})))};return e.subscribe(bi(t,p,(function(){f=!0,d()}))),function(){null==s||s()}}(t,r,e,n)})))}function zi(e){return void 0===e&&(e=1/0),Li(ki,e)}function qi(){return zi(1)}function Ui(e){return e[e.length-1]}function Vi(e){return Ra(Ui(e))?e.pop():void 0}function Hi(e){return function(e){return e&&Ra(e.schedule)}(Ui(e))?e.pop():void 0}function $i(e,t){return"number"==typeof Ui(e)?e.pop():t}function Wi(e,t){return void 0===t&&(t=0),Ia((function(n,r){n.subscribe(bi(r,(function(n){return Ii(r,e,(function(){return r.next(n)}),t)}),(function(){return Ii(r,e,(function(){return r.complete()}),t)}),(function(n){return Ii(r,e,(function(){return r.error(n)}),t)})))}))}function Ki(e,t){return void 0===t&&(t=0),Ia((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Gi(e,t){if(!e)throw new Error("Iterable cannot be null");return new Si((function(n){Ii(n,t,(function(){var r=e[Symbol.asyncIterator]();Ii(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Yi(e,t){if(null!=e){if(Oi(e))return function(e,t){return Ni(e).pipe(Ki(t),Wi(t))}(e,t);if(_i(e))return function(e,t){return new Si((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Ei(e))return function(e,t){return Ni(e).pipe(Ki(t),Wi(t))}(e,t);if(Ai(e))return Gi(e,t);if(ji(e))return function(e,t){return new Si((function(n){var r;return Ii(n,t,(function(){r=e[Pi](),Ii(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(a){return void n.error(a)}o?n.complete():n.next(t)}),0,!0)})),function(){return Ra(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Bi(e))return function(e,t){return Gi(Mi(e),t)}(e,t)}throw Ti(e)}function Zi(e,t){return t?Yi(e,t):Ni(e)}function Xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qi()(Zi(e,Hi(e)))}function Ji(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hi(e);return Ia((function(t,r){(n?Xi(e,t,n):Xi(e,t)).subscribe(r)}))}function Qi(e,t){return void 0===t&&(t=ki),e=null!=e?e:es,Ia((function(n,r){var o,a=!0;n.subscribe(bi(r,(function(n){var i=t(n);!a&&e(o,i)||(a=!1,o=i,r.next(n))})))}))}function es(e,t){return e===t}var ts=Ya((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ns=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return za(t,e),t.prototype.lift=function(e){var t=new rs(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new ts},t.prototype.next=function(e){var t=this;ci((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=Va(t.currentObservers),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(i){n={error:i}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;ci((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;ci((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,a=n.observers;return r||o?Qa:(this.currentObservers=null,a.push(e),new Ja((function(){t.currentObservers=null,Xa(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new Si;return e.source=this,e},t.create=function(e,t){return new rs(e,t)},t}(Si),rs=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return za(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Qa},t}(ns),os={now:function(){return(os.delegate||Date).now()},delegate:void 0},as=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=os);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return za(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,i=n._timestampProvider,s=n._windowTime;r||(o.push(t),!a&&o.push(i.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,a=(o?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!o){for(var i=n.now(),s=0,u=1;u<r.length&&r[u]<=i;u+=2)s=u;s&&r.splice(0,s+1)}},t}(ns);function is(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new hi({next:function(){o.unsubscribe(),e()}});return Ni(t.apply(void 0,$a([],Ha(n)))).subscribe(o)}}else e()}function ss(e,t,n){var r,o,a,i,s=!1;return e&&"object"===(0,c.Z)(e)?(r=e.bufferSize,i=void 0===r?1/0:r,o=e.windowTime,t=void 0===o?1/0:o,s=void 0!==(a=e.refCount)&&a,n=e.scheduler):i=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new ns}:t,r=e.resetOnError,o=void 0===r||r,a=e.resetOnComplete,i=void 0===a||a,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,a,s=0,c=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=void 0},d=function(){f(),t=a=void 0,c=l=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return Ia((function(e,h){s++,l||c||f();var m=a=null!=a?a:n();h.add((function(){0!=--s||l||c||(r=is(p,u))})),m.subscribe(h),!t&&s>0&&(t=new hi({next:function(e){return m.next(e)},error:function(e){l=!0,f(),r=is(d,o,e),m.error(e)},complete:function(){c=!0,f(),r=is(d,i),m.complete()}}),Ni(e).subscribe(t))}))(e)}}({connector:function(){return new as(i,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}__webpack_require__(33161);function us(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var cs={bufferSize:1,refCount:!0};__webpack_require__(9494);function ls(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ds=function(e){var t=Zo(e);return null!==e&&("object"===t||"function"===t)},ps=new Set(["__proto__","prototype","constructor"]),hs=new Set("0123456789");function ms(e){var t,n=[],r="",o="start",a=!1,i=ls(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;switch(s){case"\\":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o)throw new Error("Invalid character after an index");a&&(r+=s),o="property",a=!a;break;case".":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o){o="property";break}if(a){a=!1,r+=s;break}if(ps.has(r))return[];n.push(r),r="",o="property";break;case"[":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o){o="index";break}if(a){a=!1,r+=s;break}if("property"===o){if(ps.has(r))return[];n.push(r),r=""}o="index";break;case"]":if("index"===o){n.push(Number.parseInt(r,10)),r="",o="indexEnd";break}if("indexEnd"===o)throw new Error("Invalid character after an index");default:if("index"===o&&!hs.has(s))throw new Error("Invalid character in an index");if("indexEnd"===o)throw new Error("Invalid character after an index");"start"===o&&(o="property"),a&&(a=!1,r+="\\"),r+=s}}}catch(u){i.e(u)}finally{i.f()}switch(a&&(r+="\\"),o){case"property":if(ps.has(r))return[];n.push(r);break;case"index":throw new Error("Index was not closed");case"start":n.push("")}return n}function vs(e,t){if("number"!=typeof t&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function gs(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!ds(e)||"string"!=typeof t)return void 0===n?e:n;var r=ms(t);if(0===r.length)return n;for(var o=0;o<r.length;o++){var a=r[o];if(null==(e=vs(e,a)?o===r.length-1?void 0:null:e[a])){if(o!==r.length-1)return n;break}}return void 0===e?n:e}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}var ys=Promise.resolve(!0),Ds=Promise.resolve(!1),ws=Promise.resolve(null),_s=Promise.resolve(),Es=_s;__webpack_require__(68757),__webpack_require__(83650),__webpack_require__(39575),__webpack_require__(8255),__webpack_require__(48675),__webpack_require__(92990),__webpack_require__(18927),__webpack_require__(33105),__webpack_require__(35035),__webpack_require__(74345),__webpack_require__(7174),__webpack_require__(63408),__webpack_require__(14590),__webpack_require__(32846),__webpack_require__(44731),__webpack_require__(77209),__webpack_require__(96319),__webpack_require__(58867),__webpack_require__(37789),__webpack_require__(33739),__webpack_require__(29368),__webpack_require__(14483),__webpack_require__(12056),__webpack_require__(3462),__webpack_require__(30678),__webpack_require__(27462),__webpack_require__(33824),__webpack_require__(55021),__webpack_require__(12974),__webpack_require__(15016),__webpack_require__(18264);function xs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function ks(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function Cs(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function Ss(e){var t=e.split("-"),n="RxDB";return t.forEach((function(e){n+=ks(e)})),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function Fs(e){return e.documentData?e.documentData:e.previousDocumentData}function Os(e,t,n){return(t=Xo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var As=/\./g,Ts=/(\/?)(.+)\1([a-z]*)/i;function Ps(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function js(e,t){var n=t;return gs(e,n=Cs(n="properties."+(n=n.replace(As,".properties."))))}function Ms(e,t,n){if("string"==typeof t.primaryKey)return n;var r=Ns(t,n),o=n[e];if(o&&o!==r)throw Aa("DOC19",{args:{documentData:n,existingPrimary:o,newPrimary:r},schema:t});return n[e]=r,n}function Bs(e){return"string"==typeof e?e:e.key}function Ns(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map((function(e){var n=gs(t,e);if(void 0===n)throw Aa("DOC18",{args:{field:e,documentData:t}});return n})).join(n.separator)}function Rs(e){return oa(e,!0)}function Is(e){var t=Bs((e=ra(e)).primaryKey);e.properties=ra(e.properties),e.additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Ls,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=zs(e);return ya(e.required,n),e.required=e.required.filter((function(e){return!e.includes(".")})).filter((function(e,t,n){return n.indexOf(e)===t})),e.version=e.version||0,e.indexes&&(e.indexes=e.indexes.map((function(e){var n=va(e)?e.slice(0):[e];if(!n.includes(t)){var r=n.slice(0);return r.push(t),r}return n}))),e}var Ls={type:"object",properties:{lwt:{type:"number",minimum:1,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function zs(e){var t=Object.keys(e.properties).filter((function(t){return e.properties[t].final})),n=Bs(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach((function(e){return t.push(e)})),t}__webpack_require__(26833);var qs=0;function Us(){var e=(new Date).getTime();(e+=.01)<=qs&&(e=qs+.01);var t=parseFloat(e.toFixed(2));return qs=t,t}class Vs{constructor(e,t){e=this.words=e||[],this.sigBytes=void 0!==t?t:4*e.length}toString(e){return(e||Hs).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const n=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Vs([...this.words])}}const Hs={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(15&r).toString(16))}return t.join("")}},$s={parse(e){const t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new Vs(n,t)}},Ws={parse:e=>$s.parse(unescape(encodeURIComponent(e)))};class Ks{constructor(){this._minBufferSize=0,this.blockSize=16,this.reset()}reset(){this._data=new Vs,this._nDataBytes=0}_append(e){"string"==typeof e&&(e=Ws.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,t){}_process(e){let t,n=this._data.sigBytes/(4*this.blockSize);n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0);const r=n*this.blockSize,o=Math.min(4*r,this._data.sigBytes);if(r){for(let e=0;e<r;e+=this.blockSize)this._doProcessBlock(this._data.words,e);t=this._data.words.splice(0,r),this._data.sigBytes-=o}return new Vs(t,o)}}class Gs extends Ks{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Ys=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Zs=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Xs=[];class Js extends Gs{constructor(){super(),this.reset()}reset(){super.reset(),this._hash=new Vs([...Ys])}_doProcessBlock(e,t){const n=this._hash.words;let r=n[0],o=n[1],a=n[2],i=n[3],s=n[4],u=n[5],c=n[6],l=n[7];for(let f=0;f<64;f++){if(f<16)Xs[f]=0|e[t+f];else{const e=Xs[f-15],t=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3,n=Xs[f-2],r=(n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10;Xs[f]=t+Xs[f-7]+r+Xs[f-16]}const n=r&o^r&a^o&a,d=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),p=l+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+Zs[f]+Xs[f];l=c,c=u,u=s,s=i+p|0,i=a,a=o,o=r,r=p+(d+n)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+i|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0}finalize(e){super.finalize(e);const t=8*this._nDataBytes,n=8*this._data.sigBytes;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[14+(n+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(n+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function Qs(e){return t=e,(new Js).finalize(t).toString();var t}function eu(e){var t=e.split("-");if(2!==t.length)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function tu(e,t){var n=t?t._rev:null;return(n?eu(n).height:0)+1+"-"+e}var nu="_rxdb_internal";function ru(e,t){return ou.apply(this,arguments)}function ou(){return ou=ca(fa().mark((function e(t,n){var r,o;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findDocumentsById([n],!1);case 2:if(r=e.sent,!(o=r[n])){e.next=8;break}return e.abrupt("return",o);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function au(e,t,n,r){if(r)throw 409===r.status?Aa("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):422===r.status?Aa("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function iu(e,t,n,r,o){for(var a,i=!!e.schema.attachments,s=[],u=[],c={},l=[],f=xs(10),d={id:f,events:[],checkpoint:null,context:o},p=[],h=[],m=[],v=Us(),g="function"==typeof n.get,b=g?n.size>0:Object.keys(n).length>0,y=r.length,D=function(){var e,o=r[w],y=o.document[t],D=!1;if(b&&(D=g?n.get(y):n[y]),D){var _=D._rev;if(!o.previous||o.previous&&_!==o.previous._rev){var E={isError:!0,status:409,documentId:y,writeRow:o,documentInDb:D};return c[y]=E,"continue"}var x=i?su(o):o;i&&(o.document._deleted?o.previous&&Object.keys(o.previous._attachments).forEach((function(e){h.push({documentId:y,attachmentId:e,digest:us(o.previous)._attachments[e].digest})})):(Object.entries(o.document._attachments).find((function(t){var n=Yo(t,2),r=n[0],a=n[1];return(o.previous?o.previous._attachments[r]:void 0)||a.data||(e={documentId:y,documentInDb:D,isError:!0,status:510,writeRow:o,attachmentId:r}),!0})),e||Object.entries(o.document._attachments).forEach((function(e){var t=Yo(e,2),n=t[0],r=t[1],a=o.previous?o.previous._attachments[n]:void 0;if(a){var i=x.document._attachments[n].digest;r.data&&a.digest!==i&&m.push({documentId:y,attachmentId:n,attachmentData:r,digest:Qs(r.data)})}else p.push({documentId:y,attachmentId:n,attachmentData:r,digest:Qs(r.data)})})))),e?c[y]=e:(u.push(x),(!a||a.document._meta.lwt<x.document._meta.lwt)&&(a=x));var k=o.document,C=null,S=null,F=null;if(o.previous&&o.previous._deleted&&!k._deleted)F="INSERT",C=i?uu(k):k;else if(!o.previous||o.previous._deleted||k._deleted){if(!k._deleted)throw Aa("SNH",{args:{writeRow:o}});F="DELETE",C=us(o.document),S=o.previous}else F="UPDATE",C=i?uu(k):k,S=o.previous;l.push(y),d.events.push({eventId:lu(f,w,y,o),documentId:y,documentData:C,previousDocumentData:S,operation:F,startTime:v,endTime:Us()})}else{var O=!!o.document._deleted;i&&Object.entries(o.document._attachments).forEach((function(t){var n=Yo(t,2),r=n[0],a=n[1];a.data?p.push({documentId:y,attachmentId:r,attachmentData:a,digest:Qs(a.data)}):(e={documentId:y,isError:!0,status:510,writeRow:o,attachmentId:r},c[y]=e)})),e||(i?s.push(su(o)):s.push(o),(!a||a.document._meta.lwt<o.document._meta.lwt)&&(a=o)),O||(l.push(y),d.events.push({eventId:lu(f,w,y,o),documentId:y,operation:"INSERT",documentData:i?uu(o.document):o.document,previousDocumentData:i&&o.previous?uu(o.previous):o.previous,startTime:v,endTime:Us()}))}},w=0;w<y;w++)D();return{bulkInsertDocs:s,bulkUpdateDocs:u,newestRow:a,errors:c,changedDocumentIds:l,eventBulk:d,attachmentsAdd:p,attachmentsRemove:h,attachmentsUpdate:m}}function su(e){return{previous:e.previous,document:uu(e.document)}}function uu(e){var t=ra(e);return t._attachments={},Object.entries(e._attachments).forEach((function(e){var n,r,o,a=Yo(e,2),i=a[0],s=a[1];t._attachments[i]=(o=(n=s).data)?{digest:Qs(o),length:(r=o,atob(r).length),type:n.type}:n})),t}function cu(e){var t=ra(e);return t._meta=ra(e._meta),t}function lu(e,t,n,r){return e+"|"+t+"|"+n+"|"+r.document._rev}function fu(e,t,n){Ca.deepFreezeWhenDevMode(n);var r=Bs(n.primaryKey);var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite:function(o,a){var i=o.map((function(t){return(a=ra((o=t).document))._meta=ra(a._meta),Ca.isDevMode()&&(a=Ms(r,n,a),o.previous,o.previous&&Object.keys(o.previous._meta).forEach((function(e){if(!o.document._meta.hasOwnProperty(e))throw Aa("SNH",{dataBefore:o.previous,dataAfter:o.document})}))),a._meta.lwt=Us(),a._rev=tu(e.token,o.previous),{document:a,previous:o.previous};var o,a}));return e.lockedRun((function(){return t.bulkWrite(i,a)})).then((function(n){var r=Object.values(n.error).filter((function(e){return!(409!==e.status||e.writeRow.previous||e.writeRow.document._deleted||!us(e.documentInDb)._deleted)}));if(r.length>0){var o={error:ra(n.error),success:ra(n.success)},i=r.map((function(t){return delete o.error[t.documentId],{previous:t.documentInDb,document:Object.assign({},t.writeRow.document,{_rev:tu(e.token,t.documentInDb)})}}));return e.lockedRun((function(){return t.bulkWrite(i,a)})).then((function(e){return o.error=Object.assign(o.error,e.error),o.success=Object.assign(o.success,e.success),o}))}return n}))},query:function(n){return e.lockedRun((function(){return t.query(n)}))},count:function(n){return e.lockedRun((function(){return t.count(n)}))},findDocumentsById:function(n,r){return e.lockedRun((function(){return t.findDocumentsById(n,r)}))},getAttachmentData:function(n,r,o){return e.lockedRun((function(){return t.getAttachmentData(n,r,o)}))},getChangedDocumentsSince:function(n,r){return e.lockedRun((function(){return t.getChangedDocumentsSince(us(n),r)}))},cleanup:function(n){return e.lockedRun((function(){return t.cleanup(n)}))},remove:function(){return e.storageInstances.delete(o),e.lockedRun((function(){return t.remove()}))},close:function(){return e.storageInstances.delete(o),e.lockedRun((function(){return t.close()}))},changeStream:function(){return t.changeStream()},conflictResultionTasks:function(){return t.conflictResultionTasks()},resolveConflictResultionTask:function(e){if(e.output.isEqual)return t.resolveConflictResultionTask(e);var n=ra(Object.assign({},e.output.documentData,{_meta:{lwt:1},_rev:"",_attachments:{}}));return delete n._meta,delete n._rev,delete n._attachments,t.resolveConflictResultionTask({id:e.id,output:{isEqual:!1,documentData:n}})}};return e.storageInstances.add(o),o}function du(e){if(e.schema.keyCompression)throw Aa("UT5",{args:{params:e}});if((t=e.schema).encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)throw Aa("UT6",{args:{params:e}});var t;if(e.schema.attachments&&e.schema.attachments.compression)throw Aa("UT7",{args:{params:e}})}function pu(e,t){var n=e.get(t);if(void 0===n)throw new Error("missing value from map "+t);return n}function hu(e,t,n,r){var o=e.get(t);return void 0===o?(o=n(),e.set(t,o)):r&&r(o),o}function mu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gu=function(){function e(e,t,n,r){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=t,this.preWrite=n,this.postWrite=r}var t=e.prototype;return t.addWrite=function(e,t){var n=this,r=e[this.primaryPath],o=hu(this.queueByDocId,r,(function(){return[]})),a=new Promise((function(r,a){var i={lastKnownDocumentState:e,modifier:t,resolve:r,reject:a};us(o).push(i),n.triggerRun()}));return a},t.triggerRun=function(){var e=ca(fa().mark((function e(){var t,n,r,o=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.isRunning&&0!==this.queueByDocId.size){e.next=2;break}return e.abrupt("return");case 2:return this.isRunning=!0,t=[],n=this.queueByDocId,this.queueByDocId=new Map,e.next=8,Promise.all(Array.from(n.entries()).map(function(){var e=ca(fa().mark((function e(n){var r,a,i,s,u,c,l;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Yo(n,2),r[0],a=r[1],i=yu(a.map((function(e){return e.lastKnownDocumentState}))),s=i,u=mu(a),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=21;break}return l=c.value,e.prev=8,e.next=11,l.modifier(aa(s));case 11:s=e.sent,e.next=19;break;case 14:e.prev=14,e.t0=e.catch(8),l.reject(e.t0),l.reject=function(){},l.resolve=function(){};case 19:e.next=6;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),u.e(e.t1);case 26:return e.prev=26,u.f(),e.finish(26);case 29:return e.prev=29,e.next=32,o.preWrite(s,i);case 32:e.next=38;break;case 34:return e.prev=34,e.t2=e.catch(29),a.forEach((function(t){return t.reject(e.t2)})),e.abrupt("return");case 38:t.push({previous:i,document:s});case 39:case"end":return e.stop()}}),e,null,[[4,23,26,29],[8,14],[29,34]])})));return function(t){return e.apply(this,arguments)}}()));case 8:if(!(t.length>0)){e.next=14;break}return e.next=11,this.storageInstance.bulkWrite(t,"incremental-write");case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0={error:{},success:{}};case 15:return r=e.t0,e.next=18,Promise.all(Array.from(Object.entries(r.success)).map((function(e){var t=Yo(e,2),r=t[0],a=t[1];o.postWrite(a),pu(n,r).forEach((function(e){return e.resolve(a)}))})));case 18:return Array.from(Object.entries(r.error)).forEach((function(e){var t,r=Yo(e,2),a=r[0],i=r[1],s=pu(n,a),u=!(!(t=i)||409!==t.status)&&t;if(u){var c=hu(o.queueByDocId,a,(function(){return[]}));s.reverse().forEach((function(e){e.lastKnownDocumentState=us(u.documentInDb),us(c).unshift(e)}))}else{var l=ja(i);s.forEach((function(e){return e.reject(l)}))}})),this.isRunning=!1,e.abrupt("return",this.triggerRun());case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}();function bu(e){var t=function(){var t=ca(fa().mark((function t(n){var r,o,a;return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=Ps(n))._deleted=n._deleted,t.next=4,e(r);case 4:return o=t.sent,void 0===(a=Object.assign({},o,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:void 0!==o._deleted?o._deleted:n._deleted}))._deleted&&(a._deleted=!1),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t}function yu(e){var t=e[0],n=eu(t._rev).height;return e.forEach((function(e){var r=eu(e._rev).height;r>n&&(t=e,n=r)})),t}var Du={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe(Di((function(e){return e._deleted})))},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest:function(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return this.collection.$.pipe(wi((function(e){return!e.isLocal})),wi((function(t){return t.documentId===e.primary})),Di((function(e){return Fs(e)})),Ji(this.collection._docCache.getLatestDocumentData(this.primary)),Qi((function(e,t){return e._rev===t._rev})),Di((function(t){return e.collection._docCache.getCachedRxDocument(t)})),ss(cs))},get$:function(e){if(Ca.isDevMode()){if(e.includes(".item."))throw Aa("DOC1",{path:e});if(e===this.primaryPath)throw Aa("DOC2");if(this.collection.schema.finalFields.includes(e))throw Aa("DOC3",{path:e});if(!js(this.collection.schema.jsonSchema,e))throw Aa("DOC4",{path:e})}return this.$.pipe(Di((function(t){return gs(t,e)})),Qi())},populate:function(e){var t=js(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return ws;if(!t)throw Aa("DOC5",{path:e});if(!t.ref)throw Aa("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw Aa("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?r.findByIds(n).exec().then((function(e){var t=e.values();return Array.from(t)})):r.findOne(n).exec()},get:function(e){if(this._data){var t=this._propertyCache.get(e);if(t)return t;var n=gs(this._data,e);return"object"!==Zo(n)||Array.isArray(n)?Ca.deepFreezeWhenDevMode(n):(n=aa(n),wu(this.collection.schema,n,e,this),this._propertyCache.set(e,n),n)}},toJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return Ca.deepFreezeWhenDevMode(this._data);var t=ra(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Ca.deepFreezeWhenDevMode(t)},toMutableJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return aa(this.toJSON(e))},update:function(e){throw Ss("update")},incrementalUpdate:function(e){throw Ss("update")},updateCRDT:function(e){throw Ss("crdt")},putAttachment:function(){throw Ss("attachments")},getAttachment:function(){throw Ss("attachments")},allAttachments:function(){throw Ss("attachments")},get allAttachments$(){throw Ss("attachments")},modify:function(e,t){var n=this;return ca(fa().mark((function t(){var r,o;return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n._data,t.next=3,bu(e)(r);case 3:return o=t.sent,t.abrupt("return",n._saveData(o,r));case 5:case"end":return t.stop()}}),t)})))()},incrementalModify:function(e,t){var n=this;return this.collection.incrementalWriteQueue.addWrite(this._data,bu(e)).then((function(e){return n.collection._docCache.getCachedRxDocument(e)}))},patch:function(e){var t=this._data,n=aa(t);return Object.entries(e).forEach((function(e){var t=Yo(e,2),r=t[0],o=t[1];n[r]=o})),this._saveData(n,t)},incrementalPatch:function(e){return this.incrementalModify((function(t){return Object.entries(e).forEach((function(e){var n=Yo(e,2),r=n[0],o=n[1];t[r]=o})),t}))},_saveData:function(e,t){var n=this;return ca(fa().mark((function r(){var o,a;return fa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=ra(e),!n._data._deleted){r.next=3;break}throw Aa("DOC11",{id:n.primary,document:n});case 3:return r.next=5,_u(n.collection,e,t);case 5:return r.next=7,n.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data");case 7:return o=r.sent,a=o.error[n.primary],au(n.collection,n.primary,e,a),r.next=12,n.collection._runHooks("post","save",e,n);case 12:return r.abrupt("return",n.collection._docCache.getCachedRxDocument(na(o.success,n.primary)));case 13:case"end":return r.stop()}}),r)})))()},remove:function(){var e=this,t=this.collection;if(this.deleted)return Promise.reject(Aa("DOC13",{document:this,id:this.primary}));var n,r=ra(this._data);return t._runHooks("pre","remove",r,this).then(ca(fa().mark((function n(){var o,a;return fa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r._deleted=!0,n.next=3,t.storageInstance.bulkWrite([{previous:e._data,document:r}],"rx-document-remove");case 3:return o=n.sent,a=o.error[e.primary],au(t,e.primary,r,a),n.abrupt("return",na(o.success,e.primary));case 7:case"end":return n.stop()}}),n)})))).then((function(t){return n=t,e.collection._runHooks("post","remove",r,e)})).then((function(){return e.collection._docCache.getCachedRxDocument(n)}))},incrementalRemove:function(){var e=this;return this.incrementalModify(function(){var t=ca(fa().mark((function t(n){return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection._runHooks("pre","remove",n,e);case 2:return n._deleted=!0,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(function(){var t=ca(fa().mark((function t(n){return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection._runHooks("post","remove",n._data,n);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},destroy:function(){throw Aa("DOC14")}};function wu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var o=js(e.jsonSchema,n);void 0!==o&&(o.properties&&(o=o.properties),Object.keys(o).forEach((function(e){var o=Cs(n+"."+e);t.__defineGetter__(e,(function(){var e=r||this;if(e.get&&"function"==typeof e.get)return e.get(o)})),Object.defineProperty(t,e+"$",{get:function(){return(r||this).get$(o)},enumerable:!1,configurable:!1}),Object.defineProperty(t,e+"_",{get:function(){return(r||this).populate(o)},enumerable:!1,configurable:!1}),t.__defineSetter__(e,(function(e){return(r||this).set(o,e)}))})))}}function _u(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),Ca.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var Eu=function(){function e(e,t){this.jsonSchema=e,this.hashFunction=t,this.indexes=function(e){return(e.indexes||[]).map((function(e){return va(e)?e:[e]}))}(this.jsonSchema),this.primaryPath=Bs(this.jsonSchema.primaryKey),this.finalFields=zs(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(e,t){var n=this;this.finalFields.forEach((function(r){if(!ea(e[r],t[r]))throw Aa("DOC9",{dataBefore:e,dataAfter:t,fieldName:r,schema:n.jsonSchema})}))},t.getDocumentPrototype=function(){var e={};return wu(this,e,""),ia(this,"getDocumentPrototype",(function(){return e})),e},t.getPrimaryOfDocumentData=function(e){return Ns(this.jsonSchema,e)},Qo(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter((function(e){return Yo(e,2)[1].hasOwnProperty("default")})).forEach((function(t){var n=Yo(t,2),r=n[0],o=n[1];return e[r]=o.default})),ia(this,"defaultValues",e)}},{key:"hash",get:function(){return ia(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function xu(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&Ba("preCreateRxSchema",e);var r=Is(e);r=Rs(r),Ca.deepFreezeWhenDevMode(r);var o=new Eu(r,t);return Ba("createRxSchema",o),o}var ku=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return za(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ns),Cu=Ya((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));var Su=new Si((function(e){return e.complete()}));__webpack_require__(4129);var Fu=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ou=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Au=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Tu=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Pu=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++){if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}}},ju=function(e){var t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else{var r=e.previousResults.find((function(n){return n[e.queryParams.primaryKey]===t}));if(r)return}!function(e,t,n,r){var o,a=r?e:e.slice(0),i=a.length-1,s=0,u=0;if(0===a.length)return a.push(t),[a,0];for(;s<=i;)n(o=a[u=s+(i-s>>1)],t)<=0?s=u+1:i=u-1;n(o,t)<=0&&u++,a.splice(u,0,t)}(e.previousResults,n,e.queryParams.sortComparator,!0)},Mu=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Bu={doNothing:function(e){},insertFirst:Fu,insertLast:Ou,removeFirstItem:Au,removeLastItem:Tu,removeFirstInsertLast:function(e){Au(e),Ou(e)},removeLastInsertFirst:function(e){Tu(e),Fu(e)},removeFirstInsertFirst:function(e){Au(e),Fu(e)},removeLastInsertLast:function(e){Tu(e),Ou(e)},removeExisting:Pu,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,o=0;o<r.length;o++){if(r[o][n]===e.changeEvent.id){r[o]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:ju,removeExistingAndInsertAtSortPosition:function(e){Pu(e),ju(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Nu(e){return e?"1":"0"}!function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r))}(4);function Ru(e,t){for(var n=[],r=0,o=e.length;r<o;r+=t)n.push(e.substring(r,r+t));return n}function Iu(e){return e.charCodeAt(0)-40}var Lu="UNKNOWN";function zu(e){return e[e.length-1]}function qu(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!function(e){var t=(0,c.Z)(e);return null!==e&&("object"===t||"function"===t)}(e)||"string"!=typeof t)return void 0===n?e:n;var r=t.split(".");if(0===r.length)return n;for(var o=0;o<r.length;o++){var a=r[o];if(null==(e=Uu(e,a)?o===r.length-1?void 0:null:e[a])){if(o!==r.length-1)return n;break}}return void 0===e?n:e}function Uu(e,t){if("number"!=typeof t&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}var Vu=function(e){return!!e.queryParams.limit},Hu=function(e){return 1===e.queryParams.limit},$u=function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},Wu=function(e){return"DELETE"===e.changeEvent.operation},Ku=function(e){return"INSERT"===e.changeEvent.operation},Gu=function(e){return"UPDATE"===e.changeEvent.operation},Yu=function(e){return e.changeEvent.previous===Lu},Zu=function(e){return Vu(e)&&e.previousResults.length>=e.queryParams.limit},Xu=function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===Lu)return!0;for(var o=0;o<t.length;o++){var a=t[o];if(qu(n,a)!==qu(r,a))return!0}return!1},Ju=function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,r=e.previousResults,o=0;o<r.length;o++){if(r[o][n]===t)return!0}return!1},Qu=function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},ec=function(e){var t=zu(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},tc=function(e){var t=e.changeEvent.previous;if(!t||t===Lu)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},nc=function(e){var t=e.changeEvent.previous;if(!t||t===Lu)return!1;var n=zu(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},rc=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},oc=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=zu(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},ac=function(e){var t=e.changeEvent.previous;return!(!t||t===Lu)&&e.queryParams.queryMatcher(t)},ic=function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)},sc=function(e){return 0===e.previousResults.length},uc={0:Ku,1:Gu,2:Wu,3:Vu,4:Hu,5:$u,6:sc,7:Yu,8:Zu,9:Qu,10:ec,11:Xu,12:Ju,13:tc,14:nc,15:rc,16:oc,17:ac,18:ic};var cc;function lc(){return cc||(cc=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),r=Ru(e.substring(2,n),2),o=0;o<r.length;o++){var a=r[o],i=a.charAt(0),s=Iu(a.charAt(1));t.set(i,s)}for(var u=Ru(e.substring(n,e.length-3),4),c=0;c<u.length;c++){var l=u[c],f=l.charAt(0),d=l.charAt(1),p=l.charAt(2),h=Iu(l.charAt(3));if(!t.has(d))throw new Error("missing node with id "+d);if(!t.has(p))throw new Error("missing node with id "+p);var m={l:h,0:t.get(d),1:t.get(p)};t.set(f,m)}var v=e.slice(-3),g=v.charAt(0),b=v.charAt(1);return{l:Iu(v.charAt(2)),0:t.get(g),1:t.get(b)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7ef7¡bk7¢e{7£g|7¤ry7¥dp7¦gk7§eq7¨gt7©ac7ªmv7«gu7¬nm7­iy7®nw7¯¤s8°«¦8±¬k8²ªm8³®v8´«n8µ¬n8¶vm8·xv8¸mn8¹­j8º®m8»xm8¼­¹3½}~3¾©°3¿¢3À¡£3Ám±3Â®º3Ãmº3Ä©´3Åb®3Æmµ3Çm»3Èx»3Ékn3Êm¸3Ë¼j6ÌÂm6ÍÆÃ6ÎÈm6Ïnm6ÐÊÇ6ÑÌÎ,ÒÍÐ,ÓÅÉ,Ô²¶,Õ³·,Ö®n,×º»,Ømf9ÙËÁ9Úym9ÛmÏ9ÜÑÒ9Ýz{2Þpq2ß½¿2à¾À2á¥§2â°¨2ãÄÓ2ä´Ö2åÝn0æÞn0çØÛ0èÙÜ0éßn0êàã0ë²Ô0ì¯Õ0íán0îâä0ï¹×0ðçv/ñåæ/òçë/óèì/ôéí/õêî/öÚy/÷òm(øóï(ùöy(ú÷ø:ûôõ:ümù:ýðñ4þúû4ÿþý*Āüm*ÿĀ.")),cc}var fc=function(e){return function(e,t,n){for(var r=e,o=e.l;;){if("number"==typeof(r=r[Nu(t[o](n))])||"string"==typeof r)return r;o=r.l}}(lc(),uc,e)};function dc(e){var t=fc(e);return Mu[t]}var pc=String.fromCharCode(65535),hc=Number.MIN_VALUE;function mc(e,t){var n=Bs(e.primaryKey),r=t.selector,o=e.indexes?e.indexes.slice(0):[];t.index?o=[t.index]:o.push([n]);var a,i=t.sort.map((function(e){return Object.keys(e)[0]})).join(","),s=!!t.sort.find((function(e){return"desc"===Object.values(e)[0]})),u=-1;return o.forEach((function(e){var n=!0,o=!0,c=e.map((function(e){var t=r[e],a=t?Object.keys(t):[],i={};t&&a.length?a.forEach((function(e){if(vc.has(e)){var n=function(e,t){switch(e){case"$eq":return{startKey:t,endKey:t};case"$lte":return{endKey:t};case"$gte":return{startKey:t};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}(e,t[e]);i=Object.assign(i,n)}})):i={startKey:o?hc:pc,endKey:n?pc:hc,inclusiveStart:!0,inclusiveEnd:!0};return void 0===i.startKey&&(i.startKey=hc),void 0===i.endKey&&(i.endKey=pc),void 0===i.inclusiveStart&&(i.inclusiveStart=!0),void 0===i.inclusiveEnd&&(i.inclusiveEnd=!0),o&&!i.inclusiveStart&&(o=!1),n&&!i.inclusiveEnd&&(n=!1),i})),l={index:e,startKeys:c.map((function(e){return e.startKey})),endKeys:c.map((function(e){return e.endKey})),inclusiveEnd:n,inclusiveStart:o,sortFieldsSameAsIndexFields:!s&&i===e.join(","),selectorSatisfiedByIndex:yc(e,t.selector)},f=function(e,t,n){var r=0,o=function(e){e>0&&(r+=e)},a=10,i=ba(n.startKeys,(function(e){return e!==hc&&e!==pc}));o(i*a);var s=ba(n.startKeys,(function(e){return e!==pc&&e!==hc}));o(s*a);var u=ba(n.startKeys,(function(e,t){return e===n.endKeys[t]}));o(u*a*1.5);var c=n.sortFieldsSameAsIndexFields?5:0;return o(c),r}(0,0,l);(f>0&&f>u||t.index)&&(u=f,a=l)})),a||(a={index:[n],startKeys:[hc],endKeys:[pc],inclusiveEnd:!0,inclusiveStart:!0,sortFieldsSameAsIndexFields:!s&&i===n,selectorSatisfiedByIndex:yc([n],t.selector)}),a}var vc=new Set(["$eq","$gt","$gte","$lt","$lte"]),gc=new Set(["$eq","$gt","$gte"]),bc=new Set(["$eq","$lt","$lte"]);function yc(e,t){var n,r,o=Object.entries(t).find((function(t){var n=Yo(t,2),r=n[0],o=n[1];return!e.includes(r)||Object.entries(o).find((function(e){var t=Yo(e,2),n=t[0];t[1];return!vc.has(n)}))}));return!o&&(!e.find((function(e){var r=t[e];if(!r)return!1;var o=Object.keys(r).find((function(e){return gc.has(e)}));return!(!n||!o)||("$eq"!==o&&(n=o),!1)}))&&!e.find((function(e){var n=t[e];if(!n)return!1;var o=Object.keys(n).find((function(e){return bc.has(e)}));return!(!r||!o)||("$eq"!==o&&(r=o),!1)})))}__webpack_require__(44363),__webpack_require__(55994),__webpack_require__(28733);function Dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ec=Number.MAX_SAFE_INTEGER,xc=Number.MIN_SAFE_INTEGER,kc=Symbol("missing"),Cc=function(e){for(var t=nl(e),n=0,r=t.length;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},Sc=new Set(["null","undefined","boolean","number","string","date","regexp"]),Fc={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Oc=function(e,t){e===kc&&(e=void 0),t===kc&&(t=void 0);var n=[e,t].map((function(e){return Mc(e).toLowerCase()})),r=k(n,2),o=r[0],a=r[1],i=Fc[o],s=Fc[a];return i!==s?i-s:e<t?-1:e>t?1:0},Ac=Object.getPrototypeOf({}),Tc=/^\[object ([a-zA-Z0-9]+)\]$/;function Pc(e,t){if(!e)throw new Error(t)}function jc(e){return e instanceof Array?e.map(jc):e instanceof Date?new Date(e):Lc(e)?function(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var a=r[o];n[a]=t(e[a],a)}return n}(e,jc):e}function Mc(e){return Tc.exec(Object.prototype.toString.call(e))[1]}function Bc(e){return"boolean"==typeof e}function Nc(e){return"string"==typeof e}function Rc(e){return!isNaN(e)&&"number"==typeof e}var Ic=Array.isArray;function Lc(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return(t===Ac||null===t)&&"[object Object]"===Object.prototype.toString.call(e)}function zc(e){return e===Object(e)}function qc(e){return e instanceof Date}function Uc(e){return e instanceof RegExp}function Vc(e){return null==e}function Hc(e,t){return e.includes(t)}function $c(e,t){return!Hc(e,t)}function Wc(e){return Vc(e)||Nc(e)&&!e||e instanceof Array&&0===e.length||Lc(e)&&0===Object.keys(e).length}function Kc(e){return e===kc}function Gc(e){return e instanceof Array?e:[e]}function Yc(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function Zc(e,t,n){if(Kc(e))return t;if(Kc(t))return e;var r=[e,t];if(!r.every(Lc)&&!r.every(Ic))throw Error("mismatched types. must both be array or object");if(n=n||{flatten:!1},Ic(e)){var o=e,a=t;if(n.flatten){for(var i=0,s=0;i<o.length&&s<a.length;)o[i]=Zc(o[i++],a[s++],n);for(;s<a.length;)o.push(t[s++])}else al(o,a)}else Object.keys(t).forEach((function(r){Yc(t,r)&&(Yc(e,r)?e[r]=Zc(e[r],t[r],n):e[r]=t[r])}));return e}function Xc(e,t,n){e.key<t?e.right?Xc(e.right,t,n):e.right={key:t,indexes:[n]}:e.key>t?e.left?Xc(e.left,t,n):e.left={key:t,indexes:[n]}:e.indexes.push(n)}function Jc(e,t){return e.key==t?e.indexes:e.key<t?e.right?Jc(e.right,t):void 0:e.key>t&&e.left?Jc(e.left,t):void 0}function Qc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc;if(e.some((function(e){return 0==e.length})))return[];var n=e.map((function(e,t){return[t,e.length]}));n.sort((function(e,t){return e[1]-t[1]}));for(var r=[],o=e[n[0][0]],a={key:rl(o[0],t),indexes:[0]},i=1;i<o.length;i++){var s=o[i],u=rl(s,t);Xc(a,u,i)}for(var l=n[0][1],f=[],d=function(i){for(var s=n[i][0],u=e[s],c=0,d=function(e){var n=rl(u[e],t),l=Jc(a,n);if(!l)return"continue";var d=l.map((function(e){return o[e]})).findIndex((function(t){return tl(t,u[e])}));if(-1==d)return"continue";r.length<i&&r.push({}),r[r.length-1][l[d]]=!0,c=Object.keys(r[r.length-1]).length,0==s&&-1==f.indexOf(l[d])&&f.push(l[d])},p=0;p<u.length;p++)d(p);if(0==c)return{v:[]};l=Math.min(l,c)},p=1;p<n.length;p++){var h=d(p);if("object"===(0,c.Z)(h))return h.v}var m={};r.forEach((function(e){Object.keys(e).forEach((function(e){var t=parseFloat(e);m[t]=m[t]||0,m[t]++}))}));var v=f;return 0==v.length&&(v.push.apply(v,V(Object.keys(m).map(parseFloat))),v.sort()),v.filter((function(t){return m[t]==e.length-1})).map((function(e){return o[e]}))}function el(e,t){var n=[];return function e(t,r){for(var o=0,a=t.length;o<a;o++)Ic(t[o])&&(r>0||r<0)?e(t[o],Math.max(-1,r-1)):n.push(t[o])}(e,t),n}function tl(e,t){for(var n=[e],r=[t];n.length>0;)if((e=n.pop())!==(t=r.pop())){var o=Mc(e).toLowerCase();if(o!==Mc(t).toLowerCase()||"function"===o)return!1;if("array"===o){var a=e,i=t;if(a.length!==i.length)return!1;if(a.length===i.length&&0===a.length)continue;al(n,a),al(r,i)}else if("object"===o){var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(var c=0,l=s.length;c<l;c++){var f=s[c];if(!Yc(t,f))return!1;n.push(e[f]),r.push(t[f])}}else if(nl(e)!==nl(t))return!1}return 0===n.length}function nl(e){var t=Mc(e).toLowerCase();switch(t){case"boolean":case"number":case"regexp":return e.toString();case"string":return JSON.stringify(e);case"date":return e.toISOString();case"null":case"undefined":return t;case"array":return"["+e.map(nl).join(",")+"]"}var n="object"===t?"":"".concat(Mc(e)),r=Object.keys(e);return r.sort(),"".concat(n,"{")+r.map((function(t){return"".concat(nl(t),":").concat(nl(e[t]))})).join(",")+"}"}function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc;return Vc(e)?null:t(e).toString()}var ol=5e4;function al(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e instanceof Array?n.reduce((function(e,t){for(var n=Math.ceil(t.length/ol),r=0;n-- >0;)Array.prototype.push.apply(e,t.slice(r,r+ol)),r+=ol;return e}),e):n.filter(zc).reduce((function(e,t){return Object.assign(e,t),e}),e)}function il(e,t){return zc(e)?e[t]:void 0}function sl(e,t,n){var r=0;var o=Sc.has(Mc(e).toLowerCase())?e:function e(t,n){for(var o=t,a=0;a<n.length;a++){var i=n[a];if(null===/^\d+$/.exec(i)&&o instanceof Array){var s=function(){if(0===a&&r>0)return"break";r+=1;var t=n.slice(a);return o=o.reduce((function(n,r){var o=e(r,t);return void 0!==o&&n.push(o),n}),[]),"break"}();if("break"===s)break}else o=il(o,i);if(void 0===o)break}return o}(e,t.split("."));return o instanceof Array&&null!=n&&n.unwrapArray?function(e,t){if(t<1)return e;for(;t--&&1===e.length;)e=e[0];return e}(o,r):o}function ul(e,t,n){var r,o,a=t.split("."),i=a[0],s=a.slice(1).join("."),u=null!==/^\d+$/.exec(i),c=a.length>1;if(e instanceof Array)if(u)r=il(e,Number(i)),c&&(r=ul(r,s,n)),r=[r];else{r=[];var l,f=wc(e);try{for(f.s();!(l=f.n()).done;){o=ul(l.value,t,n),null!=n&&n.preserveMissing?(void 0===o&&(o=kc),r.push(o)):void 0!==o&&r.push(o)}}catch(d){f.e(d)}finally{f.f()}}else{if(o=il(e,i),c&&(o=ul(o,s,n)),void 0===o)return;r=null!=n&&n.preserveKeys?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):{},r[i]=o}return r}function cl(e){if(e instanceof Array)for(var t=e.length-1;t>=0;t--)e[t]===kc?e.splice(t,1):cl(e[t]);else if(Lc(e))for(var n in e)Yc(e,n)&&cl(e[n])}function ll(e,t,n,r){if(!Vc(e)){var o=t.split("."),a=o[0],i=o.slice(1).join(".");if(1===o.length)n(e,a);else{null!=r&&r.buildGraph&&Vc(e[a])&&(e[a]={});var s=e[a],u=!!(o.length>1&&o[1].match(/^\d+$/));s instanceof Array&&null!=r&&r.descendArray&&!u?s.forEach((function(e){return ll(e,i,n,r)})):ll(s,i,n,r)}}}function fl(e,t,n){ll(e,t,(function(e,t){e[t]=n}),{buildGraph:!0})}function dl(e,t,n){ll(e,t,(function(e,t){if(e instanceof Array){if(/^\d+$/.test(t))e.splice(parseInt(t),1);else if(n&&n.descendArray){var r,o=wc(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;Lc(a)&&delete a[t]}}catch(i){o.e(i)}finally{o.f()}}}else Lc(e)&&delete e[t]}),n)}var pl,hl,ml=/^\$[a-zA-Z0-9_]+$/;function vl(e){return ml.test(e)}function gl(e){if(Sc.has(Mc(e).toLowerCase()))return Uc(e)?{$regex:e}:{$eq:e};if(zc(e)){if(!Object.keys(e).some(vl))return{$eq:e};if(Yc(e,"$regex"))return{$regex:new RegExp(e.$regex,e.$options)}}return e}function bl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"}(hl||(hl={}));var wl,_l=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now();u(this,e),p(this,"options",void 0),p(this,"_root",void 0),p(this,"_local",void 0),p(this,"timestamp",void 0),this.options=t,this._root=n,this._local=r,this.timestamp=o,this.options=t,this.update(n,r)}return d(e,[{key:"update",value:function(e,t){var n;return this._root=e,this._local=t?Object.assign({},t,{variables:Object.assign({},null===(n=this._local)||void 0===n?void 0:n.variables,null==t?void 0:t.variables)}):t,this}},{key:"root",get:function(){return this._root}},{key:"local",get:function(){return this._local}},{key:"idKey",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.idKey}},{key:"collation",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.collation}},{key:"processingMode",get:function(){var e;return(null===(e=this.options)||void 0===e?void 0:e.processingMode)||hl.CLONE_OFF}},{key:"useStrictMode",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.useStrictMode}},{key:"scriptEnabled",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.scriptEnabled}},{key:"hashFunction",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.hashFunction}},{key:"collectionResolver",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.collectionResolver}},{key:"jsonSchemaValidator",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.jsonSchemaValidator}},{key:"variables",get:function(){var e;return null===(e=this.options)||void 0===e?void 0:e.variables}}],[{key:"init",value:function(t,n,r){return t instanceof e?t.update(Vc(t.root)?n:t.root,Object.assign({},t.local,r)):new e(t||El(),n,r)}}]),e}();function El(e){return Object.freeze(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,processingMode:hl.CLONE_OFF},e))}!function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"}(wl||(wl={}));var xl=(p(pl={},wl.ACCUMULATOR,{}),p(pl,wl.EXPRESSION,{}),p(pl,wl.PIPELINE,{}),p(pl,wl.PROJECTION,{}),p(pl,wl.QUERY,{}),p(pl,wl.WINDOW,{}),pl);function kl(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var o=k(r[n],2),a=o[0],i=o[1];Pc(i instanceof Function&&vl(a),"'".concat(a,"' is not a valid operator"));var s=Cl(e,a);Pc(!s||i===s,"".concat(a," already exists for '").concat(e,"' operators. Cannot change operator function once registered."))}al(xl[e],t)}function Cl(e,t){return xl[e][t]}var Sl,Fl={$$ROOT:function(e,t,n){return n.root},$$CURRENT:function(e,t,n){return e},$$REMOVE:function(e,t,n){},$$NOW:function(e,t,n){return new Date(n.timestamp)}},Ol={$$KEEP:function(e,t,n){return e},$$PRUNE:function(e,t,n){},$$DESCEND:function(e,t,n){if(!Yc(t,"$cond"))return e;for(var r,o=0,a=Object.entries(e);o<a.length;o++){var i=k(a[o],2),s=i[0],u=i[1];if(zc(u)){if(u instanceof Array){var c,l=[],f=bl(u);try{for(f.s();!(c=f.n()).done;){var d=c.value;Lc(d)&&(d=Tl(d,t,n.update(d))),Vc(d)||l.push(d)}}catch(p){f.e(p)}finally{f.f()}r=l}else r=Tl(u,t,n.update(u));Vc(r)?delete e[s]:e[s]=r}}return e}};function Al(e,t,n,r){var o=_l.init(r,e);if(vl(n)){var a=Cl(wl.EXPRESSION,n);if(a)return a(e,t,o);var i=Cl(wl.ACCUMULATOR,n);if(i)return e instanceof Array||(e=Al(e,t,null,o),t=null),Pc(e instanceof Array,"'".concat(n,"' target must be an array.")),i(e,t,o.update(null,o.local));throw new Error("operator '".concat(n,"' is not registered"))}if(Nc(t)&&t.length>0&&"$"===t[0]){if(Yc(Ol,t))return t;var s=o.root,u=t.split(".");if(Yc(Fl,u[0]))s=Fl[u[0]](e,null,o),t=t.slice(u[0].length+1);else if("$$"===u[0].slice(0,2)){var l;s=Object.assign({},o.variables,{this:e},null===(l=o.local)||void 0===l?void 0:l.variables);var f=u[0].slice(2);Pc(Yc(s,f),"Use of undefined variable: ".concat(f)),t=t.slice(2)}else t=t.slice(1);return""===t?s:sl(s,t)}if(t instanceof Array)return t.map((function(t){return Al(e,t,null,o)}));if(Lc(t)){for(var d={},p=function(){var n=k(m[h],2),r=n[0],a=n[1];if(d[r]=Al(e,a,r,o),[wl.EXPRESSION,wl.ACCUMULATOR].some((function(e){return Yc(xl[e],r)})))return Pc(1===Object.keys(t).length,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),{v:d[r]}},h=0,m=Object.entries(t);h<m.length;h++){var v=p();if("object"===(0,c.Z)(v))return v.v}return d}return t}function Tl(e,t,n){var r=Al(e,t,null,n);return Yc(Ol,r)?Ol[r](e,t,n):r}function Pl(e){return e instanceof Nl?e:new Nl(e)}function jl(e,t){var n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}var Ml,Bl=new Error;!function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"}(Ml||(Ml={})),Sl=Symbol.iterator;var Nl=function(){function e(t){var n;if(u(this,e),p(this,"iteratees",[]),p(this,"yieldedValues",[]),p(this,"getNext",void 0),p(this,"isDone",!1),t instanceof Function&&(t={next:t}),function(e){return!!e&&"object"===(0,c.Z)(e)&&(null==e?void 0:e.next)instanceof Function}(t)){var r=t;n=function(){var e=r.next();if(e.done)throw Bl;return e.value}}else if(t instanceof Array){var o=t,a=o.length,i=0;n=function(){if(i<a)return o[i++];throw Bl}}else if(!(t instanceof Function))throw new Error("Source is of type '".concat((0,c.Z)(t),"'. Must be Array, Function, or Generator"));this.getNext=function(e,t,n){var r=!1,o=-1,a=0;return function(i){try{e:for(;!r;){var s=e();o++;for(var u=-1,c=t.length,l=!1;++u<c;){var f=t[u];switch(f.action){case Ml.MAP:s=f.func(s,o);break;case Ml.FILTER:if(!f.func(s,o))continue e;break;case Ml.TAKE:--f.count,f.count||(l=!0);break;case Ml.DROP:--f.count,f.count||jl(t,u);continue e;default:break e}}if(r=l,!i)return{value:s,done:!1};n[a++]=s}}catch(d){if(d!==Bl)throw d}return{done:r=!0}}}(n,this.iteratees,this.yieldedValues)}return d(e,[{key:"push",value:function(e,t){return"function"==typeof t?this.iteratees.push({action:e,func:t}):"number"==typeof t&&this.iteratees.push({action:e,count:t}),this}},{key:"next",value:function(){return this.getNext()}},{key:"map",value:function(e){return this.push(Ml.MAP,e)}},{key:"filter",value:function(e){return this.push(Ml.FILTER,e)}},{key:"take",value:function(e){return e>0?this.push(Ml.TAKE,e):this}},{key:"drop",value:function(e){return e>0?this.push(Ml.DROP,e):this}},{key:"transform",value:function(e){var t,n=this;return Pl((function(){return t||(t=Pl(e(n.value()))),t.next()}))}},{key:"value",value:function(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}},{key:"each",value:function(e){for(;;){var t=this.next();if(t.done)break;if(!1===e(t.value))return!1}return!0}},{key:"reduce",value:function(e,t){var n=this.next();for(void 0!==t||n.done||(t=n.value,n=this.next());!n.done;)t=e(t,n.value),n=this.next();return t}},{key:"size",value:function(){return this.reduce((function(e,t){return++e}),0)}},{key:Sl,value:function(){return this}}]),e}();function Rl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ll,zl=function(){function e(t,n){u(this,e),p(this,"pipeline",void 0),p(this,"options",void 0),this.pipeline=t,this.options=n,this.options=El(n)}return d(e,[{key:"stream",value:function(e){var t=Pl(e),n=this.options.processingMode;n!=hl.CLONE_ALL&&n!=hl.CLONE_INPUT||t.map(jc);var r=[];if(!Wc(this.pipeline)){var o,a=Rl(this.pipeline);try{for(a.s();!(o=a.n()).done;){var i=o.value,s=Object.keys(i),u=s[0],c=Cl(wl.PIPELINE,u);Pc(1===s.length&&!!c,"invalid aggregation operator ".concat(u)),r.push(u),t=c(t,i[u],this.options)}}catch(l){a.e(l)}finally{a.f()}}return(n==hl.CLONE_OUTPUT||n==hl.CLONE_ALL&&Qc([["$group","$unwind"],r]).length)&&t.map(jc),t}},{key:"run",value:function(e){return this.stream(e).value()}}]),e}();function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ll=Symbol.iterator;var Vl=function(){function e(t,n,r,o){u(this,e),p(this,"source",void 0),p(this,"predicate",void 0),p(this,"projection",void 0),p(this,"options",void 0),p(this,"operators",[]),p(this,"result",null),p(this,"buffer",[]),this.source=t,this.predicate=n,this.projection=r,this.options=o}return d(e,[{key:"fetch",value:function(){return this.result||(Lc(this.projection)&&this.operators.push({$project:this.projection}),this.result=Pl(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new zl(this.operators,this.options).stream(this.result))),this.result}},{key:"fetchAll",value:function(){var e=Pl(V(this.buffer));return this.buffer=[],function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=0;return Pl((function(){for(;r<t.length;){var e=t[r].next();if(!e.done)return e;r++}return{done:!0}}))}(e,this.fetch())}},{key:"all",value:function(){return this.fetchAll().value()}},{key:"count",value:function(){return this.all().length}},{key:"skip",value:function(e){return this.operators.push({$skip:e}),this}},{key:"limit",value:function(e){return this.operators.push({$limit:e}),this}},{key:"sort",value:function(e){return this.operators.push({$sort:e}),this}},{key:"collation",value:function(e){return this.options=Ul(Ul({},this.options),{},{collation:e}),this}},{key:"next",value:function(){if(this.buffer.length>0)return this.buffer.pop();var e=this.fetch().next();return e.done?void 0:e.value}},{key:"hasNext",value:function(){if(this.buffer.length>0)return!0;var e=this.fetch().next();return!e.done&&(this.buffer.push(e.value),!0)}},{key:"map",value:function(e){return this.all().map(e)}},{key:"forEach",value:function(e){this.all().forEach(e)}},{key:Ll,value:function(){return this.fetchAll()}}]),e}(),Hl=function(){function e(t,n){u(this,e),p(this,"criteria",void 0),p(this,"options",void 0),p(this,"compiled",void 0),this.criteria=t,this.options=n,this.options=El(n),this.compiled=[],this.compile()}return d(e,[{key:"compile",value:function(){var e;Pc(Lc(this.criteria),"query criteria must be an object");for(var t=0,n=Object.entries(this.criteria);t<n.length;t++){var r=k(n[t],2),o=r[0],a=r[1];if("$where"===o)e={field:o,expr:a};else if(Hc(["$and","$or","$nor","$expr","$jsonSchema"],o))this.processOperator(o,o,a);else{Pc(!vl(o),"unknown top level operator: ".concat(o));for(var i=0,s=Object.entries(gl(a));i<s.length;i++){var u=k(s[i],2),c=u[0],l=u[1];this.processOperator(o,c,l)}}Lc(e)&&this.processOperator(e.field,e.field,e.expr)}}},{key:"processOperator",value:function(e,t,n){var r=Cl(wl.QUERY,t);Pc(!!r,"unknown operator ".concat(t));var o=r(e,n,this.options);this.compiled.push(o)}},{key:"test",value:function(e){for(var t=0,n=this.compiled.length;t<n;t++)if(!this.compiled[t](e))return!1;return!0}},{key:"find",value:function(e,t){var n=this;return new Vl(e,(function(e){return n.test(e)}),t||{},this.options)}},{key:"remove",value:function(e){var t=this;return e.reduce((function(e,n){return t.test(n)||e.push(n),e}),[])}}]),e}();function $l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kl(e,t,n){if(Wc(t))return e;var r=Object.keys(t),o=!1;Yl(t,n);var a=n.idKey;if(Hc(r,a)){var i=t[a];0!==i&&!1!==i||(r=r.filter($c.bind(null,[a])),o=0==r.length)}else r.push(a);var s=_l.init(n);return e.map((function(e){return Gl(e,t,s.update(e),r,o)}))}function Gl(e,t,n,r,o){var a={},i=!1,s=!1,u=[];o&&u.push(n.idKey);var c,l=$l(r);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=void 0,p=t[f];if(f!==n.idKey&&Hc([0,!1],p)&&(s=!0),f===n.idKey&&Wc(p))d=e[f];else if(Nc(p))d=Al(e,p,f,n);else if(Hc([1,!0],p));else if(p instanceof Array)d=p.map((function(t){var r=Al(e,t,null,n);return Vc(r)?null:r}));else{if(!Lc(p)){u.push(f);continue}!function(){var t=p,r=Object.keys(p),o=1==r.length?r[0]:null,a=Cl(wl.PROJECTION,o);if(a)"$slice"===o?Gc(t[o]).every(Rc)?(d=a(e,t[o],f),i=!0):d=Al(e,t,f,n):d=a(e,t[o],f,n);else if(vl(o))d=Al(e,t[o],o,n);else if(Yc(e,f)){Yl(t,n);var s=e[f];s instanceof Array?d=s.map((function(e){return Gl(e,t,n,r,!1)})):(s=Lc(s)?s:e,d=Gl(s,t,n,r,!1))}else d=Al(e,p,null,n)}()}var h=ul(e,f,{preserveMissing:!0});void 0!==h&&Zc(a,h,{flatten:!0}),$c([0,1,!1,!0],p)&&(void 0===d?dl(a,f,{descendArray:!0}):fl(a,f,d))}}catch(g){l.e(g)}finally{l.f()}if(cl(a),(i||s||o)&&(a=al({},e,a),u.length>0)){var m,v=$l(u);try{for(v.s();!(m=v.n()).done;){dl(a,m.value,{descendArray:!0})}}catch(g){v.e(g)}finally{v.f()}}return a}function Yl(e,t){for(var n=[!1,!1],r=0,o=Object.entries(e);r<o.length;r++){var a=k(o[r],2),i=a[0],s=a[1];if(i===t.idKey)return;0===s||!1===s?n[0]=!0:1!==s&&!0!==s||(n[1]=!0),Pc(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}function Zl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jl(e,t,n){if(Wc(t)||!Lc(t))return e;var r=Oc,o=n.collation;return Lc(o)&&Nc(o.locale)&&(r=function(e){var t={sensitivity:Ql[e.strength||3],caseFirst:"off"===e.caseFirst?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:"shifted"===e.alternate};!0===(e.caseLevel||!1)&&("base"===t.sensitivity&&(t.sensitivity="case"),"accent"===t.sensitivity&&(t.sensitivity="variant"));var n=new Intl.Collator(e.locale,t);return function(e,t){if(!Nc(e)||!Nc(t))return Oc(e,t);var r=n.compare(e,t);return r<0?-1:r>0?1:0}}(o)),e.transform((function(e){var o,a=Zl(Object.keys(t).reverse());try{var i=function(){var a=o.value,i=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cc,r={keys:new Array,groups:new Array},o={},a=0;a<e.length;a++){var i=e[a],s=t(i,a),u=rl(s,n),c=-1;void 0===o[u]&&(c=r.keys.length,o[u]=c,r.keys.push(s),r.groups.push([])),c=o[u],r.groups[c].push(i)}return r}(e,(function(e){return sl(e,a)}),null==n?void 0:n.hashFunction),s={},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oc,r=[],o=[];if(Wc(e))return e;for(var a=0;a<e.length;a++){var i=e[a],s=t(i,a);Vc(s)?o.push(i):r.push([s,i])}return r.sort((function(e,t){return n(e[0],t[0])})),o.push.apply(o,V(r.map((function(e){return e[1]})))),o}(i.keys,(function(e,t){return s[e]=t,e}),r);-1===t[a]&&u.reverse(),e=[];var c,l=Zl(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;al(e,i.groups[s[f]])}}catch(d){l.e(d)}finally{l.f()}};for(a.s();!(o=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return e}))}var Ql={1:"base",2:"accent",3:"variant"};function ef(e,t,n){Pc(Ic(t),"Invalid expression: $and expects value to be an Array");var r=new Array;return t.forEach((function(e){return r.push(new Hl(e,n))})),function(e){for(var t=0;t<r.length;t++)if(!r[t].test(e))return!1;return!0}}function tf(e,t,n){var r={};r[e]=gl(t);var o=new Hl(r,n);return function(e){return!o.test(e)}}function nf(e,t,n){Pc(Ic(t),"Invalid expression. $or expects value to be an Array");var r=t.map((function(e){return new Hl(e,n)}));return function(e){for(var t=0;t<r.length;t++)if(r[t].test(e))return!0;return!1}}function rf(e,t,n){Pc(Ic(t),"Invalid expression. $nor expects value to be an Array");var r=nf(0,t,n);return function(e){return!r(e)}}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sf(e){return function(t,n,r){var o={unwrapArray:!0},a=Math.max(1,t.split(".").length-1);return function(i){var s=sl(i,t,o);return e(s,n,af(af({},r),{},{depth:a}))}}}function uf(e,t,n){if(tl(e,t))return!0;if(Vc(e)&&Vc(t))return!0;if(e instanceof Array){var r=tl.bind(null,t);return e.some(r)||el(e,null==n?void 0:n.depth).some(r)}return!1}function cf(e,t,n){return Vc(e)?t.some((function(e){return null===e})):Qc([Gc(e),t],null==n?void 0:n.hashFunction).length>0}function lf(e){return vl(e)&&-1===["$and","$or","$nor"].indexOf(e)}function ff(e,t,n){if(Ic(e)&&!Wc(e)){var r=function(e){return e},o=t;Object.keys(t).every(lf)&&(o={temp:t},r=function(e){return{temp:e}});for(var a=new Hl(o,n),i=0,s=e.length;i<s;i++)if(a.test(r(e[i])))return!0}return!1}var df=function(e){return null===e},pf=function(e){return Rc(e)&&e>=-2147483648&&e<=2147483647&&-1===e.toString().indexOf(".")},hf=function(e){return Rc(e)&&e>=xc&&e<=Ec&&-1===e.toString().indexOf(".")},mf={array:Ic,bool:Bc,boolean:Bc,date:qc,decimal:Rc,double:Rc,int:pf,long:hf,number:Rc,null:df,object:Lc,regex:Uc,regexp:Uc,string:Nc,undefined:Vc,function:function(e){throw new Error("unsupported type key `function`.")},1:Rc,2:Nc,3:Lc,4:Ic,6:Vc,8:Bc,9:qc,10:df,11:Uc,16:pf,18:hf,19:Rc};function vf(e,t,n){var r=mf[t];return!!r&&r(e)}function gf(e,t,n){return Gc(e).some((function(e){return Mc(e)===Mc(t)&&n(e,t)}))}var bf=sf(uf),yf=sf((function(e,t,n){return!uf(e,t,n)})),Df=sf((function(e,t,n){return gf(e,t,(function(e,t){return e>t}))})),wf=sf((function(e,t,n){return gf(e,t,(function(e,t){return e>=t}))})),_f=sf((function(e,t,n){return gf(e,t,(function(e,t){return e<t}))})),Ef=sf((function(e,t,n){return gf(e,t,(function(e,t){return e<=t}))})),xf=sf((function(e,t,n){var r=Gc(e),o=function(e){return Nc(e)&&(r=t.exec(e),o=n.useStrictMode,!!r||o&&""===r);var r,o};return r.some(o)||el(r,1).some(o)})),kf=sf((function(e,t,n){return Gc(e).some((function(e){return 2===t.length&&e%t[0]===t[1]}))})),Cf=sf(ff),Sf=sf((function(e,t,n){return(!1===t||0===t)&&void 0===e||(!0===t||1===t)&&void 0!==e})),Ff=sf((function(e,t,n){return!cf(e,t,n)})),Of=sf(cf),Af=sf((function(e,t,n){return Array.isArray(e)&&e.length===t})),Tf=sf((function(e,t,n){return Array.isArray(t)?t.findIndex((function(t){return vf(e,t)}))>=0:vf(e,t)})),Pf=!1;function jf(e,t){var n=Bs(e.primaryKey);(t=ra(t)).selector&&(t.selector=Mf(t.selector));var r=aa(t);if("number"!=typeof r.skip&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach((function(e){var t=Yo(e,2),n=t[0],o=t[1];"object"===Zo(o)&&null!==o||(r.selector[n]={$eq:o})}))):r.selector={},r.index){var o=ma(r.index);o.includes(n)||o.push(n),r.index=o}if(r.sort){var a=r.sort.find((function(e){return t=e,Object.keys(t)[0]===n;var t}));a||(r.sort=r.sort.slice(0),r.sort.push(Os({},n,"asc")))}else if(r.index)r.sort=r.index.map((function(e){return Os({},e,"asc")}));else{if(e.indexes){var i=new Set;Object.entries(r.selector).forEach((function(e){var t=Yo(e,2),n=t[0],r=t[1];("object"!==Zo(r)||null===r||!!Object.keys(r).find((function(e){return vc.has(e)})))&&i.add(n)}));var s,u=-1;e.indexes.forEach((function(e){var t=va(e)?e:[e],n=t.findIndex((function(e){return!i.has(e)}));n>0&&n>u&&(u=n,s=t)})),s&&(r.sort=s.map((function(e){return Os({},e,"asc")})))}r.sort||(r.sort=[Os({},n,"asc")])}return r}function Mf(e){if("object"!==Zo(e)||null===e)return e;var t=Object.keys(e),n={};return t.forEach((function(t){var r=e[t];if("$regex"===t&&r instanceof RegExp){var o=function(e){var t=us(e.toString().match(Ts));return{pattern:t[2],flags:t[3]}}(r);n.$regex=o.pattern,n.$options=o.flags}else Array.isArray(r)?n[t]=r.map((function(e){return Mf(e)})):n[t]=Mf(r)})),n}function Bf(e,t){if(!t.sort)throw Aa("SNH",{query:t});var n=[];t.sort.forEach((function(e){var t=Object.keys(e)[0],r=Object.values(e)[0];n.push({key:t,direction:r,getValueFn:ta(t)})}));return function(e,t){for(var r=0;r<n.length;++r){var o=n[r],a=o.getValueFn(e),i=o.getValueFn(t);if(a!==i)return"asc"===o.direction?Oc(a,i):Oc(i,a)}}}function Nf(e,t){if(!t.sort)throw Aa("SNH",{query:t});var n,r=(n=t.selector,Pf||(kl(wl.PIPELINE,{$sort:Jl,$project:Kl}),kl(wl.QUERY,{$and:ef,$eq:bf,$elemMatch:Cf,$exists:Sf,$gt:Df,$gte:wf,$in:Of,$lt:_f,$lte:Ef,$ne:yf,$nin:Ff,$mod:kf,$nor:rf,$not:tf,$or:nf,$regex:xf,$size:Af,$type:Tf}),Pf=!0),new Hl(n));return function(e){return!e._deleted&&!!r.find([e]).next()}}function Rf(e,t){return t.sort&&0!==t.sort.length?t.sort.map((function(e){return Object.keys(e)[0]})):[e]}var If=new WeakMap;function Lf(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(e){return hu(If,e,(function(){var t=e.collection,n=jf(t.storageInstance.schema,aa(e.mangoQuery)),r=t.schema.primaryPath,o=Bf(t.schema.jsonSchema,n),a=Nf(t.schema.jsonSchema,n);return{primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:Rf(r,n),sortComparator:function(t,n){var r={docA:t,docB:n,rxQuery:e};return o(r.docA,r.docB)},queryMatcher:function(t){return a({doc:t,rxQuery:e}.doc)}}}))}(e),r=us(e._result).docsData.slice(0),o=us(e._result).docsDataMap,a=!1,i=t.map((function(e){return function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Ca.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(e)})).filter(ga).find((function(e){var t=dc({queryParams:n,changeEvent:e,previousResults:r,keyDocumentMap:o});return"runFullQueryAgain"===t||("doNothing"!==t?(a=!0,function(e,t,n,r,o){(0,Bu[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:o})}(t,n,e,r,o),!1):void 0)}));return i?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:a,newResults:r}}__webpack_require__(38478);var zf=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(e){var t=e.toString();return hu(this._map,t,(function(){return e}))},e}();function qf(){return new zf}function Uf(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function Vf(e){return e.refCount$.observers.length}var Hf,$f,Wf=(Hf=100,$f=3e4,function(e,t){if(!(t._map.size<Hf)){for(var n=Us()-$f,r=[],o=0,a=Array.from(t._map.values());o<a.length;o++){var i=a[o];Vf(i)>0||(0===i._lastEnsureEqual&&i._creationTime<n?Uf(t,i):r.push(i))}var s=r.length-Hf;if(!(s<=0)){var u=r.sort((function(e,t){return e._lastEnsureEqual-t._lastEnsureEqual}));u.slice(0,s).forEach((function(e){return Uf(t,e)}))}}}),Kf=new WeakSet;function Gf(e){Kf.has(e)||(Kf.add(e),new Promise((function(e){return setTimeout(e,0)})).then((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t){Es=Es.then((function(){"object"===("undefined"==typeof window?"undefined":Zo(window))&&window.requestIdleCallback?window.requestIdleCallback(t,{timeout:e}):bs(0).then(t)}))}))}(200)})).then((function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Kf.delete(e)})))}var Yf=0,Zf=function(){return++Yf},Xf=function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.id=Zf(),this._execOverDatabaseCount=0,this._creationTime=Us(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new ku(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ds,this.op=e,this.mangoQuery=t,this.collection=n,this.other=r,t||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=rd(this.collection.schema.primaryPath,t)}var t=e.prototype;return t._setResultData=function(e){var t=this;if("number"!=typeof e){e instanceof Map&&(e=Array.from(e.values()));var n=new Map,r=new Map,o=e.map((function(e){return t.collection._docCache.getCachedRxDocument(e)})),a=o.map((function(e){return n.set(e.primary,e._data),r.set(e.primary,e),e._data}));this._result={docsData:a,docsMap:r,docsDataMap:n,count:a.length,docs:o,time:Us()}}else this._result={docsData:[],docsMap:new Map,docsDataMap:new Map,count:e,docs:[],time:Us()}},t._execOverDatabase=function(){var e=ca(fa().mark((function e(){var t,n,r,o,a,i,s,u=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Us(),"count"!==this.op){e.next=12;break}return t=this.getPreparedQuery(),e.next=6,this.collection.storageInstance.count(t);case 6:if("slow"!==(n=e.sent).mode||this.collection.database.allowSlowCount){e.next=11;break}throw Aa("QU14",{collection:this.collection,queryObj:this.mangoQuery});case 11:return e.abrupt("return",n.count);case 12:if("findByIds"!==this.op){e.next=23;break}if(r=us(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,o=new Map,a=[],r.forEach((function(e){var t=u.collection._docCache.getLatestDocumentDataIfExists(e);if(t){if(!t._deleted){var n=u.collection._docCache.getCachedRxDocument(t);o.set(e,n)}}else a.push(e)})),!(a.length>0)){e.next=22;break}return e.next=20,this.collection.storageInstance.findDocumentsById(a,!1);case 20:i=e.sent,Object.values(i).forEach((function(e){var t=u.collection._docCache.getCachedRxDocument(e);o.set(t.primary,t)}));case 22:return e.abrupt("return",o);case 23:return s=td(this),e.abrupt("return",s.then((function(e){return u._lastExecEnd=Us(),e})));case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.exec=function(e){var t=this;if(e&&"findOne"!==this.op)throw Aa("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return ed(this).then((function(){return function(e,t){var n="object"===(0,c.Z)(t);return new Promise((function(r,o){var a=new hi({next:function(e){r(e),a.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new Cu)}});e.subscribe(a)}))}(t.$)})).then((function(n){if(!n&&e)throw Aa("QU10",{collection:t.collection.name,query:t.mangoQuery,op:t.op});return n}))},t.toString=function(){var e=oa({op:this.op,query:this.mangoQuery,other:this.other},!0),t=JSON.stringify(e,sa);return this.toString=function(){return t},t},t.getPreparedQuery=function(){var e={rxQuery:this,mangoQuery:jf(this.collection.schema.jsonSchema,this.mangoQuery)};Ba("prePrepareQuery",e);var t=this.collection.database.storage.statics.prepareQuery(this.collection.schema.jsonSchema,e.mangoQuery);return this.getPreparedQuery=function(){return t},t},t.doesDocumentDataMatch=function(e){return!e._deleted&&this.queryMatcher(e)},t.remove=function(){return this.exec().then((function(e){return Array.isArray(e)?Promise.all(e.map((function(e){return e.remove()}))):e.remove()}))},t.update=function(e){throw Ss("update")},t.where=function(e){throw Ss("query-builder")},t.sort=function(e){throw Ss("query-builder")},t.skip=function(e){throw Ss("query-builder")},t.limit=function(e){throw Ss("query-builder")},Qo(e,[{key:"$",get:function(){var e=this;if(!this._$){var t=this.collection.$.pipe(wi((function(e){return!e.isLocal})),Ji(null),Li((function(){return ed(e)})),Di((function(){return e._result})),ss(cs),Qi((function(e,t){return!(!e||e.time!==us(t).time)})),wi((function(e){return!!e})),Di((function(t){var n=us(t);return"count"===e.op?n.count:"findOne"===e.op?0===n.docs.length?null:n.docs[0]:"findByIds"===e.op?n.docsMap:n.docs.slice(0)})));this._$=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hi(e),r=$i(e,1/0),o=e;return o.length?1===o.length?Ni(o[0]):zi(r)(Zi(o,n)):Su}(t,this.refCount$.pipe(wi((function(){return!1}))))}return this._$}},{key:"queryMatcher",get:function(){this.collection.schema.jsonSchema;return ia(this,"queryMatcher",Nf(0,jf(this.collection.schema.jsonSchema,this.mangoQuery)))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Jf(e,t,n,r){Ba("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var o,a=new Xf(e,t,n,r);return a=(o=a).collection._queryCache.getByQuery(o),Gf(n),a}function Qf(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function ed(e){return e.collection.database.destroyed||Qf(e)?Ds:(e._ensureEqualQueue=e._ensureEqualQueue.then((function(){return function(e){if(e._lastEnsureEqual=Us(),e.collection.database.destroyed||Qf(e))return Ds;var t=!1,n=!1;-1===e._latestChangeEvent&&(n=!0);if(!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var o=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if("count"===e.op){var a=us(e._result).count,i=a;o.forEach((function(t){var n=t.previousDocumentData&&e.doesDocumentDataMatch(t.previousDocumentData),r=e.doesDocumentDataMatch(t.documentData);!n&&r&&i++,n&&!r&&i--})),i!==a&&(t=!0,e._setResultData(i))}else{var s=Lf(e,o);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}if(n){var u=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then((function(n){return e._latestChangeEvent=u,"number"==typeof n?(e._result&&n===e._result.count||(t=!0,e._setResultData(n)),t):(e._result&&function(e,t,n){if(t.length!==n.length)return!1;for(var r=0,o=t.length;r<o;){var a=t[r],i=n[r];if(r++,a._rev!==i._rev||a[e]!==i[e])return!1}return!0}(e.collection.schema.primaryPath,n,e._result.docsData)||(t=!0,e._setResultData(n)),t)}))}return Promise.resolve(t)}(e)})),e._ensureEqualQueue)}function td(e){return nd.apply(this,arguments)}function nd(){return(nd=ca(fa().mark((function e(t){var n,r,o,a,i,s,u,c,l;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],r=t.collection,!t.isFindOneByIdQuery){e.next=22;break}if(!Array.isArray(t.isFindOneByIdQuery)){e.next=12;break}return o=(o=t.isFindOneByIdQuery).filter((function(e){var r=t.collection._docCache.getLatestDocumentDataIfExists(e);return!r||(n.push(r),!1)})),e.next=8,r.storageInstance.findDocumentsById(o,!1);case 8:a=e.sent,Object.values(a).forEach((function(e){n.push(e)})),e.next=20;break;case 12:if(i=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(i)){e.next=19;break}return e.next=17,r.storageInstance.findDocumentsById([i],!1);case 17:u=e.sent,s=u[i];case 19:s&&n.push(s);case 20:e.next=27;break;case 22:return c=t.getPreparedQuery(),e.next=25,r.storageInstance.query(c);case 25:l=e.sent,n=l.documents;case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t){if(!t.skip&&t.selector&&1===Object.keys(t.selector).length&&t.selector[e]){var n=t.selector[e];if("string"==typeof n)return n;if(1===Object.keys(n).length&&"string"==typeof n.$eq)return n.$eq;if(1===Object.keys(n).length&&Array.isArray(n.$eq)&&!n.$eq.find((function(e){return"string"!=typeof e})))return n.$eq}return!1}var od="collection",ad="storage-token",id=Is({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[od,ad,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function sd(e,t){return Ns(id,{key:e,context:t})}function ud(e,t){return cd.apply(this,arguments)}function cd(){return(cd=ca(fa().mark((function e(t,n){var r,o,a;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.prepareQuery(n.schema,{selector:{context:od},sort:[{id:"asc"}],skip:0}),e.next=3,n.query(r);case 3:return o=e.sent,a=o.documents,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld="storageToken",fd=sd(ld,ad);function dd(e){return pd.apply(this,arguments)}function pd(){return(pd=ca(fa().mark((function e(t){var n,r,o,a,i,s,u;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xs(10),r=t.password?t.hashFunction(JSON.stringify(t.password)):void 0,o={id:fd,context:ad,key:ld,data:{token:n,instanceToken:t.token,passwordHash:r},_deleted:!1,_meta:{lwt:1},_rev:"",_attachments:{}},e.next=5,t.internalStore.bulkWrite([{document:o}],"internal-add-storage-token");case 5:if(!(a=e.sent).success[fd]){e.next=8;break}return e.abrupt("return",a.success[fd]);case 8:if(!(i=us(a.error[fd])).isError||409!==i.status){e.next=15;break}if(s=i,!r||r===s.documentInDb.data.passwordHash){e.next=13;break}throw Aa("DB1",{passwordHash:r,existingPasswordHash:s.documentInDb.data.passwordHash});case 13:return u=s.documentInDb,e.abrupt("return",us(u));case 15:throw i;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e,t){return e+"-"+t.version}function md(e,t){return t=function(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var o=n[r];t.hasOwnProperty(o)&&void 0!==t[o]||(t[o]=e.defaultValues[o])}return t}(e,t=ra(t)),(t=Ms(e.primaryPath,e.jsonSchema,t))._meta={lwt:1},t.hasOwnProperty("_deleted")||(t._deleted=!1),t.hasOwnProperty("_attachments")||(t._attachments={}),t.hasOwnProperty("_rev")||(t._rev=""),t}function vd(){return(vd=ca(fa().mark((function e(t,n){var r;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.multiInstance=t.multiInstance,e.next=3,t.storage.createStorageInstance(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(e,t,n,r,o,a){return bd.apply(this,arguments)}function bd(){return bd=ca(fa().mark((function e(t,n,r,o,a,i){var s,u,c,l,f;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ud(t.statics,n);case 2:return s=e.sent,u=s.filter((function(e){return e.data.name===a})),c=[],u.forEach((function(e){c.push({collectionName:e.data.name,schema:e.data.schema,isCollection:!0}),e.data.connectedStorages.forEach((function(e){return c.push({collectionName:e.collectionName,isCollection:!1,schema:e.schema})}))})),l=new Set,c=c.filter((function(e){var t=e.collectionName+"||"+e.schema.version;return!l.has(t)&&(l.add(t),!0)})),e.next=10,Promise.all(c.map(function(){var e=ca(fa().mark((function e(n){var i;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createStorageInstance({collectionName:n.collectionName,databaseInstanceToken:r,databaseName:o,multiInstance:!1,options:{},schema:n.schema,devMode:Ca.isDevMode()});case 2:return i=e.sent,e.next=5,i.remove();case 5:if(!n.isCollection){e.next=8;break}return e.next=8,Na("postRemoveRxCollection",{storage:t,databaseName:o,collectionName:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:if(!i){e.next=14;break}return f=u.map((function(e){var t=cu(e);return t._deleted=!0,t._meta.lwt=Us(),t._rev=tu(r,e),{previous:e,document:t}})),e.next=14,n.bulkWrite(f,"rx-database-remove-collection-all");case 14:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}var yd=function(){function e(e,t,n){var r=this;this.cacheItemByDocId=new Map,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry((function(e){var t=e.docId,n=r.cacheItemByDocId.get(t);n&&(n.documentByRevisionHeight.delete(e.revisionHeight),0===n.documentByRevisionHeight.size&&r.cacheItemByDocId.delete(t))})):void 0,this.primaryPath=e,this.changes$=t,this.documentCreator=n,t.subscribe((function(e){var t=e.documentId,n=r.cacheItemByDocId.get(t);if(n){var o=Fs(e);n.latestDoc=o}}))}var t=e.prototype;return t.getCachedRxDocument=function(e){var t,n,r=e[this.primaryPath],o=(t=e._rev,parseInt(t.split("-")[0],10)),a=hu(this.cacheItemByDocId,r,(function(){return function(e){return{documentByRevisionHeight:new Map,latestDoc:e}}(e)})),i=a.documentByRevisionHeight.get(o),s=i?i.deref():void 0;return s||(e=Ca.deepFreezeWhenDevMode(e),s=this.documentCreator(e),a.documentByRevisionHeight.set(o,(n=s,Dd?new WeakRef(n):{deref:function(){return n}})),this.registry&&this.registry.register(s,{docId:r,revisionHeight:o})),s},t.getLatestDocumentData=function(e){return pu(this.cacheItemByDocId,e).latestDoc},t.getLatestDocumentDataIfExists=function(e){var t=this.cacheItemByDocId.get(e);if(t)return t.latestDoc},e}();var Dd="function"==typeof WeakRef;var wd=function(){function e(e){var t=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=e,this.subs.push(this.collection.$.pipe(wi((function(e){return!e.isLocal}))).subscribe((function(e){return t._handleChangeEvent(e)})))}var t=e.prototype;return t._handleChangeEvent=function(e){for(this.counter++,this.buffer.push(e),this.eventCounterMap.set(e,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(e){var t=this.buffer[0],n=this.eventCounterMap.get(t);return e<n?null:e-n},t.getFrom=function(e){var t=[],n=this.getArrayIndexByPointer(e);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return t;t.push(r)}},t.runFrom=function(e,t){var n=this.getFrom(e);if(null===n)throw new Error("out of bounds");n.forEach((function(e){return t(e)}))},t.reduceByLastOfDoc=function(e){return e.slice(0)},t.destroy=function(){this.subs.forEach((function(e){return e.unsubscribe()}))},e}();__webpack_require__(27852);var _d=new WeakMap;function Ed(e){var t=e.schema.getDocumentPrototype(),n=function(e){var t={};return Object.entries(e.methods).forEach((function(e){var n=Yo(e,2),r=n[0],o=n[1];t[r]=o})),t}(e),r={};return[t,n,Du].forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),o=!0;(t.startsWith("_")||t.endsWith("_")||t.startsWith("$")||t.endsWith("$"))&&(o=!1),"function"==typeof n.value?Object.defineProperty(r,t,{get:function(){return n.value.bind(this)},enumerable:o,configurable:!1}):(n.enumerable=o,n.configurable=!1,n.writable&&(n.writable=!1),Object.defineProperty(r,t,n))}))})),r}function xd(e){return hu(_d,e,(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du,t=function(e,t){this.collection=e,this._data=t,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}(Ed(e))}))}function kd(e,t){var n=function(e,t,n){var r=new e(t,n);return Ba("createRxDocument",r),r}(xd(e),e,Ca.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Ba("postCreateRxDocument",n),n}var Cd=function(e,t){return ea(e.newDocumentState,e.realMasterState)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};var Sd=["pre","post"],Fd=["insert","save","remove","create"],Od=!1,Ad=function(){function e(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Wf,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:Cd;this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=qf(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=e,this.name=t,this.schema=n,this.internalStorageInstance=r,this.instanceCreationOptions=o,this.migrationStrategies=a,this.methods=i,this.attachments=s,this.options=u,this.cacheReplacementPolicy=c,this.statics=l,this.conflictHandler=f,Td(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){var e=ca(fa().mark((function e(){var t,n,r,o=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.storageInstance=fu(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new gu(this.storageInstance,this.schema.primaryPath,(function(e,t){return _u(o,e,t)}),(function(e){return o._runHooks("post","save",e)})),t=this.database.eventBulks$.pipe(wi((function(e){return e.collectionName===o.name}))),this.$=t.pipe(Li((function(e){return e.events}))),this.checkpoint$=t.pipe(Di((function(e){return e.checkpoint}))),this._changeEventBuffer=(a=this.asRxCollection,new wd(a)),this._docCache=new yd(this.schema.primaryPath,this.$.pipe(wi((function(e){return!e.isLocal}))),(function(e){return kd(o.asRxCollection,e)})),e.next=9,this.database.storageToken;case 9:return n=e.sent,r=this.storageInstance.changeStream().subscribe((function(e){var t={id:e.id,internal:!1,collectionName:o.name,storageToken:n,events:e.events.map((function(e){return t=!1,r=o,a=(n=e).documentData,i=n.previousDocumentData,{eventId:n.eventId,documentId:n.documentId,collectionName:r?r.name:void 0,startTime:n.startTime,endTime:n.endTime,isLocal:t,operation:n.operation,documentData:Ca.deepFreezeWhenDevMode(a),previousDocumentData:Ca.deepFreezeWhenDevMode(i)};var t,n,r,a,i})),databaseToken:o.database.token,checkpoint:e.checkpoint,context:e.context};o.database.$emit(t)})),this._subs.push(r),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe((function(e){o.conflictHandler(e.input,e.context).then((function(t){o.storageInstance.resolveConflictResultionTask({id:e.id,output:t})}))}))),e.abrupt("return",_s);case 14:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.migrationNeeded=function(){throw Ss("migration")},t.getDataMigrator=function(){throw Ss("migration")},t.migrate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(e)},t.migratePromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(e)},t.insert=function(){var e=ca(fa().mark((function e(t){var n,r,o;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bulkInsert([t]);case 2:return n=e.sent,r=n.error[0],au(this,t[this.schema.primaryPath],t,r),o=us(n.success[0]),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkInsert=function(){var e=ca(fa().mark((function e(t){var n,r,o,a,i,s,u,c=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",{success:[],error:[]});case 2:if(n=this.schema.primaryPath,r=t.map((function(e){return md(c.schema,e)})),!this.hasHooks("pre","insert")){e.next=10;break}return e.next=7,Promise.all(r.map((function(e){return c._runHooks("pre","insert",e).then((function(){return e}))})));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=r;case 11:return o=e.t0,a=new Map,i=o.map((function(e){return a.set(e[n],e),{document:e}})),e.next=16,this.storageInstance.bulkWrite(i,"rx-collection-bulk-insert");case 16:if(s=e.sent,u=Object.values(s.success).map((function(e){return c._docCache.getCachedRxDocument(e)})),!this.hasHooks("post","insert")){e.next=21;break}return e.next=21,Promise.all(u.map((function(e){return c._runHooks("post","insert",a.get(e.primary),e)})));case 21:return e.abrupt("return",{success:u,error:Object.values(s.error)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkRemove=function(){var e=ca(fa().mark((function e(t){var n,r,o,a,i,s,u,c=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",{success:[],error:[]});case 2:return e.next=4,this.findByIds(t).exec();case 4:return n=e.sent,r=[],o=new Map,Array.from(n.values()).forEach((function(e){var t=e.toMutableJSON(!0);r.push(t),o.set(e.primary,t)})),e.next=10,Promise.all(r.map((function(e){var t=e[c.schema.primaryPath];return c._runHooks("pre","remove",e,n.get(t))})));case 10:return a=r.map((function(e){var t=ra(e);return t._deleted=!0,{previous:e,document:t}})),e.next=13,this.storageInstance.bulkWrite(a,"rx-collection-bulk-remove");case 13:return i=e.sent,s=Object.keys(i.success),e.next=17,Promise.all(s.map((function(e){return c._runHooks("post","remove",o.get(e),n.get(e))})));case 17:return u=s.map((function(e){return pu(n,e)})),e.abrupt("return",{success:u,error:Object.values(i.error)});case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkUpsert=function(){var e=ca(fa().mark((function e(t){var n,r,o,a,i,s=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=new Map,t.forEach((function(e){var t=md(s.schema,e),o=t[s.schema.primaryPath];if(!o)throw Aa("COL3",{primaryPath:s.schema.primaryPath,data:t,schema:s.schema.jsonSchema});r.set(o,t),n.push(t)})),e.next=5,this.bulkInsert(n);case 5:return o=e.sent,a=o.success.slice(0),e.next=9,Promise.all(o.error.map(function(){var e=ca(fa().mark((function e(t){var n,o,a,i,u;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(409===t.status){e.next=2;break}throw Aa("VD2",{collection:s.name,writeError:t});case 2:return n=t.documentId,o=pu(r,n),a=us(t.documentInDb),i=s._docCache.getCachedRxDocument(a),e.next=8,i.incrementalModify((function(){return o}));case 8:return u=e.sent,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return i=e.sent,ya(a,i),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.upsert=function(e){return this.bulkUpsert([e]).then((function(e){return e[0]}))},t.incrementalUpsert=function(e){var t=this,n=md(this.schema,e),r=n[this.schema.primaryPath];if(!r)throw Aa("COL4",{data:e});var o=this._incrementalUpsertQueues.get(r);return o||(o=_s),o=o.then((function(){return function(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);if(r)return Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1});return e.findOne(t).exec().then((function(t){return t?{doc:t,inserted:!1}:e.insert(n).then((function(e){return{doc:e,inserted:!0}}))}))}(t,r,n)})).then((function(e){return e.inserted?e.doc:function(e,t){return e.incrementalModify((function(e){return t}))}(e.doc,n)})),this._incrementalUpsertQueues.set(r,o),o},t.find=function(e){if("string"==typeof e)throw Aa("COL5",{queryObj:e});return e||(e={selector:{}}),Jf("find",e,this)},t.findOne=function(e){var t;if("string"==typeof e)t=Jf("findOne",{selector:Os({},this.schema.primaryPath,e),limit:1},this);else{if(e||(e={selector:{}}),e.limit)throw Aa("QU6");e.limit=1,t=Jf("findOne",e,this)}if("number"==typeof e||Array.isArray(e))throw Ta("COL6",{queryObj:e});return t},t.count=function(e){return e||(e={selector:{}}),Jf("count",e,this)},t.findByIds=function(e){return Jf("findByIds",{selector:Os({},this.schema.primaryPath,{$in:e.slice(0)})},this)},t.exportJSON=function(){throw Ss("json-dump")},t.importJSON=function(e){throw Ss("json-dump")},t.insertCRDT=function(e){throw Ss("crdt")},t.addHook=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw Ta("COL7",{key:t,when:e});if(!Sd.includes(e))throw Ta("COL8",{key:t,when:e});if(!Fd.includes(t))throw Aa("COL9",{key:t});if("post"===e&&"create"===t&&!0===r)throw Aa("COL10",{when:e,key:t,parallel:r});var o=n.bind(this),a=r?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][a].push(o)},t.getHooks=function(e,t){return this.hooks[t]&&this.hooks[t][e]?this.hooks[t][e]:{series:[],parallel:[]}},t.hasHooks=function(e,t){var n=this.getHooks(e,t);return!!n&&(n.series.length>0||n.parallel.length>0)},t._runHooks=function(e,t,n,r){var o=this.getHooks(e,t);return o?function(e,t){return e.reduce((function(e,t){return e.then(t)}),Promise.resolve(t))}(o.series.map((function(e){return function(){return e(n,r)}}))).then((function(){return Promise.all(o.parallel.map((function(e){return e(n,r)})))})):_s},t._runHooksSync=function(e,t,n,r){var o=this.getHooks(e,t);o&&o.series.forEach((function(e){return e(n,r)}))},t.promiseWait=function(e){var t=this;return new Promise((function(n){var r=setTimeout((function(){t.timeouts.delete(r),n()}),e);t.timeouts.add(r)}))},t.destroy=function(){var e=this;return this.destroyed?Ds:(this.destroyed=!0,Array.from(this.timeouts).forEach((function(e){return clearTimeout(e)})),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then((function(){return Promise.all(e.onDestroy.map((function(e){return e()})))})).then((function(){return e.storageInstance.close()})).then((function(){return e._subs.forEach((function(e){return e.unsubscribe()})),delete e.database.collections[e.name],Na("postDestroyRxCollection",e).then((function(){return!0}))})))},t.remove=function(){var e=ca(fa().mark((function e(){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.destroy();case 2:return e.next=4,gd(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.hashFunction);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),Qo(e,[{key:"insert$",get:function(){return this.$.pipe(wi((function(e){return"INSERT"===e.operation})))}},{key:"update$",get:function(){return this.$.pipe(wi((function(e){return"UPDATE"===e.operation})))}},{key:"remove$",get:function(){return this.$.pipe(wi((function(e){return"DELETE"===e.operation})))}},{key:"asRxCollection",get:function(){return this}}]),e}();function Td(e){if(!Od){Od=!0;var t=Object.getPrototypeOf(e);Fd.forEach((function(e){Sd.map((function(n){var r=n+ks(e);t[r]=function(t,r){return this.addHook(n,e,t,r)}}))}))}}function Pd(e){var t=e.database,n=e.name,r=e.schema,o=e.instanceCreationOptions,a=void 0===o?{}:o,i=e.migrationStrategies,s=void 0===i?{}:i,u=e.autoMigrate,c=void 0===u||u,l=e.statics,f=void 0===l?{}:l,d=e.methods,p=void 0===d?{}:d,h=e.attachments,m=void 0===h?{}:h,v=e.options,g=void 0===v?{}:v,b=e.localDocuments,y=void 0!==b&&b,D=e.cacheReplacementPolicy,w=void 0===D?Wf:D,_=e.conflictHandler,E=void 0===_?Cd:_,x={databaseInstanceToken:t.token,databaseName:t.name,collectionName:n,schema:r.jsonSchema,options:a,multiInstance:t.multiInstance,password:t.password,devMode:Ca.isDevMode()};return Ba("preCreateRxStorageInstance",x),function(e,t){return vd.apply(this,arguments)}(t,x).then((function(e){var o=new Ad(t,n,r,e,a,s,p,m,g,w,f,E);return o.prepare().then((function(){Object.entries(f).forEach((function(e){var t=Yo(e,2),n=t[0],r=t[1];Object.defineProperty(o,n,{get:function(){return r.bind(o)}})}));var e=_s;return c&&0!==o.schema.version&&(e=o.migratePromise()),e})).then((function(){return Ba("createRxCollection",{collection:o,creator:{name:n,schema:r,storageInstance:e,instanceCreationOptions:a,migrationStrategies:s,methods:p,attachments:m,options:g,cacheReplacementPolicy:w,localDocuments:y,statics:f}}),o})).catch((function(t){return e.close().then((function(){return Promise.reject(t)}))}))}))}var jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=e||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function Md(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function Bd(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout((function(){e.isIdle()?setTimeout((function(){e.isIdle()?(!function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout((function(){return Bd(e)}),0))}(e),e._tryIR=!1):e._tryIR=!1}),0):e._tryIR=!1}),0))}jd.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Bd(this)},wrapCall:function(e){var t,n=this;this.lock();try{t=e()}catch(r){throw this.unlock(),r}return t.then&&"function"==typeof t.then?t.then((function(e){return n.unlock(),e})).catch((function(e){throw n.unlock(),e})):(this.unlock(),t)},requestIdlePromise:function(e){var t,n=this;e=e||{};var r=new Promise((function(e){return t=e}));if(r._manRes=function(){Md(n,r),t()},e.timeout){var o=setTimeout((function(){r._manRes()}),e.timeout);r._timeoutObj=o}return this._iC.add(r),Bd(this),r},cancelIdlePromise:function(e){Md(this,e)},requestIdleCallback:function(e,t){var n=this._lHN++,r=this.requestIdlePromise(t);return this._hPM.set(n,r),this._pHM.set(r,n),r.then((function(){return e()})),n},cancelIdleCallback:function(e){var t=this._hPM.get(e);this.cancelIdlePromise(t)},clear:function(){var e=this;this._iC.forEach((function(t){return Md(e,t)})),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var Nd=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,Rd()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){var t=Rd()-e.ttl,n=e.map[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;var o=r[0];if(!(r[1]<t))return;e.map.delete(o)}}(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function Rd(){return(new Date).getTime()}var Id=new Set,Ld=function(){function e(e,t,n,r,o,a){var i=this,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;this.idleQueue=new jd,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new ns,this.observable$=this.eventBulks$.pipe(Li((function(e){return e.events}))),this.storageToken=Ds,this.storageTokenDocument=Ds,this.emittedEventBulkIds=new Nd(6e4),this.name=e,this.token=t,this.storage=n,this.instanceCreationOptions=r,this.password=o,this.multiInstance=a,this.eventReduce=s,this.options=u,this.internalStore=c,this.hashFunction=l,this.cleanupPolicy=f,this.allowSlowCount=d,"pseudoInstance"!==this.name&&(this.internalStore=fu(this.asRxDatabase,c,id),this.storageTokenDocument=dd(this.asRxDatabase).catch((function(e){return i.startupErrors.push(e)})),this.storageToken=this.storageTokenDocument.then((function(e){return e.data.token})).catch((function(e){return i.startupErrors.push(e)})))}var t=e.prototype;return t.$emit=function(e){this.emittedEventBulkIds.has(e.id)||(this.emittedEventBulkIds.add(e.id),this.eventBulks$.next(e))},t.removeCollectionDoc=function(){var e=ca(fa().mark((function e(t,n){var r,o;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(this.internalStore,sd(hd(t,n),od));case 2:if(r=e.sent){e.next=5;break}throw Aa("SNH",{name:t,schema:n});case 5:return(o=cu(r))._deleted=!0,e.next=9,this.internalStore.bulkWrite([{document:o,previous:r}],"rx-database-remove-collection");case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.addCollections=function(){var e=ca(fa().mark((function e(t){var n,r,o,a,i,s,u=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r={},o=[],a={},Object.entries(t).forEach((function(e){var t=Yo(e,2),i=t[0],s=t[1],c=i,l=s.schema;n[c]=l;var f=xu(l,u.hashFunction);if(r[c]=f,u.collections[i])throw Aa("DB3",{name:i});var d=hd(i,l),p={id:sd(d,od),key:d,context:od,data:{name:c,schemaHash:f.hash,schema:f.jsonSchema,version:f.version,connectedStorages:[]},_deleted:!1,_meta:{lwt:1},_rev:"",_attachments:{}};o.push({document:p});var h=Object.assign({},s,{name:c,schema:f,database:u}),m=ra(s);m.database=u,m.name=i,Ba("preCreateRxCollection",m),h.conflictHandler=m.conflictHandler,a[c]=h})),e.next=7,this.internalStore.bulkWrite(o,"rx-database-add-collection");case 7:return i=e.sent,e.next=10,Hd(this);case 10:return Object.entries(i.error).forEach((function(e){var t=Yo(e,2),o=(t[0],t[1]);if(409!==o.status)throw Aa("DB12",{database:u.name,writeError:o});var a=us(o.documentInDb),i=a.data.name,s=r[i];if(a.data.schemaHash!==s.hash)throw Aa("DB6",{database:u.name,collection:i,previousSchemaHash:a.data.schemaHash,schemaHash:s.hash,previousSchema:a.data.schema,schema:us(n[i])})})),s={},e.next=14,Promise.all(Object.keys(t).map(function(){var e=ca(fa().mark((function e(t){var n,r;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a[t],e.next=3,Pd(n);case 3:r=e.sent,s[t]=r,u.collections[t]=r,u[t]||Object.defineProperty(u,t,{get:function(){return u.collections[t]}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.lockedRun=function(e){return this.idleQueue.wrapCall(e)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(e){throw Ss("json-dump")},t.importJSON=function(e){throw Ss("json-dump")},t.backup=function(e){throw Ss("backup")},t.leaderElector=function(){throw Ss("leader-election")},t.isLeader=function(){throw Ss("leader-election")},t.waitForLeadership=function(){throw Ss("leader-election")},t.migrationStates=function(){throw Ss("migration")},t.destroy=function(){var e=ca(fa().mark((function e(){var t=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return",Ds);case 2:return this.destroyed=!0,e.next=5,Na("preDestroyRxDatabase",this);case 5:if(this.eventBulks$.complete(),this._subs.map((function(e){return e.unsubscribe()})),"pseudoInstance"!==this.name){e.next=10;break}return e.abrupt("return",Ds);case 10:return e.abrupt("return",this.requestIdlePromise().then((function(){return Promise.all(t.onDestroy.map((function(e){return e()})))})).then((function(){return Promise.all(Object.keys(t.collections).map((function(e){return t.collections[e]})).map((function(e){return e.destroy()})))})).then((function(){return t.internalStore.close()})).then((function(){return Id.delete(t.name)})).then((function(){return!0})));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.remove=function(){var e=this;return this.destroy().then((function(){return function(e,t){return Vd.apply(this,arguments)}(e.name,e.storage)}))},Qo(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function zd(e,t,n,r,o,a){return qd.apply(this,arguments)}function qd(){return qd=ca(fa().mark((function e(t,n,r,o,a,i){var s;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createStorageInstance({databaseInstanceToken:t,databaseName:r,collectionName:nu,schema:id,options:o,multiInstance:a,password:i,devMode:Ca.isDevMode()});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Ud(e){var t=e.storage,n=e.instanceCreationOptions,r=e.name,o=e.password,a=e.multiInstance,i=void 0===a||a,s=e.eventReduce,u=void 0!==s&&s,c=e.ignoreDuplicate,l=void 0!==c&&c,f=e.options,d=void 0===f?{}:f,p=e.cleanupPolicy,h=e.allowSlowCount,m=void 0!==h&&h,v=e.localDocuments,g=void 0!==v&&v,b=e.hashFunction,y=void 0===b?Qs:b;Ba("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:o,multiInstance:i,eventReduce:u,ignoreDuplicate:l,options:d,localDocuments:g}),l||function(e){if(Id.has(e))throw Aa("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),Id.add(r);var D=xs(10);return zd(D,t,r,n,i,o).catch((function(e){throw Id.delete(r),e})).then((function(e){var a=new Ld(r,D,t,n,o,i,u,d,e,y,p,m);return Na("createRxDatabase",{database:a,creator:{storage:t,instanceCreationOptions:n,name:r,password:o,multiInstance:i,eventReduce:u,ignoreDuplicate:l,options:d,localDocuments:g}}).then((function(){return a}))}))}function Vd(){return Vd=ca(fa().mark((function e(t,n){var r,o,a,i,s;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xs(10),e.next=3,zd(r,n,t,{},!1);case 3:return o=e.sent,e.next=6,ud(n.statics,o);case 6:return a=e.sent,i=new Set,a.forEach((function(e){return i.add(e.data.name)})),s=Array.from(i),e.next=12,Promise.all(s.map((function(e){return gd(n,o,r,t,e)})));case 12:return e.next=14,Na("postRemoveRxDatabase",{databaseName:t,storage:n});case 14:return e.next=16,o.remove();case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function Hd(e){return $d.apply(this,arguments)}function $d(){return($d=ca(fa().mark((function e(t){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storageToken;case 2:if(!t.startupErrors[0]){e.next=4;break}throw t.startupErrors[0];case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wd={RxSchema:Eu.prototype,RxDocument:Du,RxQuery:Xf.prototype,RxCollection:Ad.prototype,RxDatabase:Ld.prototype},Kd=new Set,Gd=new Set;function Yd(e){if(Ba("preAddRxPlugin",{plugin:e,plugins:Kd}),!Kd.has(e)){if(Gd.has(e.name))throw Aa("PL3",{name:e.name,plugin:e});if(Kd.add(e),Gd.add(e.name),!e.rxdb)throw Ta("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach((function(e){var t=Yo(e,2),n=t[0];return(0,t[1])(Wd[n])})),e.overwritable&&Object.assign(Ca,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach((function(e){var t=Yo(e,2),n=t[0],r=t[1];r.after&&Ma[n].push(r.after),r.before&&Ma[n].unshift(r.before)}))}}var Zd=__webpack_require__(14630),Xd=__webpack_require__.n(Zd);function Jd(e){return this.incrementalModify((function(t){return Xd()(t,e)}))}function Qd(e){var t=this._data,n=Xd()(t,e);return this._saveData(n,t)}function ep(e){return this.exec().then((function(t){return t?Array.isArray(t)?Promise.all(t.map((function(t){return t.update(e)}))).then((function(){return t})):t.update(e).then((function(){return t})):null}))}var tp={name:"update",rxdb:!0,prototypes:{RxDocument:function(e){e.update=Qd,e.incrementalUpdate=Jd},RxQuery:function(e){e.update=ep}}};Promise.resolve(!1);var np=Promise.resolve(!0),rp=Promise.resolve();function op(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function ap(){return Math.random().toString(36).substring(2)}var ip=0,sp=0;function up(){var e=(new Date).getTime();return e===ip?1e3*e+ ++sp:(ip=e,sp=0,1e3*e)}var cp={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),rp}catch(n){return Promise.reject(n)}},canBeUsed:function(){if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:up};function lp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var fp="messages",dp={durability:"relaxed"};function pp(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function hp(e){e.commit&&e.commit()}function mp(e,t){var n=e.transaction(fp,"readonly",dp),r=n.objectStore(fp),o=[],a=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var i=r.getAll(a);return new Promise((function(e,t){i.onerror=function(e){return t(e)},i.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,i){var s=function(){try{return a=IDBKeyRange.bound(t+1,1/0),r.openCursor(a)}catch(e){return r.openCursor()}}();s.onerror=function(e){return i(e)},s.onsuccess=function(r){var a=r.target.result;a?a.value.id<t+1?a.continue(t+1):(o.push(a.value),a.continue()):(hp(n),e(o))}}))}function vp(e){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(fp,"readonly",dp),o=r.objectStore(fp),a=[];return new Promise((function(e){o.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var i=o.value;i.time<n?(a.push(i),o.continue()):(hp(r),e(a))}else e(a)}}))}(e.db,e.options.idb.ttl).then((function(t){return function(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(fp,"readwrite",dp).objectStore(fp);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(e,t.map((function(e){return e.id})))}))}function gp(e){e.closed||bp(e).then((function(){return op(e.options.idb.fallbackInterval)})).then((function(){return gp(e)}))}function bp(e){return e.closed?rp:e.messagesCallback?mp(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),rp})):rp}var yp={create:function(e,t){return t=lp(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=pp().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(fp,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ap(),eMIs:new Nd(2*t.idb.ttl),writeBlockPromise:rp,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},gp(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,bp(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([fp],"readwrite",dp);return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(fp).add(r),hp(o)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&vp(e)})),e.writeBlockPromise},canBeUsed:function(){return!!pp()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:up};function Dp(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function wp(e){return"pubkey.broadcastChannel-"+e}function _p(){var e=Dp();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(n){return!1}return!0}var Ep={create:function(e,t){if(t=lp(t),!_p())throw new Error("BroadcastChannel: localstorage cannot be used");var n=ap(),r=new Nd(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:r};return o.listener=function(e,t){var n=wp(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){o.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<o.messagesCallbackTime||(r.add(e.token),o.messagesCallback(e.data)))})),o},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){op().then((function(){var r=wp(e.channelName),o={token:ap(),time:(new Date).getTime(),data:t,uuid:e.uuid},a=JSON.stringify(o);Dp().setItem(r,a);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=r,i.newValue=a,window.dispatchEvent(i),n()}))}))},canBeUsed:_p,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:up},xp=up,kp=new Set;var Cp={create:function(e){var t={name:e,messagesCallback:null};return kp.add(t),t},close:function(e){kp.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(kp).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:xp},Sp=[cp,yp,Ep];var Fp,Op=new Set,Ap=0,Tp=function(e,t){this.id=Ap++,Op.add(this),this.name=e,Fp&&(t=Fp),this.options=lp(t),this.method=function(e){var t=[].concat(e.methods,Sp).filter(Boolean);if(e.type){if("simulate"===e.type)return Cp;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Sp.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);n=t,n&&"function"==typeof n.then?(e._prepP=t,t.then((function(t){e._state=t}))):e._state=t;var n}(this)};function Pp(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:rp).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function jp(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Mp(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&jp(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,r=e.time-n;t.time>=r&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Bp(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!jp(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Tp._pubkey=!0,Tp.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return Pp(this,"message",e)},postInternal:function(e){return Pp(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Bp(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Mp(this,"message",t)):this._onML=null},addEventListener:function(e,t){Mp(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Bp(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){Op.delete(this),this.closed=!0;var t=this._prepP?this._prepP:rp;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Np=__webpack_require__(1599);var Rp=__webpack_require__(1599),Ip="[object process]"===Object.prototype.toString.call(void 0!==Rp?Rp:0)?function(e){Np.on("exit",(function(){return e()})),Np.on("beforeExit",(function(){return e().then((function(){return Np.exit()}))})),Np.on("SIGINT",(function(){return e().then((function(){return Np.exit()}))})),Np.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),Np.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},Lp=new Set,zp=!1;function qp(e){if(zp||(zp=!0,Ip(Up)),"function"!=typeof e)throw new Error("Listener is no function");return Lp.add(e),{remove:function(){return Lp.delete(e)},run:function(){return Lp.delete(e),e()}}}function Up(){var e=[];return Lp.forEach((function(t){e.push(t()),Lp.delete(t)})),Promise.all(e)}function Vp(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function Hp(e){e.isLeader=!0,e._hasLeader=!0;var t=qp((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&Vp(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),Vp(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Vp(e,"tell")}var $p=function(e,t){var n=this;this.broadcastChannel=e,e._befC.push((function(){return n.die()})),this._options=t,this.isLeader=!1,this.isDead=!1,this.token=ap(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name};$p.prototype={hasLeader:function(){var e=this;return navigator.locks.query().then((function(t){var n=t.held?t.held.filter((function(t){return t.name===e.lN})):[];return!!(n&&n.length>0)}))},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var t=new Promise((function(t,n){e._wKMC.res=t,e._wKMC.rej=n}));this._wLMP=new Promise((function(n){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},(function(){return e._wKMC.c=void 0,Hp(e),n(),t})).catch((function(){}))}))}return this._wLMP},set onduplicate(e){},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Vp(this,"death")}};var Wp=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=ap(),this._aplQ=rp,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(e){"leader"===e.context&&("death"===e.action&&(n._hasLeader=!1),"tell"===e.action&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function Kp(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n="undefined"!=typeof navigator&&void 0!==navigator.locks&&"function"==typeof navigator.locks.request?new $p(e,t):new Wp(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}Wp.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var t=this;if(this.isLeader)return op(0,!0);if(this.isDead)return op(0,!1);if(this._aplQC>1)return this._aplQ;return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return np;var n,r=!1,o=new Promise((function(e){n=function(){r=!0,e()}})),a=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t._hasLeader=!0))};t.broadcastChannel.addEventListener("internal",a);var i=e?4*t._options.responseTime:t._options.responseTime;return Vp(t,"apply").then((function(){return Promise.race([op(i),o.then((function(){return Promise.reject(new Error)}))])})).then((function(){return Vp(t,"apply")})).then((function(){return Promise.race([op(i),o.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",a),!r&&Hp(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return rp;return new Promise((function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()})),function t(){return op(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then((function(){e.isLeader?r():t()}))}))}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e._hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&r()})))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Vp(this,"death")}};var Gp=Array.isArray;function Yp(e){return 1===e.length&&Gp(e[0])?e[0]:e}function Zp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hi(e),r=$i(e,1/0);return e=Yp(e),Ia((function(t,o){zi(r)(Zi($a([t],Ha(e)),n)).subscribe(o)}))}var Xp=new Map;function Jp(e,t,n){var r=Xp.get(e);return r||(r={bc:new Tp("RxDB:"+t),refs:new Set},Xp.set(e,r)),r.refs.add(n),r.bc}function Qp(e,t){var n=Xp.get(e);if(n)return n.refs.delete(t),0===n.refs.size?(Xp.delete(e),n.bc.close()):void 0}function eh(e,t,n,r){if(t.multiInstance){var o=r||Jp(t.databaseInstanceToken,n.databaseName,n),a=new ns,i=function(n){n.storageName===e&&n.databaseName===t.databaseName&&n.collectionName===t.collectionName&&n.version===t.schema.version&&a.next(n.eventBulk)};o.addEventListener("message",i);var s=n.changeStream(),u=!1,c=s.subscribe((function(n){u||o.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:n})}));n.changeStream=function(){return a.asObservable().pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zp.apply(void 0,$a([],Ha(e)))}(s))};var l=n.close.bind(n);n.close=ca(fa().mark((function e(){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=!0,c.unsubscribe(),o.removeEventListener("message",i),r){e.next=6;break}return e.next=6,Qp(t.databaseInstanceToken,n);case 6:return e.abrupt("return",l());case 7:case"end":return e.stop()}}),e)})));var f=n.remove.bind(n);n.remove=ca(fa().mark((function e(){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=!0,c.unsubscribe(),o.removeEventListener("message",i),r){e.next=6;break}return e.next=6,Qp(t.databaseInstanceToken,n);case 6:return e.abrupt("return",f());case 7:case"end":return e.stop()}}),e)})))}}var th=new WeakMap,nh=new WeakMap;function rh(e){return hu(nh,e,(function(){return Kp(e)}))}function oh(){var e=Jp(this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return Qp(this.token,this),t()};var n=rh(e);return n||(n=rh(e),th.set(this,n)),this.leaderElector=function(){return n},n}function ah(){return!this.multiInstance||this.leaderElector().isLeader}function ih(){return this.multiInstance?this.leaderElector().awaitLeadership().then((function(){return!0})):ys}var sh={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:function(e){e.leaderElector=oh,e.isLeader=ah,e.waitForLeadership=ih}},hooks:{preDestroyRxDatabase:{after:function(e){var t=th.get(e);t&&t.die()}}}};const uh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ch=Object.keys,lh=Array.isArray;function fh(e,t){return"object"!=typeof t||ch(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||uh.Promise||(uh.Promise=Promise);const dh=Object.getPrototypeOf,ph={}.hasOwnProperty;function hh(e,t){return ph.call(e,t)}function mh(e,t){"function"==typeof t&&(t=t(dh(e))),("undefined"==typeof Reflect?ch:Reflect.ownKeys)(t).forEach((n=>{gh(e,n,t[n])}))}const vh=Object.defineProperty;function gh(e,t,n,r){vh(e,t,fh(n&&hh(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function bh(e){return{from:function(t){return e.prototype=Object.create(t.prototype),gh(e.prototype,"constructor",e),{extend:mh.bind(null,e.prototype)}}}}const yh=Object.getOwnPropertyDescriptor;function Dh(e,t){let n;return yh(e,t)||(n=dh(e))&&Dh(n,t)}const wh=[].slice;function _h(e,t,n){return wh.call(e,t,n)}function Eh(e,t){return t(e)}function xh(e){if(!e)throw new Error("Assertion Failed")}function kh(e){uh.setImmediate?setImmediate(e):setTimeout(e,0)}function Ch(e,t){if(hh(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var a=Ch(e,t[r]);n.push(a)}return n}var i=t.indexOf(".");if(-1!==i){var s=e[t.substr(0,i)];return void 0===s?void 0:Ch(s,t.substr(i+1))}}function Sh(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){xh("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)Sh(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var i=t.substr(0,a),s=t.substr(a+1);if(""===s)void 0===n?lh(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n;else{var u=e[i];u&&hh(e,i)||(u=e[i]={}),Sh(u,s,n)}}else void 0===n?lh(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Fh(e){var t={};for(var n in e)hh(e,n)&&(t[n]=e[n]);return t}const Oh=[].concat;function Ah(e){return Oh.apply([],e)}const Th="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ah([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>uh[e])),Ph=new Set(Th.map((e=>uh[e])));function jh(e){const t={};for(const n in e)if(hh(e,n)){const r=e[n];t[n]=!r||"object"!=typeof r||Ph.has(r.constructor)?r:jh(r)}return t}let Mh=null;function Bh(e){Mh=new WeakMap;const t=Nh(e);return Mh=null,t}function Nh(e){if(!e||"object"!=typeof e)return e;let t=Mh.get(e);if(t)return t;if(lh(e)){t=[],Mh.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Nh(e[n]))}else if(Ph.has(e.constructor))t=e;else{const n=dh(e);for(var o in t=n===Object.prototype?{}:Object.create(n),Mh.set(e,t),e)hh(e,o)&&(t[o]=Nh(e[o]))}return t}const{toString:Rh}={};function Ih(e){return Rh.call(e).slice(8,-1)}const Lh="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",zh="symbol"==typeof Lh?function(e){var t;return null!=e&&(t=e[Lh])&&t.apply(e)}:function(){return null};function qh(e,t){const n=e.indexOf(t);return n>=0&&e.splice(n,1),n>=0}const Uh={};function Vh(e){var t,n,r,o;if(1===arguments.length){if(lh(e))return e.slice();if(this===Uh&&"string"==typeof e)return[e];if(o=zh(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Hh="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var $h="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wh(e,t){$h=e,Kh=t}var Kh=()=>!0;const Gh=!new Error("").stack;function Yh(){if(Gh)try{throw Yh.arguments,new Error}catch(e){return e}return new Error}function Zh(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Kh).map((e=>"\n"+e)).join("")):""}var Xh=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xh),Qh={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function em(e,t){this._e=Yh(),this.name=e,this.message=t}function tm(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function nm(e,t,n,r){this._e=Yh(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=tm(e,t)}function rm(e,t){this._e=Yh(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=tm(e,this.failures)}bh(em).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Zh(this._e,2))}},toString:function(){return this.name+": "+this.message}}),bh(nm).from(em),bh(rm).from(em);var om=Jh.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const am=em;var im=Jh.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=Yh(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Qh[t]||n,this.inner=null)}return bh(r).from(am),e[t]=r,e}),{});im.Syntax=SyntaxError,im.Type=TypeError,im.Range=RangeError;var sm=Xh.reduce(((e,t)=>(e[t+"Error"]=im[t],e)),{}),um=Jh.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=im[t]),e)),{});function cm(){}function lm(e){return e}function fm(e,t){return null==e||e===lm?t:function(n){return t(e(n))}}function dm(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function pm(e,t){return e===cm?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?dm(r,this.onsuccess):r),o&&(this.onerror=this.onerror?dm(o,this.onerror):o),void 0!==a?a:n}}function hm(e,t){return e===cm?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?dm(n,this.onsuccess):n),r&&(this.onerror=this.onerror?dm(r,this.onerror):r)}}function mm(e,t){return e===cm?t:function(n){var r=e.apply(this,arguments);fh(n,r);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?dm(o,this.onsuccess):o),a&&(this.onerror=this.onerror?dm(a,this.onerror):a),void 0===r?void 0===i?void 0:i:fh(r,i)}}function vm(e,t){return e===cm?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function gm(e,t){return e===cm?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}um.ModifyError=nm,um.DexieError=em,um.BulkError=rm;var bm={};const[ym,Dm,wm]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,dh(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,dh(t),e]})(),_m=Dm&&Dm.then,Em=ym&&ym.constructor,xm=!!wm;var km=!1,Cm=wm?()=>{wm.then(Ym)}:uh.setImmediate?setImmediate.bind(null,Ym):uh.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Ym(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ym,0)},Sm=function(e,t){Nm.push([e,t]),Om&&(Cm(),Om=!1)},Fm=!0,Om=!0,Am=[],Tm=[],Pm=null,jm=lm,Mm={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:cm,pgp:!1,env:{},finalize:cm},Bm=Mm,Nm=[],Rm=0,Im=[];function Lm(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=Bm;if($h&&(this._stackHolder=Yh(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==bm)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Vm(this,this._value))}this._state=null,this._value=null,++t.ref,Um(this,e)}const zm={get:function(){var e=Bm,t=av;function n(n,r){var o=!e.global&&(e!==Bm||t!==av);const a=o&&!cv();var i=new Lm(((t,i)=>{$m(this,new qm(gv(n,e,o,a),gv(r,e,o,a),t,i,e))}));return $h&&Gm(i,this),i}return n.prototype=bm,n},set:function(e){gh(this,"then",e&&e.prototype===bm?zm:{get:function(){return e},set:zm.set})}};function qm(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Um(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Zm();t&&"function"==typeof t.then?Um(e,((e,n)=>{t instanceof Lm?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Hm(e)),n&&Xm()}}),Vm.bind(null,e))}catch(t){Vm(e,t)}}function Vm(e,t){if(Tm.push(t),null===e._state){var n=e._lib&&Zm();t=jm(t),e._state=!1,e._value=t,$h&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=Dh(t,"stack");t._promise=e,gh(t,"stack",{get:()=>km?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Am.some((t=>t._value===e._value))||Am.push(e)}(e),Hm(e),n&&Xm()}}function Hm(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)$m(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Rm&&(++Rm,Sm((()=>{0==--Rm&&Jm()}),[]))}function $m(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Rm,Sm(Wm,[n,e,t])}else e._listeners.push(t)}function Wm(e,t,n){try{Pm=t;var r,o=t._value;t._state?r=e(o):(Tm.length&&(Tm=[]),r=e(o),-1===Tm.indexOf(o)&&function(e){for(var t=Am.length;t;)if(Am[--t]._value===e._value)return void Am.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Pm=null,0==--Rm&&Jm(),--n.psd.ref||n.psd.finalize()}}function Km(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,a,i=e._value;null!=i?(o=i.name||"Error",a=i.message||i,r=Zh(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return $h&&((r=Zh(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Km(e._prev,t,n)),t}function Gm(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ym(){Zm()&&Xm()}function Zm(){var e=Fm;return Fm=!1,Om=!1,e}function Xm(){var e,t,n;do{for(;Nm.length>0;)for(e=Nm,Nm=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Nm.length>0);Fm=!0,Om=!0}function Jm(){var e=Am;Am=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Im.slice(0),n=t.length;n;)t[--n]()}function Qm(e){return new Lm(bm,!1,e)}function ev(e,t){var n=Bm;return function(){var r=Zm(),o=Bm;try{return pv(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{pv(o,!1),r&&Xm()}}}mh(Lm.prototype,{then:zm,_then:function(e,t){$m(this,new qm(null,null,e,t,Bm))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Qm(e))):this.then(null,(e=>e&&e.name===t?n(e):Qm(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Qm(t))))},stack:{get:function(){if(this._stack)return this._stack;try{km=!0;var e=Km(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{km=!1}}},timeout:function(e,t){return e<1/0?new Lm(((n,r)=>{var o=setTimeout((()=>r(new im.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&gh(Lm.prototype,Symbol.toStringTag,"Dexie.Promise"),Mm.env=hv(),mh(Lm,{all:function(){var e=Vh.apply(null,arguments).map(lv);return new Lm((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((o,a)=>Lm.resolve(o).then((n=>{e[a]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Lm)return e;if(e&&"function"==typeof e.then)return new Lm(((t,n)=>{e.then(t,n)}));var t=new Lm(bm,!0,e);return Gm(t,Pm),t},reject:Qm,race:function(){var e=Vh.apply(null,arguments).map(lv);return new Lm(((t,n)=>{e.map((e=>Lm.resolve(e).then(t,n)))}))},PSD:{get:()=>Bm,set:e=>Bm=e},totalEchoes:{get:()=>av},newPSD:sv,usePSD:mv,scheduler:{get:()=>Sm,set:e=>{Sm=e}},rejectionMapper:{get:()=>jm,set:e=>{jm=e}},follow:(e,t)=>new Lm(((n,r)=>sv(((t,n)=>{var r=Bm;r.unhandleds=[],r.onunhandled=n,r.finalize=dm((function(){!function(e){Im.push((function t(){e(),Im.splice(Im.indexOf(t),1)})),++Rm,Sm((()=>{0==--Rm&&Jm()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),Em&&(Em.allSettled&&gh(Lm,"allSettled",(function(){const e=Vh.apply(null,arguments).map(lv);return new Lm((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,o)=>Lm.resolve(e).then((e=>r[o]={status:"fulfilled",value:e}),(e=>r[o]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),Em.any&&"undefined"!=typeof AggregateError&&gh(Lm,"any",(function(){const e=Vh.apply(null,arguments).map(lv);return new Lm(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach(((e,a)=>Lm.resolve(e).then((e=>t(e)),(e=>{o[a]=e,--r||n(new AggregateError(o))}))))}))})));const tv={awaits:0,echoes:0,id:0};var nv=0,rv=[],ov=0,av=0,iv=0;function sv(e,t,n,r){var o=Bm,a=Object.create(o);a.parent=o,a.ref=0,a.global=!1,a.id=++iv;var i=Mm.env;a.env=xm?{Promise:Lm,PromiseProp:{value:Lm,configurable:!0,writable:!0},all:Lm.all,race:Lm.race,allSettled:Lm.allSettled,any:Lm.any,resolve:Lm.resolve,reject:Lm.reject,nthen:bv(i.nthen,a),gthen:bv(i.gthen,a)}:{},t&&fh(a,t),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=mv(a,e,n,r);return 0===a.ref&&a.finalize(),s}function uv(){return tv.id||(tv.id=++nv),++tv.awaits,tv.echoes+=100,tv.id}function cv(){return!!tv.awaits&&(0==--tv.awaits&&(tv.id=0),tv.echoes=100*tv.awaits,!0)}function lv(e){return tv.echoes&&e&&e.constructor===Em?(uv(),e.then((e=>(cv(),e)),(e=>(cv(),yv(e))))):e}function fv(e){++av,tv.echoes&&0!=--tv.echoes||(tv.echoes=tv.id=0),rv.push(Bm),pv(e,!0)}function dv(){var e=rv[rv.length-1];rv.pop(),pv(e,!1)}function pv(e,t){var n=Bm;if((t?!tv.echoes||ov++&&e===Bm:!ov||--ov&&e===Bm)||vv(t?fv.bind(null,e):dv),e!==Bm&&(Bm=e,n===Mm&&(Mm.env=hv()),xm)){var r=Mm.env.Promise,o=e.env;Dm.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(uh,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function hv(){var e=uh.Promise;return xm?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(uh,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Dm.then,gthen:e.prototype.then}:{}}function mv(e,t,n,r,o){var a=Bm;try{return pv(e,!0),t(n,r,o)}finally{pv(a,!1)}}function vv(e){_m.call(ym,e)}function gv(e,t,n,r){return"function"!=typeof e?e:function(){var o=Bm;n&&uv(),pv(t,!0);try{return e.apply(this,arguments)}finally{pv(o,!1),r&&vv(cv)}}}function bv(e,t){return function(n,r){return e.call(this,gv(n,t),gv(r,t))}}-1===(""+_m).indexOf("[native code]")&&(uv=cv=cm);var yv=Lm.reject;function Dv(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Bm.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===om.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Dv(e,t,n,r)))):yv(o)}return o._promise(t,((e,t)=>sv((()=>(Bm.trans=o,r(e,t,o)))))).then((e=>{if("readwrite"===t)try{o.idbtrans.commit()}catch(e){}return"readonly"===t?e:o._completion.then((()=>e))}))}if(e._state.openComplete)return yv(new im.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return yv(new im.DatabaseClosed);e.open().catch(cm)}return e._state.dbReadyPromise.then((()=>Dv(e,t,n,r)))}const wv=String.fromCharCode(65535),_v="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ev=[],xv="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),kv=xv,Cv=xv,Sv=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Fv(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ov={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Av(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=Bh(t))[e],t)}function Tv(){throw im.Type()}function Pv(e,t){try{const n=jv(e),r=jv(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let a=0;a<o;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(Mv(e),Mv(t));case"Array":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let a=0;a<o;++a){const n=Pv(e[a],t[a]);if(0!==n)return n}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function jv(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=Ih(e);return"ArrayBuffer"===n?"binary":n}function Mv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Bv{_trans(e,t,n){const r=this._tx||Bm.trans,o=this.name;function a(e,n,r){if(!r.schema[o])throw new im.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}const i=Zm();try{return r&&r.db===this.db?r===Bm.trans?r._promise(e,a,n):sv((()=>r._promise(e,a,n)),{trans:r,transless:Bm.transless||Bm}):Dv(this.db,e,[this.name],a)}finally{i&&Xm()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(lh(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=ch(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>{if(e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))){for(let n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort(((e,t)=>e.keyPath.length-t.keyPath.length))[0];if(n&&this.db._maxKey!==wv){const r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((t=>e[t])))}!n&&$h&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function a(e,t){return 0===o.cmp(e,t)}const[i,s]=t.reduce((([t,n],o)=>{const i=r[o],s=e[o];return[t||i,t||!i?Fv(n,i&&i.multi?e=>{const t=Ch(e,o);return lh(t)&&t.some((e=>a(s,e)))}:e=>a(s,Ch(e,o))):n]}),[null,null]);return i?this.where(i.name).equals(e[i.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,lh(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){const{db:t,name:n}=this;this.schema.mappedClass=e,e.prototype instanceof Tv&&(e=class extends e{get db(){return t}table(){return n}});const r=new Set;for(let a=e.prototype;a;a=dh(a))Object.getOwnPropertyNames(a).forEach((e=>r.add(e)));const o=t=>{if(!t)return t;const n=Object.create(e.prototype);for(let o in t)if(!r.has(o))try{n[o]=t[o]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),e}defineClass(){return this.mapToClass((function(e){fh(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=Av(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]}))).then((e=>e.numFailures?Lm.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Sh(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||lh(e))return this.where(":id").equals(e).modify(t);{const n=Ch(e,this.schema.primKey.keyPath);return void 0===n?yv(new im.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=Av(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Lm.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Sh(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Lm.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Ov}))).then((e=>e.numFailures?Lm.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new im.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new im.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let s=a&&n?e.map(Av(a)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new rm(`${this.name}.bulkAdd(): ${e} of ${i} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new im.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new im.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let s=a&&n?e.map(Av(a)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new rm(`${this.name}.bulkPut(): ${e} of ${i} operations failed`,r)}))}))}bulkUpdate(e){const t=this.core,n=e.map((e=>e.key)),r=e.map((e=>e.changes)),o=[];return this._trans("readwrite",(a=>t.getMany({trans:a,keys:n,cache:"clone"}).then((i=>{const s=[],u=[];e.forEach((({key:e,changes:t},n)=>{const r=i[n];if(r){for(const n of Object.keys(t)){const o=t[n];if(n===this.schema.primKey.keyPath){if(0!==Pv(o,e))throw new im.Constraint("Cannot update primary key in bulkUpdate()")}else Sh(r,n,o)}o.push(n),s.push(e),u.push(r)}}));const c=s.length;return t.mutate({trans:a,type:"put",keys:s,values:u,updates:{keys:n,changeSpecs:r}}).then((({numFailures:e,failures:t})=>{if(0===e)return c;for(const n of Object.keys(t)){const e=o[Number(n)];if(null!=e){const r=t[n];delete t[n],t[e]=r}}throw new rm(`${this.name}.bulkUpdate(): ${e} of ${c} operations failed`,t)}))}))))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new rm(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Nv(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,a=new Array(o-1);--o;)a[o-1]=arguments[o];return t[n].subscribe.apply(null,a),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var r=1,o=arguments.length;r<o;++r)a(arguments[r]);return n;function a(e,r,o){if("object"==typeof e)return i(e);r||(r=vm),o||(o=cm);var a={subscribers:[],fire:o,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,o)}};return t[e]=n[e]=a,a}function i(e){ch(e).forEach((function(t){var n=e[t];if(lh(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new im.InvalidArgument("Invalid event config");var r=a(t,lm,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){kh((function(){e.apply(null,t)}))}))}))}}))}}function Rv(e,t){return bh(t).from({prototype:e}),t}function Iv(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Lv(e,t){e.filter=Fv(e.filter,t)}function zv(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Fv(r(),t()):t,e.justLimit=n&&!r}function qv(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new im.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Uv(e,t,n){const r=qv(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Vv(e,t,n,r){const o=e.replayFilter?Fv(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},i=(e,n,r)=>{if(!o||o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var i=n.primaryKey,s=""+i;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(i)),hh(a,s)||(a[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(i,n),Hv(Uv(e,r,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return Hv(Uv(e,r,n),Fv(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Hv(e,t,n,r){var o=ev(r?(e,t,o)=>n(r(e),t,o):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=cm}),(t=>{e.fail(t),n=cm}))||o(e.value,e,(e=>n=e)),n()}))}))}class $v{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,yv.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,yv.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Fv(t.algorithm,e)}_iterate(e,t){return Vv(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&fh(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Vv(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Iv(t,!0))return n.count({trans:e,query:{index:qv(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Vv(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],o=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var i="next"===this._ctx.dir?1:-1;function s(e,t){var n=a(e,o),r=a(t,o);return n<r?-i:n>r?i:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Iv(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=qv(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Vv(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Iv(t)?zv(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):zv(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),zv(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Lv(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Lv(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Fv(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Iv(t,!0)&&t.limit>0)return this._read((e=>{var n=qv(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Lv(this._ctx,(function(e){var t=e.primaryKey.toString(),r=hh(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var o=ch(e),a=o.length;r=function(t){for(var n=!1,r=0;r<a;++r){var i=o[r],s=e[i];Ch(t,i)!==s&&(Sh(t,i,s),n=!0)}return n}}const i=t.table.core,{outbound:s,extractKey:u}=i.schema.primaryKey,c=this.db._options.modifyChunkSize||200,l=[];let f=0;const d=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let o of ch(n))l.push(n[o])};return this.clone().primaryKeys().then((o=>{const a=l=>{const f=Math.min(c,o.length-l);return i.getMany({trans:n,keys:o.slice(l,l+f),cache:"immutable"}).then((d=>{const h=[],m=[],v=s?[]:null,g=[];for(let e=0;e<f;++e){const t=d[e],n={value:Bh(t),primKey:o[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?g.push(o[l+e]):s||0===Pv(u(t),u(n.value))?(m.push(n.value),s&&v.push(o[l+e])):(g.push(o[l+e]),h.push(n.value)))}const b=Iv(t)&&t.limit===1/0&&("function"!=typeof e||e===Wv)&&{index:t.index,range:t.range};return Promise.resolve(h.length>0&&i.mutate({trans:n,type:"add",values:h}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(h.length,e)}))).then((()=>(m.length>0||b&&"object"==typeof e)&&i.mutate({trans:n,type:"put",keys:v,values:m,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(g.length>0||b&&e===Wv)&&i.mutate({trans:n,type:"delete",keys:g,criteria:b}).then((e=>p(g.length,e))))).then((()=>o.length>l+f&&a(l+c)))}))};return a(0).then((()=>{if(l.length>0)throw new nm("Error modifying one or more objects",l,f,d);return o.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Iv(e)&&(e.isPrimKey&&!Cv||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((({failures:e,lastResult:n,results:r,numFailures:o})=>{if(o)throw new nm("Could not delete some values",Object.keys(e).map((t=>e[t])),t-o);return t-o}))))})):this.modify(Wv)}}const Wv=(e,t)=>t.value=null;function Kv(e,t){return e<t?-1:e===t?0:1}function Gv(e,t){return e>t?-1:e===t?0:1}function Yv(e,t,n){var r=e instanceof tg?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Zv(e){return new e.Collection(e,(()=>eg(""))).limit(0)}function Xv(e,t,n,r,o,a){for(var i=Math.min(e.length,r.length),s=-1,u=0;u<i;++u){var c=t[u];if(c!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],c)<0&&(s=u)}return i<r.length&&"next"===a?e+n.substr(e.length):i<e.length&&"prev"===a?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Jv(e,t,n,r){var o,a,i,s,u,c,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return Yv(e,"String expected.");function d(e){o=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),a=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),i="next"===e?Kv:Gv;var t=n.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return i(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}d("next");var p=new e.Collection(e,(()=>Qv(s[0],u[f-1]+r)));p._ondirectionchange=function(e){d(e)};var h=0;return p._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var d=a(o);if(t(d,u,h))return!0;for(var p=null,m=h;m<f;++m){var v=Xv(o,d,s[m],u[m],i,c);null===v&&null===p?h=m+1:(null===p||i(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+l)}:r),!1})),p}function Qv(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function eg(e){return{type:1,lower:e,upper:e}}class tg{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Zv(this):new this.Collection(this,(()=>Qv(e,t,!n,!r)))}catch(e){return Yv(this,_v)}}equals(e){return null==e?Yv(this,_v):new this.Collection(this,(()=>eg(e)))}above(e){return null==e?Yv(this,_v):new this.Collection(this,(()=>Qv(e,void 0,!0)))}aboveOrEqual(e){return null==e?Yv(this,_v):new this.Collection(this,(()=>Qv(e,void 0,!1)))}below(e){return null==e?Yv(this,_v):new this.Collection(this,(()=>Qv(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Yv(this,_v):new this.Collection(this,(()=>Qv(void 0,e)))}startsWith(e){return"string"!=typeof e?Yv(this,"String expected."):this.between(e,e+wv,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Jv(this,((e,t)=>0===e.indexOf(t[0])),[e],wv)}equalsIgnoreCase(e){return Jv(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Vh.apply(Uh,arguments);return 0===e.length?Zv(this):Jv(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Vh.apply(Uh,arguments);return 0===e.length?Zv(this):Jv(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,wv)}anyOf(){const e=Vh.apply(Uh,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Yv(this,_v)}if(0===e.length)return Zv(this);const n=new this.Collection(this,(()=>Qv(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,o,a)=>{const i=n.key;for(;t(i,e[r])>0;)if(++r,r===e.length)return o(a),!1;return 0===t(i,e[r])||(o((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Vh.apply(Uh,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Yv(this,_v)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,o=this._descending,a=this._min,i=this._max;if(0===e.length)return Zv(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Yv(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",im.InvalidArgument);const s=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let c,l=r;function f(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,o=e.length;for(;r<o;++r){const o=e[r];if(n(t[0],o[1])<0&&n(t[1],o[0])>0){o[0]=a(o[0],t[0]),o[1]=i(o[1],t[1]);break}}return r===o&&e.push(t),e}),[]),c.sort(f)}catch(e){return Yv(this,_v)}let d=0;const p=u?e=>r(e,c[d][1])>0:e=>r(e,c[d][1])>=0,h=s?e=>o(e,c[d][0])>0:e=>o(e,c[d][0])>=0;let m=p;const v=new this.Collection(this,(()=>Qv(c[0][0],c[c.length-1][1],!s,!u)));return v._ondirectionchange=e=>{"next"===e?(m=p,l=r):(m=h,l=o),c.sort(f)},v._addAlgorithm(((e,t,n)=>{for(var o=e.key;m(o);)if(++d,d===c.length)return t(n),!1;return!!function(e){return!p(e)&&!h(e)}(o)||(0===this._cmp(o,c[d][1])||0===this._cmp(o,c[d][0])||t((()=>{l===r?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),v}startsWithAnyOf(){const e=Vh.apply(Uh,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Zv(this):this.inAnyRange(e.map((e=>[e,e+wv]))):Yv(this,"startsWithAnyOf() only works with strings")}}function ng(e){return ev((function(t){return rg(t),e(t.target.error),!1}))}function rg(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const og=Nv(null,"storagemutated");class ag{_lock(){return xh(!Bm.global),++this._reculock,1!==this._reculock||Bm.global||(Bm.lockOwnerFor=this),this}_unlock(){if(xh(!Bm.global),0==--this._reculock)for(Bm.global||(Bm.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{mv(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Bm.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(xh(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new im.DatabaseClosed(n);case"MissingAPIError":throw new im.MissingAPI(n.message,n);default:throw new im.OpenFailed(n)}if(!this.active)throw new im.TransactionInactive;return xh(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ev((t=>{rg(t),this._reject(e.error)})),e.onabort=ev((t=>{rg(t),this.active&&this._reject(new im.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=ev((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&og.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return yv(new im.ReadOnly("Transaction is readonly"));if(!this.active)return yv(new im.TransactionInactive);if(this._locked())return new Lm(((r,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,o)},Bm])}));if(n)return sv((()=>{var e=new Lm(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Lm(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Lm.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new Lm(((e,r)=>{n.then((n=>t._waitingQueue.push(ev(e.bind(null,n)))),(e=>t._waitingQueue.push(ev(r.bind(null,e))))).finally((()=>{t._waitingFor===o&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new im.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(hh(t,e))return t[e];const n=this.schema[e];if(!n)throw new im.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function ig(e,t,n,r,o,a,i){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:a,src:(n&&!i?"&":"")+(r?"*":"")+(o?"++":"")+sg(t)}}function sg(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function ug(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=n,o=e=>[e.name,e],r.reduce(((e,t,n)=>{var r=o(t);return r&&(e[r[0]]=r[1]),e}),{}))};var r,o}let cg=e=>{try{return e.only([[]]),cg=()=>[[]],[[]]}catch(e){return cg=()=>wv,wv}};function lg(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>Ch(t,e)}(e):t=>Ch(t,e)}function fg(e){return[].slice.call(e)}let dg=0;function pg(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function hg({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},o){const a=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:o,upperOpen:a}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!a)}const{schema:o,hasGetAll:a}=function(e,t){const n=fg(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=lh(t),o=null==t,a={},i={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:lg(t)},indexes:fg(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:o}=e,i={name:t,compound:lh(o),keyPath:o,unique:n,multiEntry:r,extractKey:lg(o)};return a[pg(o)]=i,i})),getIndexByKeyPath:e=>a[pg(e)]};return a[":id"]=i.primaryKey,null!=t&&(a[pg(t)]=i.primaryKey),i}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:o,values:a,range:i}){return new Promise(((s,u)=>{s=ev(s);const c=e.objectStore(t),l=null==c.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=o||a||{length:1};if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const h=[],m=[];let v=0;const g=e=>{++v,rg(e)};if("deleteRange"===n){if(4===i.type)return s({numFailures:v,failures:m,results:[],lastResult:void 0});3===i.type?h.push(p=c.clear()):h.push(p=c.delete(r(i)))}else{const[e,t]=f?l?[a,o]:[a,null]:[o,null];if(f)for(let r=0;r<d;++r)h.push(p=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),p.onerror=g;else for(let r=0;r<d;++r)h.push(p=c[n](e[r])),p.onerror=g}const b=e=>{const t=e.target.result;h.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),s({numFailures:v,failures:m,results:"delete"===n?o:h.map((e=>e.result)),lastResult:t})};p.onerror=e=>{g(e),b(e)},p.onsuccess=b}))},getMany:({trans:e,keys:n})=>new Promise(((r,o)=>{r=ev(r);const a=e.objectStore(t),i=n.length,s=new Array(i);let u,c=0,l=0;const f=e=>{const t=e.target;s[t._pos]=t.result,++l===c&&r(s)},d=ng(o);for(let e=0;e<i;++e)null!=n[e]&&(u=a.get(n[e]),u._pos=e,u.onsuccess=f,u.onerror=d,++c);0===c&&r(s)})),get:({trans:e,key:n})=>new Promise(((r,o)=>{r=ev(r);const a=e.objectStore(t).get(n);a.onsuccess=e=>r(e.target.result),a.onerror=ng(o)})),query:function(e){return n=>new Promise(((o,a)=>{o=ev(o);const{trans:i,values:s,limit:u,query:c}=n,l=u===1/0?void 0:u,{index:f,range:d}=c,p=i.objectStore(t),h=f.isPrimaryKey?p:p.index(f.name),m=r(d);if(0===u)return o({result:[]});if(e){const e=s?h.getAll(m,l):h.getAllKeys(m,l);e.onsuccess=e=>o({result:e.target.result}),e.onerror=ng(a)}else{let e=0;const t=s||!("openKeyCursor"in h)?h.openCursor(m):h.openKeyCursor(m),n=[];t.onsuccess=r=>{const a=t.result;return a?(n.push(s?a.value:a.primaryKey),++e===u?o({result:n}):void a.continue()):o({result:n})},t.onerror=ng(a)}}))}(a),openCursor:function({trans:e,values:n,query:o,reverse:a,unique:i}){return new Promise(((s,u)=>{s=ev(s);const{index:c,range:l}=o,f=e.objectStore(t),d=c.isPrimaryKey?f:f.index(c.name),p=a?i?"prevunique":"prev":i?"nextunique":"next",h=n||!("openKeyCursor"in d)?d.openCursor(r(l),p):d.openKeyCursor(r(l),p);h.onerror=ng(u),h.onsuccess=ev((t=>{const n=h.result;if(!n)return void s(null);n.___id=++dg,n.done=!1;const r=n.continue.bind(n);let o=n.continuePrimaryKey;o&&(o=o.bind(n));const a=n.advance.bind(n),i=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=ev(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=ev(e),h.onerror=ng(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=i,e(t)}})),s=()=>{if(h.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return h.onsuccess=ev((e=>{h.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=o,n.advance=a,s(),t},s(n)}),u)}))},count({query:e,trans:n}){const{index:o,range:a}=e;return new Promise(((e,i)=>{const s=n.objectStore(t),u=o.isPrimaryKey?s:s.index(o.name),c=r(a),l=c?u.count(c):u.count();l.onsuccess=ev((t=>e(t.target.result))),l.onerror=ng(i)}))}}}(e))),s={};return i.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:cg(t),schema:o}}(t,n,o),e.dbcore);return{dbcore:a}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function mg({_novip:e},t,n,r){n.forEach((n=>{const o=r[n];t.forEach((t=>{const r=Dh(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?gh(t,n,{get(){return this.table(n)},set(e){vh(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function vg({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function gg(e,t){return e._cfg.version-t._cfg.version}function bg(e,t,n,r){const o=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);const i=a._reject.bind(a),s=Bm.transless||Bm;sv((()=>{Bm.trans=a,Bm.transless=s,0===t?(ch(o).forEach((e=>{Dg(n,e,o[e].primKey,o[e].indexes)})),hg(e,n),Lm.follow((()=>e.on.populate.fire(a))).catch(i)):function({_novip:e},t,n,r){const o=[],a=e._versions;let i=e._dbSchema=_g(e,e.idbdb,r),s=!1;return a.filter((e=>e._cfg.version>=t)).forEach((a=>{o.push((()=>{const o=i,u=a._cfg.dbschema;Eg(e,o,r),Eg(e,u,r),i=e._dbSchema=u;const c=yg(o,u);c.add.forEach((e=>{Dg(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new im.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>wg(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),wg(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=a._cfg.contentUpgrade;if(l&&a._cfg.version>t){hg(e,r),n._memoizedTables={},s=!0;let t=Fh(u);c.del.forEach((e=>{t[e]=o[e]})),vg(e,[e.Transaction.prototype]),mg(e,[e.Transaction.prototype],ch(t),t),n.schema=t;const a=Hh(l);let i;a&&uv();const f=Lm.follow((()=>{if(i=l(n),i&&a){var e=cv.bind(null,null);i.then(e,e)}}));return i&&"function"==typeof i.then?Lm.resolve(i):f.then((()=>i))}})),o.push((t=>{s&&kv||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(a._cfg.dbschema,t),vg(e,[e.Transaction.prototype]),mg(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?Lm.resolve(o.shift()(n.idbtrans)).then(e):Lm.resolve()}().then((()=>{var e,t;t=r,ch(e=i).forEach((n=>{t.db.objectStoreNames.contains(n)||Dg(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(i)}))}function yg(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],a=t[r];if(o){const e={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||o.primKey.auto!==a.primKey.auto&&!xv)e.recreate=!0,n.change.push(e);else{const t=o.idxByName,r=a.idxByName;let i;for(i in t)r[i]||e.del.push(i);for(i in r){const n=t[i],o=r[i];n?n.src!==o.src&&e.change.push(o):e.add.push(o)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,a])}return n}function Dg(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>wg(o,e))),o}function wg(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function _g(e,t,n){const r={};return _h(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let o=t.keyPath;const a=ig(sg(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),i=[];for(let n=0;n<t.indexNames.length;++n){const e=t.index(t.indexNames[n]);o=e.keyPath;var s=ig(e.name,o,!!e.unique,!!e.multiEntry,!1,o&&"string"!=typeof o,!1);i.push(s)}r[e]=ug(e,a,i)})),r}function Eg({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const a=r[o],i=n.objectStore(a);e._hasGetAll="getAll"in i;for(let e=0;e<i.indexNames.length;++e){const n=i.indexNames[e],r=i.index(n).keyPath,o="string"==typeof r?r:"["+_h(r).join("+")+"]";if(t[a]){const e=t[a].idxByName[o];e&&(e.name=n,delete t[a].idxByName[o],t[a].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&uh.WorkerGlobalScope&&uh instanceof uh.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class xg{_parseStoresSpec(e,t){ch(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return ig(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),lh(r),0===t)})),o=r.shift();if(o.multi)throw new im.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new im.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new im.Schema("Index must have a name and cannot be an empty string")})),t[n]=ug(n,o,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?fh(this._cfg.storesSource,e):e;const n=t._versions,r={};let o={};return n.forEach((e=>{fh(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,vg(t,[t._allTables,t,t.Transaction.prototype]),mg(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],ch(o),o),t._storeNames=ch(o),this}upgrade(e){return this._cfg.contentUpgrade=gm(this._cfg.contentUpgrade||cm,e),this}}function kg(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ub("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Cg(e){return e&&"function"==typeof e.databases}function Sg(e){return sv((function(){return Bm.letThrough=!0,e()}))}function Fg(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Og(e){var t=t=>e.next(t),n=o(t),r=o((t=>e.throw(t)));function o(e){return t=>{var o=e(t),a=o.value;return o.done?a:a&&"function"==typeof a.then?a.then(n,r):lh(a)?Promise.all(a).then(n,r):n(a)}}return o(t)()}function Ag(e,t,n){var r=arguments.length;if(r<2)throw new im.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var a=Ah(o);return[e,a,n]}function Tg(e,t,n,r,o){return Lm.resolve().then((()=>{const a=Bm.transless||Bm,i=e._createTransaction(t,n,e._dbSchema,r);i.explicit=!0;const s={trans:i,transless:a};if(r)i.idbtrans=r.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===om.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Tg(e,t,n,null,o)))):yv(r)}const u=Hh(o);let c;u&&uv();const l=Lm.follow((()=>{if(c=o.call(i,i),c)if(u){var e=cv.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Og(c))}),s);return(c&&"function"==typeof c.then?Lm.resolve(c).then((e=>i.active?e:yv(new im.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&i._resolve(),i._completion.then((()=>e))))).catch((e=>(i._reject(e),yv(e))))}))}function Pg(e,t,n){const r=lh(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const jg={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},a=[];function i(e,t,n){const r=pg(e),s=o[r]=o[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,name:c?`${r}(virtual-from:${n.name})`:n.name,lowLevelIndex:n,isVirtual:c,keyTail:t,keyLength:u,extractKey:lg(e),unique:!c&&n.unique};return s.push(l),l.isPrimaryKey||a.push(l),u>1&&i(2===u?e[0]:e.slice(0,u-1),t+1,n),s.sort(((e,t)=>e.keyTail-t.keyTail)),l}const s=i(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const e of r.indexes)i(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n.lowLevelIndex,range:(r=t.query.range,o=n.keyTail,{type:1===r.type?2:r.type,lower:Pg(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:Pg(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}:t;var r,o}const c={...n,schema:{...r,primaryKey:s,indexes:a,getIndexByKeyPath:function(e){const t=o[pg(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:o,keyLength:a}=t.query.index;return o?n.openCursor(u(t)).then((n=>n&&function(n){const o=Object.create(n,{continue:{value:function(o){null!=o?n.continue(Pg(o,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,o){n.continuePrimaryKey(Pg(t,e.MAX_KEY,r),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:()=>n.value}});return o}(n))):n.openCursor(t)}};return c}}}};function Mg(e,t,n,r){return n=n||{},r=r||"",ch(e).forEach((o=>{if(hh(t,o)){var a=e[o],i=t[o];if("object"==typeof a&&"object"==typeof i&&a&&i){const e=Ih(a);e!==Ih(i)?n[r+o]=t[o]:"Object"===e?Mg(a,i,n,r+o+"."):a!==i&&(n[r+o]=t[o])}else a!==i&&(n[r+o]=t[o])}else n[r+o]=void 0})),ch(t).forEach((o=>{hh(e,o)||(n[r+o]=t[o])})),n}function Bg(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}const Ng={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,o={...n,mutate(e){const o=Bm.trans,{deleting:a,creating:i,updating:s}=o.table(t).hook;switch(e.type){case"add":if(i.fire===cm)break;return o._promise("readwrite",(()=>u(e)),!0);case"put":if(i.fire===cm&&s.fire===cm)break;return o._promise("readwrite",(()=>u(e)),!0);case"delete":if(a.fire===cm)break;return o._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(a.fire===cm)break;return o._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=Bm.trans,o=e.keys||Bg(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((u=>{const c=o.map(((n,o)=>{const c=u[o],l={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){const a=i.fire.call(l,n,e.values[o],t);null==n&&null!=a&&(n=a,e.keys[o]=n,r.outbound||Sh(e.values[o],r.keyPath,n))}else{const r=Mg(c,e.values[o]),a=s.fire.call(l,r,n,c,t);if(a){const t=e.values[o];Object.keys(a).forEach((e=>{hh(t,e)?t[e]=a[e]:Sh(t,e,a[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:a})=>{for(let i=0;i<o.length;++i){const r=n?n[i]:o[i],a=c[i];null==r?a.onerror&&a.onerror(t[i]):a.onsuccess&&a.onsuccess("put"===e.type&&u[i]?e.values[i]:r)}return{failures:t,results:n,numFailures:r,lastResult:a}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},o)))))}}};return o}})};function Rg(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let o=0,a=0;o<t.keys.length&&a<e.length;++o)0===Pv(t.keys[o],e[a])&&(r.push(n?Bh(t.values[o]):t.values[o]),++a);return r.length===e.length?r:null}catch(e){return null}}const Ig={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Rg(e.keys,e.trans._cache,"clone"===e.cache);return t?Lm.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?Bh(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Lg(e){return!("from"in e)}const zg=function(e,t){if(!this){const t=new zg;return e&&"d"in e&&fh(t,e),t}fh(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function qg(e,t,n){const r=Pv(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Lg(e))return fh(e,{from:t,to:n,d:1});const o=e.l,a=e.r;if(Pv(n,e.from)<0)return o?qg(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},$g(e);if(Pv(t,e.to)>0)return a?qg(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},$g(e);Pv(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),Pv(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const i=!e.r;o&&!e.l&&Ug(e,o),a&&i&&Ug(e,a)}function Ug(e,t){Lg(t)||function e(t,{from:n,to:r,l:o,r:a}){qg(t,n,r),o&&e(t,o),a&&e(t,a)}(e,t)}function Vg(e,t){const n=Hg(t);let r=n.next();if(r.done)return!1;let o=r.value;const a=Hg(e);let i=a.next(o.from),s=i.value;for(;!r.done&&!i.done;){if(Pv(s.from,o.to)<=0&&Pv(s.to,o.from)>=0)return!0;Pv(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(i=a.next(o.from)).value}return!1}function Hg(e){let t=Lg(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Pv(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Pv(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function $g(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const t="r"===o?"l":"r",n={...e},r=e[o];e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],e[t]=n,n.d=Wg(n)}e.d=Wg(e)}function Wg({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}function Kg(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Gg(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}function Yg(e,t){return ch(t).forEach((n=>{e[n]?Ug(e[n],t[n]):e[n]=jh(t[n])})),e}mh(zg.prototype,{add(e){return Ug(this,e),this},addKey(e){return qg(this,e,e),this},addKeys(e){return e.forEach((e=>qg(this,e,e))),this},[Lh](){return Hg(this)}});const Zg={stack:"dbcore",level:10,name:"Observability",create:e=>{const t=e.schema.name,n=new zg(e.MIN_KEY,e.MAX_KEY);return{...e,transaction:(t,n,r)=>{if(!Bm.subscr)return e.transaction(t,n,r);if("readonly"!==n)throw new im.ReadOnly("write transaction not allowed within liveQueries");return e.transaction(t,n,r)},table:r=>{const o=e.table(r),{schema:a}=o,{primaryKey:i}=a,{extractKey:s,outbound:u}=i,c={...o,mutate:e=>{const s=e.trans,u=e.mutatedParts||(e.mutatedParts={}),c=e=>{const n=`idb://${t}/${r}/${e}`;return u[n]||(u[n]=new zg)},l=c(""),f=c(":dels"),{type:d}=e;let[p,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[Bg(i,e).filter((e=>e)),e.values]:[];const m=e.trans._cache;if(lh(p)){l.addKeys(p);const e="delete"===d||p.length===h.length?Rg(p,m):null;e||"add"===d||f.addKeys(p),(e||h)&&function(e,t,n,r){t.indexes.forEach((function(t){const o=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}const i=e=>t.multiEntry&&lh(e)?e.forEach((e=>o.addKey(e))):o.addKey(e);(n||r).forEach(((e,t)=>{const o=n&&a(n[t]),s=r&&a(r[t]);0!==Pv(o,s)&&(null!=o&&i(o),null!=s&&i(s))}))}))}(c,a,e,h)}else if(p){const e={from:p.lower,to:p.upper};f.add(e),l.add(e)}else l.add(n),f.add(n),a.indexes.forEach((e=>c(e.name).add(n)));return o.mutate(e).then((t=>(!p||"add"!==e.type&&"put"!==e.type||l.addKeys(t.results),s.mutatedParts=Yg(s.mutatedParts||{},u),t)))}},l=({query:{index:t,range:n}})=>{var r,o;return[t,new zg(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(o=n.upper)&&void 0!==o?o:e.MAX_KEY)]},f={get:e=>[i,new zg(e.key)],getMany:e=>[i,(new zg).addKeys(e.keys)],count:l,query:l,openCursor:l};return ch(f).forEach((e=>{c[e]=function(a){const{subscr:i}=Bm,c=!!i;let l=Kg(Bm,o)&&Gg(e,a);const d=l?a.obsSet={}:i;if(c){const i=e=>{const n=`idb://${t}/${r}/${e}`;return d[n]||(d[n]=new zg)},c=i(""),l=i(":dels"),[p,h]=f[e](a);if(i(p.name||"").add(h),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&u&&a.values&&o.query({...a,values:!1});return o[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&a.values)return t.then((({result:e})=>(c.addKeys(e),n)));const e=a.values?n.result.map(s):n.result;a.values?c.addKeys(e):l.addKeys(e)}else if("openCursor"===e){const e=n,t=a.values;return e&&Object.create(e,{key:{get:()=>(l.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return l.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return n}))}l.add(n)}}return o[e].apply(this,arguments)}})),c}}}};function Xg(e,t){return function(e,t){return void 0===t.lower||(t.lowerOpen?Pv(e,t.lower)>0:Pv(e,t.lower)>=0)}(e,t)&&function(e,t){return void 0===t.upper||(t.upperOpen?Pv(e,t.upper)<0:Pv(e,t.upper)<=0)}(e,t)}function Jg(e,t,n,r,o,a){if(!n||0===n.length)return e;const i=t.query.index,s=r.schema.primaryKey.extractKey,u=i.extractKey,c=(i.lowLevelIndex||i).extractKey;let l=n.reduce(((e,n)=>{let r=e;const o="add"===n.type||"put"===n.type?n.values.filter((e=>Xg(u(e),t.query.range))).map((e=>(e=Bh(e),a&&Object.freeze(e),e))):[];switch(n.type){case"add":r=e.concat(t.values?o:o.map((e=>s(e))));break;case"put":const a=(new zg).addKeys(n.values.map((e=>s(e))));r=e.filter((e=>{const n=t.values?s(e):e;return!Vg(new zg(n),a)})).concat(t.values?o:o.map((e=>s(e))));break;case"delete":const i=(new zg).addKeys(n.keys);r=e.filter((e=>{const n=t.values?s(e):e;return!Vg(new zg(n),i)}));break;case"deleteRange":const u=n.range;r=e.filter((e=>!Xg(s(e),u)))}return r}),e);return l===e?e:(l.sort(((e,t)=>Pv(c(e),c(t))||Pv(s(e),s(t)))),t.limit&&t.limit<1/0&&(l.length>t.limit?l.length=t.limit:e.length===t.limit&&l.length<t.limit&&(o.dirty=!0)),a?Object.freeze(l):l)}const Qg={};function eb(e,t){return 0===Pv(e.lower,t.lower)&&0===Pv(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function tb(e,t){return Object.keys(e).some((n=>t[n]&&Vg(t[n],e[n])))}let nb={},rb=!1;function ob(e){Yg(nb,e),rb||(rb=!0,queueMicrotask((()=>{rb=!1;const e=nb;nb={},ab(e)})))}function ab(e,t=!1){const n=new Set;for(const r in e){const o=/^idb\:\/\/(.*)\/(.*)\//.exec(r);if(o){const[,r,a]=o,i=Qg[`idb://${r}/${a}`];i&&ib(i,e,n,t)}}n.forEach((e=>e()))}function ib(e,t,n,r){const o=r&&[];for(const[a,i]of Object.entries(e.queries.query)){const e=r&&[];for(const o of i)o.obsSet&&tb(t,o.obsSet)?o.subscribers.forEach((e=>n.add(e))):r&&e.push(o);r&&o.push([a,e])}if(r)for(const[a,i]of o)e.queries.query[a]=i}const sb={stack:"dbcore",level:10,name:"Cache",create:e=>{const t=e.schema.name,n={...e,transaction:(n,r,o)=>{const a=e.transaction(n,r,o);if("readwrite"===r){const o=new AbortController,{signal:i}=o,s=i=>()=>{if(o.abort(),"readwrite"===r){const r=new Set;for(const o of n){const n=Qg[`idb://${t}/${o}`],s=e.table(o);if(n){const e=n.optimisticOps.filter((e=>e.trans===a));if(e.length>0){n.optimisticOps=n.optimisticOps.filter((e=>e.trans!==a));for(const t of Object.values(n.queries.query))for(const n of t.slice())if(null!=n.res&&a.mutatedParts)if(i&&!n.dirty){const o=Object.isFrozen(n.res),a=Jg(n.res,n.req,e,s,n,o);n.dirty?(qh(t,n),n.subscribers.forEach((e=>r.add(e)))):a!==n.res&&(n.res=a,n.promise=Lm.resolve({result:a}))}else n.dirty&&qh(t,n),n.subscribers.forEach((e=>r.add(e)))}}}r.forEach((e=>e()))}};a.addEventListener("abort",s(!1),{signal:i}),a.addEventListener("error",s(!1),{signal:i}),a.addEventListener("complete",s(!0),{signal:i})}return a},table(n){const r=e.table(n),o=r.schema.primaryKey,a={...r,mutate(e){if(o.outbound||"disabled"===Bm.trans.db._options.cache)return r.mutate(e);const a=Qg[`idb://${t}/${n}`];if(!a)return r.mutate(e);const i=r.mutate(e);return"add"!==e.type&&"put"!==e.type||!(e.values.length>=50||Bg(o,e).some((e=>null==e)))?(a.optimisticOps.push(e),ob(e.mutatedParts),i.catch((()=>{qh(a.optimisticOps,e),ob(e.mutatedParts)}))):i.then((t=>{const n={...e,values:e.values.map(((e,n)=>{const r=o.keyPath.includes(".")?Bh(e):{...e};return Sh(r,o.keyPath,t.results[n]),r}))};a.optimisticOps.push(n),queueMicrotask((()=>ob(e.mutatedParts)))})),i},query(e){if(!Kg(Bm,r)||!Gg("query",e))return r.query(e);const o="immutable"===Bm.trans.db._options.cache,{requery:a,signal:i}=Bm;let[s,u,c,l]=function(e,t,n,r){const o=Qg[`idb://${e}/${t}`];if(!o)return[];const a=o.queries[n];if(!a)return[null,!1,o,null];const i=a[(r.query?r.query.index.name:null)||""];if(!i)return[null,!1,o,null];{const e=i.find((e=>e.req.limit===r.limit&&e.req.values===r.values&&eb(e.req.query.range,r.query.range)));return e?[e,!0,o,i]:[i.find((e=>("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&function(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;const o=Pv(e,t);if(0===o){if(n&&r)return 0;if(n)return 1;if(r)return-1}return o}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;const o=Pv(e,t);if(0===o){if(n&&r)return 0;if(n)return-1;if(r)return 1}return o}(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}(e.req.query.range,r.query.range))),!1,o,i]}}(t,n,"query",e);if(s&&u)s.obsSet=e.obsSet;else{const a=r.query(e).then((e=>{const t=e.result;if(s.res=t,o){for(let e=0,n=t.length;e<n;++e)Object.freeze(t[e]);Object.freeze(t)}else e.result=Bh(t);return e})).catch((e=>(l&&s&&qh(l,s),Promise.reject(e))));s={obsSet:e.obsSet,promise:a,subscribers:new Set,type:"query",req:e,dirty:!1},l?l.push(s):(l=[s],c||(c=Qg[`idb://${t}/${n}`]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),c.queries.query[e.query.index.name||""]=l)}return function(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",(()=>{e.subscribers.delete(n),0===e.subscribers.size&&function(e,t){setTimeout((()=>{0===e.subscribers.size&&qh(t,e)}),3e3)}(e,t)}))}(s,l,a,i),s.promise.then((t=>({result:Jg(t.result,e,null==c?void 0:c.optimisticOps,r,s,o)})))}};return a}};return n}};class ub{constructor(e,t){this._middlewares={},this.verno=0;const n=ub.dependencies;this._options=t={addons:ub.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,cache:"cloned",...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:cm,dbReadyPromise:null,cancelOpen:cm,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new Lm((e=>{o.dbReadyResolve=e})),o.openCanceller=new Lm(((e,t)=>{o.cancelOpen=t})),this._state=o,this.name=e,this.on=Nv(this,"populate","blocked","versionchange","close",{ready:[gm,cm]}),this.on.ready.subscribe=Eh(this.on.ready.subscribe,(e=>(t,n)=>{ub.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Lm.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(a=this,Rv($v.prototype,(function(e,t){this.db=a;let n=Ov,r=null;if(t)try{n=t()}catch(e){r=e}const o=e._ctx,i=o.table,s=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:s!==lm?s:null}}))),this.Table=function(e){return Rv(Bv.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Nv(null,{creating:[pm,cm],reading:[fm,lm],updating:[mm,cm],deleting:[hm,cm]})}))}(this),this.Transaction=function(e){return Rv(ag.prototype,(function(t,n,r,o,a){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Nv(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Lm(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),yv(e)}))}))}(this),this.Version=function(e){return Rv(xg.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Rv(tg.prototype,(function(t,n,r){if(this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r},this._cmp=this._ascending=Pv,this._descending=(e,t)=>Pv(t,e),this._max=(e,t)=>Pv(e,t)>0?e:t,this._min=(e,t)=>Pv(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new im.MissingAPI}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=cg(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),Ev.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Ig),this.use(jg),this.use(Ng),this.use(sb),this.use(Zg),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new im.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new im.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(gg),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Bm.letThrough||this._vip)?e():new Lm(((e,t)=>{if(this._state.openComplete)return t(new im.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new im.DatabaseClosed);this.open().catch(cm)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:null==n?10:n,name:r}),o.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return mv(Mm,(()=>function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?yv(t.dbOpenError):e));$h&&(t.openCanceller._stackHolder=Yh()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new im.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,i=null,s=!1;return Lm.race([r,("undefined"==typeof navigator?Lm.resolve():Fg()).then((()=>new Lm(((r,a)=>{if(o(),!n)throw new im.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new im.MissingAPI;c.onerror=ng(a),c.onblocked=ev(e._fireOnBlocked),c.onupgradeneeded=ev((r=>{if(i=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=rg,i.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=ev((()=>{a(new im.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else{i.onerror=ng(a);var o=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=o<1,e._novip.idbdb=c.result,bg(e,o/10,i,a)}}),a),c.onsuccess=ev((()=>{i=null;const n=e._novip.idbdb=c.result,o=_h(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(a=o).length?a[0]:a,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=_g(0,t,n);e._storeNames=_h(t.objectStoreNames,0),mg(e,[e._allTables],ch(r),r)}(e,n,r):(Eg(e,e._dbSchema,r),function(e,t){const n=yg(_g(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),hg(e,r)}catch(e){}var a;Ev.push(e),n.onversionchange=ev((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=ev((t=>{e.on("close").fire(t)})),s&&function({indexedDB:e,IDBKeyRange:t},n){!Cg(e)&&"__dbnames"!==n&&kg(e,t).put({name:n}).catch(cm)}(e._deps,u),r()}),a)}))))]).then((()=>(o(),t.onReadyBeingFired=[],Lm.resolve(Sg((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(gm,cm);return t.onReadyBeingFired=[],Lm.resolve(Sg((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{i&&i.abort()}catch(e){}return r===t.openCanceller&&e._close(),yv(n)})).finally((()=>{t.openComplete=!0,a()}))}(this)))}_close(){const e=this._state,t=Ev.indexOf(this);if(t>=0&&Ev.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Lm((t=>{e.dbReadyResolve=t})),e.openCanceller=new Lm(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new im.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Lm(((n,r)=>{const o=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=ev((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Cg(e)&&"__dbnames"!==n&&kg(e,t).delete(n).catch(cm)}(this._deps,this.name),n()})),e.onerror=ng(r),e.onblocked=this._fireOnBlocked};if(e)throw new im.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ch(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Ag.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Bm.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const o=-1!==e.indexOf("?");let a,i;e=e.replace("!","").replace("?","");try{if(i=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)a="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new im.InvalidArgument("Invalid transaction mode: "+e);a="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===a){if(!o)throw new im.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new im.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):yv(e)}const s=Tg.bind(null,this,a,i,r,n);return r?r._promise(a,s,"lock"):Bm.trans?mv(Bm.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!hh(this._allTables,e))throw new im.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const cb="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class lb{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[cb](){return this}}let fb;try{fb={indexedDB:uh.indexedDB||uh.mozIndexedDB||uh.webkitIndexedDB||uh.msIndexedDB,IDBKeyRange:uh.IDBKeyRange||uh.webkitIDBKeyRange}}catch(O9){fb={indexedDB:null,IDBKeyRange:null}}const db=ub;function pb(e){let t=hb;try{hb=!0,og.storagemutated.fire(e),ab(e,!0)}finally{hb=t}}mh(db,{...um,delete:e=>new db(e,{addons:[]}).delete(),exists:e=>new db(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Cg(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):kg(e,t).toCollection().primaryKeys()}(db.dependencies).then(e)}catch(e){return yv(new im.MissingAPI)}},defineClass:()=>function(e){fh(this,e)},ignoreTransaction:e=>Bm.trans?mv(Bm.transless,e):e(),vip:Sg,async:function(e){return function(){try{var t=Og(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Lm.resolve(t)}catch(e){return yv(e)}}},spawn:function(e,t,n){try{var r=Og(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Lm.resolve(r)}catch(e){return yv(e)}},currentTransaction:{get:()=>Bm.trans||null},waitFor:function(e,t){const n=Lm.resolve("function"==typeof e?db.ignoreTransaction(e):e).timeout(t||6e4);return Bm.trans?Bm.trans.waitFor(n):n},Promise:Lm,debug:{get:()=>$h,set:e=>{Wh(e,"dexie"===e?()=>!0:Sv)}},derive:bh,extend:fh,props:mh,override:Eh,Events:Nv,on:og,liveQuery:function(e){let t,n=!1;const r=new lb((r=>{const o=Hh(e);let a,i=!1,s={},u={};const c={get closed(){return i},unsubscribe:()=>{i||(i=!0,a&&a.abort(),l&&og.storagemutated.unsubscribe(f))}};r.start&&r.start(c);let l=!1;const f=e=>{Yg(s,e),tb(u,s)&&d()},d=()=>{if(i||!fb.indexedDB)return;s={};const c={};a&&a.abort(),a=new AbortController;const p={subscr:c,signal:a.signal,requery:d,trans:null},h=function(t){o&&uv();const n=sv(e,t);return o&&n.finally(cv),n}(p);Promise.resolve(h).then((e=>{n=!0,t=e,i||p.signal.aborted||(s={},u=c,function(e){for(const t in e)if(hh(e,t))return!1;return!0}(u)||l||(og("storagemutated",f),l=!0),r.next&&r.next(e))}),(e=>{if(n=!1,!["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)){if(i)return;r.error&&r.error(e)}}))};return d(),c}));return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:Yg,getByKeyPath:Ch,setByKeyPath:Sh,delByKeyPath:function(e,t){"string"==typeof t?Sh(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Sh(e,t,void 0)}))},shallowClone:Fh,deepClone:Bh,getObjectDiff:Mg,cmp:Pv,asap:kh,minKey:-1/0,addons:[],connections:Ev,errnames:om,dependencies:fb,cache:Qg,semVer:"4.0.1-alpha.21+test1",version:"4.0.1-alpha.21+test1".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),db.maxKey=cg(db.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(og("storagemutated",(e=>{if(!hb){let t;xv?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),hb=!0,dispatchEvent(t),hb=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{hb||pb(e)})));let hb=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");"function"==typeof e.unref&&e.unref(),og("storagemutated",(t=>{hb||e.postMessage(t)})),e.onmessage=e=>{e.data&&pb(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){og("storagemutated",(e=>{try{hb||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&pb(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&pb(e.changedParts)}))}Lm.rejectionMapper=function(e,t){if(!e||e instanceof em||e instanceof TypeError||e instanceof SyntaxError||!e.name||!sm[e.name])return e;var n=new sm[e.name](t||e.message,e);return"stack"in e&&gh(n,"stack",{get:function(){return this.inner.stack}}),n},Wh($h,Sv);var mb=Array.isArray,vb=Object.getPrototypeOf,gb=Object.prototype,bb=Object.keys;function yb(e){if(1===e.length){var t=e[0];if(mb(t))return{args:t,keys:null};if((r=t)&&"object"===(0,c.Z)(r)&&vb(r)===gb){var n=bb(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}var Db=Array.isArray;function wb(e){return Di((function(t){return function(e,t){return Db(t)?e.apply(void 0,$a([],Ha(t))):e(t)}(e,t)}))}function _b(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function Eb(e,t,n){return void 0===n&&(n=ki),function(r){xb(t,(function(){for(var o=e.length,a=new Array(o),i=o,s=o,u=function(o){xb(t,(function(){var u=Zi(e[o],t),c=!1;u.subscribe(bi(r,(function(e){a[o]=e,c||(c=!0,s--),s||r.next(n(a.slice()))}),(function(){--i||r.complete()})))}),r)},c=0;c<o;c++)u(c)}),r)}}function xb(e,t,n){e?Ii(n,e,t):t()}var kb=new WeakMap;function Cb(e){return hu(kb,e,(function(){return new ku([])}))}var Sb=200,Fb=function(){function e(e,t){this._migrated=!1,this.nonMigratedOldCollections=[],this.allOldCollections=[],this.newestCollection=e,this.migrationStrategies=t,this.currentSchema=e.schema,this.database=e.database,this.name=e.name}var t=e.prototype;return t.migrate=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sb,n=this;if(this._migrated)throw Aa("DM1");this._migrated=!0;var r={done:!1,total:0,handled:0,success:0,deleted:0,percent:0},o=new ns,a=Cb(this.newestCollection.database),i=a.getValue().slice(0);return i.push(o.asObservable()),a.next(i),Pb(e).then((function(t){e.nonMigratedOldCollections=t,e.allOldCollections=e.nonMigratedOldCollections.slice(0);var n=e.database.storage;function r(){return(r=ca(fa().mark((function e(t,r){var o,a;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.statics.prepareQuery(t.schema,jf(r,{})),e.next=3,t.count(o);case 3:return a=e.sent,e.abrupt("return",a.count);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=Promise.all(e.nonMigratedOldCollections.map((function(e){return function(e,t){return r.apply(this,arguments)}(e.storageInstance,e.schema.jsonSchema)})));return o})).then((function(a){var i=a.reduce((function(e,t){return e+t}),0);r.total=i,o.next({collection:e.newestCollection,state:ra(r)});for(var s=e.nonMigratedOldCollections.shift(),u=_s,c=function(){var e=Ub(s,t);u=u.then((function(){return new Promise((function(t){var a=e.subscribe({next:function(e){r.handled++,r[e.type]=r[e.type]+1,r.percent=Math.round(r.handled/r.total*100),o.next({collection:n.newestCollection,state:ra(r)})},error:function(e){a.unsubscribe(),n.allOldCollections.forEach((function(e){return e.storageInstance.close().catch((function(){}))})),o.error(e)},complete:function(){s&&s.storageInstance.close().catch((function(){})),a.unsubscribe(),t()}})}))})),s=n.nonMigratedOldCollections.shift()};s;)c();return u})).then((function(){r.done=!0,r.percent=100,o.next({collection:e.newestCollection,state:ra(r)}),o.complete()})),o.pipe(Di((function(e){return e.state})))},t.migratePromise=function(e){var t=this;return this._migratePromise||(this._migratePromise=Mb(this).then((function(n){return n?new Promise((function(n,r){t.migrate(e).subscribe(null,r,n),t.allOldCollections.forEach((function(e){return e.storageInstance.close().catch((function(){}))}))})).catch((function(e){throw t.allOldCollections.forEach((function(e){return e.storageInstance.close().catch((function(){}))})),e})):Ds}))),this._migratePromise},e}();function Ob(e,t,n){return Ab.apply(this,arguments)}function Ab(){return(Ab=ca(fa().mark((function e(t,n,r){var o,a,i,s;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.newestCollection.database,Ba("preCreateRxStorageInstance",a={databaseInstanceToken:o.token,databaseName:o.name,collectionName:r.newestCollection.name,schema:n,options:r.newestCollection.instanceCreationOptions,multiInstance:o.multiInstance,devMode:Ca.isDevMode()}),e.next=5,o.storage.createStorageInstance(a);case 5:return i=e.sent,(s={version:t,dataMigrator:r,newestCollection:r.newestCollection,database:o,schema:xu(n,o.hashFunction,!1),storageInstance:i}).storageInstance=fu(s.database,i,n),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tb(e){var t=function(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map((function(){return n++}))}(e.currentSchema.jsonSchema).map((function(t){return e.name+"-"+t}));return e.database.internalStore.findDocumentsById(t.map((function(e){return sd(e,od)})),!1).then((function(e){return Object.values(e)}))}function Pb(e){return jb.apply(this,arguments)}function jb(){return(jb=ca(fa().mark((function e(t){var n;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tb(t);case 2:return n=e.sent,e.abrupt("return",Promise.all(n.map((function(e){return e?Ob(e.data.schema.version,e.data.schema,t):null})).filter((function(e){return null!==e}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mb(e){return 0===e.currentSchema.version?Ds:Tb(e).then((function(e){return 0!==e.length}))}function Bb(e,t,n){if(null===n)return ws;var r,o=e.dataMigrator.migrationStrategies[t](n,e);return(r=o)&&"function"==typeof r.then?r:Promise.resolve(r)}function Nb(e,t){var n=e.database.storage,r=e.storageInstance,o=n.statics.prepareQuery(r.schema,{selector:{},sort:[Os({},e.schema.primaryPath,"asc")],limit:t,skip:0});return r.query(o).then((function(e){return e.documents.map((function(e){return e=ra(e)}))}))}function Rb(e,t){var n=ra(t._attachments),r=aa(t);r._attachments=n;for(var o=e.version+1,a=Promise.resolve(r),i=function(){var t=o;a=a.then((function(n){return Bb(e,t,n)})),o++};o<=e.newestCollection.schema.version;)i();return a.then((function(e){return null===e?ws:(e._meta||(e._meta={lwt:1}),e)}))}function Ib(e,t){return ea(Object.assign({},e,{_attachments:void 0,_rev:void 0}),Object.assign({},t,{_attachments:void 0,_rev:void 0}))}function Lb(e,t){return zb.apply(this,arguments)}function zb(){return(zb=ca(fa().mark((function e(t,n){var r,o,a,i,s,u;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aa(n),e.next=3,Promise.all(n.map((function(e){return Na("preMigrateDocument",{docData:e,oldCollection:t})})));case 3:return e.next=5,Promise.all(n.map((function(e){return Rb(t,e)})));case 5:if(o=e.sent,a=[],i=[],n.forEach((function(e,n){var r=o[n],s={res:null,type:"",migrated:r,doc:e,oldCollection:t,newestCollection:t.newestCollection};if(i.push(s),Ib(e,r)?r._rev=e._rev:null!==r&&(r._rev=tu(t.newestCollection.database.token,e)),r){var u=r._attachments,c=r;c._attachments=u,c._meta.lwt=Us(),a.push(c),s.res=c,s.type="success"}else s.type="deleted"})),!a.length){e.next=13;break}return s=t.newestCollection.storageInstance.originalStorageInstance,e.next=13,s.bulkWrite(a.map((function(e){return{document:e}})),"data-migrator-import");case 13:return e.next=15,Promise.all(i.map((function(e){return Na("postMigrateDocument",e)})));case 15:if(!(u=n.map((function(e,t){var n=ra(e);return n._deleted=!0,n._attachments={},{previous:r[t],document:n}}))).length){e.next=19;break}return e.next=19,t.storageInstance.bulkWrite(u,"data-migrator-delete");case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qb(e){return e.storageInstance.remove().then((function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)}))}function Ub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sb;if(e._migrate)throw Aa("DM3");e._migrate=!0;var n,r=new ns;return function o(){return Nb(e,t).then((function(t){return 0===t.length?(qb(e).then((function(){return r.complete()})),!1):Lb(e,t).then((function(e){return e.forEach((function(e){return r.next(e)}))})).catch((function(e){return n=e})).then((function(){return!0}))})).then((function(e){e&&(n?r.error(n):o())}))}(),r.asObservable()}var Vb=new WeakMap,Hb={name:"migration",rxdb:!0,hooks:{preDestroyRxDatabase:{after:function(e){var t=kb.get(e);t&&t.complete()}}},prototypes:{RxDatabase:function(e){e.migrationStates=function(){return Cb(this).pipe((e=function(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hi(e),r=Vi(e),o=yb(e),a=o.args,i=o.keys;if(0===a.length)return Zi([],n);var s=new Si(Eb(a,n,i?function(e){return _b(i,e)}:ki));return r?s.pipe(wb(r)):s}(e)},Ia((function(n,r){var o=null,a=0,i=!1,s=function(){return i&&!o&&r.complete()};n.subscribe(bi(r,(function(n){null==o||o.unsubscribe();var i=0,u=a++;Ni(e(n,u)).subscribe(o=bi(r,(function(e){return r.next(t?t(n,e,u,i++):e)}),(function(){o=null,s()})))}),(function(){i=!0,s()})))}))),ss(cs));var e,t}},RxCollection:function(e){e.getDataMigrator=function(){var e=this;return hu(Vb,this,(function(){return new Fb(e.asRxCollection,e.migrationStrategies)}))},e.migrationNeeded=function(){return 0===this.schema.version?Ds:Mb(this.getDataMigrator())}}}};__webpack_require__(82481),__webpack_require__(82472),__webpack_require__(23123);function $b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new CustomEvent(t,{detail:n});e.dispatchEvent(r)}var Wb=__webpack_require__(45576),Kb=(Wb.domToReact,Wb.htmlToDOM,Wb.attributesToProps);Wb.Comment,Wb.Element,Wb.ProcessingInstruction,Wb.Text;const Gb=Wb;var Yb,Zb,Xb,Jb,Qb,ey,ty=function(e){return"number"==typeof e&&!isNaN(e)},ny=function(e){return"string"==typeof e},ry=function(e){return"function"==typeof e},oy=function(e){return ny(e)||ry(e)?e:null},ay=function(e){return(0,a.isValidElement)(e)||ny(e)||ry(e)||ty(e)};function iy(e){var t=e.enter,n=e.exit,r=e.appendPosition,o=void 0!==r&&r,i=e.collapse,s=void 0===i||i,u=e.collapseDuration,c=void 0===u?Zb.COLLAPSE_DURATION:u;return function(e){var r=e.children,i=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,d=e.isIn,p=o?"".concat(t,"--").concat(i):t,h=o?"".concat(n,"--").concat(i):n,m=(0,a.useRef)(Qb.Enter);return(0,a.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var o;r.target===f.current&&(t.dispatchEvent(new CustomEvent(Jb.ENTRANCE_ANIMATION_END)),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),m.current===Qb.Enter&&"animationcancel"!==r.type&&(o=t.classList).remove.apply(o,V(n)))};(e=t.classList).add.apply(e,V(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,a.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zb.COLLAPSE_DURATION,r=e.scrollHeight,o=e.style;requestAnimationFrame((function(){o.minHeight="initial",o.height=r+"px",o.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};d||(u?t():(m.current=Qb.Exit,e.className+=" ".concat(h),e.addEventListener("animationend",t)))}),[d]),a.createElement(a.Fragment,null,r)}}function sy(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}!function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e.DEFAULT="default"}(Yb||(Yb={})),function(e){e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e[e.DRAGGABLE_PERCENT=80]="DRAGGABLE_PERCENT"}(Zb||(Zb={})),function(e){e.X="x",e.Y="y"}(Xb||(Xb={})),function(e){e.ENTRANCE_ANIMATION_END="d"}(Jb||(Jb={})),function(e){e[e.Enter=0]="Enter",e[e.Exit=1]="Exit"}(Qb||(Qb={})),function(e){e[e.Show=0]="Show",e[e.Clear=1]="Clear",e[e.DidMount=2]="DidMount",e[e.WillUnmount=3]="WillUnmount",e[e.Change=4]="Change",e[e.ClearWaitingQueue=5]="ClearWaitingQueue"}(ey||(ey={}));var uy={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.list.has(e)&&this.list.get(e).forEach((function(n){var o=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(o)}))}};function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}var ly=["theme","type"],fy=function(e){var t=e.theme,n=e.type,r=ft(e,ly);return a.createElement("svg",cy({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))};var dy={info:function(e){return a.createElement(fy,e,a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(fy,e,a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(fy,e,a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(fy,e,a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"".concat(Zb.CSS_NAMESPACE,"__spinner")})}};function py(e){var t=e.theme,n=e.type,r=e.isLoading,o=e.icon,i=null,s={theme:t,type:n};return!1===o||(ry(o)?i=o(s):(0,a.isValidElement)(o)?i=(0,a.cloneElement)(o,s):ny(o)||ty(o)?i=o:r?i=dy.spinner():function(e){return e in dy}(n)&&(i=dy[n](s))),i}var hy=["delay","staleId"];function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?my(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gy(e){var t=(0,a.useReducer)((function(e){return e+1}),0),n=k(t,2)[1],r=k((0,a.useState)([]),2),o=r[0],i=r[1],s=(0,a.useRef)(null),u=(0,a.useRef)(new Map).current,c=function(e){return-1!==o.indexOf(e)},l=(0,a.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function f(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function d(e){i((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function p(){var e=l.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function h(e,t){var r=t.delay,o=t.staleId,i=ft(t,hy);if(ay(e)&&!function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||u.has(e.toastId)&&null==e.updateId}(i)){var c=i.toastId,f=i.updateId,h=i.data,v=l.props,g=function(){return d(c)},b=null==f;b&&l.count++;var y,D,w=vy(vy(vy({},v),{},{style:v.toastStyle,key:l.toastKey++},i),{},{toastId:c,updateId:f,data:h,closeToast:g,isIn:!1,className:oy(i.className||v.toastClassName),bodyClassName:oy(i.bodyClassName||v.bodyClassName),progressClassName:oy(i.progressClassName||v.progressClassName),autoClose:!i.isLoading&&(y=i.autoClose,D=v.autoClose,!1===y||ty(y)&&y>0?y:D),deleteToast:function(){var e=sy(u.get(c),"removed");u.delete(c),uy.emit(ey.Change,e);var t=l.queue.length;if(l.count=null==c?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){var r=null==c?l.props.limit:1;if(1===t||1===r)l.displayedToast++,p();else{var o=r>t?t:r;l.displayedToast=o;for(var a=0;a<o;a++)p()}}else n()}});w.iconOut=py(w),ry(i.onOpen)&&(w.onOpen=i.onOpen),ry(i.onClose)&&(w.onClose=i.onClose),w.closeButton=v.closeButton,!1===i.closeButton||ay(i.closeButton)?w.closeButton=i.closeButton:!0===i.closeButton&&(w.closeButton=!ay(v.closeButton)||v.closeButton);var _=e;(0,a.isValidElement)(e)&&!ny(e.type)?_=(0,a.cloneElement)(e,{closeToast:g,toastProps:w,data:h}):ry(e)&&(_=e({closeToast:g,toastProps:w,data:h})),v.limit&&v.limit>0&&l.count>v.limit&&b?l.queue.push({toastContent:_,toastProps:w,staleId:o}):ty(r)?setTimeout((function(){m(_,w,o)}),r):m(_,w,o)}}function m(e,t,n){var r=t.toastId;n&&u.delete(n);var o={content:e,props:t};u.set(r,o),i((function(e){return[].concat(V(e),[r]).filter((function(e){return e!==n}))})),uy.emit(ey.Change,sy(o,null==o.props.updateId?"added":"updated"))}return(0,a.useEffect)((function(){return l.containerId=e.containerId,uy.cancelEmit(ey.WillUnmount).on(ey.Show,h).on(ey.Clear,(function(e){return s.current&&d(e)})).on(ey.ClearWaitingQueue,f).emit(ey.DidMount,l),function(){u.clear(),uy.emit(ey.WillUnmount,l)}}),[]),(0,a.useEffect)((function(){l.props=e,l.isToastActive=c,l.displayedToast=o.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function by(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function yy(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Dy(e){var t=k((0,a.useState)(!1),2),n=t[0],r=t[1],o=k((0,a.useState)(!1),2),i=o[0],s=o[1],u=(0,a.useRef)(null),c=(0,a.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,a.useRef)(e),f=e.autoClose,d=e.pauseOnHover,p=e.closeToast,h=e.onClick,m=e.closeOnClick;function v(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",D),document.addEventListener("mouseup",w),document.addEventListener("touchmove",D),document.addEventListener("touchend",w);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=by(t.nativeEvent),c.y=yy(t.nativeEvent),e.draggableDirection===Xb.X?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(e.draggablePercent===Zb.DRAGGABLE_PERCENT?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(c.boundingRect){var n=c.boundingRect,r=n.top,o=n.bottom,a=n.left,i=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=i&&c.y>=r&&c.y<=o?y():b()}}function b(){r(!0)}function y(){r(!1)}function D(t){var r=u.current;c.canDrag&&r&&(c.didMove=!0,n&&y(),c.x=by(t),c.y=yy(t),e.draggableDirection===Xb.X?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),r.style.opacity="".concat(1-Math.abs(c.delta/c.removalDistance)))}function w(){document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",w);var t=u.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,a.useEffect)((function(){l.current=e})),(0,a.useEffect)((function(){return u.current&&u.current.addEventListener(Jb.ENTRANCE_ANIMATION_END,b,{once:!0}),ry(e.onOpen)&&e.onOpen((0,a.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;ry(e.onClose)&&e.onClose((0,a.isValidElement)(e.children)&&e.children.props)}}),[]),(0,a.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||y();window.addEventListener("focus",b),window.addEventListener("blur",y)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",y))}}),[e.pauseOnFocusLoss]);var _={onMouseDown:v,onTouchStart:v,onMouseUp:g,onTouchEnd:g};return f&&d&&(_.onMouseEnter=y,_.onMouseLeave=b),m&&(_.onClick=function(e){h&&h(e),c.canCloseOnClick&&p()}),{playToast:b,pauseToast:y,isRunning:n,preventExitTransition:i,toastRef:u,eventHandlers:_}}function wy(e){var t=e.closeToast,n=e.theme,r=e.ariaLabel,o=void 0===r?"close":r;return a.createElement("button",{className:"".concat(Zb.CSS_NAMESPACE,"__close-button ").concat(Zb.CSS_NAMESPACE,"__close-button--").concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":o},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _y(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==(0,c.Z)(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=_y(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Ey=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=_y(e))&&(r&&(r+=" "),r+=t);return r};function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cy(e){var t=e.delay,n=e.isRunning,r=e.closeToast,o=e.type,i=void 0===o?Yb.DEFAULT:o,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,f=e.progress,d=e.rtl,h=e.isIn,m=e.theme,v=s||l&&0===f,g=ky(ky({},c),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:v?0:1});l&&(g.transform="scaleX(".concat(f,")"));var b=Ey("".concat(Zb.CSS_NAMESPACE,"__progress-bar"),"".concat(Zb.CSS_NAMESPACE,l?"__progress-bar--controlled":"__progress-bar--animated"),"".concat(Zb.CSS_NAMESPACE,"__progress-bar-theme--").concat(m),"".concat(Zb.CSS_NAMESPACE,"__progress-bar--").concat(i),p({},"".concat(Zb.CSS_NAMESPACE,"__progress-bar--rtl"),d)),y=ry(u)?u({rtl:d,type:i,defaultClassName:b}):Ey(b,u),D=p({},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){h&&r()});return a.createElement("div",cy({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:g},D))}var Sy=function(e){var t=Dy(e),n=t.isRunning,r=t.preventExitTransition,o=t.toastRef,i=t.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,f=e.type,d=e.hideProgressBar,h=e.closeToast,m=e.transition,v=e.position,g=e.className,b=e.style,y=e.bodyClassName,D=e.bodyStyle,w=e.progressClassName,_=e.progressStyle,E=e.updateId,x=e.role,k=e.progress,C=e.rtl,S=e.toastId,F=e.deleteToast,O=e.isIn,A=e.isLoading,T=e.iconOut,P=e.closeOnClick,j=e.theme,M=Ey("".concat(Zb.CSS_NAMESPACE,"__toast"),"".concat(Zb.CSS_NAMESPACE,"__toast-theme--").concat(j),"".concat(Zb.CSS_NAMESPACE,"__toast--").concat(f),p({},"".concat(Zb.CSS_NAMESPACE,"__toast--rtl"),C),p({},"".concat(Zb.CSS_NAMESPACE,"__toast--close-on-click"),P)),B=ry(g)?g({rtl:C,position:v,type:f,defaultClassName:M}):Ey(M,g),N=!!k||!c,R={closeToast:h,type:f,theme:j},I=null;return!1===s||(I=ry(s)?s(R):(0,a.isValidElement)(s)?(0,a.cloneElement)(s,R):wy(R)),a.createElement(m,{isIn:O,done:F,position:v,preventExitTransition:r,nodeRef:o},a.createElement("div",cy({id:S,onClick:l,className:B},i,{style:b,ref:o}),a.createElement("div",cy({},O&&{role:x},{className:ry(y)?y({type:f}):Ey("".concat(Zb.CSS_NAMESPACE,"__toast-body"),y),style:D}),null!=T&&a.createElement("div",{className:Ey("".concat(Zb.CSS_NAMESPACE,"__toast-icon"),p({},"".concat(Zb.CSS_NAMESPACE,"--animate-icon ").concat(Zb.CSS_NAMESPACE,"__zoom-enter"),!A))},T),a.createElement("div",null,u)),I,a.createElement(Cy,cy({},E&&!N?{key:"pb-".concat(E)}:{},{rtl:C,theme:j,delay:c,isRunning:n,isIn:O,closeToast:h,hide:d,type:f,style:_,className:w,controlledProgress:N,progress:k||0}))))},Fy=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"".concat(Zb.CSS_NAMESPACE,"--animate ").concat(Zb.CSS_NAMESPACE,"__").concat(e,"-enter"),exit:"".concat(Zb.CSS_NAMESPACE,"--animate ").concat(Zb.CSS_NAMESPACE,"__").concat(e,"-exit"),appendPosition:t}},Oy=iy(Fy("bounce",!0));iy(Fy("slide",!0)),iy(Fy("zoom")),iy(Fy("flip"));function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Py=(0,a.forwardRef)((function(e,t){var n=gy(e),r=n.getToastToRender,o=n.containerRef,i=n.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=Ey("".concat(Zb.CSS_NAMESPACE,"__toast-container"),"".concat(Zb.CSS_NAMESPACE,"__toast-container--").concat(e),p({},"".concat(Zb.CSS_NAMESPACE,"__toast-container--rtl"),c));return ry(s)?s({position:e,rtl:c,defaultClassName:t}):Ey(t,oy(s))}return(0,a.useEffect)((function(){t&&(t.current=o.current)}),[]),a.createElement("div",{ref:o,className:Zb.CSS_NAMESPACE,id:l},r((function(e,t){var n=t.length?Ty({},u):Ty(Ty({},u),{},{pointerEvents:"none"}),r=!1;return t.filter((function(e){return String(e.props.className).includes("bm-toast-site-message")})).length>1&&(r=!0),a.createElement("div",{className:f(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var r=e.content,o=e.props;return a.createElement(Sy,cy({},o,{isIn:i(o.toastId),style:Ty(Ty({},o.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(o.key)}),r)})),r&&a.createElement("div",{className:"bm-toast-close-all-notifications",onClick:function(e){t.map((function(e){e.props.closeToast()})),e.target.remove()}},C7("Close all notifications","Onsite notifications","bp-better-messages")))})))}));function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Py.displayName="ToastContainer",Py.defaultProps={position:"top-right",transition:Oy,autoClose:5e3,closeButton:wy,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:Zb.DRAGGABLE_PERCENT,draggableDirection:Xb.X,role:"alert",theme:"light"};var By,Ny=new Map,Ry=[],Iy=1;function Ly(e,t){var n=t.containerId,r=Ny.get(n||By);return r&&r.getToast(e)}function zy(){return"".concat(Iy++)}function qy(e){return e&&(ny(e.toastId)||ty(e.toastId))?e.toastId:zy()}function Uy(e,t){return Ny.size>0?uy.emit(ey.Show,e,t):Ry.push({content:e,options:t}),t.toastId}function Vy(e,t){return My(My({},t),{},{type:t&&t.type||e,toastId:qy(t)})}function Hy(e){return function(t,n){return Uy(t,Vy(e,n))}}function $y(e,t){return Uy(e,Vy(Yb.DEFAULT,t))}function Wy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;$y.info(a.createElement(a.Fragment,null,Gb(e)),{className:"bm-toasts",position:Zy(),draggableDirection:Xy(),draggablePercent:Jy(),autoClose:t,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}function Ky(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;Array.isArray(e)?e=e.join("<br>"):"string"!=typeof e&&(e=e.toString());var n=!1,r=e.toLowerCase().includes("rxerror");if(n||!r){var o=e.includes("undefined");o?console.error(e):void 0!==window.BMAppErrorToast?window.BMAppErrorToast("",notice,t):$y.error(a.createElement(a.Fragment,null,Gb(e)),{className:"bm-toasts",position:Zy(),draggableDirection:Xy(),draggablePercent:Jy(),autoClose:t,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}else console.error(e)}function Gy(e,t){return e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message?e.message:t}function Yy(e){if(e.response&&e.response.data){var t=!1;if(e.response.data.message&&(t=e.response.data.message),e.response.data.code&&"rest_cookie_invalid_nonce"===e.response.data.code&&(t=C7("Authorization failed. Please check if you are still authorized at this website.","Rest API Error","bp-better-messages")),t)return void Ky(t)}e.message&&Ky(e.message)}function Zy(){var e="left"===w7.onsitePosition?"bottom-left":"bottom-right";if(_7){var t=w7.mobileOnsite;if("bottom"===t)e="bottom-center";else if("top"===t)e="top-center";else{e="bottom-center",I2.get("mainScreen")&&(e="top-center")}}return e}function Xy(){var e="x";return _7&&(e="y"),e}function Jy(){var e=80;return _7&&(e=50),e}$y.loading=function(e,t){return Uy(e,Vy(Yb.DEFAULT,My({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},$y.promise=function(e,t,n){var r,o=t.pending,a=t.error,i=t.success;o&&(r=ny(o)?$y.loading(o,n):$y.loading(o.render,My(My({},n),o)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,o){if(null!=t){var a=My(My(My({type:e},s),n),{},{data:o}),i=ny(t)?{render:t}:t;return r?$y.update(r,My(My({},a),i)):$y(i.render,My(My({},a),i)),o}$y.dismiss(r)},c=ry(e)?e():e;return c.then((function(e){return u("success",i,e)})).catch((function(e){return u("error",a,e)})),c},$y.success=Hy(Yb.SUCCESS),$y.info=Hy(Yb.INFO),$y.error=Hy(Yb.ERROR),$y.warning=Hy(Yb.WARNING),$y.warn=$y.warning,$y.dark=function(e,t){return Uy(e,Vy(Yb.DEFAULT,My({theme:"dark"},t)))},$y.dismiss=function(e){Ny.size>0?uy.emit(ey.Clear,e):Ry=Ry.filter((function(t){return null!=e&&t.options.toastId!==e}))},$y.clearWaitingQueue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uy.emit(ey.ClearWaitingQueue,e)},$y.isActive=function(e){var t=!1;return Ny.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},$y.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};setTimeout((function(){var n=Ly(e,t);if(n){var r=n.props,o=n.content,a=My(My(My({},r),t),{},{toastId:t.toastId||e,updateId:zy()});a.toastId!==e&&(a.staleId=e);var i=a.render||o;delete a.render,Uy(i,a)}}),0)},$y.done=function(e){$y.update(e,{progress:1})},$y.onChange=function(e){return uy.on(ey.Change,e),function(){uy.off(ey.Change,e)}},$y.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$y.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},uy.on(ey.DidMount,(function(e){By=e.containerId||e,Ny.set(By,e),Ry.forEach((function(e){uy.emit(ey.Show,e.content,e.options)})),Ry=[]})).on(ey.WillUnmount,(function(e){Ny.delete(e.containerId||e),0===Ny.size&&uy.off(ey.Show).off(ey.Clear).off(ey.ClearWaitingQueue)})),window.BBPMShowNotice=Wy,window.BBPMNotice=Wy,window.BBPMShowError=Ky,window.BBPMError=Ky;__webpack_require__(41637);function Qy(){document.addEventListener("click",(function(e){var t=e.target,n=eD(t,"bpbm-audio-call");if(n&&n.classList.contains("bm-self-button"))return e.preventDefault(),e.stopPropagation(),void(n.classList.contains("video-call")||n.classList.contains("audio-call")?Ky(C7("You can not make a call to yourself","Shortcode error","bp-better-messages")):Ky(C7("You can not start a conversation with yourself","Shortcode error","bp-better-messages")));if(n=eD(t,"bpbm-pm-button"),w7.miniChats&&n&&n.classList.contains("bpbm-pm-button")&&n.classList.contains("open-mini-chat")&&n.dataset.userId){e.preventDefault();var r=n.dataset.bmUniqueKey,o=n.dataset.bmSubject;k2(Number(n.dataset.userId),!1,!0,"conversation",o,r)}(n=eD(t,"bpbm-audio-call"))&&(n.dataset.userId&&(e.preventDefault(),k2(Number(n.dataset.userId),!_7,!0,"audio")));(n=eD(t,"bpbm-video-call"))&&(n.dataset.userId&&(e.preventDefault(),k2(Number(n.dataset.userId),!_7,!0,"video")));(n=eD(t,"bm-lc-button"))&&(n.dataset.subject&&(e.preventDefault(),y9(n.dataset.subject)))})),window.addEventListener("load",(function(){return nD})),"complete"===document.readyState&&nD(),J5.threads.find({selector:{unread:{$gt:0}}}).$.subscribe((function(e){var t=0;e.map((function(e){t+=e.get("unread")})),function(e){var t=parseInt(e);isNaN(t)&&(t=0),document.dispatchEvent(new CustomEvent("bp-better-messages-update-unread",{detail:{unread:t}})),w7.total_unread=t,w7.titleNotifications&&(isNaN(t)||t<=0?document.title=T2:document.title="("+e+") "+T2),Array.from(document.querySelectorAll(".bp-better-messages-unread")).map((function(t){var n=t.classList.contains("bpbmuc");t.textContent=e,n?t.setAttribute("data-count",e):0===e?t.classList.add("no-count"):t.classList.remove("no-count")}));var n=document.body;if(n&&n.classList.contains("my-account")){var r=document.querySelector("#user-bp_better_messages_tab");if(r){var o=r.querySelector("span.count");if(e>0)if(o)o.textContent=e;else{var a=document.createElement("span");a.classList.add("count"),a.textContent=String(e),r.append(a)}else o&&o.remove()}}}(Number(t))}))}function eD(e,t){if(e.classList.contains(t))return e;var n=e.closest("."+t);return n||null}var tD=!1;function nD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!tD){tD=!0;try{var t,n;if(window.location.hash.includes("?")&&(t=window.location.hash,n="hash"),window.location.search&&(t=window.location.search,n="search"),!t)return!1;var r="videoCall",o="audioCall",a="bmErrors",i="scrollToContainer",s="openFullScreen",u=t.includes(r),c=t.includes(o),l=t.includes(a),f=t.includes(i),d=t.includes(s);if(l)try{var p=new Proxy(new URLSearchParams(t),{get:function(e,t){return e.get(t)}}),h=p.bmErrors;if(h){var m=h.length,v=JSON.parse(h.substring(0,m-3));Ky(v);var g="bmErrors="+encodeURIComponent(h).replace(/%20/g,"+").replace(/%24/g,"$");if("hash"===n&&(window.location.hash=window.location.hash.replace("&"+g,"")),"search"===n){var b=window.location.href.replace("&"+g,"");history.pushState(null,null,b)}}}catch(O9){console.error(O9)}if(e||(e=document.querySelector(".bp-messages-wrap-main")),!e)return;if(f){var y=30;w7.headerHeight&&(y+=parseInt(w7.headerHeight));var D=e.getBoundingClientRect().top+window.scrollY-y;if(window.scroll({top:D,behavior:"smooth"}),"hash"===n&&(window.location.hash=window.location.hash.replace("&"+i,"")),"search"===n){var w=window.location.href.replace("&"+i,"");history.pushState(null,null,w)}$b(document,"better-messages-autoscroll")}if(d){var _=e.querySelector(".chat-header .bpbm-maximize");if(_&&(_.click(),"hash"===n&&(window.location.hash=window.location.hash.replace("&"+s,"")),"search"===n)){var E=window.location.href.replace("&"+s,"");E=E.replace("?"+s,""),history.pushState(null,null,E)}}if(u){var x=e.querySelector(".chat-header .video-call");if(x&&(x.click(),"hash"===n&&(window.location.hash=window.location.hash.replace("&"+r,"")),"search"===n)){var k=window.location.href.replace("&"+r,"");history.pushState(null,null,k)}}if(c){var C=e.querySelector(".chat-header .audio-call");if(C&&(C.click(),"hash"===n&&(window.location.hash=window.location.hash.replace("&"+o,"")),"search"===n)){var S=window.location.href.replace("&"+o,"");history.pushState(null,null,S)}}}finally{tD=!1}}}var rD;__webpack_require__(96644),__webpack_require__(60285);function oD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aD.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(rD||(rD={}));var iD,sD="popstate";function uD(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(O9){}}}function cD(e){return{usr:e.state,key:e.key}}function lD(e,t,n,r){return void 0===n&&(n=null),aD({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?dD(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function fD(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,a=e.hash,i=void 0===a?"":a;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function dD(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pD(e){var t="undefined"!=typeof window&&void 0!==window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"==typeof e?e:fD(e);return new URL(n,t)}function hD(e,t,n,r){void 0===r&&(r={});var o=r,a=o.window,i=void 0===a?document.defaultView:a,s=o.v5Compat,u=void 0!==s&&s,c=i.history,l=rD.Pop,f=null;function d(){l=rD.Pop,f&&f({action:l,location:p.location})}var p={get action(){return l},get location(){return e(i,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(sD,d),f=e,function(){i.removeEventListener(sD,d),f=null}},createHref:function(e){return t(i,e)},encodeLocation:function(e){var t=pD("string"==typeof e?e:fD(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=rD.Push;var r=lD(p.location,e,t);n&&n(r,e);var o=cD(r),a=p.createHref(r);try{c.pushState(o,"",a)}catch(s){i.location.assign(a)}u&&f&&f({action:l,location:p.location})},replace:function(e,t){l=rD.Replace;var r=lD(p.location,e,t);n&&n(r,e);var o=cD(r),a=p.createHref(r);c.replaceState(o,"",a),u&&f&&f({action:l,location:p.location})},go:function(e){return c.go(e)}};return p}function mD(e,t,n){void 0===n&&(n="/");var r=ED(("string"==typeof t?dD(t):t).pathname||"/",n);if(null==r)return null;var o=vD(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var a=null,i=0;null==a&&i<o.length;++i)a=DD(o[i],_D(r));return a}function vD(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,o){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(xD(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var i=OD([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(xD(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),vD(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:yD(i,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(iD||(iD={}));var gD=/^:\w+$/,bD=function(e){return"*"===e};function yD(e,t){var n=e.split("/"),r=n.length;return n.some(bD)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!bD(e)})).reduce((function(e,t){return e+(gD.test(t)?3:""===t?1:10)}),r)}function DD(e,t){for(var n=e.routesMeta,r={},o="/",a=[],i=0;i<n.length;++i){var s=n[i],u=i===n.length-1,c="/"===o?t:t.slice(o.length)||"/",l=wD({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:OD([o,l.pathname]),pathnameBase:AD(OD([o,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(o=OD([o,l.pathnameBase]))}return a}function wD(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);kD("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=k(n,2),o=r[0],a=r[1],i=t.match(o);if(!i)return null;var s=i[0],u=s.replace(/(.)\/+$/,"$1"),c=i.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return kD(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function _D(e){try{return decodeURI(e)}catch(t){return kD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ED(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function xD(e,t){if(!1===e||null==e)throw new Error(t)}function kD(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(O9){}}}function CD(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function SD(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function FD(e,t,n,r){var o;void 0===r&&(r=!1),"string"==typeof e?o=dD(e):(xD(!(o=aD({},e)).pathname||!o.pathname.includes("?"),CD("?","pathname","search",o)),xD(!o.pathname||!o.pathname.includes("#"),CD("#","pathname","hash",o)),xD(!o.search||!o.search.includes("#"),CD("#","search","hash",o)));var a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;o.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"==typeof e?dD(e):e,r=n.pathname,o=n.search,a=void 0===o?"":o,i=n.hash,s=void 0===i?"":i,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:TD(a),hash:PD(s)}}(o,a),f=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var OD=function(e){return e.join("/").replace(/\/\/+/g,"/")},AD=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},TD=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},PD=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},jD=function(e){S(n,e);var t=oD(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n)}(j(Error));var MD=d((function e(t,n,r,o){u(this,e),void 0===o&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function BD(e){return e instanceof MD}var ND=["post","put","patch","delete"],RD=(new Set(ND),["get"].concat(ND));new Set(RD),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;function ID(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LD.apply(this,arguments)}var zD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qD=a.useState,UD=a.useEffect,VD=a.useLayoutEffect,HD=a.useDebugValue;function $D(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!zD(n,r)}catch(o){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,function(e){e.useSyncExternalStore}(i);var WD=a.createContext(null);var KD=a.createContext(null);var GD=a.createContext(null);var YD=a.createContext(null);var ZD=a.createContext(null);var XD=a.createContext(null);var JD=a.createContext({outlet:null,matches:[]});var QD=a.createContext(null);function ew(){return null!=a.useContext(XD)}function tw(){return ew()||xD(!1),a.useContext(XD).location}function nw(e){ew()||xD(!1);var t=tw().pathname;return a.useMemo((function(){return wD(e,t)}),[t,e])}function rw(){ew()||xD(!1);var e=a.useContext(ZD),t=e.basename,n=e.navigator,r=a.useContext(JD).matches,o=tw().pathname,i=JSON.stringify(SD(r).map((function(e){return e.pathnameBase}))),s=a.useRef(!1);a.useEffect((function(){s.current=!0}));var u=a.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!=typeof e){var a=FD(e,JSON.parse(i),o,"path"===r.relative);"/"!==t&&(a.pathname="/"===a.pathname?t:OD([t,a.pathname])),(r.replace?n.replace:n.push)(a,r.state,r)}else n.go(e)}),[t,n,i,o]);return u}function ow(){var e=a.useContext(JD).matches,t=e[e.length-1];return t?t.params:{}}function aw(e,t){var n=(void 0===t?{}:t).relative,r=a.useContext(JD).matches,o=tw().pathname,i=JSON.stringify(SD(r).map((function(e){return e.pathnameBase})));return a.useMemo((function(){return FD(e,JSON.parse(i),o,"path"===n)}),[e,i,o,n])}function iw(){var e=function(){var e,t=a.useContext(QD),n=dw(uw.UseRouteError),r=a.useContext(JD),o=r.matches[r.matches.length-1];if(t)return t;return r||xD(!1),!o.route.id&&xD(!1),null==(e=n.errors)?void 0:e[o.route.id]}(),t=BD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unhandled Thrown Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:o},n):null,a.createElement("p",null,"💿 Hey developer 👋"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:i},"errorElement")," props on ",a.createElement("code",{style:i},"<Route>")))}var sw,uw,cw=function(e){S(n,e);var t=ID(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return d(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?a.createElement(QD.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(a.Component);function lw(e){var t=e.routeContext,n=e.match,r=e.children,o=a.useContext(WD);return o&&n.route.errorElement&&(o._deepestRenderedBoundaryId=n.route.id),a.createElement(JD.Provider,{value:t},r)}function fw(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,o=null==n?void 0:n.errors;if(null!=o){var i=r.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));i>=0||xD(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((function(e,i,s){var u=i.route.id?null==o?void 0:o[i.route.id]:null,c=n?i.route.errorElement||a.createElement(iw,null):null,l=function(){return a.createElement(lw,{match:i,routeContext:{outlet:e,matches:t.concat(r.slice(0,s+1))}},u?c:void 0!==i.route.element?i.route.element:e)};return n&&(i.route.errorElement||0===s)?a.createElement(cw,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function dw(e){var t=a.useContext(GD);return t||xD(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(sw||(sw={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(uw||(uw={}));var pw;function hw(e){var t=e.to,n=e.replace,r=e.state,o=e.relative;ew()||xD(!1);var i=a.useContext(GD),s=rw();return a.useEffect((function(){i&&"idle"!==i.navigation.state||s(t,{replace:n,state:r,relative:o})})),null}function mw(e){xD(!1)}function vw(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,o=void 0===r?null:r,i=e.location,s=e.navigationType,u=void 0===s?rD.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;ew()&&xD(!1);var d=n.replace(/^\/*/,"/"),p=a.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"==typeof i&&(i=dD(i));var h=i,m=h.pathname,v=void 0===m?"/":m,g=h.search,b=void 0===g?"":g,y=h.hash,D=void 0===y?"":y,w=h.state,_=void 0===w?null:w,E=h.key,x=void 0===E?"default":E,k=a.useMemo((function(){var e=ED(v,d);return null==e?null:{pathname:e,search:b,hash:D,state:_,key:x}}),[d,v,b,D,_,x]);return null==k?null:a.createElement(ZD.Provider,{value:p},a.createElement(XD.Provider,{children:o,value:{location:k,navigationType:u}}))}function gw(e){var t=e.children,n=e.location,r=a.useContext(KD);return function(e,t){ew()||xD(!1);var n,r=a.useContext(ZD).navigator,o=a.useContext(GD),i=a.useContext(JD).matches,s=i[i.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,tw());if(t){var f,d="string"==typeof t?dD(t):t;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||xD(!1),n=d}else n=l;var p=n.pathname||"/",h=mD(e,{pathname:"/"===c?p:p.slice(c.length)||"/"}),m=fw(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:OD([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:OD([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),i,o||void 0);return t&&m?a.createElement(XD.Provider,{value:{location:LD({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:rD.Pop}},m):m}(r&&!t?r.router.routes:yw(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(pw||(pw={}));var bw=new Promise((function(){}));a.Component;function yw(e,t){void 0===t&&(t=[]);var n=[];return a.Children.forEach(e,(function(e,r){if(a.isValidElement(e))if(e.type!==a.Fragment){e.type!==mw&&xD(!1),e.props.index&&e.props.children&&xD(!1);var o=[].concat(V(t),[r]),i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(i.children=yw(e.props.children,o)),n.push(i)}else n.push.apply(n,yw(e.props.children,t))})),n}var Dw=a.createContext({reactRoot:null,root:null,header:null,setHeader:null,wrapper:null,setWrapper:null,useRouter:!1,isMaximized:null,setIsMaximized:null,callActive:!1,mobileView:!1,setMobileView:null,sideThreads:!0,sideTab:null,setSideTab:null,singleFullScreen:null,setCallActive:function(e){}});__webpack_require__(74819);function ww(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function _w(){return _w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ww(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},_w.apply(this,arguments)}__webpack_require__(76938);var Ew=Object.create(null);Ew.open="0",Ew.close="1",Ew.ping="2",Ew.pong="3",Ew.message="4",Ew.upgrade="5",Ew.noop="6";var xw=Object.create(null);Object.keys(Ew).forEach((function(e){xw[Ew[e]]=e}));var kw={type:"error",data:"parser error"},Cw="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Sw="function"==typeof ArrayBuffer,Fw=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};const Ow=function(e,t,n){var r,o=e.type,a=e.data;return Cw&&a instanceof Blob?t?n(a):Fw(a,n):Sw&&(a instanceof ArrayBuffer||(r=a,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(a):Fw(new Blob([a]),n):n(Ew[o]+(a||""))};for(var Aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tw="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Pw=0;Pw<Aw.length;Pw++)Tw[Aw.charCodeAt(Pw)]=Pw;var jw="function"==typeof ArrayBuffer,Mw=function(e,t){if(jw){var n=function(e){var t,n,r,o,a,i=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c=new ArrayBuffer(i),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=Tw[e.charCodeAt(t)],r=Tw[e.charCodeAt(t+1)],o=Tw[e.charCodeAt(t+2)],a=Tw[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&a;return c}(e);return Bw(n,t)}return{base64:!0,data:e}},Bw=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e};const Nw=function(e,t){if("string"!=typeof e)return{type:"message",data:Bw(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:Mw(e.substring(1),t)}:xw[n]?e.length>1?{type:xw[n],data:e.substring(1)}:{type:xw[n]}:kw};var Rw=String.fromCharCode(30);function Iw(e){if(e)return function(e){for(var t in Iw.prototype)e[t]=Iw.prototype[t];return e}(e)}Iw.prototype.on=Iw.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Iw.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Iw.prototype.off=Iw.prototype.removeListener=Iw.prototype.removeAllListeners=Iw.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Iw.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Iw.prototype.emitReserved=Iw.prototype.emit,Iw.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Iw.prototype.hasListeners=function(e){return!!this.listeners(e).length};var Lw="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function zw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var qw=Lw.setTimeout,Uw=Lw.clearTimeout;function Vw(e,t){t.useNativeTimers?(e.setTimeoutFn=qw.bind(Lw),e.clearTimeoutFn=Uw.bind(Lw)):(e.setTimeoutFn=Lw.setTimeout.bind(Lw),e.clearTimeoutFn=Lw.clearTimeout.bind(Lw))}function Hw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var $w,Ww=function(e){S(n,e);var t=Hw(n);function n(e,r,o){var a;return u(this,n),(a=t.call(this,e)).description=r,a.context=o,a.type="TransportError",a}return d(n)}(j(Error)),Kw=function(e){S(n,e);var t=Hw(n);function n(e){var r;return u(this,n),(r=t.call(this)).writable=!1,Vw(F(r),e),r.opts=e,r.query=e.query,r.socket=e.socket,r}return d(n,[{key:"onError",value:function(e,t,r){return _w(A(n.prototype),"emitReserved",this).call(this,"error",new Ww(e,t,r)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,_w(A(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=Nw(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){_w(A(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",_w(A(n.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}}]),n}(Iw),Gw="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Yw={},Zw=0,Xw=0;function Jw(e){var t="";do{t=Gw[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Qw(){var e=Jw(+new Date);return e!==$w?(Zw=0,$w=e):e+"."+Jw(Zw++)}for(;Xw<64;Xw++)Yw[Gw[Xw]]=Xw;function e_(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function t_(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}var n_=!1;try{n_="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(A9){}var r_=n_;function o_(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r_))return new XMLHttpRequest}catch(O9){}if(!t)try{return new(Lw[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(O9){}}function a_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function i_(){}var s_=null!=new o_({xdomain:!1}).responseType,u_=function(e){S(n,e);var t=a_(n);function n(e){var r;if(u(this,n),(r=t.call(this,e)).polling=!1,"undefined"!=typeof location){var o="https:"===location.protocol,a=location.port;a||(a=o?"443":"80"),r.xd="undefined"!=typeof location&&e.hostname!==location.hostname||a!==e.port,r.xs=e.secure!==o}var i=e&&e.forceBase64;return r.supportsBinary=s_&&!i,r}return d(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(Rw),r=[],o=0;o<n.length;o++){var a=Nw(n[o],t);if(r.push(a),"error"===a.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),o=0;e.forEach((function(e,a){Ow(e,!1,(function(e){r[a]=e,++o===n&&t(r.join(Rw))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Qw()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=e_(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new c_(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(Kw),c_=function(e){S(n,e);var t=a_(n);function n(e,r){var o;return u(this,n),Vw(F(o=t.call(this)),r),o.opts=r,o.method=r.method||"GET",o.uri=e,o.async=!1!==r.async,o.data=void 0!==r.data?r.data:null,o.create(),o}return d(n,[{key:"create",value:function(){var e=this,t=zw(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new o_(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}catch(O9){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(O9){}try{r.setRequestHeader("Accept","*/*")}catch(O9){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"==typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(O9){return void this.setTimeoutFn((function(){e.onError(O9)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=i_,e)try{this.xhr.abort()}catch(O9){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(Iw);if(c_.requestsCount=0,c_.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",l_);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Lw?"pagehide":"unload",l_,!1)}function l_(){for(var e in c_.requests)c_.requests.hasOwnProperty(e)&&c_.requests[e].abort()}var f_="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},d_=Lw.WebSocket||Lw.MozWebSocket;function p_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var h_="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),m_=function(e){S(n,e);var t=p_(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return d(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=h_?{}:zw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=h_?new d_(e,t,n):t?new d_(e,t):new d_(e)}catch(A9){return this.emitReserved("error",A9)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var r=e[n],o=n===e.length-1;Ow(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(O9){}o&&f_((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n(r)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Qw()),this.supportsBinary||(e.b64=1);var r=e_(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!d_}}]),n}(Kw),v_={websocket:m_,polling:u_},g_=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,b_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function y_(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o,a,i=g_.exec(e||""),s={},u=14;u--;)s[b_[u]]=i[u]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=(o=s.query,a={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(a[t]=n)})),a),s}function D_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var w_=function(e){S(n,e);var t=D_(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,n),(r=t.call(this)).writeBuffer=[],e&&"object"===(0,c.Z)(e)&&(o=e,e=null),e?(e=y_(e),o.hostname=e.host,o.secure="https"===e.protocol||"wss"===e.protocol,o.port=e.port,e.query&&(o.query=e.query)):o.host&&(o.hostname=y_(o.host).host),Vw(F(r),o),r.secure=null!=o.secure?o.secure:"undefined"!=typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=r.secure?"443":"80"),r.hostname=o.hostname||("undefined"!=typeof location?location.hostname:"localhost"),r.port=o.port||("undefined"!=typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=o.transports||["polling","websocket"],r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"==typeof r.opts.query&&(r.opts.query=t_(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"==typeof addEventListener&&(r.opts.closeOnBeforeunload&&(r.beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r.beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return d(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new v_[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(O9){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),o=!1;n.priorWebsocketSuccess=!1;var a=function(){o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!o)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){o||"closed"!==t.readyState&&(f(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var a=new Error("probe error");a.transport=r.name,t.emitReserved("upgradeError",a)}})))};function i(){o||(o=!0,f(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,i(),t.emitReserved("upgradeError",n)};function u(){s("transport closed")}function c(){s("socket closed")}function l(e){r&&e.name!==r.name&&i()}var f=function(){r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",u),t.off("close",c),t.off("upgrading",l)};r.once("open",a),r.once("error",s),r.once("close",u),this.once("close",c),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(Iw);w_.protocol=4;w_.protocol;var __="function"==typeof ArrayBuffer,E_=Object.prototype.toString,x_="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===E_.call(Blob),k_="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===E_.call(File);function C_(e){return __&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||x_&&e instanceof Blob||k_&&e instanceof File}function S_(e,t){if(!e||"object"!==(0,c.Z)(e))return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(S_(e[n]))return!0;return!1}if(C_(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return S_(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&S_(e[o]))return!0;return!1}function F_(e){var t=[],n=e.data,r=e;return r.data=O_(n,t),r.attachments=t.length,{packet:r,buffers:t}}function O_(e,t){if(!e)return e;if(C_(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=O_(e[o],t);return r}if("object"===(0,c.Z)(e)&&!(e instanceof Date)){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=O_(e[i],t));return a}return e}function A_(e,t){return e.data=T_(e.data,t),e.attachments=void 0,e}function T_(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=T_(e[n],t);else if("object"===(0,c.Z)(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=T_(e[r],t));return e}function P_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var j_,M_=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(j_||(j_={}));var B_=function(){function e(t){u(this,e),this.replacer=t}return d(e,[{key:"encode",value:function(e){return e.type!==j_.EVENT&&e.type!==j_.ACK||!S_(e)?[this.encodeAsString(e)]:(e.type=e.type===j_.EVENT?j_.BINARY_EVENT:j_.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==j_.BINARY_EVENT&&e.type!==j_.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=F_(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),N_=function(e){S(n,e);var t=P_(n);function n(e){var r;return u(this,n),(r=t.call(this)).reviver=e,r}return d(n,[{key:"add",value:function(e){var t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(t=this.decodeString(e)).type===j_.BINARY_EVENT||t.type===j_.BINARY_ACK?(this.reconstructor=new R_(t),0===t.attachments&&_w(A(n.prototype),"emitReserved",this).call(this,"decoded",t)):_w(A(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!C_(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,_w(A(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===j_[r.type])throw new Error("unknown packet type "+r.type);if(r.type===j_.BINARY_EVENT||r.type===j_.BINARY_ACK){for(var o=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(o,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){for(var i=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(i,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var u=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var l=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(O9){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case j_.CONNECT:return"object"===(0,c.Z)(t);case j_.DISCONNECT:return void 0===t;case j_.CONNECT_ERROR:return"string"==typeof t||"object"===(0,c.Z)(t);case j_.EVENT:case j_.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case j_.ACK:case j_.BINARY_ACK:return Array.isArray(t)}}}]),n}(Iw),R_=function(){function e(t){u(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return d(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=A_(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function I_(e,t,n){return e.on(t,n),function(){e.off(t,n)}}function L_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return z_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function z_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var U_=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),V_=function(e){S(n,e);var t=q_(n);function n(e,r,o){var a;return u(this,n),(a=t.call(this)).connected=!1,a.recovered=!1,a.receiveBuffer=[],a.sendBuffer=[],a._queue=[],a._queueSeq=0,a.ids=0,a.acks={},a.flags={},a.io=e,a.nsp=r,o&&o.auth&&(a.auth=o.auth),a._opts=Object.assign({},o),a.io._autoConnect&&a.open(),a}return d(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[I_(e,"open",this.onopen.bind(this)),I_(e,"packet",this.onpacket.bind(this)),I_(e,"error",this.onerror.bind(this)),I_(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(U_.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;var o={type:j_.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var a=this.ids++,i=n.pop();this._registerAckCallback(a,i),o.id=a}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!s||!this.connected);return u||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,r=this,o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==o){var a=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&r.sendBuffer.splice(n,1);t.call(r,new Error("operation has timed out"))}),o);this.acks[e]=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,[null].concat(n))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(n,o){r.push((function(e,t){return a?e?o(e):n(t):n(e)})),t.emit.apply(t,[e].concat(r))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"==typeof e[e.length-1]&&(t=e.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r===n._queue[0]){var o=null!==e;if(o)r.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];t.apply(void 0,[null].concat(i))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:j_.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case j_.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case j_.EVENT:case j_.BINARY_EVENT:this.onevent(e);break;case j_.ACK:case j_.BINARY_ACK:this.onack(e);break;case j_.DISCONNECT:this.ondisconnect();break;case j_.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=L_(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(A9){r.e(A9)}finally{r.f()}}_w(A(n.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t.packet({type:j_.ACK,id:e,data:o})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:j_.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=L_(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(A9){n.e(A9)}finally{n.f()}}}}]),n}(Iw);function H_(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}function $_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}H_.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},H_.prototype.reset=function(){this.attempts=0},H_.prototype.setMin=function(e){this.ms=e},H_.prototype.setMax=function(e){this.max=e},H_.prototype.setJitter=function(e){this.jitter=e};var W_=function(t){S(r,t);var n=$_(r);function r(t,o){var a,i;u(this,r),(a=n.call(this)).nsps={},a.subs=[],t&&"object"===(0,c.Z)(t)&&(o=t,t=void 0),(o=o||{}).path=o.path||"/socket.io",a.opts=o,Vw(F(a),o),a.reconnection(!1!==o.reconnection),a.reconnectionAttempts(o.reconnectionAttempts||1/0),a.reconnectionDelay(o.reconnectionDelay||1e3),a.reconnectionDelayMax(o.reconnectionDelayMax||5e3),a.randomizationFactor(null!==(i=o.randomizationFactor)&&void 0!==i?i:.5),a.backoff=new H_({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==o.timeout?2e4:o.timeout),a._readyState="closed",a.uri=t;var s=o.parser||e;return a.encoder=new s.Encoder,a.decoder=new s.Decoder,a._autoConnect=!1!==o.autoConnect,a._autoConnect&&a.open(),a}return d(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new w_(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=I_(n,"open",(function(){r.onopen(),e&&e()})),a=I_(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var i=this._timeout;0===i&&o();var s=this.setTimeoutFn((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),i);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(o),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(I_(e,"ping",this.onping.bind(this)),I_(e,"data",this.ondata.bind(this)),I_(e,"error",this.onerror.bind(this)),I_(e,"close",this.onclose.bind(this)),I_(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(O9){this.onclose("parse error",O9)}}},{key:"ondecoded",value:function(e){var t=this;f_((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new V_(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(Iw),K_={};function G_(e,t){"object"===(0,c.Z)(e)&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=y_(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),o=r.source,a=r.id,i=r.path,s=K_[a]&&i in K_[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new W_(o,t):(K_[a]||(K_[a]=new W_(o,t)),n=K_[a]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(G_,{Manager:W_,Socket:V_,io:G_,connect:G_});var Y_,Z_=__webpack_require__(52880),X_=__webpack_require__.n(Z_),J_=new ns,Q_=new Map;function eE(e){var t=new Map;return Q_.has(e)?t=Q_.get(e):Q_.set(e,t),t}function tE(){return nE.apply(this,arguments)}function nE(){return(nE=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(Y_),Q_.size>0&&(t=Co.now().minus(3e3),Q_.forEach((function(e,n){e.forEach((function(n,r){n<=t&&e.delete(r)})),Q_.set(n,e),J_.next(n)}))),window.setTimeout((function(){tE()}),3e3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rE(e){var t=k((0,a.useState)([]),2),n=t[0],r=t[1],o=function(){var t=V(eE(e).keys());r(t)};return(0,a.useEffect)((function(){o();var t=J_.subscribe({next:function(t){t===e&&o()}});return function(){t.unsubscribe()}}),[e]),n}function oE(){J0.on("writing",(function(e){X_()(e,(function(e,t,n){e.map((function(e){var n={userId:Number(e),lastTime:Co.now()};!function(e,t){var n=eE(e);n.set(t.userId,t.lastTime),Q_.set(e,n),J_.next(e),tE()}(Number(t),n)}))}))}))}__webpack_require__(29254);function aE(){return a.createElement("div",{className:"bm-placeholder"},a.createElement("div",{className:"bm-animated-background"}))}__webpack_require__(84944),__webpack_require__(33792);var iE=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],sE=iE.join(","),uE="undefined"==typeof Element,cE=uE?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,lE=!uE&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},fE=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},dE=function(e,t,n){if(fE(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(sE));return t&&cE.call(e,sE)&&r.unshift(e),r=r.filter(n)},pE=function e(t,n,r){for(var o=[],a=Array.from(t);a.length;){var i=a.shift();if(!fE(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),u=e(s.length?s:i.children,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:i,candidates:u})}else{cE.call(i,sE)&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var c=i.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(i),l=!fE(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(c&&l){var f=e(!0===c?i.children:c.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:i,candidates:f})}else a.unshift.apply(a,i.children)}}return o},hE=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},mE=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},vE=function(e){return"INPUT"===e.tagName},gE=function(e){return function(e){return vE(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||lE(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(A9){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",A9.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},bE=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},yE=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=cE.call(e,"details>summary:first-of-type")?e.parentElement:e;if(cE.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return bE(e)}else{if("function"==typeof r){for(var a=e;e;){var i=e.parentElement,s=lE(e);if(i&&!i.shadowRoot&&!0===r(i))return bE(e);e=e.assignedSlot?e.assignedSlot:i||s===e.ownerDocument?i:s.host}e=a}if(function(e){var t,n,r,o,a=e&&lE(e),i=null===(t=a)||void 0===t?void 0:t.host,s=!1;if(a&&a!==e)for(s=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&i;){var u,c,l;s=!(null===(c=i=null===(u=a=lE(i))||void 0===u?void 0:u.host)||void 0===c||null===(l=c.ownerDocument)||void 0===l||!l.contains(i))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},DE=function(e,t){return!(t.disabled||fE(t)||function(e){return vE(e)&&"hidden"===e.type}(t)||yE(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!cE.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},wE=function(e,t){return!(gE(t)||hE(t)<0||!DE(e,t))},_E=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},EE=function e(t){var n=[],r=[];return t.forEach((function(t,o){var a=!!t.scopeParent,i=a?t.scopeParent:t,s=hE(i,a),u=a?e(t.candidates):i;0===s?a?n.push.apply(n,u):n.push(i):r.push({documentOrder:o,tabIndex:s,item:t,isScope:a,content:u})})),r.sort(mE).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},xE=function(e,t){var n;return n=(t=t||{}).getShadowRoot?pE([e],t.includeContainer,{filter:wE.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:_E}):dE(e,t.includeContainer,wE.bind(null,t)),EE(n)},kE=__webpack_require__(15249);function CE(e){return e.split("-")[1]}function SE(e){return"y"===e?"height":"width"}function FE(e){return e.split("-")[0]}function OE(e){return["top","bottom"].includes(FE(e))?"x":"y"}function AE(e,t,n){let{reference:r,floating:o}=e;const a=r.x+r.width/2-o.width/2,i=r.y+r.height/2-o.height/2,s=OE(t),u=SE(s),c=r[u]/2-o[u]/2,l="x"===s;let f;switch(FE(t)){case"top":f={x:a,y:r.y-o.height};break;case"bottom":f={x:a,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:i};break;case"left":f={x:r.x-o.width,y:i};break;default:f={x:r.x,y:r.y}}switch(CE(t)){case"start":f[s]-=c*(n&&l?-1:1);break;case"end":f[s]+=c*(n&&l?-1:1)}return f}function TE(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function PE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function jE(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=t,h=TE(p),m=s[d?"floating"===f?"reference":"floating":f],v=PE(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:l,strategy:u})),g="floating"===f?{...i.floating,x:r,y:o}:i.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),y=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},D=PE(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:b,strategy:u}):g);return{top:(v.top-D.top+h.top)/y.y,bottom:(D.bottom-v.bottom+h.bottom)/y.y,left:(v.left-D.left+h.left)/y.x,right:(D.right-v.right+h.right)/y.x}}const ME=Math.min,BE=Math.max;function NE(e,t,n){return BE(e,ME(t,n))}const RE=["top","right","bottom","left"],IE=(RE.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function LE(e){return e.replace(/left|right|bottom|top/g,(e=>IE[e]))}function zE(e,t,n){void 0===n&&(n=!1);const r=CE(e),o=OE(e),a=SE(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=LE(i)),{main:i,cross:LE(i)}}const qE={start:"end",end:"start"};function UE(e){return e.replace(/start|end/g,(e=>qE[e]))}const VE=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:a,initialPlacement:i,platform:s,elements:u}=t,{mainAxis:c=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...m}=e,v=FE(r),g=FE(i)===i,b=await(null==s.isRTL?void 0:s.isRTL(u.floating)),y=f||(g||!h?[LE(i)]:function(e){const t=LE(e);return[UE(e),t,UE(t)]}(i));f||"none"===p||y.push(...function(e,t,n,r){const o=CE(e);let a=function(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}(FE(e),"start"===n,r);return o&&(a=a.map((e=>e+"-"+o)),t&&(a=a.concat(a.map(UE)))),a}(i,h,p,b));const D=[i,...y],w=await jE(t,m),_=[];let E=(null==(n=o.flip)?void 0:n.overflows)||[];if(c&&_.push(w[v]),l){const{main:e,cross:t}=zE(r,a,b);_.push(w[e],w[t])}if(E=[...E,{placement:r,overflows:_}],!_.every((e=>e<=0))){var x,k;const e=((null==(x=o.flip)?void 0:x.index)||0)+1,t=D[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(k=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(d){case"bestFit":{var C;const e=null==(C=E.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=i}if(r!==n)return{reset:{placement:n}}}return{}}}};const HE=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(e,t){const{placement:n,platform:r,elements:o}=e,a=await(null==r.isRTL?void 0:r.isRTL(o.floating)),i=FE(n),s=CE(n),u="x"===OE(n),c=["left","top"].includes(i)?-1:1,l=a&&u?-1:1,f="function"==typeof t?t(e):t;let{mainAxis:d,crossAxis:p,alignmentAxis:h}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),u?{x:p*l,y:d*c}:{x:d*c,y:p*l}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function $E(e){return"x"===e?"y":"x"}const WE=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=e,c={x:n,y:r},l=await jE(t,u),f=OE(FE(o)),d=$E(f);let p=c[f],h=c[d];if(a){const e="y"===f?"bottom":"right";p=NE(p+l["y"===f?"top":"left"],p,p-l[e])}if(i){const e="y"===d?"bottom":"right";h=NE(h+l["y"===d?"top":"left"],h,h-l[e])}const m=s.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function KE(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function GE(e){return KE(e).getComputedStyle(e)}const YE=Math.min,ZE=Math.max,XE=Math.round;function JE(e){const t=GE(e);let n=parseFloat(t.width),r=parseFloat(t.height);const o=e.offsetWidth,a=e.offsetHeight,i=XE(n)!==o||XE(r)!==a;return i&&(n=o,r=a),{width:n,height:r,fallback:i}}function QE(e){return ox(e)?(e.nodeName||"").toLowerCase():""}let ex;function tx(){if(ex)return ex;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(ex=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),ex):navigator.userAgent}function nx(e){return e instanceof KE(e).HTMLElement}function rx(e){return e instanceof KE(e).Element}function ox(e){return e instanceof KE(e).Node}function ax(e){return"undefined"!=typeof ShadowRoot&&(e instanceof KE(e).ShadowRoot||e instanceof ShadowRoot)}function ix(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=GE(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function sx(e){return["table","td","th"].includes(QE(e))}function ux(e){const t=/firefox/i.test(tx()),n=GE(e),r=n.backdropFilter||n.WebkitBackdropFilter;return"none"!==n.transform||"none"!==n.perspective||!!r&&"none"!==r||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((e=>n.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=n.contain;return null!=t&&t.includes(e)}))}function cx(){return/^((?!chrome|android).)*safari/i.test(tx())}function lx(e){return["html","body","#document"].includes(QE(e))}function fx(e){return rx(e)?e:e.contextElement}const dx={x:1,y:1};function px(e){const t=fx(e);if(!nx(t))return dx;const n=t.getBoundingClientRect(),{width:r,height:o,fallback:a}=JE(t);let i=(a?XE(n.width):n.width)/r,s=(a?XE(n.height):n.height)/o;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}function hx(e,t,n,r){var o,a;void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=fx(e);let u=dx;t&&(r?rx(r)&&(u=px(r)):u=px(e));const c=s?KE(s):window,l=cx()&&n;let f=(i.left+(l&&(null==(o=c.visualViewport)?void 0:o.offsetLeft)||0))/u.x,d=(i.top+(l&&(null==(a=c.visualViewport)?void 0:a.offsetTop)||0))/u.y,p=i.width/u.x,h=i.height/u.y;if(s){const e=KE(s),t=r&&rx(r)?KE(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=px(n),t=n.getBoundingClientRect(),r=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(r.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(r.paddingTop))*e.y,f*=e.x,d*=e.y,p*=e.x,h*=e.y,f+=t.x,d+=t.y,n=KE(n).frameElement}}return{width:p,height:h,top:d,right:f+p,bottom:d+h,left:f,x:f,y:d}}function mx(e){return((ox(e)?e.ownerDocument:e.document)||window.document).documentElement}function vx(e){return rx(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function gx(e){return hx(mx(e)).left+vx(e).scrollLeft}function bx(e){if("html"===QE(e))return e;const t=e.assignedSlot||e.parentNode||ax(e)&&e.host||mx(e);return ax(t)?t.host:t}function yx(e){const t=bx(e);return lx(t)?t.ownerDocument.body:nx(t)&&ix(t)?t:yx(t)}function Dx(e,t){var n;void 0===t&&(t=[]);const r=yx(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=KE(r);return o?t.concat(a,a.visualViewport||[],ix(r)?r:[]):t.concat(r,Dx(r))}function wx(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=KE(e),r=mx(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,u=0;if(o){a=o.width,i=o.height;const e=cx();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,u=o.offsetTop)}return{width:a,height:i,x:s,y:u}}(e,n);else if("document"===t)r=function(e){const t=mx(e),n=vx(e),r=e.ownerDocument.body,o=ZE(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ZE(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+gx(e);const s=-n.scrollTop;return"rtl"===GE(r).direction&&(i+=ZE(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}(mx(e));else if(rx(t))r=function(e,t){const n=hx(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=nx(e)?px(e):{x:1,y:1};return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:o*a.x,y:r*a.y}}(t,n);else{const n={...t};if(cx()){var o,a;const t=KE(e);n.x-=(null==(o=t.visualViewport)?void 0:o.offsetLeft)||0,n.y-=(null==(a=t.visualViewport)?void 0:a.offsetTop)||0}r=n}return PE(r)}function _x(e,t){return nx(e)&&"fixed"!==GE(e).position?t?t(e):e.offsetParent:null}function Ex(e,t){const n=KE(e);let r=_x(e,t);for(;r&&sx(r)&&"static"===GE(r).position;)r=_x(r,t);return r&&("html"===QE(r)||"body"===QE(r)&&"static"===GE(r).position&&!ux(r))?n:r||function(e){let t=bx(e);for(;nx(t)&&!lx(t);){if(ux(t))return t;t=bx(t)}return null}(e)||n}function xx(e,t,n){const r=nx(t),o=mx(t),a=hx(e,!0,"fixed"===n,t);let i={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==QE(t)||ix(o))&&(i=vx(t)),nx(t)){const e=hx(t,!0);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=gx(o));return{x:a.left+i.scrollLeft-s.x,y:a.top+i.scrollTop-s.y,width:a.width,height:a.height}}const kx={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=Dx(e).filter((e=>rx(e)&&"body"!==QE(e))),o=null;const a="fixed"===GE(e).position;let i=a?bx(e):e;for(;rx(i)&&!lx(i);){const e=GE(i),t=ux(i);"fixed"===e.position?o=null:(a?t||o:t||"static"!==e.position||!o||!["absolute","fixed"].includes(o.position))?o=e:r=r.filter((e=>e!==i)),i=bx(i)}return t.set(e,r),r}(t,this._c):[].concat(n),i=[...a,r],s=i[0],u=i.reduce(((e,n)=>{const r=wx(t,n,o);return e.top=ZE(r.top,e.top),e.right=YE(r.right,e.right),e.bottom=YE(r.bottom,e.bottom),e.left=ZE(r.left,e.left),e}),wx(t,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=nx(n),a=mx(n);if(n===a)return t;let i={scrollLeft:0,scrollTop:0},s={x:1,y:1};const u={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==QE(n)||ix(a))&&(i=vx(n)),nx(n))){const e=hx(n);s=px(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-i.scrollLeft*s.x+u.x,y:t.y*s.y-i.scrollTop*s.y+u.y}},isElement:rx,getDimensions:function(e){return nx(e)?JE(e):e.getBoundingClientRect()},getOffsetParent:Ex,getDocumentElement:mx,getScale:px,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Ex,a=this.getDimensions;return{reference:xx(t,await o(n),r),floating:{x:0,y:0,...await a(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===GE(e).direction};function Cx(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=!0,animationFrame:s=!1}=r,u=o&&!s,c=u||a?[...rx(e)?Dx(e):e.contextElement?Dx(e.contextElement):[],...Dx(t)]:[];c.forEach((e=>{u&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));let l,f=null;if(i){let r=!0;f=new ResizeObserver((()=>{r||n(),r=!1})),rx(e)&&!s&&f.observe(e),rx(e)||!e.contextElement||s||f.observe(e.contextElement),f.observe(t)}let d=s?hx(e):null;return s&&function t(){const r=hx(e);!d||r.x===d.x&&r.y===d.y&&r.width===d.width&&r.height===d.height||n(),d=r,l=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach((e=>{u&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==(e=f)||e.disconnect(),f=null,s&&cancelAnimationFrame(l)}}const Sx=(e,t,n)=>{const r=new Map,o={platform:kx,...n},a={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),u=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:f}=AE(c,r,u),d=r,p={},h=0;for(let m=0;m<s.length;m++){const{name:n,fn:a}=s[m],{x:v,y:g,data:b,reset:y}=await a({x:l,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});l=null!=v?v:l,f=null!=g?g:f,p={...p,[n]:{...p[n],...b}},y&&h<=50&&(h++,"object"==typeof y&&(y.placement&&(d=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:l,y:f}=AE(c,d,u))),m=-1)}return{x:l,y:f,placement:d,strategy:o,middlewareData:p}})(e,t,{...o,platform:a})};function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ax="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;function Tx(e,t){if(e===t)return!0;if((0,c.Z)(e)!==(0,c.Z)(t))return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;var n,r,o;if(e&&t&&"object"==(0,c.Z)(e)){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Tx(e[r],t[r]))return!1;return!0}if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var a=o[r];if(("_owner"!==a||!e.$$typeof)&&!Tx(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}function Px(e){var t=a.useRef(e);return Ax((function(){t.current=e})),t}function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jx(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bx="undefined"!=typeof document?a.useLayoutEffect:a.useEffect,Nx=!1,Rx=0,Ix=function(){return"floating-ui-"+Rx++};var Lx=i["useId".toString()]||function(){var e=k(a.useState((function(){return Nx?Ix():void 0})),2),t=e[0],n=e[1];return Bx((function(){null==t&&n(Ix())}),[]),a.useEffect((function(){Nx||(Nx=!0)}),[]),t};function zx(){var e=new Map;return{emit:function(t,n){var r;null==(r=e.get(t))||r.forEach((function(e){return e(n)}))},on:function(t,n){e.set(t,[].concat(V(e.get(t)||[]),[n]))},off:function(t,n){e.set(t,(e.get(t)||[]).filter((function(e){return e!==n})))}}}var qx=a.createContext(null),Ux=a.createContext(null),Vx=function(){var e;return(null==(e=a.useContext(qx))?void 0:e.id)||null},Hx=function(){return a.useContext(Ux)};function $x(e){return(null==e?void 0:e.ownerDocument)||document}function Wx(){var e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function Kx(){var e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Gx(e){return $x(e).defaultView||window}function Yx(e){return!!e&&e instanceof Gx(e).Element}function Zx(e){return!!e&&e instanceof Gx(e).HTMLElement}function Xx(e){if(0===e.mozInputSource&&e.isTrusted)return!0;var t=/Android/i;return(t.test(Wx())||t.test(Kx()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function Jx(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function Qx(){return/apple/i.test(navigator.vendor)}function ek(){return Wx().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function tk(e,t){var n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function nk(e){var t=(0,a.useRef)(e);return Bx((function(){t.current=e})),t}var rk="data-floating-ui-safe-polygon";function ok(e,t,n){return n&&!tk(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}var ak=function(e,t){var n=void 0===t?{}:t,r=n.enabled,o=void 0===r||r,i=n.delay,s=void 0===i?0:i,u=n.handleClose,c=void 0===u?null:u,l=n.mouseOnly,f=void 0!==l&&l,d=n.restMs,p=void 0===d?0:d,h=n.move,m=void 0===h||h,v=e.open,g=e.onOpenChange,b=e.dataRef,y=e.events,D=e.elements,w=D.domReference,_=D.floating,E=e.refs,x=Hx(),k=Vx(),C=nk(c),S=nk(s),F=a.useRef(),O=a.useRef(),A=a.useRef(),T=a.useRef(),P=a.useRef(!0),j=a.useRef(!1),M=a.useRef((function(){})),B=a.useCallback((function(){var e,t=null==(e=b.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[b]);a.useEffect((function(){if(o)return y.on("dismiss",e),function(){y.off("dismiss",e)};function e(){clearTimeout(O.current),clearTimeout(T.current),P.current=!0}}),[o,y]),a.useEffect((function(){if(o&&C.current&&v){var e=$x(_).documentElement;return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseleave",t)}}function t(){B()&&g(!1)}}),[_,v,g,o,C,b,B]);var N=a.useCallback((function(e){void 0===e&&(e=!0);var t=ok(S.current,"close",F.current);t&&!A.current?(clearTimeout(O.current),O.current=setTimeout((function(){return g(!1)}),t)):e&&(clearTimeout(O.current),g(!1))}),[S,g]),R=a.useCallback((function(){M.current(),A.current=void 0}),[]),I=a.useCallback((function(){if(j.current){var e=$x(E.floating.current).body;e.style.pointerEvents="",e.removeAttribute(rk),j.current=!1}}),[E]);return a.useEffect((function(){if(o&&Yx(w)){var t=w;return v&&t.addEventListener("mouseleave",i),null==_||_.addEventListener("mouseleave",i),m&&t.addEventListener("mousemove",r,{once:!0}),t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",a),function(){v&&t.removeEventListener("mouseleave",i),null==_||_.removeEventListener("mouseleave",i),m&&t.removeEventListener("mousemove",r),t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",a)}}function n(){return!!b.current.openEvent&&["click","mousedown"].includes(b.current.openEvent.type)}function r(e){if(clearTimeout(O.current),P.current=!1,!(f&&!tk(F.current)||p>0&&0===ok(S.current,"open"))){b.current.openEvent=e;var t=ok(S.current,"open",F.current);t?O.current=setTimeout((function(){g(!0)}),t):g(!0)}}function a(t){if(!n()){M.current();var r=$x(_);if(clearTimeout(T.current),C.current){v||clearTimeout(O.current),A.current=C.current(Mx(Mx({},e),{},{tree:x,x:t.clientX,y:t.clientY,onClose:function(){I(),R(),N()}}));var o=A.current;return r.addEventListener("mousemove",o),void(M.current=function(){r.removeEventListener("mousemove",o)})}N()}}function i(t){n()||null==C.current||C.current(Mx(Mx({},e),{},{tree:x,x:t.clientX,y:t.clientY,onClose:function(){I(),R(),N()}}))(t)}}),[w,_,o,e,f,p,m,N,R,I,g,v,x,S,C,b]),Bx((function(){var e;if(o&&v&&null!=(e=C.current)&&e.__options.blockPointerEvents&&B()){var t=$x(_).body;if(t.setAttribute(rk,""),t.style.pointerEvents="none",j.current=!0,Yx(w)&&_){var n,r,a=w,i=null==x||null==(n=x.nodesRef.current.find((function(e){return e.id===k})))||null==(r=n.context)?void 0:r.elements.floating;return i&&(i.style.pointerEvents=""),a.style.pointerEvents="auto",_.style.pointerEvents="auto",function(){a.style.pointerEvents="",_.style.pointerEvents=""}}}}),[o,v,k,_,w,x,C,b,B]),Bx((function(){v||(F.current=void 0,R(),I())}),[v,R,I]),a.useEffect((function(){return function(){R(),clearTimeout(O.current),clearTimeout(T.current),I()}}),[o,R,I]),a.useMemo((function(){if(!o)return{};function e(e){F.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove:function(){v||0===p||(clearTimeout(T.current),T.current=setTimeout((function(){P.current||g(!0)}),p))}},floating:{onMouseEnter:function(){clearTimeout(O.current)},onMouseLeave:function(){y.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),N(!1)}}}}),[y,o,p,v,g,N])};function ik(){return ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(this,arguments)}function sk(e){for(var t=e.activeElement;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function uk(e,t){if(!e||!t)return!1;var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&function(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Gx(e).ShadowRoot||e instanceof ShadowRoot)}(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function ck(e,t){for(var n=e.filter((function(e){var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}))||[],r=n;r.length;)r=e.filter((function(e){var t;return null==(t=r)?void 0:t.some((function(t){var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))}))||[],n=n.concat(r);return n}function lk(e){return"composedPath"in e?e.composedPath()[0]:e.target}function fk(e){e.preventDefault(),e.stopPropagation()}var dk=function(){return{getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"}};function pk(e,t){var n=xE(e,dk());"prev"===t&&n.reverse();var r=n.indexOf(sk($x(e)));return n.slice(r+1)[0]}function hk(){return pk(document.body,"next")}function mk(){return pk(document.body,"prev")}function vk(e,t){var n=t||e.currentTarget,r=e.relatedTarget;return!r||!uk(n,r)}function gk(e){xE(e,dk()).forEach((function(e){e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function bk(e){e.querySelectorAll("[data-tabindex]").forEach((function(e){var t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}var yk=i["useInsertionEffect".toString()]||function(e){return e()};function Dk(e){var t=a.useRef((function(){0}));return yk((function(){t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current.apply(t,n)}),[])}var wk,_k,Ek={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function xk(e){"Tab"===e.key&&(wk=e.target,clearTimeout(_k))}var kk=a.forwardRef((function(e,t){var n=Dk(e.onFocus),r=k(a.useState(),2),o=r[0],i=r[1];return Bx((function(){return Qx()&&i("button"),document.addEventListener("keydown",xk),function(){document.removeEventListener("keydown",xk)}}),[]),a.createElement("span",ik({},e,{ref:t,tabIndex:0,role:o,"aria-hidden":!o||void 0,"data-floating-ui-focus-guard":"",style:Ek,onFocus:function(e){Qx()&&ek()&&!function(e){var t=wk===e.relatedTarget;return wk=e.relatedTarget,clearTimeout(_k),t}(e)?(e.persist(),_k=window.setTimeout((function(){n(e)}),50)):n(e)}}))})),Ck=a.createContext(null),Sk=function(e){var t=e.children,n=e.id,r=e.root,o=void 0===r?null:r,i=e.preserveTabOrder,s=void 0===i||i,u=function(e){var t=void 0===e?{}:e,n=t.id,r=t.enabled,o=void 0===r||r,i=k(a.useState(null),2),s=i[0],u=i[1],c=Lx(),l=Fk();return Bx((function(){if(o){var e=n?document.getElementById(n):null;if(!e){var t=document.createElement("div");""!==n&&(t.id=n||c),t.setAttribute("data-floating-ui-portal",""),u(t);var r=(null==l?void 0:l.portalNode)||document.body;return r.appendChild(t),function(){r.removeChild(t)}}e.setAttribute("data-floating-ui-portal",""),u(e)}}),[n,l,c,o]),s}({id:n,enabled:!o}),c=k(a.useState(null),2),l=c[0],f=c[1],d=a.useRef(null),p=a.useRef(null),h=a.useRef(null),m=a.useRef(null),v=!!l&&!l.modal&&!(!o&&!u)&&s;return a.useEffect((function(){if(u&&s&&(null==l||!l.modal))return u.addEventListener("focusin",e,!0),u.addEventListener("focusout",e,!0),function(){u.removeEventListener("focusin",e,!0),u.removeEventListener("focusout",e,!0)};function e(e){u&&vk(e)&&("focusin"===e.type?bk:gk)(u)}}),[u,s,null==l?void 0:l.modal]),a.createElement(Ck.Provider,{value:a.useMemo((function(){return{preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:p,beforeInsideRef:h,afterInsideRef:m,portalNode:u,setFocusManagerState:f}}),[s,u])},v&&u&&a.createElement(kk,{"data-type":"outside",ref:d,onFocus:function(e){if(vk(e,u)){var t;null==(t=h.current)||t.focus()}else{var n=mk()||(null==l?void 0:l.refs.domReference.current);null==n||n.focus()}}}),v&&u&&a.createElement("span",{"aria-owns":u.id,style:Ek}),o?(0,kE.createPortal)(t,o):u?(0,kE.createPortal)(t,u):null,v&&u&&a.createElement(kk,{"data-type":"outside",ref:p,onFocus:function(e){if(vk(e,u)){var t;null==(t=m.current)||t.focus()}else{var n=hk()||(null==l?void 0:l.refs.domReference.current);null==n||n.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1))}}}))},Fk=function(){return a.useContext(Ck)};function Ok(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);var n=e;return null!=n.target&&t.contains(n.target)}var Ak={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Tk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Pk=function(e,t){var n=e.open,r=e.onOpenChange,o=e.events,i=e.nodeId,s=e.elements,u=s.reference,c=s.domReference,l=s.floating,f=e.dataRef,d=void 0===t?{}:t,h=d.enabled,m=void 0===h||h,v=d.escapeKey,g=void 0===v||v,b=d.outsidePress,y=void 0===b||b,D=d.outsidePressEvent,w=void 0===D?"pointerdown":D,_=d.referencePress,E=void 0!==_&&_,x=d.referencePressEvent,k=void 0===x?"pointerdown":x,C=d.ancestorScroll,S=void 0!==C&&C,F=d.bubbles,O=void 0===F||F,A=Hx(),T=null!=Vx(),P=Dk("function"==typeof y?y:function(){return!1}),j="function"==typeof y?P:y,M=a.useRef(!1),B=function(e){var t,n;return void 0===e&&(e=!0),{escapeKeyBubbles:"boolean"==typeof e?e:null==(t=e.escapeKey)||t,outsidePressBubbles:"boolean"==typeof e?e:null==(n=e.outsidePress)||n}}(O),N=B.escapeKeyBubbles,R=B.outsidePressBubbles;return a.useEffect((function(){if(n&&m){f.current.__escapeKeyBubbles=N,f.current.__outsidePressBubbles=R;var e=$x(l);g&&e.addEventListener("keydown",a),j&&e.addEventListener(w,s);var t=[];return S&&(Yx(c)&&(t=Dx(c)),Yx(l)&&(t=t.concat(Dx(l))),!Yx(u)&&u&&u.contextElement&&(t=t.concat(Dx(u.contextElement)))),(t=t.filter((function(t){var n;return t!==(null==(n=e.defaultView)?void 0:n.visualViewport)}))).forEach((function(e){e.addEventListener("scroll",d,{passive:!0})})),function(){g&&e.removeEventListener("keydown",a),j&&e.removeEventListener(w,s),t.forEach((function(e){e.removeEventListener("scroll",d)}))}}function a(e){if("Escape"===e.key){var t=A?ck(A.nodesRef.current,i):[];if(t.length>0){var n=!0;if(t.forEach((function(e){var t;null==(t=e.context)||!t.open||e.context.dataRef.current.__escapeKeyBubbles||(n=!1)})),!n)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function s(e){var t=M.current;if(M.current=!1,!t&&("function"!=typeof j||j(e))){var n=lk(e);if(Zx(n)&&l){var a=l.ownerDocument.defaultView||window,s=n.scrollWidth>n.clientWidth,u=n.scrollHeight>n.clientHeight,f=u&&e.offsetX>n.clientWidth;if(u)"rtl"===a.getComputedStyle(n).direction&&(f=e.offsetX<=n.offsetWidth-n.clientWidth);if(f||s&&e.offsetY>n.clientHeight)return}var d=A&&ck(A.nodesRef.current,i).some((function(t){var n;return Ok(e,null==(n=t.context)?void 0:n.elements.floating)}));if(!(Ok(e,l)||Ok(e,c)||d)){var p=A?ck(A.nodesRef.current,i):[];if(p.length>0){var h=!0;if(p.forEach((function(e){var t;null==(t=e.context)||!t.open||e.context.dataRef.current.__outsidePressBubbles||(h=!1)})),!h)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:T?{preventScroll:!0}:Xx(e)||Jx(e)}}),r(!1)}}}function d(){r(!1)}}),[f,l,c,u,g,j,w,o,A,i,n,r,S,m,N,R,T]),a.useEffect((function(){M.current=!1}),[j,w]),a.useMemo((function(){return m?{reference:p({},Ak[k],(function(){E&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))})),floating:p({},Tk[w],(function(){M.current=!0}))}:{}}),[m,o,E,w,k,r])},jk=function(e,t){var n=e.open,r=e.onOpenChange,o=e.dataRef,i=e.events,s=e.refs,u=e.elements,c=u.floating,l=u.domReference,f=void 0===t?{}:t,d=f.enabled,p=void 0===d||d,h=f.keyboardOnly,m=void 0===h||h,v=a.useRef(""),g=a.useRef(!1),b=a.useRef();return a.useEffect((function(){if(p){var e=$x(c).defaultView||window;return e.addEventListener("blur",t),function(){e.removeEventListener("blur",t)}}function t(){!n&&Zx(l)&&l===sk($x(l))&&(g.current=!0)}}),[c,l,n,p]),a.useEffect((function(){if(p)return i.on("dismiss",e),function(){i.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(g.current=!0)}}),[i,p]),a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]),a.useMemo((function(){return p?{reference:{onPointerDown:function(e){var t=e.pointerType;v.current=t,g.current=!(!t||!m)},onMouseLeave:function(){g.current=!1},onFocus:function(e){var t;g.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&o.current.openEvent&&Ok(o.current.openEvent,l)||(o.current.openEvent=e.nativeEvent,r(!0))},onBlur:function(e){g.current=!1;var t=e.relatedTarget,n=Yx(t)&&t.hasAttribute("data-floating-ui-focus-guard")&&"outside"===t.getAttribute("data-type");b.current=setTimeout((function(){uk(s.floating.current,t)||uk(l,t)||n||r(!1)}))}}}:{}}),[p,m,l,s,o,r])};var Mk=function(e,t){var n=e.open,r=void 0===t?{}:t,o=r.enabled,i=void 0===o||o,s=r.role,u=void 0===s?"dialog":s,c=Lx(),l=Lx();return a.useMemo((function(){var e={id:c,role:u};return i?"tooltip"===u?{reference:{"aria-describedby":n?c:void 0},floating:e}:{reference:Mx(Mx({"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===u?"dialog":u,"aria-controls":n?c:void 0},"listbox"===u&&{role:"combobox"}),"menu"===u&&{id:l}),floating:Mx(Mx({},e),"menu"===u&&{"aria-labelledby":l})}:{}}),[i,u,n,c,l])};var Bk=function(e,t){var n,r=e.open,o=e.dataRef,i=e.refs,s=void 0===t?{listRef:{current:[]},activeIndex:null}:t,u=s.listRef,c=s.activeIndex,l=s.onMatch,f=void 0===l?function(){}:l,d=s.enabled,p=void 0===d||d,h=s.findMatch,m=void 0===h?null:h,v=s.resetMs,g=void 0===v?1e3:v,b=s.ignoreKeys,y=void 0===b?[]:b,D=s.selectedIndex,w=void 0===D?null:D,_=a.useRef(),E=a.useRef(""),x=a.useRef(null!=(n=null!=w?w:c)?n:-1),k=a.useRef(null),C=Dk(f),S=nk(m),F=nk(y);return Bx((function(){r&&(clearTimeout(_.current),k.current=null,E.current="")}),[r]),Bx((function(){var e;r&&""===E.current&&(x.current=null!=(e=null!=w?w:c)?e:-1)}),[r,w,c]),a.useMemo((function(){if(!p)return{};function e(e){var t,n=lk(e.nativeEvent);if(!Yx(n)||(sk($x(n))!==e.currentTarget?null==(t=i.floating.current)||!t.contains(n)||n.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')===e.currentTarget:e.currentTarget.contains(n))){E.current.length>0&&" "!==E.current[0]&&(o.current.typing=!0," "===e.key&&fk(e));var r=u.current;if(!(null==r||F.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)){r.every((function(e){var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&E.current===e.key&&(E.current="",x.current=k.current),E.current+=e.key,clearTimeout(_.current),_.current=setTimeout((function(){E.current="",x.current=k.current,o.current.typing=!1}),g);var a=x.current,s=[].concat(V(r.slice((a||0)+1)),V(r.slice(0,(a||0)+1))),c=S.current?S.current(s,E.current):s.find((function(e){return 0===(null==e?void 0:e.toLocaleLowerCase().indexOf(E.current.toLocaleLowerCase()))})),l=c?r.indexOf(c):-1;-1!==l&&(C(l),k.current=l)}}}return{reference:{onKeyDown:e},floating:{onKeyDown:e}}}),[p,o,u,g,F,S,C,i])};function Nk(e){void 0===e&&(e={});var t=e,n=t.open,r=void 0!==n&&n,o=t.onOpenChange,i=t.nodeId,s=function(e){void 0===e&&(e={});var t=e,n=t.placement,r=void 0===n?"bottom":n,o=t.strategy,i=void 0===o?"absolute":o,s=t.middleware,u=void 0===s?[]:s,c=t.platform,l=t.whileElementsMounted,f=t.open,d=k(a.useState({x:null,y:null,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),2),p=d[0],h=d[1],m=k(a.useState(u),2),v=m[0],g=m[1];Tx(v,u)||g(u);var b=a.useRef(null),y=a.useRef(null),D=a.useRef(p),w=Px(l),_=Px(c),E=k(a.useState(null),2),x=E[0],C=E[1],S=k(a.useState(null),2),F=S[0],O=S[1],A=a.useCallback((function(e){b.current!==e&&(b.current=e,C(e))}),[]),T=a.useCallback((function(e){y.current!==e&&(y.current=e,O(e))}),[]),P=a.useCallback((function(){if(b.current&&y.current){var e={placement:r,strategy:i,middleware:v};_.current&&(e.platform=_.current),Sx(b.current,y.current,e).then((function(e){var t=Ox(Ox({},e),{},{isPositioned:!0});j.current&&!Tx(D.current,t)&&(D.current=t,kE.flushSync((function(){h(t)})))}))}}),[v,r,i,_]);Ax((function(){!1===f&&D.current.isPositioned&&(D.current.isPositioned=!1,h((function(e){return Ox(Ox({},e),{},{isPositioned:!1})})))}),[f]);var j=a.useRef(!1);Ax((function(){return j.current=!0,function(){j.current=!1}}),[]),Ax((function(){if(x&&F){if(w.current)return w.current(x,F,P);P()}}),[x,F,P,w]);var M=a.useMemo((function(){return{reference:b,floating:y,setReference:A,setFloating:T}}),[A,T]),B=a.useMemo((function(){return{reference:x,floating:F}}),[x,F]);return a.useMemo((function(){return Ox(Ox({},p),{},{update:P,refs:M,elements:B,reference:A,floating:T})}),[p,P,M,B,A,T])}(e),u=Hx(),c=a.useRef(null),l=a.useRef({}),f=a.useState((function(){return zx()}))[0],d=k(a.useState(null),2),p=d[0],h=d[1],m=a.useCallback((function(e){var t=Yx(e)?{getBoundingClientRect:function(){return e.getBoundingClientRect()},contextElement:e}:e;s.refs.setReference(t)}),[s.refs]),v=a.useCallback((function(e){(Yx(e)||null===e)&&(c.current=e,h(e)),(Yx(s.refs.reference.current)||null===s.refs.reference.current||null!==e&&!Yx(e))&&s.refs.setReference(e)}),[s.refs]),g=a.useMemo((function(){return Mx(Mx({},s.refs),{},{setReference:v,setPositionReference:m,domReference:c})}),[s.refs,v,m]),b=a.useMemo((function(){return Mx(Mx({},s.elements),{},{domReference:p})}),[s.elements,p]),y=Dk(o),D=a.useMemo((function(){return Mx(Mx({},s),{},{refs:g,elements:b,dataRef:l,nodeId:i,events:f,open:r,onOpenChange:y})}),[s,i,f,r,y,g,b]);return Bx((function(){var e=null==u?void 0:u.nodesRef.current.find((function(e){return e.id===i}));e&&(e.context=D)})),a.useMemo((function(){return Mx(Mx({},s),{},{context:D,refs:g,reference:v,positionReference:m})}),[s,g,D,v,m])}function Rk(e,t,n){var r=new Map;return Mx(Mx(Mx({},"floating"===n&&{tabIndex:-1}),e),t.map((function(e){return e?e[n]:null})).concat(e).reduce((function(e,t){return t?(Object.entries(t).forEach((function(t){var n,o=k(t,2),a=o[0],i=o[1];0===a.indexOf("on")?(r.has(a)||r.set(a,[]),"function"==typeof i&&(null==(n=r.get(a))||n.push(i),e[a]=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];null==(e=r.get(a))||e.forEach((function(e){return e.apply(void 0,n)}))})):e[a]=i})),e):e}),{}))}var Ik=function(e){void 0===e&&(e=[]);var t=e,n=a.useCallback((function(t){return Rk(t,e,"reference")}),t),r=a.useCallback((function(t){return Rk(t,e,"floating")}),t),o=a.useCallback((function(t){return Rk(t,e,"item")}),e.map((function(e){return null==e?void 0:e.item})));return a.useMemo((function(){return{getReferenceProps:n,getFloatingProps:r,getItemProps:o}}),[n,r,o])},Lk=__webpack_require__(56201),zk=__webpack_require__.n(Lk),qk=(__webpack_require__(48702),__webpack_require__(14431)),Uk=__webpack_require__(70184),Vk=__webpack_require__(56645),Hk=__webpack_require__(1403);function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$k(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kk={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function Gk(e,t){if(!Array.isArray(e)||!e.length)return e;var n,r,o=Wk(Wk({},Kk),t);if(o.strictlyTwoElementsInRangeArrays&&!e.every((function(e,t){return!(!Array.isArray(e)||2!==e.length)||(n=t,r=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") has not two but ").concat(r," elements!"));if(!e.every((function(e,t){return!(!Array.isArray(e)||!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(n=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") does not consist of only natural numbers!"));var a=Math.pow(e.length,2),i=0;return Array.from(e).sort((function(e,t){return o.progressFn&&(i+=1,o.progressFn(Math.floor(100*i/a))),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yk(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xk={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function Jk(e,t){function n(e){return!!e&&"object"==(0,c.Z)(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var r;if(t){if(!n(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat((0,c.Z)(t),")"));if((r=Zk(Zk({},Xk),t)).progressFn&&n(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&"function"!=typeof r.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat((0,c.Z)(r.progressFn),'", equal to ').concat(JSON.stringify(r.progressFn,null,4)));if(![1,2,"1","2"].includes(r.mergeType))throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,c.Z)(r.mergeType),'", equal to ').concat(JSON.stringify(r.mergeType,null,4)));if("boolean"!=typeof r.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat((0,c.Z)(r.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(r.joinRangesThatTouchEdges,null,4)))}else r=Zk({},Xk);var o,a,i,s=e.filter((function(e){return Array.isArray(e)})).map((function(e){return V(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));o=r.progressFn?Gk(s,{progressFn:function(e){(i=Math.floor(e/5))!==a&&(a=i,r.progressFn(i))}}):Gk(s);for(var u=o.length-1,l=u;l>0;l--)r.progressFn&&((i=Math.floor(78*(1-l/u))+21)!==a&&i>a&&(a=i,r.progressFn(i))),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),void 0!==o[l][2]&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&null!==o[l-1][2]&&(null===o[l][2]&&null!==o[l-1][2]?o[l-1][2]=null:null!=o[l-1][2]?2==+r.mergeType&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}var Qk="Invariant failed";function eC(e,t){if(!e)throw new Error(Qk)}function tC(e,t,n){var r,o=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat((0,c.Z)(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(t&&!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat((0,c.Z)(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat((0,c.Z)(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!t||!t.filter((function(e){return e})).length)return e;var i=(r=Array.isArray(t)&&Number.isInteger(t[0])&&Number.isInteger(t[1])?[Array.from(t)]:Array.from(t)).length,s=0;r.filter((function(e){return e})).forEach((function(e,t){if(n&&((o=Math.floor(s/i*10))!==a&&(a=o,n(o))),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(t,"th element not an array: ").concat(JSON.stringify(e,null,4),", which is ").concat((0,c.Z)(e)));if(!Number.isInteger(e[0])){if(!Number.isInteger(+e[0])||+e[0]<0)throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(t,"th element, array ").concat(JSON.stringify(e,null,0),". Its first element is not an integer, string index, but ").concat((0,c.Z)(e[0]),", equal to: ").concat(JSON.stringify(e[0],null,4),"."));r[t][0]=+r[t][0]}if(!Number.isInteger(e[1])){if(!Number.isInteger(+e[1])||+e[1]<0)throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(t,"th element, array ").concat(JSON.stringify(e,null,0),". Its second element is not an integer, string index, but ").concat((0,c.Z)(e[1]),", equal to: ").concat(JSON.stringify(e[1],null,4),"."));r[t][1]=+r[t][1]}s+=1}));var u=Jk(r,{progressFn:function(e){n&&((o=10+Math.floor(e/10))!==a&&(a=o,n(o)))}});eC(u);var l=u.length;if(l>0){var f=e.slice(u[l-1][1]);e=u.reduce((function(t,r,i,s){n&&((o=20+Math.floor(i/l*80))!==a&&(a=o,n(o)));var u=0===i?0:s[i-1][1],c=s[i][0];return"".concat(t).concat(e.slice(u,c)).concat(s[i][2]||"")}),""),e+=f}return e}function nC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=" ";function r(e){return Array.from(e).reverse().join("")}function o(e,t,r){var o=r?"\n":"\r",a=r?"\r":"\n";if(!e)return e;for(var i=0,s="",u=0,c=e.length;u<c;u++)(e[u]===o||e[u]===a&&e[u-1]!==o)&&i++,"\r\n".includes(e[u])||e[u]===n?(0,e[u]===n?s+=e[u]:e[u]===o?i<=t&&(s+=e[u],e[u+1]===a&&(s+=e[u+1],u++)):e[u]===a&&(null==e?void 0:e[u-1])!==o&&i<=t&&(s+=e[u])):(!e[u+1]&&!i&&(s+=" "));return s}if("string"==typeof e&&e.length){var a=1;"number"==typeof+t&&Number.isInteger(+t)&&+t>=0&&(a=+t);var i="",s="";if(e.trim()){if(!e[0].trim())for(var u=0,c=e.length;u<c;u++)if(e[u].trim()){i=e.slice(0,u);break}}else i=e;if(e.trim()&&(""===e.slice(-1).trim()||e.slice(-1)===n))for(var l=e.length;l--;)if(e[l].trim()){s=e.slice(l+1);break}return"".concat(o(i,a,!1)).concat(e.trim()).concat(r(o(r(s),a,!0)))}return e}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aC={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function iC(e,t){if(!Array.isArray(e)||!e.length)return e;var n,r,o=oC(oC({},aC),t);if(o.strictlyTwoElementsInRangeArrays&&!e.every((function(e,t){return!(!Array.isArray(e)||2!==e.length)||(n=t,r=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") has not two but ").concat(r," elements!"));if(!e.every((function(e,t){return!(!Array.isArray(e)||!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(n=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") does not consist of only natural numbers!"));var a=Math.pow(e.length,2),i=0;return Array.from(e).sort((function(e,t){return o.progressFn&&(i+=1,o.progressFn(Math.floor(100*i/a))),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}var sC={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function uC(e){return null!=e}function cC(e){return Number.isInteger(e)&&e>=0}function lC(e){return"string"==typeof e}var fC={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},dC=function(){function e(t){u(this,e),p(this,"ranges",void 0),p(this,"opts",void 0);var n=oC(oC({},fC),t);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(lC(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!lC(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,c.Z)(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n,this.ranges=[]}return d(e,[{key:"add",value:function(e,t,n){var r=this;if(null!=e||null!=t){if(uC(e)&&!uC(t)){if(Array.isArray(e)){if(e.length){if(e.some((function(e){return Array.isArray(e)})))return void e.forEach((function(e){Array.isArray(e)&&r.add.apply(r,V(e))}));e.length&&cC(+e[0])&&cC(+e[1])&&this.add.apply(this,V(e))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(e,null,0),') but second-one, "to" is not (').concat(JSON.stringify(t,null,0),")"))}if(!uC(e)&&uC(t))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(t,null,0),') but first-one, "from" is not (').concat(JSON.stringify(e,null,0),")"));var o=+e,a=+t;if(cC(n)&&(n=String(n)),!cC(o)||!cC(a))throw cC(o)&&o>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat((0,c.Z)(a),'" equal to: ').concat(JSON.stringify(a,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat((0,c.Z)(o),'" equal to: ').concat(JSON.stringify(o,null,4)));if(uC(n)&&!lC(n)&&!cC(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat((0,c.Z)(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(uC(this.ranges)&&Array.isArray(this.last())&&o===this.last()[1]){if(this.last()[1]=a,this.last()[2],null!==this.last()[2]&&uC(n)){var i,s=!this.last()[2]||!this.last()[2].length||null!==(i=this.opts)&&void 0!==i&&i.mergeType&&1!==this.opts.mergeType?n:"".concat(this.last()[2]).concat(n);this.opts.limitToBeAddedWhitespace&&(s=nC(s,this.opts.limitLinebreaksCount)),lC(s)&&!s.length||(this.last()[2]=s)}}else{this.ranges||(this.ranges=[]);var u=void 0===n||lC(n)&&!n.length?[o,a]:[o,a,n&&this.opts.limitToBeAddedWhitespace?nC(n,this.opts.limitLinebreaksCount):n];this.ranges.push(u)}}}},{key:"push",value:function(e,t,n){this.add(e,t,n)}},{key:"current",value:function(){var e=this;return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=function(e,t){function n(e){return!!e&&"object"==(0,c.Z)(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var r;if(t){if(!n(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat((0,c.Z)(t),")"));if((r=oC(oC({},sC),t)).progressFn&&n(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&"function"!=typeof r.progressFn)throw new Error('ranges-merge: [THROW_ID_01] resolvedOpts.progressFn must be a function! It was given of a type: "'.concat((0,c.Z)(r.progressFn),'", equal to ').concat(JSON.stringify(r.progressFn,null,4)));if(![1,2,"1","2"].includes(r.mergeType))throw new Error('ranges-merge: [THROW_ID_02] resolvedOpts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,c.Z)(r.mergeType),'", equal to ').concat(JSON.stringify(r.mergeType,null,4)));if("boolean"!=typeof r.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] resolvedOpts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat((0,c.Z)(r.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(r.joinRangesThatTouchEdges,null,4)))}else r=oC({},sC);var o,a,i,s=e.filter((function(e){return Array.isArray(e)})).map((function(e){return V(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));o=r.progressFn?iC(s,{progressFn:function(e){(i=Math.floor(e/5))!==a&&(a=i,r.progressFn(i))}}):iC(s);for(var u=o.length-1,l=u;l>0;l--)r.progressFn&&(i=Math.floor(78*(1-l/u))+21)!==a&&i>a&&(a=i,r.progressFn(i)),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),void 0!==o[l][2]&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&null!==o[l-1][2]&&(null===o[l][2]&&null!==o[l-1][2]?o[l-1][2]=null:null!=o[l-1][2]?2==+r.mergeType&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(t){return uC(t[2])?[t[0],t[1],nC(t[2],e.opts.limitLinebreaksCount)]:t})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=[]}},{key:"replace",value:function(e){if(Array.isArray(e)&&e.length){if(!Array.isArray(e[0])||!cC(e[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(e[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(e)}else this.ranges=[]}},{key:"last",value:function(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null}}]),e}();__webpack_require__(30514);var pC=" ";function hC(e){var t=e.str,n=e.idx,r=void 0===n?0:n,o=e.stopAtNewlines,a=void 0!==o&&o,i=e.stopAtRawNbsp,s=void 0!==i&&i;if("string"!=typeof t||!t.length||((!r||"number"!=typeof r)&&(r=0),!t[r+1]))return null;if(t[r+1]&&(t[r+1].trim()||a&&"\n\r".includes(t[r+1])||s&&t[r+1]===pC))return r+1;if(t[r+2]&&(t[r+2].trim()||a&&"\n\r".includes(t[r+2])||s&&t[r+2]===pC))return r+2;for(var u=r+1,c=t.length;u<c;u++)if(t[u].trim()||a&&"\n\r".includes(t[u])||s&&t[u]===pC)return u;return null}function mC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hC({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bC(e,t){if(!e)return[];if(Array.isArray(e))return e.filter((function(e){return"string"==typeof e&&e.trim()}));if("string"==typeof e)return e.trim()?[e]:[];throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_03] ".concat(t," must be array containing zero or more strings or something falsey. Currently it's equal to: ").concat(e,", that a type of ").concat((0,c.Z)(e),"."))}function yC(e,t,n){return!e||!e.quotes||!function(e,t,n,r){for(var o=t,a=e.length;o<a;o++){if(e.startsWith(n,o))return!0;if(e.startsWith(r,o))return!1}return!1}(t,n+1,e.quotes.value,">")}var DC={ignoreTags:[],ignoreTagsWithTheirContents:[],onlyStripTags:[],stripTogetherWithTheirContents:["script","style","xml"],skipHtmlDecoding:!1,trimOnlySpaces:!1,stripRecognisedHTMLOnly:!1,dumpLinkHrefsNearby:{enabled:!1,putOnNewLine:!1,wrapHeads:"",wrapTails:""},cb:null};function wC(e,t){var n=Date.now(),r=new Set(["!doctype","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","param","picture","pre","progress","rb","rp","rt","rtc","ruby","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr","xml"]),o=new Set(["a","b","i","p","q","s","u"]),a=new Set([".",",","?",";",")","…",'"',"»"]),i=[],s=[],u=[],l=[],f={};f={attributes:[]};var d=null,p=null,h={},m={tagName:"",hrefValue:"",openingTagEnds:void 0},v="",g=!1,b=null,y=!0;function D(t,n,r){if(Array.isArray(n.stripTogetherWithTheirContents)&&(n.stripTogetherWithTheirContents.includes(f.name)||n.stripTogetherWithTheirContents.includes("*")))if(f.slashPresent&&Array.isArray(i)&&i.some((function(e){return e.name===f.name})))for(var o=function(o){if(i[o].name===f.name){l=l.filter((function(e){var n=k(e,2),r=n[0],a=n[1];return(r<i[o].lastOpeningBracketAt||r>=t+1)&&(a<=i[o].lastOpeningBracketAt||a>t+1)}));var s=t+1;return f.lastClosingBracketAt&&(s=f.lastClosingBracketAt+1),l.push([i[o].lastOpeningBracketAt,s]),a.has(e[t])&&n.cb?n.cb({tag:f,deleteFrom:i[o].lastOpeningBracketAt,deleteTo:t+1,insert:null,rangesArr:r,proposedReturn:[i[o].lastOpeningBracketAt,t,null]}):n.cb&&n.cb({tag:f,deleteFrom:i[o].lastOpeningBracketAt,deleteTo:t,insert:"",rangesArr:r,proposedReturn:[i[o].lastOpeningBracketAt,t,""]}),i.splice(o,1),"break"}},s=i.length;s--;){if("break"===o(s))break}else f.slashPresent||i.push(f);else Array.isArray(n.ignoreTagsWithTheirContents)&&C(t,n,f)&&(y=!1)}function w(e,t,n,r,o,i){var s="";if(Number.isInteger(n)&&n<o&&(s+=e.slice(n,o)),Number.isInteger(r)&&r>i+1){var u=e.slice(i+1,r);u.includes("\n")&&E(r,e)?s+=" ":s+=u}var c=!a.has(e[t]),l=">"!==e[r-1]||!e[n].trim(),f=!['"',"("].includes(e[o-1]),d=![";",".",":","!"].includes(e[t]);if((c||l&&f&&d)&&(l||f)&&"!"!==e[t]){var p=s.match(/\n/g);return Array.isArray(p)&&p.length?1===p.length?"\n":2===p.length?"\n\n":"\n\n\n":" "}return""}function _(e){if(e.dumpLinkHrefsNearby.enabled&&m.tagName&&m.tagName===f.name&&f.lastOpeningBracketAt&&(m.openingTagEnds&&f.lastOpeningBracketAt>m.openingTagEnds||!m.openingTagEnds)&&(g=!0),g){var t=e.dumpLinkHrefsNearby.putOnNewLine?"\n\n":"";v="".concat(t).concat(m.hrefValue).concat(t)}}function E(t,n){return n?"<"===n[t]&&"%"!==n[t+1]:"<"===e[t]&&"%"!==e[t+1]}function x(t){return">"===e[t]&&"%"!==e[t-1]}function C(t,n,r){if(n.ignoreTagsWithTheirContents.includes("*"))return!0;var o=e.indexOf("<".concat(r.name),t),a=e.indexOf("</".concat(r.name),t);return!(!r.slashPresent&&-1===a||r.slashPresent&&!s.some((function(e){return e.name===r.name}))||a>-1&&o>-1&&o<a)&&n.ignoreTagsWithTheirContents.includes(r.name)}if("string"!=typeof e)throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_01] Input must be string! Currently it's: ".concat((0,c.Z)(e).toLowerCase(),", equal to:\n").concat(JSON.stringify(e,null,4)));if(t&&!qk(t))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_02] Optional Options Object must be a plain object! Currently it's: ".concat((0,c.Z)(t).toLowerCase(),", equal to:\n").concat(JSON.stringify(t,null,4)));function S(){g&&(m={tagName:"",hrefValue:"",openingTagEnds:void 0},g=!1)}var F=gC(gC({},DC),t);if(Object.prototype.hasOwnProperty.call(F,"returnRangesOnly"))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_03] resolvedOpts.returnRangesOnly has been removed from the API since v.5 release.");F.ignoreTags=bC(F.ignoreTags,"resolvedOpts.ignoreTags"),F.onlyStripTags=bC(F.onlyStripTags,"resolvedOpts.onlyStripTags");var O=!!F.onlyStripTags.length;if(F.onlyStripTags.length&&F.ignoreTags.length&&(F.onlyStripTags=Vk.apply(void 0,[F.onlyStripTags].concat(V(F.ignoreTags)))),qk(F.dumpLinkHrefsNearby)||(F.dumpLinkHrefsNearby=gC({},DC.dumpLinkHrefsNearby)),F.dumpLinkHrefsNearby=DC.dumpLinkHrefsNearby,t&&Object.prototype.hasOwnProperty.call(t,"dumpLinkHrefsNearby")&&function(e){return null!=e}(t.dumpLinkHrefsNearby))if(qk(t.dumpLinkHrefsNearby))F.dumpLinkHrefsNearby=gC(gC({},DC.dumpLinkHrefsNearby),t.dumpLinkHrefsNearby);else if(t.dumpLinkHrefsNearby)throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_04] Optional Options Object's key dumpLinkHrefsNearby was set to ".concat((0,c.Z)(t.dumpLinkHrefsNearby),", equal to ").concat(JSON.stringify(t.dumpLinkHrefsNearby,null,4),". The only allowed value is a plain object. See the API reference."));F.stripTogetherWithTheirContents?"string"==typeof F.stripTogetherWithTheirContents&&F.stripTogetherWithTheirContents.length&&(F.stripTogetherWithTheirContents=[F.stripTogetherWithTheirContents]):F.stripTogetherWithTheirContents=[];var A={};if(F.stripTogetherWithTheirContents&&Array.isArray(F.stripTogetherWithTheirContents)&&F.stripTogetherWithTheirContents.length&&!F.stripTogetherWithTheirContents.every((function(e,t){return"string"==typeof e||(A.el=e,A.i=t,!1)})))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_05] Optional Options Object's key stripTogetherWithTheirContents was set to contain not just string elements! For example, element at index ".concat(A.i," has a value ").concat(A.el," which is not string but ").concat((0,c.Z)(A.el).toLowerCase(),"."));F.cb||(F.cb=function(e){var t=e.rangesArr,n=e.proposedReturn;n&&t.push.apply(t,V(n))});var T=new dC({limitToBeAddedWhitespace:!0,limitLinebreaksCount:2});if(!F.skipHtmlDecoding)for(;e!==(0,Hk.decode)(e,{scope:"strict"});)e=(0,Hk.decode)(e,{scope:"strict"});for(var P=!1,j=!1,M=function(t,n){var a,c;if(Object.keys(f).length>1&&f.lastClosingBracketAt&&f.lastClosingBracketAt<t&&" "!==e[t]&&null===b&&(b=t),!P&&"%"===e[t]&&"{"===e[t-1]&&e.includes("%}",t+1)){var A=e.indexOf("%}",t)-1;if(A>t)return B=t=A,"continue"}if(!P&&x(t)&&(!f||Object.keys(f).length<2)&&t>1)for(var M=t;M--;)if(void 0===e[M-1]||x(M)){var N=function(){var o=void 0===e[M-1]?M:M+1,a=e.slice(o,t+1);if(e!=="<".concat(Uk(a.trim(),"/>"),">")&&V(r).some((function(e){return Uk(a.trim().split(/\s+/).filter((function(e){return e.trim()})).filter((function(e,t){return 0===t})),"/>").toLowerCase()===e}))&&""===wC("<".concat(a.trim(),">"),F).result){(!u.length||u[u.length-1][0]!==f.lastOpeningBracketAt)&&u.push([o,t+1]),(!l.length||l[l.length-1][0]!==f.lastOpeningBracketAt)&&l.push([o,t+1]);var i=w(e,t,o,t+1,o,t+1),s=t+1;if(e[s]&&!e[s].trim())for(var c=s;c<n;c++)if(e[c].trim()){s=c;break}F.cb({tag:f,deleteFrom:o,deleteTo:s,insert:i,rangesArr:T,proposedReturn:[o,s,i]})}return"break"}();if("break"===N)break}if(!j&&"/"===e[t]&&!(null!==(a=f.quotes)&&void 0!==a&&a.value)&&Number.isInteger(f.lastOpeningBracketAt)&&!Number.isInteger(f.lastClosingBracketAt)&&(f.slashPresent=t),'"'===e[t]||"'"===e[t])if(!j&&f.nameStarts&&f.quotes&&f.quotes.value&&f.quotes.value===e[t]){var R;h.valueEnds=t,h.value=e.slice(h.valueStarts,t),f.attributes.push(h),h={},delete f.quotes,F.dumpLinkHrefsNearby.enabled&&f.attributes.some((function(e){if(e.name&&"href"===e.name.toLowerCase())return B=t,R="".concat(F.dumpLinkHrefsNearby.wrapHeads||"").concat(e.value).concat(F.dumpLinkHrefsNearby.wrapTails||""),!0}))&&(m={tagName:f.name,hrefValue:R,openingTagEnds:void 0})}else!j&&!f.quotes&&f.nameStarts&&(f.quotes={},f.quotes.value=e[t],f.quotes.start=t,h.nameStarts&&h.nameEnds&&h.nameEnds<t&&h.nameStarts<t&&!h.valueStarts&&(h.name=e.slice(h.nameStarts,h.nameEnds)));if(!(void 0===f.nameStarts||void 0!==f.nameEnds||e[t].trim()&&function(e){return/[-_A-Za-z0-9]/.test(e)}(e[t]))){if(f.nameEnds=t,f.name=e.slice(f.nameStarts,f.nameEnds+(x(t)||"/"===e[t]||void 0!==e[t+1]?0:1)),"!"!==e[f.nameStarts-1]&&!f.name.replace(/-/g,"").length||/^\d+$/.test(f.name[0]))return f={},B=t,"continue";if("doctype"===f.name.toLowerCase()&&(j=!0),E(t)){_(F);var I=w(e,t,f.leftOuterWhitespace,t,f.lastOpeningBracketAt,t);(F.stripTogetherWithTheirContents.includes(f.name)||F.stripTogetherWithTheirContents.includes("*"))&&(l=l.filter((function(e){var n=k(e,2),r=n[0],o=n[1];return!(r===f.leftOuterWhitespace&&o===t)}))),F.cb({tag:f,deleteFrom:f.leftOuterWhitespace,deleteTo:t,insert:"".concat(I).concat(v).concat(I),rangesArr:T,proposedReturn:[f.leftOuterWhitespace,t,"".concat(I).concat(v).concat(I)]}),S(),D(t,F,T)}}if(null!==(c=f.quotes)&&void 0!==c&&c.start&&f.quotes.start<t&&!f.quotes.end&&h.nameEnds&&h.equalsAt&&!h.valueStarts&&(h.valueStarts=t),!f.quotes&&h.nameEnds&&"="===e[t]&&!h.valueStarts&&!h.equalsAt&&(h.equalsAt=t),!f.quotes&&h.nameStarts&&h.nameEnds&&!h.valueStarts&&e[t].trim()&&"="!==e[t]&&(f.attributes.push(h),h={}),!f.quotes&&h.nameStarts&&!h.nameEnds&&(j&&"'\"".includes(e[h.nameStarts])?h.nameStarts<t&&e[t]===e[h.nameStarts]&&(h.nameEnds=t+1,h.name=e.slice(h.nameStarts,h.nameEnds)):e[t].trim()?"="===e[t]?h.equalsAt||(h.nameEnds=t,h.equalsAt=t,h.name=e.slice(h.nameStarts,h.nameEnds)):("/"===e[t]||x(t)||E(t))&&(h.nameEnds=t,h.name=e.slice(h.nameStarts,h.nameEnds),f.attributes.push(h),h={}):(h.nameEnds=t,h.name=e.slice(h.nameStarts,h.nameEnds))),!f.quotes&&f.nameEnds<t&&!e[t-1].trim()&&e[t].trim()&&!"<>/!".includes(e[t])&&!h.nameStarts&&!f.lastClosingBracketAt&&(h.nameStarts=t),null!==f.lastOpeningBracketAt&&f.lastOpeningBracketAt<t&&"/"===e[t]&&f.onlyPlausible&&(f.onlyPlausible=!1),null!==f.lastOpeningBracketAt&&f.lastOpeningBracketAt<t&&"/"!==e[t]&&(void 0===f.onlyPlausible&&(e[t].trim()&&!E(t)||f.slashPresent?f.onlyPlausible=!1:f.onlyPlausible=!0),e[t].trim()&&void 0===f.nameStarts&&!E(t)&&"/"!==e[t]&&!x(t)&&"!"!==e[t]&&(f.nameStarts=t,f.nameContainsLetters=!1)),f.nameStarts&&!f.quotes&&e[t].toLowerCase()!==e[t].toUpperCase()&&(f.nameContainsLetters=!0),x(t)&&yC(f,e,t)&&void 0!==f.lastOpeningBracketAt&&(f.lastClosingBracketAt=t,b=null,Object.keys(h).length&&(f.attributes.push(h),h={}),F.dumpLinkHrefsNearby.enabled&&m.tagName&&!m.openingTagEnds&&(m.openingTagEnds=t)),(!j||">"===e[t])&&void 0!==f.lastOpeningBracketAt){if(void 0===f.lastClosingBracketAt){if(f.lastOpeningBracketAt<t&&!E(t)&&(void 0===e[t+1]||E(t+1))&&f.nameContainsLetters){if(f.name=e.slice(f.nameStarts,f.nameEnds?f.nameEnds:t+1).toLowerCase(),(!u.length||u[u.length-1][0]!==f.lastOpeningBracketAt)&&u.push([f.lastOpeningBracketAt,t+1]),F.ignoreTags.includes(f.name)||C(t,F,f)||!r.has(f.name)&&(f.onlyPlausible||F.stripRecognisedHTMLOnly))return f={},h={},B=t,"continue";if((r.has(f.name)||o.has(f.name))&&(!1===f.onlyPlausible||!0===f.onlyPlausible&&f.attributes.length)||void 0===e[t+1]){_(F);var L=w(e,t,f.leftOuterWhitespace,t+1,f.lastOpeningBracketAt,f.lastClosingBracketAt);P&&"script"===f.name&&f.slashPresent&&(P=!1),F.cb({tag:f,deleteFrom:f.leftOuterWhitespace,deleteTo:t+1,insert:"".concat(L).concat(v).concat(L),rangesArr:T,proposedReturn:[f.leftOuterWhitespace,t+1,"".concat(L).concat(v).concat(L)]}),S(),D(t,F,T)}if(!l.length||l[l.length-1][0]!==f.lastOpeningBracketAt&&l[l.length-1][1]!==t+1)if(F.stripTogetherWithTheirContents.includes(f.name)||F.stripTogetherWithTheirContents.includes("*")){for(var z,q=i.length;q--;)i[q].name===f.name&&(z=i[q]);z?(l=l.filter((function(e){return k(e,1)[0]!==z.lastOpeningBracketAt}))).push([z.lastOpeningBracketAt,t+1]):l.push([f.lastOpeningBracketAt,t+1])}else l.push([f.lastOpeningBracketAt,t+1])}}else if(t>f.lastClosingBracketAt&&e[t].trim()||void 0===e[t+1]){var U,H=f.lastClosingBracketAt===t?t+1:t;F.trimOnlySpaces&&H===n-1&&null!==b&&b<t&&(H=b),(!u.length||u[u.length-1][0]!==f.lastOpeningBracketAt)&&u.push([f.lastOpeningBracketAt,f.lastClosingBracketAt+1]);var $=F.ignoreTags.includes(f.name),W=C(t,F,f);if(!y||F.stripRecognisedHTMLOnly&&!r.has(f.name.toLowerCase())||!O&&($||W)||O&&!F.onlyStripTags.includes(f.name)){if(W)if(f.slashPresent){for(var K=s.length;K--;)if(s[K].name===f.name){s.splice(K,1);break}s.length||(y=!0)}else y&&(y=!1),s.push(f);F.cb({tag:f,deleteFrom:null,deleteTo:null,insert:null,rangesArr:T,proposedReturn:null}),f={},h={}}else if(!f.onlyPlausible||0===f.attributes.length&&f.name&&(r.has(f.name.toLowerCase())||o.has(f.name.toLowerCase()))||null!==(U=f.attributes)&&void 0!==U&&U.some((function(e){return e.equalsAt}))){(!l.length||l[l.length-1][0]!==f.lastOpeningBracketAt)&&l.push([f.lastOpeningBracketAt,f.lastClosingBracketAt+1]);var G,Y=w(e,t,f.leftOuterWhitespace,H,f.lastOpeningBracketAt,f.lastClosingBracketAt);v="",g=!1,_(F),G=function(e){return"string"==typeof e}(v)&&v.length?"".concat(Y).concat(v).concat("\n\n"===Y?"\n":Y):Y,(0===f.leftOuterWhitespace||!mC(e,H-1))&&(G=""),F.cb({tag:f,deleteFrom:f.leftOuterWhitespace,deleteTo:H,insert:G,rangesArr:T,proposedReturn:[f.leftOuterWhitespace,H,G]}),S(),D(t,F,T)}else f={};x(t)||(f={})}j&&(j=!1)}if((!P||"<"===e[t]&&mC(e,mC(e,t))&&"/"===e[mC(e,t)]&&e.startsWith("script",mC(e,mC(e,t))))&&E(t)&&!E(t-1)&&!"'\"".includes(e[t+1])&&(!"'\"".includes(e[t+2])||/\w/.test(e[t+1]))&&("c"!==e[t+1]||":"!==e[t+2])&&("f"!==e[t+1]||"m"!==e[t+2]||"t"!==e[t+3]||":"!==e[t+4])&&("s"!==e[t+1]||"q"!==e[t+2]||"l"!==e[t+3]||":"!==e[t+4])&&("x"!==e[t+1]||":"!==e[t+2])&&("f"!==e[t+1]||"n"!==e[t+2]||":"!==e[t+3])&&yC(f,e,t)){if(x(mC(e,t)))return B=t,"continue";if(f.nameEnds&&f.nameEnds<t&&!f.lastClosingBracketAt&&(!0===f.onlyPlausible&&f.attributes&&f.attributes.length||!1===f.onlyPlausible)){var Z=w(e,t,f.leftOuterWhitespace,t,f.lastOpeningBracketAt,t);F.cb({tag:f,deleteFrom:f.leftOuterWhitespace,deleteTo:t,insert:Z,rangesArr:T,proposedReturn:[f.leftOuterWhitespace,t,Z]}),D(t,F,T),f={},h={}}if(void 0!==f.lastOpeningBracketAt&&f.onlyPlausible&&f.name&&!f.quotes&&(f.lastOpeningBracketAt=void 0,f.name=void 0,f.onlyPlausible=!1),!(void 0!==f.lastOpeningBracketAt&&f.onlyPlausible||f.quotes||(f.lastOpeningBracketAt=t,f.slashPresent=!1,f.attributes=[],null===d?f.leftOuterWhitespace=t:F.trimOnlySpaces&&0===d?f.leftOuterWhitespace=p||t:f.leftOuterWhitespace=d,"!--"!="".concat(e[t+1]).concat(e[t+2]).concat(e[t+3])&&"![CDATA["!="".concat(e[t+1]).concat(e[t+2]).concat(e[t+3]).concat(e[t+4]).concat(e[t+5]).concat(e[t+6]).concat(e[t+7]).concat(e[t+8])))){var X,J=!0;"-"===e[t+2]&&(J=!1);for(var Q=t;Q<n;Q++)if((!X&&J&&"]]>"=="".concat(e[Q-2]).concat(e[Q-1]).concat(e[Q])||!J&&"--\x3e"=="".concat(e[Q-2]).concat(e[Q-1]).concat(e[Q]))&&(X=Q),X&&(X<Q&&e[Q].trim()||void 0===e[Q+1])){var ee=Q;(void 0===e[Q+1]&&!e[Q].trim()||">"===e[Q])&&(ee+=1),(!u.length||u[u.length-1][0]!==f.lastOpeningBracketAt)&&u.push([f.lastOpeningBracketAt,X+1]),(!l.length||l[l.length-1][0]!==f.lastOpeningBracketAt)&&l.push([f.lastOpeningBracketAt,X+1]);var te=w(e,Q,f.leftOuterWhitespace,ee,f.lastOpeningBracketAt,X);F.cb({tag:f,deleteFrom:f.leftOuterWhitespace,deleteTo:ee,insert:te,rangesArr:T,proposedReturn:[f.leftOuterWhitespace,ee,te]}),t=Q-1,">"===e[Q]&&(t=Q),f={},h={};break}}}e[t].trim()?null!==d&&(!f.quotes&&h.equalsAt>d-1&&h.nameEnds&&h.equalsAt>h.nameEnds&&'"'!==e[t]&&"'"!==e[t]&&(qk(h)&&f.attributes.push(h),h={},f.equalsSpottedAt=void 0),d=null):null===d&&(d=t,void 0!==f.lastOpeningBracketAt&&f.lastOpeningBracketAt<t&&f.nameStarts&&f.nameStarts<f.lastOpeningBracketAt&&t===f.lastOpeningBracketAt+1&&!i.some((function(e){return e.name===f.name}))&&(f.onlyPlausible=!0,f.name=void 0,f.nameStarts=void 0))," "===e[t]?null===p&&(p=t):null!==p&&(p=null),"script"===f.name&&(P=!f.slashPresent),B=t},B=0,N=e.length;B<N;B++)M(B,N);if(e&&(F.trimOnlySpaces&&" "===e[0]||!F.trimOnlySpaces&&!e[0].trim()))for(var R=0,I=e.length;R<I;R++){if(F.trimOnlySpaces&&" "!==e[R]||!F.trimOnlySpaces&&e[R].trim()){T.push([0,R]);break}e[R+1]||T.push([0,R+1])}if(e&&(F.trimOnlySpaces&&" "===e[e.length-1]||!F.trimOnlySpaces&&!e[e.length-1].trim()))for(var L=e.length;L--;)if(F.trimOnlySpaces&&" "!==e[L]||!F.trimOnlySpaces&&e[L].trim()){T.push([L+1,e.length]);break}var z=T.current();if((!t||!t.cb)&&z){if(z[0]&&!z[0][0]){z[0][1];T.ranges[0]=[T.ranges[0][0],T.ranges[0][1]]}if(z[z.length-1]&&z[z.length-1][1]===e.length){z[z.length-1][0];if(T.ranges){var q=T.ranges[T.ranges.length-1][0];e[q-1]&&(F.trimOnlySpaces&&" "===e[q-1]||!F.trimOnlySpaces&&!e[q-1].trim())&&(q-=1);var U=T.ranges[T.ranges.length-1][2];T.ranges[T.ranges.length-1]=[q,T.ranges[T.ranges.length-1][1]],(null==U?void 0:U.trim())&&T.ranges[T.ranges.length-1].push(U.trimEnd())}}}return{log:{timeTakenInMilliseconds:Date.now()-n},result:tC(e,T.current()),ranges:T.current(),allTagLocations:u,filteredTagLocations:l}}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xC(e){var t=e.children,n=e.content,r=e.placement,o=void 0===r?"top":r,i=e.disabled,s=void 0!==i&&i,u=e.showOnMobile,c=void 0!==u&&u,l=e.longHover,f=void 0===l?null:l,d=e.longHoverTimeout,p=void 0===d?500:d,h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)(!1),2),b=g[0],y=g[1],D=Nk({placement:o,open:m,onOpenChange:v,middleware:[HE(5),VE(),WE({padding:8})],whileElementsMounted:Cx}),w=D.x,_=D.y,E=D.reference,x=D.floating,C=D.strategy,S=D.context,F=Ik([ak(S),jk(S),Mk(S,{role:"tooltip"}),Pk(S)]),O=F.getReferenceProps,A=F.getFloatingProps,T=(0,a.useRef)(null);(0,a.useEffect)((function(){f&&m?T.current=setTimeout((function(){y(!0)}),p):(clearTimeout(T.current),y(!1))}),[m,f,p]);return""===n||!1===c&&Ho()?(0,a.cloneElement)(t,EC(EC({},t.props),{},{"aria-label":wC(n).result,tabIndex:0})):a.createElement(a.Fragment,null,(0,a.cloneElement)(t,O(EC(EC({ref:E},t.props),{},{"aria-label":wC(n).result,tabIndex:0}))),m&&a.createElement(Sk,null,m&&!s&&a.createElement("div",A({ref:x,className:"bm-tooltip",style:{position:C,top:null!=_?_:0,left:null!=w?w:0}}),!b&&Gb(n),b&&f)))}const kC=(0,a.memo)(xC);__webpack_require__(61295);var CC=__webpack_require__(42750),SC=__webpack_require__.n(CC);function FC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ekey";if(!w7.encryption)return e;try{var n=w7[t];return SC().decrypt(e,n)}catch(O9){return e}}function OC(e){for(;-1!==e.indexOf("\n");)e=e.replace("\n","<br />");return e}function AC(){return 0===Number(window.Better_Messages.user_id)}var TC=new Set;var PC=new Map,jC=new ns;function MC(e,t){if(!1!==t.message_id){var n=RC(e);n.set(t.message_id,t),TC.add(t.message_id),PC.set(e,n),jC.next(e)}}function BC(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=RC(e);r.has(t)&&r.delete(t),TC.delete(t),PC.set(e,r),n&&jC.next(e)}function NC(e){var t=RC(e);t.size>0&&(t=new Map,PC.set(e,t),jC.next(e))}function RC(e){var t=new Map;return PC.has(e)&&(t=PC.get(e)),t}function IC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return e;if(e=(e=structuredClone(e)).filter((function(e){return"0000-00-00 00:00:00"!==e.date_sent})),t){var n=RC(t);n.forEach((function(t,n,r){-1===e.findIndex((function(e){return e.tmpId===n}))&&e.push(t)}))}var r=new Set;return(e=e.filter((function(e){var t=e.message_id;return!r.has(t)&&(r.add(t),!0)}))).map((function(e){"string"==typeof e.date_sent&&(e.date_sent=Co.fromFormat(e.date_sent,D7,{zone:"GMT"}).toLocal())})),e.sort((function(e,t){return e.date_sent.toMillis()-t.date_sent.toMillis()})),e}var LC=new Map;function zC(e){console.error(e)}function qC(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){return LC.has(e)?LC.get(e):void 0},r=(0,a.useState)(n),o=k(r,2),i=o[0],s=o[1];return(0,a.useLayoutEffect)((function(){var r;if(e){var o=J5.messages.findOne({selector:{message_id:e}});r=o.$.subscribe((function(r){r?s(r.toMutableJSON()):(t&&e>0&&(fS.messages.add(e),vS()),s(n))}))}else s(void 0);return function(){r&&r.unsubscribe()}}),[e,t]),i}function UC(e){return VC.apply(this,arguments)}function VC(){return VC=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,J5.messages.find({selector:{thread_id:t}}).exec();case 4:return n=e.sent,r=[],n.length>0&&n.map((function(e){r.push(e.toMutableJSON())})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function HC(e){return $C.apply(this,arguments)}function $C(){return($C=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.messages.find({selector:{thread_id:t}}).exec();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return Number(e.message_id)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WC(e){return KC.apply(this,arguments)}function KC(){return KC=n(o().mark((function e(t){var n,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,J5.messages.findOne({selector:{message_id:t}}).exec();case 3:if(r=e.sent,n&&!r&&t>0&&(fS.messages.add(t),vS()),!r){e.next=7;break}return e.abrupt("return",r.toMutableJSON());case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function GC(e){return YC.apply(this,arguments)}function YC(){return(YC=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LC.delete(t),e.next=3,J5.messages.findOne({selector:{message_id:t}}).exec();case 3:if(!(n=e.sent)){e.next=9;break}if(n.tmpId&&BC(n.thread_id,n.tmpId,!0),n.deleted){e.next=9;break}return e.next=9,n.remove().catch(zC);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZC(e){return XC.apply(this,arguments)}function XC(){return(XC=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.messages.find({selector:{thread_id:t}}).remove().catch(zC);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JC(e,t){return QC.apply(this,arguments)}function QC(){return(QC=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.messages.findOne({selector:{message_id:t}}).update({$set:n}).catch(zC);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e){return tS.apply(this,arguments)}function tS(){return tS=n(o().mark((function e(t){var r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return r=["message"],t=t.map((function(e){return r.map((function(t){void 0!==e[t]&&(e[t]=FC(e[t]))})),e})),a=t.map((function(e){return LC.set(e.message_id,structuredClone(e)),e.message_id})),i=new Map,e.next=8,J5.messages.find({selector:{message_id:{$in:a}}}).exec();case 8:return e.sent.map((function(e){i.set(e.get("message_id"),e)})),s=[],e.next=13,Promise.all(t.map(function(){var e=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i.has(t.message_id)&&(delete(r=i.get(t.message_id).toMutableJSON()).id,n=zk()(r,t)),n||s.push(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:if(!(s.length>0)){e.next=16;break}return e.next=16,J5.messages.bulkUpsert(s);case 16:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}var nS=new Map,rS=new Map,oS=new ns;function aS(e){return iS.apply(this,arguments)}function iS(){return(iS=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.statuses.findOne({selector:{message_id:t}}).exec();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toMutableJSON());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e){return uS.apply(this,arguments)}function uS(){return(uS=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.statuses.findOne({selector:{message_id:t.message_id}}).exec();case 2:if(!(n=e.sent)){e.next=9;break}if(n.get("status")===t.status){e.next=7;break}return e.next=7,J5.statuses.incrementalUpsert(t);case 7:e.next=11;break;case 9:return e.next=11,J5.statuses.incrementalUpsert(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cS(e,t){nS.set(e,t),oS.next(e)}var lS,fS={messages:new Set,users:new Set,statuses:new Set},dS={statuses:new Set,users:new Set,messages:new Set},pS=dS;function hS(){return mS.apply(this,arguments)}function mS(){return(mS=n(o().mark((function e(){var t,n,r,a,i,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=500,e.prev=1,window.clearTimeout(lS),lS=void 0,w7&&void 0!==w7.user_id){e.next=6;break}return e.abrupt("return",!1);case 6:if(n=!0,0===w7.user_id&&(w7.guestAuth||(n=!1)),n){e.next=10;break}return e.abrupt("return");case 10:if(r={},fS.users.size>0&&(a=Array.from(fS.users).filter((function(e){return!pS.users.has(e)}))).length>0&&(r.users=a),fS.messages.size>0&&(i=Array.from(fS.messages).filter((function(e){return!pS.messages.has(e)}))).length>0&&(r.messages=i),!(Object.keys(r).length>0)){e.next=23;break}return r.messages&&r.messages.length>0&&r.messages.map((function(e){pS.messages.add(e)})),r.users&&r.users.length>0&&r.users.map((function(e){pS.users.add(e)})),e.next=18,a7.post("lazyPool",r);case 18:s=e.sent,(u=s.data).users&&ES(u.users),u.messages&&eS(u.messages),t=1500;case 23:return e.prev=23,(fS.users.size>0||fS.messages.size)&&(lS=window.setTimeout(hS,t)),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[1,,23,26]])})))).apply(this,arguments)}function vS(){lS||(lS=window.setTimeout(hS,500))}document.addEventListener("better-messages-db-closed",(function(){pS=dS}));function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}new ns,new Set,new Map;function yS(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,a.useState)(null),r=k(n,2),o=r[0],i=r[1],s=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){var n=J5.users.findOne({selector:{user_id:e}}).$.subscribe((function(n){var r,o;n?(o=bS({},r=n.toMutableJSON()),t&&delete o.lastActive,zk()(s.current,o)||i(r)):(e&&(fS.users.add(e),vS()),o=null,i(null)),s.current=o}));return function(){n.unsubscribe()}}),[e]),o}function DS(e){var t=k((0,a.useState)(null),2),n=t[0],r=t[1];return(0,a.useEffect)((function(){var t;if(e)if(2!==e.participantsCount)r(null);else{var n=V(e.participants).filter((function(e){return e!==w7.user_id})).pop(),o=J5.users.findOne({selector:{user_id:n}});t=o.$.subscribe((function(e){r(e?e.toMutableJSON():null)}))}else r(null);return function(){t&&t.unsubscribe()}}),[e]),n}function wS(e){return _S.apply(this,arguments)}function _S(){return(_S=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.users.findOne({selector:{user_id:t}}).exec();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toMutableJSON());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e){return xS.apply(this,arguments)}function xS(){return xS=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return t.map((function(e){return fS.users.delete(e.user_id)})),r=["avatar","name","url"],t=t.map((function(e){return r.map((function(t){void 0!==e[t]&&(e[t]=FC(e[t]))})),e})),e.next=7,Promise.all(t.map(function(){var e=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(t.user_id);case 2:if(n=e.sent){e.next=8;break}return e.next=6,J5.users.incrementalUpsert(t);case 6:e.next=10;break;case 8:return e.next=10,J5.users.incrementalUpsert(bS(bS({},n),t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function kS(e,t){return CS.apply(this,arguments)}function CS(){return(CS=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.users.findOne({selector:{user_id:t}}).update({$set:n}).catch(zC);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SS,FS=new Set,OS=new Map,AS=new ns;function TS(e){var t=k((0,a.useState)(FS.has(e)),2),n=t[0],r=t[1],o=function(){r(FS.has(e))};return(0,a.useEffect)((function(){o();var t=AS.subscribe({next:function(t){t===e&&o()}});return function(){t.unsubscribe()}}),[e]),n}function PS(e){FS.add(Number(e)),AS.next(Number(e)),OS.set(Number(e),Co.local({zone:"GMT"}).toFormat(D7)),MS()}function jS(e){FS.delete(Number(e)),AS.next(Number(e)),OS.set(Number(e),Co.local({zone:"GMT"}).toFormat(D7)),MS()}function MS(){SS||(SS=window.setTimeout(BS,5e3))}function BS(){return NS.apply(this,arguments)}function NS(){return(NS=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,clearTimeout(SS),SS=void 0,e.next=5,t3();case 5:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:OS.size>0&&OS.forEach((function(e,t){kS(Number(t),{lastActive:e}),OS.delete(t),AS.next(Number(t))}));case 8:return e.prev=8,e.finish(8);case 10:case"end":return e.stop()}}),e,null,[[0,,8,10]])})))).apply(this,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}BS();var LS=a.memo((function(e){var t=!1,n=yS((e=IS(IS({},{link:!0,fallbackImg:""}),e)).user_id),r=TS(e.user_id);r&&n&&n.status&&(t=n.status);var o=null,i=null,s=null,u=null;return n&&(o=n.id,i=n.url,s=n.avatar,u=n.name),a.createElement(qS,{key:"user_avatar_"+e.user_id,user_id:o,url:i,avatar:s,name:u,size:e.size,link:e.link,online:r,status:t,fallbackImg:e.fallbackImg})}));const zS=LS;var qS=a.memo((function(e){var t=e.user_id,r=e.url,i=e.avatar,s=e.name,u=e.status,c="#8ac176",l=e.link;if(e.status&&w7.userStatuses){var f=w7.userStatuses.filter((function(e){return u.slug===e.slug}));f.length>0&&(c=f.shift().color)}var d="user_avatar_inner_undefined";t&&(d="user_avatar_inner_"+t),i&&(i=(0,Hk.decode)(i)),r||(l=!1);var p=function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O7("better_messages_before_avatar_click",!1,e.user_id);case 2:t.sent&&n.preventDefault();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.createElement("span",{key:d,className:"avatar bbpm-avatar"+(e.online?" online":""),style:{color:c}},!t&&a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:e.size,height:e.size,borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)),t&&!i&&a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:e.size,height:e.size,borderRadius:"4px",overflow:"hidden"}},a.createElement("div",{className:"bm-placeholder"})),t&&i&&a.createElement(a.Fragment,null,t&&l&&a.createElement(a.Fragment,null,a.createElement(kC,{content:S7(C7("Go to <strong>%s</strong> profile","Messages List - Avatar Tooltip","bp-better-messages"),s)},a.createElement("a",{onClick:p,href:r},a.createElement("img",{src:i,className:"avatar avatar-"+e.size,width:e.size,height:e.size,alt:S7(C7("Profile picture of %s","Messages List - Avatar Alt","bp-better-messages"),s)})))),t&&!l&&a.createElement("img",{onClick:p,src:i,className:"avatar avatar-"+e.size,width:e.size,height:e.size,alt:S7(C7("Profile picture of %s","Messages List - Avatar Alt","bp-better-messages"),s)})))})),US={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=a.createContext&&a.createContext(US),HS=function(){return HS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},HS.apply(this,arguments)},$S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function WS(e){return e&&e.map((function(e,t){return a.createElement(e.tag,HS({key:t},e.attr),WS(e.child))}))}function KS(e){return function(t){return a.createElement(GS,HS({attr:HS({},e.attr)},t),WS(e.child))}}function GS(e){var t=function(t){var n,r=e.attr,o=e.size,i=e.title,s=$S(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",HS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:HS(HS({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==VS?a.createElement(VS.Consumer,null,(function(e){return t(e)})):t(US)}function YS(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(e)}function ZS(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"}}]})(e)}function XS(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}}]})(e)}function JS(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"circle",attr:{cx:"8",cy:"8",r:"8"}}]})(e)}function QS(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146z"}}]})(e)}function eF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146zm.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.511.12H5.78l-.014-.004a4.507 4.507 0 0 0-.288-.076 4.922 4.922 0 0 0-.765-.116c-.422-.028-.836.008-1.175.15l5.51 5.509c.141-.34.177-.753.149-1.175a4.924 4.924 0 0 0-.192-1.054l-.004-.013v-.001a.5.5 0 0 1 .12-.512l3.536-3.535a.5.5 0 0 1 .532-.115l.096.022c.087.017.208.034.344.034.114 0 .23-.011.343-.04L9.927 2.028c-.029.113-.04.23-.04.343a1.779 1.779 0 0 0 .062.46z"}}]})(e)}function tF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"}}]})(e)}function nF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}},{tag:"path",attr:{d:"M5.5 7a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"}}]})(e)}function rF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}},{tag:"path",attr:{d:"M8 4.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V9a.5.5 0 0 1-1 0V7.5H6a.5.5 0 0 1 0-1h1.5V5a.5.5 0 0 1 .5-.5z"}}]})(e)}function oF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}}]})(e)}function aF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"}}]})(e)}function iF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zM2 2.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V8H9.5A1.5 1.5 0 0 0 8 9.5V14H2.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V9.5a.5.5 0 0 1 .5-.5h4.293L9 13.793z"}}]})(e)}function sF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}}]})(e)}function uF(e){return KS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}}]})(e)}function cF(e){return KS({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.58 15c1.25 0 2.52-.31 3.56-.94l-.42-.94c-.84.52-1.89.83-3.03.83-3.23 0-5.64-2.08-5.64-5.72 0-4.37 3.23-7.18 6.58-7.18 3.45 0 5.22 2.19 5.22 5.2 0 2.39-1.34 3.86-2.5 3.86-1.05 0-1.36-.73-1.05-2.19l.73-3.75H8.98l-.11.72c-.41-.63-.94-.83-1.56-.83-2.19 0-3.66 2.39-3.66 4.38 0 1.67.94 2.61 2.3 2.61.84 0 1.67-.53 2.3-1.25.11.94.94 1.45 1.98 1.45 1.67 0 3.77-1.67 3.77-5C14 2.61 11.59 0 7.83 0 3.66 0 0 3.33 0 8.33 0 12.71 2.92 15 6.58 15zm-.31-5c-.73 0-1.36-.52-1.36-1.67 0-1.45.94-3.22 2.41-3.22.52 0 .84.2 1.25.83l-.52 3.02c-.63.73-1.25 1.05-1.78 1.05V10z"}}]})(e)}function lF(e){return KS({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.67 7.066l-1.08-1.34a1.5 1.5 0 0 1-.309-.77l-.19-1.698a1.51 1.51 0 0 0-1.329-1.33l-1.699-.19c-.3-.03-.56-.159-.78-.329L8.945.33a1.504 1.504 0 0 0-1.878 0l-1.34 1.08a1.5 1.5 0 0 1-.77.31l-1.698.19c-.7.08-1.25.63-1.33 1.329l-.19 1.699c-.03.3-.159.56-.329.78L.33 7.055a1.504 1.504 0 0 0 0 1.878l1.08 1.34c.17.22.28.48.31.77l.19 1.698c.08.7.63 1.25 1.329 1.33l1.699.19c.3.03.56.159.78.329l1.339 1.08c.55.439 1.329.439 1.878 0l1.34-1.08c.22-.17.48-.28.77-.31l1.698-.19c.7-.08 1.25-.63 1.33-1.329l.19-1.699c.03-.3.159-.56.329-.78l1.08-1.339a1.504 1.504 0 0 0 0-1.878zM6.5 12.01L3 8.51l1.5-1.5 2 2 5-5L13 5.56l-6.5 6.45z"}}]})(e)}function fF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function dF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dF(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const hF=a.memo((function(e){var t=yS((e=pF(pF({},{link:!0,raw:!1,moderator:!1,fallback:""}),e)).user_id);return a.createElement(mF,{key:"user_name_"+e.user_id,user:t,moderator:e.moderator,link:e.link,raw:e.raw,fallback:e.fallback})}));var mF=function(e){S(i,e);var t,r=fF(i);function i(e){return u(this,i),r.call(this,e)}return d(i,[{key:"beforeUsernameClick",value:(t=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O7("better_messages_before_username_click",!1,this.props.user.user_id);case 2:e.sent&&t.preventDefault();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n=this,r=this.props.link;if(!this.props.user)return a.createElement("div",{className:"name bm-name"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)));if(this.props.user&&(t=this.props.user.name,e=(0,Hk.decode)(this.props.user.name),this.props.user.url||(r=!1)),this.props.raw){var o=e;return this.props.user&&1===this.props.user.verified&&(o=a.createElement(a.Fragment,null,e," ",a.createElement(kC,{content:C7("Verified","Verifice Icon Tooltip","bp-better-messages")},a.createElement("span",{className:"bm-name-verified"},a.createElement(lF,null)))," ")),o}var i=O7("better_messages_username_class","user bm-user");return a.createElement("div",{className:"name bm-name"},!this.props.user&&a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)),this.props.user&&a.createElement(a.Fragment,null,r&&a.createElement(kC,{content:S7(C7("Go to <strong>%s</strong> profile","Username Tooltip","bp-better-messages"),t)},a.createElement("a",{onClick:function(e){return n.beforeUsernameClick(e)},href:this.props.user.url,className:i},e)),!r&&a.createElement("span",{onClick:function(e){return n.beforeUsernameClick(e)},className:i},e)),this.props.user&&1===this.props.user.verified&&a.createElement(kC,{content:C7("Verified","Verifice Icon Tooltip","bp-better-messages")},a.createElement("span",{className:"bm-name-verified"},a.createElement(lF,null))),this.props.moderator&&a.createElement(kC,{content:C7("Moderator","Moderator Icon Tooltip","bp-better-messages")},a.createElement("span",{className:"bm-name-moderator"},a.createElement(oF,null))))}}]),i}(a.Component);function vF(e){var t="bm-mention";return w7.user_id===e.user_id&&(t+=" bm-mention-current"),a.createElement("span",{className:t},a.createElement(zS,{user_id:e.user_id,size:16,link:!1}),a.createElement(hF,{user_id:e.user_id,link:!1}))}function gF(e){var t='<span class="bm-mention" data-user-id="',n=new RegExp(t,"gi");if(-1===e.indexOf(t))return[e];for(var r=[],o=0,i=0;n.exec(e);){var s=n.lastIndex,u=s-t.length,c=e.indexOf('">',u),l=e.indexOf("</span>",u),f=Number(e.substring(s,c));e.substring(o,u).length>0&&r.push(e.substring(o,u)),i++,r.push(a.createElement(vF,{key:"message_mention_"+i,user_id:f})),o=l+7}return 0===o?[e]:(r.push(e.substring(o)),r)}__webpack_require__(76373);__webpack_require__(60086);function bF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bF(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function wF(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function _F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EF(e){return e&&e.__esModule?e.default:e}function xF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kF,CF,SF,FF,OF,AF,TF={},PF=[],jF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function MF(e,t){for(var n in t)e[n]=t[n];return e}function BF(e){var t=e.parentNode;t&&t.removeChild(e)}function NF(e,t,n){var r,o,a,i={};for(a in t)"key"==a?r=t[a]:"ref"==a?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?kF.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===i[a]&&(i[a]=e.defaultProps[a]);return RF(e,i,r,o,null)}function RF(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++SF:o};return null==o&&null!=CF.vnode&&CF.vnode(a),a}function IF(e){return e.children}function LF(e,t){this.props=e,this.context=t}function zF(e,t){if(null==t)return e.__?zF(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?zF(e):null}function qF(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return qF(e)}}function UF(e){(!e.__d&&(e.__d=!0)&&FF.push(e)&&!VF.__r++||AF!==CF.debounceRendering)&&((AF=CF.debounceRendering)||OF)(VF)}function VF(){for(var e;VF.__r=FF.length;)e=FF.sort((function(e,t){return e.__v.__b-t.__v.__b})),FF=[],e.some((function(e){var t,n,r,o,a,i;e.__d&&(a=(o=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=MF({},o)).__v=o.__v+1,JF(i,o,r,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?zF(o):a,o.__h),QF(n,o),o.__e!=a&&qF(o)))}))}function HF(e,t,n,r,o,a,i,s,u,c){var l,f,d,p,h,m,v,g=r&&r.__k||PF,b=g.length;for(n.__k=[],l=0;l<t.length;l++)if(null!=(p=n.__k[l]=null==(p=t[l])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?RF(null,p,null,null,p):Array.isArray(p)?RF(IF,{children:p},null,null,null):p.__b>0?RF(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(d=g[l])||d&&p.key==d.key&&p.type===d.type)g[l]=void 0;else for(f=0;f<b;f++){if((d=g[f])&&p.key==d.key&&p.type===d.type){g[f]=void 0;break}d=null}JF(e,p,d=d||TF,o,a,i,s,u,c),h=p.__e,(f=p.ref)&&d.ref!=f&&(v||(v=[]),d.ref&&v.push(d.ref,null,p),v.push(f,p.__c||h,p)),null!=h?(null==m&&(m=h),"function"==typeof p.type&&p.__k===d.__k?p.__d=u=$F(p,u,e):u=KF(e,p,d,g,h,u),"function"==typeof n.type&&(n.__d=u)):u&&d.__e==u&&u.parentNode!=e&&(u=zF(d))}for(n.__e=m,l=b;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=zF(r,l+1)),tO(g[l],g[l]));if(v)for(l=0;l<v.length;l++)eO(v[l],v[++l],v[++l])}function $F(e,t,n){for(var r,o=e.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=e,t="function"==typeof r.type?$F(r,t,n):KF(n,r,r,o,r.__e,t));return t}function WF(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){WF(e,t)})):t.push(e)),t}function KF(e,t,n,r,o,a){var i,s,u;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(o),i=null;else{for(s=a,u=0;(s=s.nextSibling)&&u<r.length;u+=2)if(s==o)break e;e.insertBefore(o,a),i=a}return void 0!==i?i:o.nextSibling}function GF(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||jF.test(t)?n:n+"px"}function YF(e,t,n,r,o){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||GF(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||GF(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?XF:ZF,a):e.removeEventListener(t,a?XF:ZF,a);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(i){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function ZF(e){this.l[e.type+!1](CF.event?CF.event(e):e)}function XF(e){this.l[e.type+!0](CF.event?CF.event(e):e)}function JF(e,t,n,r,o,a,i,s,u){var c,l,f,d,p,h,m,v,g,b,y,D=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(c=CF.__b)&&c(t);try{e:if("function"==typeof D){if(v=t.props,g=(c=D.contextType)&&r[c.__c],b=c?g?g.props.value:c.__:r,n.__c?m=(l=t.__c=n.__c).__=l.__E:("prototype"in D&&D.prototype.render?t.__c=l=new D(v,b):(t.__c=l=new LF(v,b),l.constructor=D,l.render=nO),g&&g.sub(l),l.props=v,l.state||(l.state={}),l.context=b,l.__n=r,f=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=D.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=MF({},l.__s)),MF(l.__s,D.getDerivedStateFromProps(v,l.__s))),d=l.props,p=l.state,f)null==D.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==D.getDerivedStateFromProps&&v!==d&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,b)||t.__v===n.__v){l.props=v,l.state=l.__s,t.__v!==n.__v&&(l.__d=!1),l.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),l.__h.length&&i.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,b),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(d,p,h)}))}l.context=b,l.props=v,l.state=l.__s,(c=CF.__r)&&c(t),l.__d=!1,l.__v=t,l.__P=e,c=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(r=MF(MF({},r),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(d,p)),y=null!=c&&c.type===IF&&null==c.key?c.props.children:c,HF(e,Array.isArray(y)?y:[y],t,n,r,o,a,i,s,u),l.base=t.__e,t.__h=null,l.__h.length&&i.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,a,i,s){var u,c,l,f=n.props,d=t.props,p=t.type,h=0;if("svg"===p&&(o=!0),null!=a)for(;h<a.length;h++)if((u=a[h])&&"setAttribute"in u==!!p&&(p?u.localName===p:3===u.nodeType)){e=u,a[h]=null;break}if(null==e){if(null===p)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),a=null,s=!1}if(null===p)f===d||s&&e.data===d||(e.data=d);else{if(a=a&&kF.call(e.childNodes),c=(f=n.props||TF).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!s){if(null!=a)for(f={},h=0;h<e.attributes.length;h++)f[e.attributes[h].name]=e.attributes[h].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,n,r,o){var a;for(a in n)"children"===a||"key"===a||a in t||YF(e,a,null,n[a],r);for(a in t)o&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||YF(e,a,t[a],n[a],r)}(e,d,f,o,s),l)t.__k=[];else if(h=t.props.children,HF(e,Array.isArray(h)?h:[h],t,n,r,o&&"foreignObject"!==p,a,i,a?a[0]:n.__k&&zF(n,0),s),null!=a)for(h=a.length;h--;)null!=a[h]&&BF(a[h]);s||("value"in d&&void 0!==(h=d.value)&&(h!==f.value||h!==e.value||"progress"===p&&!h)&&YF(e,"value",h,f.value,!1),"checked"in d&&void 0!==(h=d.checked)&&h!==e.checked&&YF(e,"checked",h,f.checked,!1))}return e}(n.__e,t,n,r,o,a,i,u);(c=CF.diffed)&&c(t)}catch(H){t.__v=null,(u||null!=a)&&(t.__e=s,t.__h=!!u,a[a.indexOf(s)]=null),CF.__e(H,t,n)}}function QF(e,t){CF.__c&&CF.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(H){CF.__e(H,t.__v)}}))}function eO(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){CF.__e(r,n)}}function tO(e,t,n){var r,o;if(CF.unmount&&CF.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||eO(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){CF.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&tO(r[o],t,"function"!=typeof e.type);n||null==e.__e||BF(e.__e),e.__e=e.__d=void 0}function nO(e,t,n){return this.constructor(e,n)}function rO(e,t,n){var r,o,a;CF.__&&CF.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],JF(t,e=(!r&&n||t).__k=NF(IF,null,[e]),o||TF,TF,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?kF.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r),QF(a,e)}kF=PF.slice,CF={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},SF=0,LF.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=MF({},this.state),"function"==typeof e&&(e=e(MF({},n),this.props)),e&&MF(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),UF(this))},LF.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),UF(this))},LF.prototype.render=IF,FF=[],OF="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,VF.__r=0;var oO=0;function aO(e,t,n,r,o){var a,i,s={};for(i in t)"ref"==i?a=t[i]:s[i]=t[i];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--oO,__source:r,__self:o};if("function"==typeof e&&(a=e.defaultProps))for(i in a)void 0===s[i]&&(s[i]=a[i]);return CF.vnode&&CF.vnode(u),u}var iO={set:function(e,t){try{window.localStorage["emoji-mart.".concat(e)]=JSON.stringify(t)}catch(n){}},get:function(e){try{var t=window.localStorage["emoji-mart.".concat(e)];if(t)return JSON.parse(t)}catch(n){}}},sO=new Map,uO=[{v:14,emoji:"🫠"},{v:13.1,emoji:"😶‍🌫️"},{v:13,emoji:"🥸"},{v:12.1,emoji:"🧑‍🦰"},{v:12,emoji:"🥱"},{v:11,emoji:"🥰"},{v:5,emoji:"🤩"},{v:4,emoji:"👱‍♀️"},{v:3,emoji:"🤣"},{v:2,emoji:"👋🏻"},{v:1,emoji:"🙃"}];function cO(e){if(sO.has(e))return sO.get(e);var t=lO(e);return sO.set(e,t),t}var lO=function(){var e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d"))}catch(r){}if(!e)return function(){return!1};var t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,function(n){e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);for(var r=e.getImageData(0,0,t,25).data,o=r.length,a=0;a<o&&!r[a+3];a+=4);if(a>=o)return!1;var i=t+a/4%t,s=Math.floor(a/4/t),u=e.getImageData(i,s,1,1).data;return r[a]===u[0]&&r[a+2]===u[2]&&!(e.measureText(n).width>=t)}}(),fO={latestVersion:function(){var e,t=wF(uO);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.v;if(cO(n.emoji))return r}}catch(A9){t.e(A9)}finally{t.f()}},noCountryFlags:function(){return!cO("🇨🇦")}},dO=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"],pO=null;var hO,mO={add:function(e){pO||(pO=iO.get("frequently")||{});var t=e.id||e;t&&(pO[t]||(pO[t]=0),pO[t]+=1,iO.set("last",t),iO.set("frequently",pO))},get:function(e){var t=e.maxFrequentRows,n=e.perLine;if(!t)return[];pO||(pO=iO.get("frequently"));var r=[];if(!pO){for(var o in pO={},dO.slice(0,n)){var a=dO[o];pO[a]=n-o,r.push(a)}return r}var i=t*n,s=iO.get("last");for(var u in pO)r.push(u);if(r.sort((function(e,t){var n=pO[t],r=pO[e];return n==r?e.localeCompare(t):n-r})),r.length>i){var c=r.slice(i);r=r.slice(0,i);var l,f=wF(c);try{for(f.s();!(l=f.n()).done;){var d=l.value;d!=s&&delete pO[d]}}catch(A9){f.e(A9)}finally{f.f()}s&&-1==r.indexOf(s)&&(delete pO[r[r.length-1]],r.splice(-1,1,s)),iO.set("frequently",pO)}return r}};hO=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn’t be found","pick":"Pick an emoji…","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var vO={autoFocus:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:14,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","cs","de","es","fa","fi","fr","it","ja","nl","pl","pt","ru","uk","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}},gO=null,bO=null,yO={};function DO(e){return wO.apply(this,arguments)}function wO(){return wO=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yO[t]){e.next=2;break}return e.abrupt("return",yO[t]);case 2:return e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,yO[t]=r,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),wO.apply(this,arguments)}var _O=null,EO=null,xO=!1;function kO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.caller;return _O||(_O=new Promise((function(e){EO=e}))),e?CO(e):n&&!xO&&console.warn("`".concat(n,"` requires data to be initialized first. Promise will be pending until `init` is called.")),_O}function CO(e){return SO.apply(this,arguments)}function SO(){return SO=n(o().mark((function e(t){var n,r,a,i,s,u,c,l,f,d,p,h,m,v,g,b,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xO=!0,n=t.emojiVersion,r=t.set,a=t.locale,n||(n=vO.emojiVersion.value),r||(r=vO.set.value),a||(a=vO.locale.value),bO){e.next=35;break}if("function"!=typeof t.data){e.next=12;break}return e.next=9,t.data();case 9:e.t1=e.sent,e.next=13;break;case 12:e.t1=t.data;case 13:if(e.t0=e.t1,e.t0){e.next=18;break}return e.next=17,DO("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/".concat(n,"/").concat(r,".json"));case 17:e.t0=e.sent;case 18:(bO=e.t0).emoticons={},bO.natives={},bO.categories.unshift({id:"frequent",emojis:[]}),e.t2=o().keys(bO.aliases);case 23:if((e.t3=e.t2()).done){e.next=33;break}if(i=e.t3.value,s=bO.aliases[i],u=bO.emojis[s]){e.next=29;break}return e.abrupt("continue",23);case 29:u.aliases||(u.aliases=[]),u.aliases.push(i),e.next=23;break;case 33:e.next=36;break;case 35:bO.categories=bO.categories.filter((function(e){return!!!e.name}));case 36:if("function"!=typeof t.i18n){e.next=42;break}return e.next=39,t.i18n();case 39:e.t5=e.sent,e.next=43;break;case 42:e.t5=t.i18n;case 43:if(e.t4=e.t5,e.t4){e.next=53;break}if("en"!=a){e.next=49;break}e.t6=EF(hO),e.next=52;break;case 49:return e.next=51,DO("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/".concat(a,".json"));case 51:e.t6=e.sent;case 52:e.t4=e.t6;case 53:if(gO=e.t4,!t.custom){e.next=71;break}e.t7=o().keys(t.custom);case 56:if((e.t8=e.t7()).done){e.next=71;break}if(c=e.t8.value,c=parseInt(c),l=t.custom[c],f=t.custom[c-1],l.emojis&&l.emojis.length){e.next=63;break}return e.abrupt("continue",56);case 63:l.id||(l.id="custom_".concat(c+1)),l.name||(l.name=gO.categories.custom),f&&!l.icon&&(l.target=f.target||f),bO.categories.push(l),d=wF(l.emojis);try{for(d.s();!(p=d.n()).done;)h=p.value,bO.emojis[h.id]=h}catch(A9){d.e(A9)}finally{d.f()}e.next=56;break;case 71:t.categories&&(bO.categories=bO.categories.filter((function(e){return-1!=t.categories.indexOf(e.id)})).sort((function(e,n){return t.categories.indexOf(e.id)-t.categories.indexOf(n.id)}))),m=null,v=null,"native"==r&&(m=fO.latestVersion(),v=t.noCountryFlags||fO.noCountryFlags()),g=bO.categories.length,b=!1,y=function(){var e=bO.categories[g];if("frequent"==e.id){var n=t.maxFrequentRows,r=t.perLine;n||(n=vO.maxFrequentRows.value),r||(r=vO.perLine.value),e.emojis=mO.get({maxFrequentRows:n,perLine:r})}if(!e.emojis||!e.emojis.length)return bO.categories.splice(g,1),"continue";var o=t.categoryIcons;if(o){var a=o[e.id];a&&!e.icon&&(e.icon=a)}for(var i=e.emojis.length;i--;){var s=e.emojis[i],u=s.id?s:bO.emojis[s],c=function(){e.emojis.splice(i,1)};if(u)if(m&&u.version>m)c();else if(!v||"flags"!=e.id||jO.includes(u.id)){if(!u.search){if(b=!0,u.search=","+[[u.id,!1],[u.name,!0],[u.keywords,!1],[u.emoticons,!1]].map((function(e){var t=k(e,2),n=t[0],r=t[1];if(n)return(Array.isArray(n)?n:[n]).map((function(e){return(r?e.split(/[-|_|\s]+/):[e]).map((function(e){return e.toLowerCase()}))})).flat()})).flat().filter((function(e){return e&&e.trim()})).join(","),u.emoticons){var l,f=wF(u.emoticons);try{for(f.s();!(l=f.n()).done;){var d=l.value;bO.emoticons[d]||(bO.emoticons[d]=u.id)}}catch(A9){f.e(A9)}finally{f.f()}}var p,h=0,y=wF(u.skins);try{for(y.s();!(p=y.n()).done;){var D=p.value;if(D){h++;var w=D.native;w&&(bO.natives[w]=u.id,u.search+=",".concat(w));var _=1==h?"":":skin-tone-".concat(h,":");D.shortcodes=":".concat(u.id,":").concat(_)}}}catch(A9){y.e(A9)}finally{y.f()}}}else c();else c()}};case 78:if(!g--){e.next=84;break}if("continue"!==y()){e.next=82;break}return e.abrupt("continue",78);case 82:e.next=78;break;case 84:b&&PO.reset(),EO();case 86:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function FO(e,t,n){e||(e={});var r={};for(var o in t)r[o]=OO(o,e,t,n);return r}function OO(e,t,n,r){var o=n[e],a=r&&r.getAttribute(e)||(null!=t[e]&&null!=t[e]?t[e]:null);return o?(null!=a&&o.value&&(0,c.Z)(o.value)!=(0,c.Z)(a)&&(a="boolean"==typeof o.value?"false"!=a:o.value.constructor(a)),o.transform&&a&&(a=o.transform(a)),(null==a||o.choices&&-1==o.choices.indexOf(a))&&(a=o.value),a):a}var AO=null;function TO(){return TO=n(o().mark((function e(t){var n,r,a,i,s,u,c,l,f,d,p,h,m,v,g=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:{},r=n.maxResults,a=n.caller,t&&t.trim().length){e.next=3;break}return e.abrupt("return",null);case 3:return r||(r=90),e.next=6,kO(null,{caller:a||"SearchIndex.search"});case 6:if(i=t.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((function(e,t,n){return e.trim()&&n.indexOf(e)==t})),i.length){e.next=9;break}return e.abrupt("return");case 9:s=AO||(AO=Object.values(bO.emojis)),l=wF(i),e.prev=11,l.s();case 13:if((f=l.n()).done){e.next=45;break}if(d=f.value,s.length){e.next=17;break}return e.abrupt("break",45);case 17:u=[],c={},p=wF(s),e.prev=20,p.s();case 22:if((h=p.n()).done){e.next=34;break}if((m=h.value).search){e.next=26;break}return e.abrupt("continue",32);case 26:if(-1!=(v=m.search.indexOf(",".concat(d)))){e.next=29;break}return e.abrupt("continue",32);case 29:u.push(m),c[m.id]||(c[m.id]=0),c[m.id]+=m.id==d?0:v+1;case 32:e.next=22;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(20),p.e(e.t0);case 39:return e.prev=39,p.f(),e.finish(39);case 42:s=u;case 43:e.next=13;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(11),l.e(e.t1);case 50:return e.prev=50,l.f(),e.finish(50);case 53:if(!(u.length<2)){e.next=55;break}return e.abrupt("return",u);case 55:return u.sort((function(e,t){var n=c[e.id],r=c[t.id];return n==r?e.id.localeCompare(t.id):n-r})),u.length>r&&(u=u.slice(0,r)),e.abrupt("return",u);case 58:case"end":return e.stop()}}),e,null,[[11,47,50,53],[20,36,39,42]])}))),TO.apply(this,arguments)}var PO={search:function(e){return TO.apply(this,arguments)},get:function(e){return e.id?e:bO.emojis[e]||bO.emojis[bO.aliases[e]]||bO.emojis[bO.natives[e]]},reset:function(){AO=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/},jO=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function MO(){return BO.apply(this,arguments)}function BO(){return BO=n(o().mark((function e(){var t,n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:1,e.t0=o().keys(V(Array(t).keys()));case 2:if((e.t1=e.t0()).done){e.next=8;break}return e.t1.value,e.next=6,new Promise(requestAnimationFrame);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}function NO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skinIndex,r=e.skins[n]||(n=0,e.skins[n]),o={id:e.id,name:e.name,native:r.native,unified:r.unified,keywords:e.keywords,shortcodes:r.shortcodes||e.shortcodes};return e.skins.length>1&&(o.skin=n+1),r.src&&(o.src=r.src),e.aliases&&e.aliases.length&&(o.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(o.emoticons=e.emoticons),o}var RO={categories:{activity:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:aO("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:aO("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:aO("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:aO("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[aO("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),aO("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[aO("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),aO("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:aO("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[aO("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),aO("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:aO("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[aO("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),aO("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[aO("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),aO("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:aO("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:aO("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:aO("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:aO("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:aO("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function IO(e){var t=e.id,n=e.skin,r=e.emoji;if(e.shortcodes){var o=e.shortcodes.match(PO.SHORTCODES_REGEX);o&&(t=o[1],o[2]&&(n=o[2]))}if(r||(r=PO.get(t||e.native)),!r)return e.fallback;var a=r.skins[n-1]||r.skins[0],i=a.src||("native"==e.set||e.spritesheet?void 0:"function"==typeof e.getImageURL?e.getImageURL(e.set,a.unified):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@14.0.0/img/").concat(e.set,"/64/").concat(a.unified,".png")),s="function"==typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@14.0.0/img/").concat(e.set,"/sheets-256/64.png");return aO("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:i?aO("img",{style:{height:e.size||"1em",width:"auto",display:"inline-block",position:"relative",top:".1em"},alt:a.native||a.shortcodes,src:i}):"native"==e.set?aO("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:a.native}):aO("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:"url(".concat(s,")"),backgroundSize:"".concat(100*bO.sheet.cols,"% ").concat(100*bO.sheet.rows,"%"),backgroundPosition:"".concat(100/(bO.sheet.cols-1)*a.x,"% ").concat(100/(bO.sheet.rows-1)*a.y,"%")}})})}var LO=function(e){S(n,e);var t=DF(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u(this,n),(e=t.call(this)).props=r,r.parent||r.ref){var o=null,a=r.parent||(o=r.ref&&r.ref.current);o&&(o.innerHTML=""),a&&a.appendChild(F(e))}return e}return d(n,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.attributeChangedCallback(t,null,e[t])}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.component){var r=OO(e,p({},e,n),this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps(p({},e,r)):(this.component.props[e]=r,this.component.forceUpdate())}}}],[{key:"observedAttributes",get:function(){return Object.keys(this.Props)}}]),n}("undefined"!=typeof window?window.HTMLElement:Object),zO=function(e){S(n,e);var t=DF(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.styles;return u(this,n),(r=t.call(this,e)).setShadow(),r.injectStyles(a),r}return d(n,[{key:"setShadow",value:function(){this.attachShadow({mode:"open"})}},{key:"injectStyles",value:function(e){if(e){var t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}}}]),n}(LO),qO={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:function(e){return/\D/.test(e)?e:"".concat(e,"px")}},set:vO.set,skin:vO.skin},UO=function(e){S(a,e);var t,r=DF(a);function a(e){return u(this,a),r.call(this,e)}return d(a,[{key:"connectedCallback",value:(t=n(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=FO(this.props,qO,this)).element=this,t.ref=function(e){n.component=e},e.next=5,kO();case 5:rO(aO(IO,yF({},t)),this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),a}(LO);xF(UO,"Props",qO),"undefined"==typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",UO);var VO,HO,$O=[],WO=CF.__b,KO=CF.__r,GO=CF.diffed,YO=CF.__c,ZO=CF.unmount;function XO(){var e;for($O.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=$O.pop();)if(e.__P)try{e.__H.__h.forEach(QO),e.__H.__h.forEach(eA),e.__H.__h=[]}catch(vh){e.__H.__h=[],CF.__e(vh,e.__v)}}CF.__b=function(e){VO=null,WO&&WO(e)},CF.__r=function(e){KO&&KO(e),0;var t=(VO=e.__c).__H;t&&(t.__h.forEach(QO),t.__h.forEach(eA),t.__h=[])},CF.diffed=function(e){GO&&GO(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==$O.push(t)&&HO===CF.requestAnimationFrame||((HO=CF.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),JO&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);JO&&(t=requestAnimationFrame(n))})(XO)),VO=null},CF.__c=function(e,t){t.some((function(e){try{e.__h.forEach(QO),e.__h=e.__h.filter((function(e){return!e.__||eA(e)}))}catch(fh){t.some((function(e){e.__h&&(e.__h=[])})),t=[],CF.__e(fh,e.__v)}})),YO&&YO(e,t)},CF.unmount=function(e){ZO&&ZO(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{QO(e)}catch(n){t=n}})),t&&CF.__e(t,n.__v))};var JO="function"==typeof requestAnimationFrame;function QO(e){var t=VO,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),VO=t}function eA(e){var t=VO;e.__c=e.__(),VO=t}function tA(e,t){for(var n in t)e[n]=t[n];return e}function nA(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function rA(e){this.props=e}(rA.prototype=new LF).isPureReactComponent=!0,rA.prototype.shouldComponentUpdate=function(e,t){return nA(this.props,e)||nA(this.state,t)};var oA=CF.__b;CF.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),oA&&oA(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var aA=CF.__e;CF.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);aA(e,t,n)};var iA=CF.unmount;function sA(){this.__u=0,this.t=null,this.__b=null}function uA(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function cA(){this.u=null,this.o=null}CF.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),iA&&iA(e)},(sA.prototype=new LF).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=uA(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(s):s())};n.__R=i;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(i,i)},sA.prototype.componentWillUnmount=function(){this.t=[]},sA.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=tA({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&NF(IF,null,e.fallback);return o&&(o.__h=null),[NF(IF,null,t.__e?null:e.children),o]};var lA=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(cA.prototype=new LF).__e=function(e){var t=this,n=uA(t.__v),r=t.o.get(e);return r[0]++,function(o){var a=function(){t.props.revealOrder?(r.push(o),lA(t,e,r)):o()};n?n(a):a()}},cA.prototype.render=function(e){this.u=null,this.o=new Map;var t=WF(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},cA.prototype.componentDidUpdate=cA.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){lA(e,n,t)}))};var fA="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,dA=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,pA="undefined"!=typeof document,hA=function(e){return("undefined"!=typeof Symbol&&"symbol"==(0,c.Z)(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(e)};LF.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(LF.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var mA=CF.event;function vA(){}function gA(){return this.cancelBubble}function bA(){return this.defaultPrevented}CF.event=function(e){return mA&&(e=mA(e)),e.persist=vA,e.isPropagationStopped=gA,e.isDefaultPrevented=bA,e.nativeEvent=e};var yA={configurable:!0,get:function(){return this.class}},DA=CF.vnode;CF.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var a in r={},n){var i=n[a];pA&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==i||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===i?i="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!hA(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():o&&dA.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[a]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=WF(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=WF(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(yA.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",yA))}e.$$typeof=fA,DA&&DA(e)};var wA=CF.__r;CF.__r=function(e){wA&&wA(e),e.__c};var _A={light:"outline",dark:"solid"},EA=function(e){S(n,e);var t=DF(n);function n(){var e;return u(this,n),(e=t.call(this)).categories=bO.categories.filter((function(e){return!e.target})),e.state={categoryId:e.categories[0].id},e}return d(n,[{key:"renderIcon",value:function(e){var t=e.icon;if(t){if(t.svg)return aO("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return aO("img",{src:t.src})}var n=RO.categories[e.id]||RO.categories.custom;return n["auto"==this.props.icons?_A[this.props.theme]:this.props.icons]||n}},{key:"render",value:function(){var e=this,t=null;return aO("nav",{id:"nav",class:"padding","data-position":this.props.position,children:aO("div",{class:"flex relative",children:[this.categories.map((function(n,r){var o=n.name||gO.categories[n.id],a=!e.props.unfocused&&n.id==e.state.categoryId;return a&&(t=r),aO("button",{"aria-label":o,"aria-selected":a||void 0,title:o,type:"button",class:"flex flex-grow flex-center",onMouseDown:function(e){return e.preventDefault()},onClick:function(){e.props.onClick({category:n,i:r})},children:e.renderIcon(n)})})),aO("div",{class:"bar",style:{width:"".concat(100/this.categories.length,"%"),opacity:null==t?0:1,transform:"translateX(".concat(100*t,"%)")}})]})})}}]),n}(rA),xA=function(e){S(n,e);var t=DF(n);function n(){return u(this,n),t.apply(this,arguments)}return d(n,[{key:"shouldComponentUpdate",value:function(e){for(var t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}},{key:"render",value:function(){return this.props.children}}]),n}(rA),kA=10,CA=function(e){S(a,e);var t,r=DF(a);function a(e){var t;return u(this,a),xF(F(t=r.call(this)),"handleClickOutside",(function(e){var n=t.props.element;e.target!=n&&(t.state.showSkins&&t.closeSkins(),t.props.onClickOutside&&t.props.onClickOutside())})),xF(F(t),"handleBaseClick",(function(e){t.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),t.closeSkins()))})),xF(F(t),"handleBaseKeydown",(function(e){t.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),t.closeSkins())})),xF(F(t),"handleSearchClick",(function(){t.getEmojiByPos(t.state.pos)&&t.setState({pos:[-1,-1]})})),xF(F(t),"handleSearchInput",n(o().mark((function e(){var n,r,a,i,s,u,c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.refs.searchInput.current){e.next=3;break}return e.abrupt("return");case 3:return r=n.value,e.next=6,PO.search(r);case 6:if(a=e.sent,i=function(){t.refs.scroll.current&&(t.refs.scroll.current.scrollTop=0)},a){e.next=10;break}return e.abrupt("return",t.setState({searchResults:a,pos:[-1,-1]},i));case 10:s=n.selectionStart==n.value.length?[0,0]:[-1,-1],(u=[]).setsize=a.length,c=null,l=wF(a);try{for(l.s();!(f=l.n()).done;)d=f.value,u.length&&c.length!=t.props.perLine||((c=[]).__categoryId="search",c.__index=u.length,u.push(c)),c.push(d)}catch(A9){l.e(A9)}finally{l.f()}t.ignoreMouse(),t.setState({searchResults:u,pos:s},i);case 18:case"end":return e.stop()}}),e)})))),xF(F(t),"handleSearchKeyDown",(function(e){var n=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":t.navigate({e,input:n,left:!0});break;case"ArrowRight":t.navigate({e,input:n,right:!0});break;case"ArrowUp":t.navigate({e,input:n,up:!0});break;case"ArrowDown":t.navigate({e,input:n,down:!0});break;case"Enter":e.preventDefault(),t.handleEmojiClick({pos:t.state.pos});break;case"Escape":e.preventDefault(),t.state.searchResults?t.clearSearch():t.unfocusSearch()}})),xF(F(t),"clearSearch",(function(){var e=t.refs.searchInput.current;e&&(e.value="",e.focus(),t.handleSearchInput())})),xF(F(t),"handleCategoryClick",(function(e){var n=e.category,r=e.i;t.scrollTo(0==r?{row:-1}:{categoryId:n.id})})),xF(F(t),"openSkins",(function(e){var r=e.currentTarget.getBoundingClientRect();t.setState({showSkins:r},n(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MO(2);case 2:if(n=t.refs.menu.current){e.next=5;break}return e.abrupt("return");case 5:n.classList.remove("hidden"),t.refs.skinToneRadio.current.focus(),t.base.addEventListener("click",t.handleBaseClick,!0),t.base.addEventListener("keydown",t.handleBaseKeydown,!0);case 9:case"end":return e.stop()}}),e)}))))})),t.state=yF({pos:[-1,-1],visibleRows:{0:!0}},t.getInitialState(e)),t}return d(a,[{key:"getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{skin:iO.get("skin")||e.skin,theme:this.initTheme(e.theme)}}},{key:"componentWillMount",value:function(){this.observers=[],this.dir=gO.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}},{key:"componentDidMount",value:function(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){var e=this.refs.searchInput;e.current&&e.current.focus()}}},{key:"componentWillReceiveProps",value:function(e){var t=this;for(var n in this.nextState||(this.nextState={}),e)this.nextState[n]=e[n];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((function(){var e=!1;for(var n in t.nextState)t.props[n]=t.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete t.nextState;var r=t.getInitialState();if(e)return t.reset(r);t.setState(r)}))}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"reset",value:(t=n(o().mark((function e(){var t,n=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,kO(this.props);case 3:this.initGrid(),this.unobserve(),this.setState(t,(function(){n.observeCategories(),n.observeRows()}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"register",value:function(){document.addEventListener("click",this.handleClickOutside),this.observe()}},{key:"unregister",value:function(){document.removeEventListener("click",this.handleClickOutside),this.unobserve()}},{key:"observe",value:function(){this.observeCategories(),this.observeRows()}},{key:"unobserve",value:function(){var e,t=wF(this.observers);try{for(t.s();!(e=t.n()).done;){e.value.disconnect()}}catch(A9){t.e(A9)}finally{t.f()}}},{key:"initGrid",value:function(){var e=this,t=bO.categories;this.refs.categories=new Map;var n=bO.categories.map((function(e){return e.id})).join(",");this.navKey&&this.navKey!=n&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=n,this.grid=[],this.grid.setsize=0;var r,o=function(t,n){var r=[];r.__categoryId=n.id,r.__index=t.length,e.grid.push(r);var o=e.grid.length-1,a=o%kA?{}:{current:null};return a.index=o,a.posinset=e.grid.setsize+1,t.push(a),r},a=wF(t);try{for(a.s();!(r=a.n()).done;){var i,s=r.value,u=[],c=o(u,s),l=wF(s.emojis);try{for(l.s();!(i=l.n()).done;){var f=i.value;c.length==this.props.perLine&&(c=o(u,s)),this.grid.setsize+=1,c.push(f)}}catch(A9){l.e(A9)}finally{l.f()}this.refs.categories.set(s.id,{root:{current:null},rows:u})}}catch(A9){a.e(A9)}finally{a.f()}}},{key:"initTheme",value:function(e){var t=this;if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addListener((function(){"auto"==t.props.theme&&t.setState({theme:t.darkMedia.matches?"dark":"light"})}))}return this.darkMedia.matches?"dark":"light"}},{key:"getEmojiByPos",value:function(e){var t=k(e,2),n=t[0],r=t[1],o=this.state.searchResults||this.grid,a=o[n]&&o[n][r];if(a)return PO.get(a)}},{key:"observeCategories",value:function(){var e=this.refs.navigation.current;if(e){var t,n=new Map,r=function(t){t!=e.state.categoryId&&e.setState({categoryId:t})},o={root:this.refs.scroll.current,threshold:[0,1]},a=new IntersectionObserver((function(e){var t,o=wF(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,i=a.target.dataset.id;n.set(i,a.intersectionRatio)}}catch(A9){o.e(A9)}finally{o.f()}var s=V(n),u=s[s.length-1];if(1==u[1])return r(u[0]);var c,l=wF(s);try{for(l.s();!(c=l.n()).done;){var f=k(c.value,2),d=f[0];if(f[1]){r(d);break}}}catch(A9){l.e(A9)}finally{l.f()}}),o),i=wF(this.refs.categories.values());try{for(i.s();!(t=i.n()).done;){var s=t.value.root;a.observe(s.current)}}catch(A9){i.e(A9)}finally{i.f()}this.observers.push(a)}}},{key:"observeRows",value:function(){var e,t=this,n=yF({},this.state.visibleRows),r=new IntersectionObserver((function(e){var r,o=wF(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=parseInt(a.target.dataset.index);a.isIntersecting?n[i]=!0:delete n[i]}}catch(A9){o.e(A9)}finally{o.f()}t.setState({visibleRows:n})}),{root:this.refs.scroll.current,rootMargin:"".concat(this.props.emojiButtonSize*(kA+5),"px 0px ").concat(this.props.emojiButtonSize*kA,"px")}),o=wF(this.refs.categories.values());try{for(o.s();!(e=o.n()).done;){var a,i=wF(e.value.rows);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.current&&r.observe(s.current)}}catch(A9){i.e(A9)}finally{i.f()}}}catch(A9){o.e(A9)}finally{o.f()}this.observers.push(r)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"unfocusSearch",value:function(){var e=this.refs.searchInput.current;e&&e.blur()}},{key:"navigate",value:function(e){var t=this,n=e.e,r=e.input,o=e.left,a=e.right,i=e.up,s=e.down,u=this.state.searchResults||this.grid;if(u.length){var c=k(this.state.pos,2),l=c[0],f=c[1],d=function(){if(0==l&&0==f&&!n.repeat&&(o||i))return null;if(-1==l)return n.repeat||!a&&!s||r.selectionStart!=r.value.length?null:[0,0];if(o||a){var e=u[l],t=o?-1:1;if(!e[f+=t]){if(!(e=u[l+=t]))return l=o?0:u.length-1,f=o?0:u[l].length-1,[l,f];f=o?e.length-1:0}return[l,f]}if(i||s){var c=u[l+=i?-1:1];return c?(c[f]||(f=c.length-1),[l,f]):(l=i?0:u.length-1,f=i?0:u[l].length-1,[l,f])}}();d?(n.preventDefault(),this.setState({pos:d,keyboard:!0},(function(){t.scrollTo({row:d[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}}},{key:"scrollTo",value:function(e){var t=e.categoryId,n=e.row,r=this.state.searchResults||this.grid;if(r.length){var o=this.refs.scroll.current,a=o.getBoundingClientRect(),i=0;if(n>=0&&(t=r[n].__categoryId),t)i=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(a.top-o.scrollTop)+1;if(n>=0)if(n){var s=i+r[n].__index*this.props.emojiButtonSize,u=s+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(s<o.scrollTop)i=s;else{if(!(u>o.scrollTop+a.height))return;i=u-a.height}}else i=0;this.ignoreMouse(),o.scrollTop=i}}},{key:"ignoreMouse",value:function(){var e=this;this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((function(){delete e.mouseIsIgnored}),100)}},{key:"handleEmojiOver",value:function(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}},{key:"handleEmojiClick",value:function(e){var t=e.emoji,n=e.pos;if(this.props.onEmojiSelect&&(!t&&n&&(t=this.getEmojiByPos(n)),t)){var r=NO(t,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&mO.add(r,this.props),this.props.onEmojiSelect(r)}}},{key:"closeSkins",value:function(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}},{key:"handleSkinMouseOver",value:function(e){this.setState({tempSkin:e})}},{key:"handleSkinClick",value:function(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),iO.set("skin",e)}},{key:"renderNav",value:function(){return aO(EA,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}},{key:"renderPreview",value:function(){var e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return aO("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[aO("div",{class:"flex flex-middle flex-grow",children:[aO("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:aO(IO,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),aO("div",{class:"margin-".concat(this.dir[0]),children:aO("div",e?{class:"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[aO("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:e.name}),aO("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:e.skins[0].shortcodes})]}:t?{class:"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[aO("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:gO.search_no_results_1}),aO("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:gO.search_no_results_2})]}:{class:"color-c",style:{fontSize:21},children:gO.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}},{key:"renderEmojiButton",value:function(e,t){var n=this,r=t.pos,o=t.posinset,a=t.grid,i=this.props.emojiButtonSize,s=this.state.tempSkin||this.state.skin,u=(e.skins[s-1]||e.skins[0]).native,c=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e==t[n]}))}(this.state.pos,r),l=r.concat(e.id).join("");return aO(xA,{selected:c,skin:s,size:i,children:aO("button",{"aria-label":u,"aria-selected":c||void 0,"aria-posinset":o,"aria-setsize":a.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:function(){return n.handleEmojiClick({emoji:e})},onMouseEnter:function(){return n.handleEmojiOver(r)},onMouseLeave:function(){return n.handleEmojiOver()},style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[aO("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(o-1)%this.props.emojiButtonColors.length]:void 0}}),aO(IO,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:s,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},l)}},{key:"renderSearch",value:function(){var e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return aO("div",{children:[aO("div",{class:"spacer"}),aO("div",{class:"flex flex-middle",children:[e&&"rtl"==this.dir&&this.renderSkinToneButton(),aO("div",{class:"search relative flex-grow",children:[aO("input",{type:"search",ref:this.refs.searchInput,placeholder:gO.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),aO("span",{class:"icon loupe flex",children:RO.search.loupe}),this.state.searchResults&&aO("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:RO.search.delete})]}),e&&"ltr"==this.dir&&this.renderSkinToneButton()]})]})}},{key:"renderSearchResults",value:function(){var e=this,t=this.state.searchResults;return t?aO("div",{class:"category",ref:this.refs.search,children:[aO("div",{class:"sticky padding-small align-".concat(this.dir[0]),children:gO.categories.search}),aO("div",{children:t.length?t.map((function(n,r){return aO("div",{class:"flex",children:n.map((function(n,o){return e.renderEmojiButton(n,{pos:[r,o],posinset:r*e.props.perLine+o+1,grid:t})}))})})):aO("div",{class:"padding-small align-".concat(this.dir[0]),children:this.props.onAddCustomEmoji&&aO("a",{onClick:this.props.onAddCustomEmoji,children:gO.add_custom})})})]}):null}},{key:"renderCategories",value:function(){var e=this,t=bO.categories,n=!!this.state.searchResults;return aO("div",{style:{visibility:n?"hidden":void 0,display:n?"none":void 0},children:t.map((function(t){var n=e.refs.categories.get(t.id),r=n.root,o=n.rows;return aO("div",{"data-id":t.target?t.target.id:t.id,class:"category",ref:r,children:[aO("div",{class:"sticky padding-small align-".concat(e.dir[0]),children:t.name||gO.categories[t.id]}),aO("div",{class:"relative",style:{height:o.length*e.props.emojiButtonSize},children:o.map((function(n,r){var o=n.index-n.index%kA,a=e.state.visibleRows[o],i="current"in n?n:void 0;if(!a&&!i)return null;var s=r*e.props.perLine,u=s+e.props.perLine,c=t.emojis.slice(s,u);return aO("div",{"data-index":n.index,ref:i,class:"flex row",style:{top:r*e.props.emojiButtonSize},children:a&&c.map((function(t,r){var o=PO.get(t);return e.renderEmojiButton(o,{pos:[n.index,r],posinset:n.posinset+r,grid:e.grid})}))},n.index)}))})]})}))})}},{key:"renderSkinToneButton",value:function(){return"none"==this.props.skinTonePosition?null:aO("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:aO("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":gO.skins.choose,title:gO.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:aO("span",{class:"skin-tone skin-tone-".concat(this.state.skin)})})})}},{key:"renderLiveRegion",value:function(){var e=this.getEmojiByPos(this.state.pos);return aO("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}},{key:"renderSkins",value:function(){var e=this,t=this.refs.skinToneButton.current.getBoundingClientRect(),n=this.base.getBoundingClientRect(),r={};return"ltr"==this.dir?r.right=n.right-t.right-3:r.left=t.left-n.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?r.bottom=n.bottom-t.top+6:(r.top=t.bottom-n.top+3,r.bottom="auto"),aO("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":gO.skins.choose,class:"menu hidden","data-position":r.top?"top":"bottom",style:r,children:V(Array(6).keys()).map((function(t){var n=t+1,r=e.state.skin==n;return aO("div",{children:[aO("input",{type:"radio",name:"skin-tone",value:n,"aria-label":gO.skins[n],ref:r?e.refs.skinToneRadio:null,defaultChecked:r,onChange:function(){return e.handleSkinMouseOver(n)},onKeyDown:function(t){"Enter"!=t.code&&"Space"!=t.code&&"Tab"!=t.code||(t.preventDefault(),e.handleSkinClick(n))}}),aO("button",{"aria-hidden":"true",tabindex:"-1",onClick:function(){return e.handleSkinClick(n)},onMouseEnter:function(){return e.handleSkinMouseOver(n)},onMouseLeave:function(){return e.handleSkinMouseOver()},class:"option flex flex-grow flex-middle",children:[aO("span",{class:"skin-tone skin-tone-".concat(n)}),aO("span",{class:"margin-small-lr",children:gO.skins[n]})]})]})}))})}},{key:"render",value:function(){return aO("section",{id:"root",class:"flex flex-column",style:{width:this.props.perLine*this.props.emojiButtonSize+28},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&aO("div",{class:"padding-lr",children:this.renderSearch()}),aO("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:aO("div",{style:{width:this.props.perLine*this.props.emojiButtonSize},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories(),aO("div",{class:"spacer"})]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}}]),a}(LF),SA=function(e){S(a,e);var t,r=DF(a);function a(e){return u(this,a),r.call(this,e,{styles:EF(jA)})}return d(a,[{key:"connectedCallback",value:(t=n(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=FO(this.props,vO,this)).element=this,t.ref=function(e){n.component=e},e.next=5,kO(t);case 5:rO(aO(CA,yF({},t)),this.shadowRoot);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){this.component&&this.component.unregister()}}]),a}(zO);xF(SA,"Props",vO),"undefined"==typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",SA);var FA,OA,AA,TA,PA,jA={};function MA(e){return BA.apply(this,arguments)}function BA(){return BA=n(o().mark((function e(t){var n,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:void 0,e.next=3,J5.settings.findOne(t).exec();case 3:if(null!==(r=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",r.get("value"));case 9:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function NA(e,t){return RA.apply(this,arguments)}function RA(){return RA=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.settings.incrementalUpsert({key:t,value:n});case 2:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function IA(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,a.useState)(t),r=k(n,2),o=r[0],i=r[1];return(0,a.useEffect)((function(){var n=J5.settings.findOne(e).$.subscribe((function(e){i(e?e.get("value"):t)}));return function(){n.unsubscribe()}}),[e]),o}jA=':host {\n  display: flex;\n  width: -webkit-min-content;\n  width: -moz-min-content;\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --shadow-color: 0deg 0% 0%;\n  --shadow:\n    0.3px 0.5px 2.7px hsl(var(--shadow-color) / 0.14),\n    0.4px 0.8px 1px -3.2px hsl(var(--shadow-color) / 0.14),\n    1px 2px 2.5px -4.5px hsl(var(--shadow-color) / 0.14);\n}\n\n[data-theme=light] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme=dark] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, .0, .2, 1);\n  position: relative;\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n*, *:before, *:after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  min-width: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: 0 0 auto;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: 1 1 auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.sr-only {\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n.scroll {\n  overflow: auto;\n  overflow-x: hidden;\n  padding-right: 0;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: 1;\n  top: -1px;\n  font-weight: 500;\n  background-color: rgba(var(--em-rgb-background), 0.9);\n  -webkit-backdrop-filter: blur(4px);\n          backdrop-filter: blur(4px);\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size) - 1px);\n}\n\n.search input[type=search] {\n  display: block;\n  border: 0;\n  outline: 0;\n  width: 100%;\n  padding: 10px 2em 10px 2.2em;\n  border-radius: 10px;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n}\n\n.search input[type=search]::-moz-placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search]:-ms-input-placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search]::placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search], .search input[type=search]::-webkit-search-decoration, .search input[type=search]::-webkit-search-cancel-button, .search input[type=search]::-webkit-search-results-button, .search input[type=search]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.search input[type=search]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, 0.2);\n}\n\n.search .icon {\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  color: rgba(var(--em-rgb-color), 0.7);\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  left: 0.7em;\n  pointer-events: none;\n}\n\n.search .delete {\n  right: 0.7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  border: 0;\n  background-color: transparent;\n}\n\n#nav {\n  z-index: 2;\n  position: relative;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav .bar {\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  border-radius: 3px 3px 0 0;\n  transition: transform var(--duration) var(--easing);\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  position: relative;\n  padding: calc(var(--padding) + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 2px;\n}\n\n#nav[data-position=top]:before, #preview[data-position=top]:before {\n  top: 100%;\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n}\n\n#nav[data-position=bottom]:before, #preview[data-position=bottom]:before {\n  bottom: 100%;\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n}\n\n.category button {\n  position: relative;\n  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  position: absolute;\n  inset: 0;\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0ms;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.skin-tone-button {\n  border-radius: 100%;\n  border: 1px solid transparent;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(0.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  border-left-width: 0;\n  border-right-width: 0;\n  border-top-color: rgba(0, 0, 0, 0.05);\n  border-bottom-color: transparent;\n  background-color: var(--em-color-border);\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(0.9);\n}\n\n.menu {\n  z-index: 2;\n  position: absolute;\n  white-space: nowrap;\n  padding: 4px;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), 0.9);\n  -webkit-backdrop-filter: blur(4px);\n          backdrop-filter: blur(4px);\n  border-radius: 10px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.05);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position=bottom] {\n  transform-origin: bottom right;\n}\n\n.menu[data-position=bottom].hidden {\n  transform: scale(0.9) rotate(-3deg) translateY(5%);\n}\n\n.menu[data-position=top] {\n  transform-origin: top right;\n}\n\n.menu[data-position=top].hidden {\n  transform: scale(0.9) rotate(3deg) translateY(-5%);\n}\n\n.menu input[type=radio] {\n  position: absolute;\n  overflow: hidden;\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n\n.menu input[type=radio]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  padding: 4px 6px;\n  border-radius: 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  position: relative;\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border-radius: 100%;\n  border: 1px solid rgba(0, 0, 0, 0.8);\n  mix-blend-mode: overlay;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-emoji-set=twitter] .skin-tone:after {\n  border-color: rgba(0, 0, 0, 0.5);\n  box-shadow: none;\n}\n\n[data-emoji-set=twitter] .skin-tone-1 {\n  background-color: #FADE72;\n}\n\n[data-emoji-set=twitter] .skin-tone-2 {\n  background-color: #F3DFD0;\n}\n\n[data-emoji-set=twitter] .skin-tone-3 {\n  background-color: #EED3A8;\n}\n\n[data-emoji-set=twitter] .skin-tone-4 {\n  background-color: #CFAD8D;\n}\n\n[data-emoji-set=twitter] .skin-tone-5 {\n  background-color: #A8805D;\n}\n\n[data-emoji-set=twitter] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set=google] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, 0.4);\n}\n\n[data-emoji-set=google] .skin-tone-1 {\n  background-color: #F5C748;\n}\n\n[data-emoji-set=google] .skin-tone-2 {\n  background-color: #F1D5AA;\n}\n\n[data-emoji-set=google] .skin-tone-3 {\n  background-color: #D4B48D;\n}\n\n[data-emoji-set=google] .skin-tone-4 {\n  background-color: #AA876B;\n}\n\n[data-emoji-set=google] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set=google] .skin-tone-6 {\n  background-color: #61493F;\n}\n\n[data-emoji-set=facebook] .skin-tone:after {\n  border-color: rgba(0, 0, 0, 0.4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set=facebook] .skin-tone-1 {\n  background-color: #F5C748;\n}\n\n[data-emoji-set=facebook] .skin-tone-2 {\n  background-color: #F1D5AA;\n}\n\n[data-emoji-set=facebook] .skin-tone-3 {\n  background-color: #D4B48D;\n}\n\n[data-emoji-set=facebook] .skin-tone-4 {\n  background-color: #AA876B;\n}\n\n[data-emoji-set=facebook] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set=facebook] .skin-tone-6 {\n  background-color: #61493F;\n}\n';var LA=!1;function zA(){return qA.apply(this,arguments)}function qA(){return(qA=n(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!LA){e.next=4;break}return e.next=3,S2(100);case 3:return e.abrupt("return",zA());case 4:if(!PA){e.next=6;break}return e.abrupt("return",PA);case 6:return LA=!0,FA=window.Better_Messages.restUrl,OA=window.Better_Messages.emojiHash,AA=window.Better_Messages.sprite,TA=window.Better_Messages.emojiSet,t=FA+"getEmojiData",e.next=14,MA("emojies-data");case 14:if((n=e.sent)&&(n.hash!==OA&&(n=null),n&&n.set!==TA&&(n=null)),n){e.next=38;break}return e.prev=17,e.next=20,Oo().get(t);case 20:return r=e.sent,a=r.data,NA("emojies-data",structuredClone({data:a,hash:OA,set:TA})),e.next=25,kO({data:a,set:TA});case 25:return PA=bO,$b(document,"better-message-settings-changed"),e.abrupt("return",PA);case 30:e.prev=30,e.t0=e.catch(17),console.error(e.t0);case 33:return e.prev=33,LA=!1,e.finish(33);case 36:e.next=44;break;case 38:return e.next=40,kO({data:n.data,set:n.set});case 40:return PA=bO,LA=!1,$b(document,"better-message-settings-changed"),e.abrupt("return",PA);case 44:case"end":return e.stop()}}),e,null,[[17,30,33,36]])})))).apply(this,arguments)}function UA(e){var t=PA,n=t.natives[e],r=t.emojis[n];if(!r)return e;var o=r.skins.filter((function(t){return t.native===e}));return{emoji:o=o.length>0?o[0]:r.skins[0],sheet:t.sheet}}function VA(e){var t=PA;if(!t||!t.natives)return null;var n=t.natives[e.emoji],r=t.emojis[n];if(!r)return a.createElement(a.Fragment,null,e.emoji," ");var o=r.skins.filter((function(t){return t.native===e.emoji}));o=o.length>0?o[0]:r.skins[0];var i=O7("better_messages_emoji_important",!0);return a.createElement("img",{ref:function(t){t&&e.useImportant&&i&&(t.style.setProperty("width",e.size+"px","important"),t.style.setProperty("height",e.size+"px","important"))},alt:e.emoji,draggable:!1,src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",className:"bm-emoji-img",style:{display:"inline-block",verticalAlign:"middle",width:e.size+"px",height:e.size+"px",backgroundImage:"url("+AA+")",backgroundSize:100*t.sheet.cols+"% "+100*t.sheet.rows+"%",backgroundPosition:100/(t.sheet.cols-1)*o.x+"% "+100/(t.sheet.rows-1)*o.y+"%"}})}function HA(e){var t=PA;if(!t||!t.natives)return null;var n=t.natives[e.emoji],r=t.emojis[n];if(!r)return e.emoji;var o=r.skins.filter((function(t){return t.native===e.emoji}));o=o.length>0?o[0]:r.skins[0];var a=e.useImportant&&O7("better_messages_emoji_important",!0),i="display:inline-block;vertical-align:middle;background-image:url('"+AA+"');background-size:"+100*t.sheet.cols+"% "+100*t.sheet.rows+"%;";return i+="width:"+e.size+"px;height:"+e.size+"px;",'<img style="'+(i+="background-position:"+100/(t.sheet.cols-1)*o.x+"% "+100/(t.sheet.rows-1)*o.y+"%;")+'" alt="'+e.emoji+'" data-size="'+e.size+'" data-useImportant="'+a+'" draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="bm-emoji-img" />'}function $A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[];return e.map((function(e){if(a.isValidElement(e)&&n.push(e),"string"==typeof e){var r,o=[],i=[],s=$A(e.matchAll(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g));try{for(s.s();!(r=s.n()).done;){var u=r.value,c=u[0];o.push({emoji:c,index:u.index,length:c.length})}}catch(A9){s.e(A9)}finally{s.f()}var l=0;o.map((function(n,r){e.substring(l,n.index).length>0&&i.push(e.substring(l,n.index)),i.push(HA({emoji:n.emoji,size:t,useImportant:!0})),l=n.index+n.length})),0===l?n.push(e):(i.push(e.substring(l)),n.push(i.join("")))}})),n}function GA(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function YA(e){return KS({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"}}]})(e)}function ZA(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function XA(e){return KS({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function JA(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"}}]})(e)}function QA(e){return KS({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"}}]})(e)}function eT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 480H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h448c17.7 0 32 14.3 32 32s-14.3 32-32 32z"}}]})(e)}function tT(e){var t=(0,a.useRef)(),n=(0,a.useRef)(),r=(0,a.useRef)(),o=k((0,a.useState)(!1),2),i=o[0],s=o[1];(0,a.useEffect)((function(){r.current=t.current.querySelector("video"),t.current.addEventListener("bm-play-gif",u)}),[t]);var u=function(){r.current.play(),s(!0)};return a.createElement("span",{ref:t,className:"bpbm-gif"},!i&&a.createElement("span",{ref:n,onTouchStart:function(){u()},onClick:function(){u()},className:"bpbm-gif-play"},a.createElement(XA,null)),Gb(e.video))}function nT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(e)}function rT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M436.9 364.8c-14.7-14.7-50-36.8-67.4-45.1-20.2-9.7-27.6-9.5-41.9.8-11.9 8.6-19.6 16.6-33.3 13.6-13.7-2.9-40.7-23.4-66.9-49.5-26.2-26.2-46.6-53.2-49.5-66.9-2.9-13.8 5.1-21.4 13.6-33.3 10.3-14.3 10.6-21.7.8-41.9C184 125 162 89.8 147.2 75.1c-14.7-14.7-18-11.5-26.1-8.6 0 0-12 4.8-23.9 12.7-14.7 9.8-22.9 18-28.7 30.3-5.7 12.3-12.3 35.2 21.3 95 27.1 48.3 53.7 84.9 93.2 124.3l.1.1.1.1c39.5 39.5 76 66.1 124.3 93.2 59.8 33.6 82.7 27 95 21.3 12.3-5.7 20.5-13.9 30.3-28.7 7.9-11.9 12.7-23.9 12.7-23.9 2.9-8.1 6.2-11.4-8.6-26.1z"}}]})(e)}function oT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M450.6 153.6c-3.3 0-6.5.9-9.3 2.7l-86.5 54.6c-2.5 1.6-4 4.3-4 7.2v76c0 2.9 1.5 5.6 4 7.2l86.5 54.6c2.8 1.7 6 2.7 9.3 2.7h20.8c4.8 0 8.6-3.8 8.6-8.5v-188c0-4.7-3.9-8.5-8.6-8.5h-20.8zM273.5 384h-190C55.2 384 32 360.8 32 332.6V179.4c0-28.3 23.2-51.4 51.4-51.4h190c28.3 0 51.4 23.2 51.4 51.4v153.1c.1 28.3-23 51.5-51.3 51.5z"}}]})(e)}function aT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}function iT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"}}]})(e)}function sT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"208",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M108.92 108.92l294.16 294.16"}}]})(e)}function uT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0083 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0013.8-25.8C465 391.17 468 391.17 451 374z"}}]})(e)}function cT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M431 320.6c-1-3.6 1.2-8.6 3.3-12.2a33.68 33.68 0 012.1-3.1A162 162 0 00464 215c.3-92.2-77.5-167-173.7-167-83.9 0-153.9 57.1-170.3 132.9a160.7 160.7 0 00-3.7 34.2c0 92.3 74.8 169.1 171 169.1 15.3 0 35.9-4.6 47.2-7.7s22.5-7.2 25.4-8.3a26.44 26.44 0 019.3-1.7 26 26 0 0110.1 2l56.7 20.1a13.52 13.52 0 003.9 1 8 8 0 008-8 12.85 12.85 0 00-.5-2.7z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M66.46 232a146.23 146.23 0 006.39 152.67c2.31 3.49 3.61 6.19 3.21 8s-11.93 61.87-11.93 61.87a8 8 0 002.71 7.68A8.17 8.17 0 0072 464a7.26 7.26 0 002.91-.6l56.21-22a15.7 15.7 0 0112 .2c18.94 7.38 39.88 12 60.83 12A159.21 159.21 0 00284 432.11"}}]})(e)}function lT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352 176L217.6 336 160 272"}}]})(e)}function fT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320L192 192m0 128l128-128"}}]})(e)}function dT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function pT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"336",height:"336",x:"128",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"57",ry:"57"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24"}}]})(e)}function hT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M288 72v120a32 32 0 0032 32h120"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144"}}]})(e)}function mT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 00-40-40H88a40 40 0 00-40 40v240a40 40 0 0040 40h192a40 40 0 0040-40v-40m64-160l80 80-80 80m-193-80h273"}}]})(e)}function vT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 192v128m96-128v128"}}]})(e)}function gT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{d:"M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z"}}]})(e)}function bT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}}]})(e)}function yT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"}}]})(e)}function DT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"}},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40m-64 64v224m-72-224l8 224m136-224l-8 224"}}]})(e)}function wT(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352 144h112v112"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 368l121.37-121.37a32 32 0 0145.26 0l50.74 50.74a32 32 0 0045.26 0L448 160"}}]})(e)}function _T(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 179.52A67.52 67.52 0 00268.48 112h-79.2a4 4 0 00-2.82 6.83l142.71 142.71a4 4 0 006.83-2.82zM16 180v152a68 68 0 0068 68h184a67.66 67.66 0 0042.84-15.24 4 4 0 00.33-6L54.41 122a4 4 0 00-4.87-.62A68 68 0 0016 180zm448 204.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 416L80 80"}}]})(e)}function ET(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M374.79 308.78L457.5 367a16 16 0 0022.5-14.62V159.62A16 16 0 00457.5 145l-82.71 58.22A16 16 0 00368 216.3v79.4a16 16 0 006.79 13.08z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M268 384H84a52.15 52.15 0 01-52-52V180a52.15 52.15 0 0152-52h184.48A51.68 51.68 0 01320 179.52V332a52.15 52.15 0 01-52 52z"}}]})(e)}function xT(e){return KS({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(e)}function kT(e){return KS({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}}]})(e)}function CT(e){return KS({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(e)}function ST(){return a.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 011.06 0L18 4.94l1.72-1.72a.75.75 0 111.06 1.06L19.06 6l1.72 1.72a.75.75 0 01-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 11-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 010-1.06zM1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}))}var FT=__webpack_require__(34023);function OT(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function AT(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zM19 10.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"}}]})(e)}function TT(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 015 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 005 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}}]})(e)}function PT(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function jT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length>t?e.slice(0,t>3?t-3:t)+n:e}function MT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stack",r=e.message;if("\x3c!-- BM-ONLY-FILES --\x3e"===(r=(0,Hk.decode)(r))&&!Array.isArray(e.meta.files))return a.createElement("span",{className:"bm-message-content-centered"},a.createElement(TT,null)," ",C7("Attachments uploading...","Message content attachments placeholder","bp-better-messages"));var o=[];r.endsWith("<br />")&&(r=r.substring(0,r.length-6));var i=(r=(0,FT.No)(r)).startsWith('<div class="bpbm-voice-message"')&&"undefined"!=typeof WaveSurfer;if(i)return"";var s='<span class="bpbm-gif">';if(r.startsWith(s)){var u=r.substring(s.length,r.length-7);return a.createElement(tT,{video:u})}if(r.startsWith('<span class="bpbm-call bpbm-call-video missed'))return a.createElement("span",{className:"bm-message-content-centered"},a.createElement(_T,null)," ",Gb(r));if(r.startsWith('<span class="bpbm-call bpbm-call-video'))return a.createElement("span",{className:"bm-message-content-centered"},a.createElement(oT,null)," ",Gb(r));if(r.startsWith('<span class="bpbm-call bpbm-call-audio missed'))return a.createElement("span",{className:"bm-message-content-centered"},a.createElement(ST,null)," ",Gb(r));if(r.startsWith('<span class="bpbm-call bpbm-call-audio'))return a.createElement("span",{className:"bm-message-content-centered"},a.createElement(kT,null)," ",Gb(r));"onsite"===n&&(r=jT(r=r.replace(/(<([^>]+)>)/gi,""),50));var c=[r];return"stack"===n&&(c=gF(r)),(c=KA(c,t)).map((function(e,t){if(a.isValidElement(e)&&o.push(e),"string"==typeof e){var n=0;o.push(Gb(e,{trim:!0,replace:function(e){if(e.attribs&&"bm-emoji-img"===e.attribs.class){var t="emoji_"+ ++n,r="true"===e.attribs["data-useimportant"],o=e.attribs["data-size"],i=Kb(e.attribs);return a.createElement("img",cy({key:t,ref:function(e){e&&r&&(e.style.setProperty("width",o+"px","important"),e.style.setProperty("height",o+"px","important"))}},i))}}}))}})),o}function BT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]})(e)}function NT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238zm366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z"}}]})(e)}function RT(e){return KS({tag:"svg",attr:{t:"1569682881658",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zM293 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attr:{d:"M894 345c-48.1-66-115.3-110.1-189-130v0.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l0.8 132.6c0 3.2 0.5 6.4 1.5 9.4 5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-0.5 0.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102z m505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-0.2-0.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l0.6 0.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attr:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]})(e)}function IT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(e)}function LT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"}}]})(e)}function zT(e){return KS({tag:"svg",attr:{t:"1569683621237",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M944 299H692c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h59.2c4.4 0 8-3.6 8-8V549.9h168.2c4.4 0 8-3.6 8-8V495c0-4.4-3.6-8-8-8H759.2V364.2H944c4.4 0 8-3.6 8-8V307c0-4.4-3.6-8-8-8zM588 300h-56c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V308c0-4.4-3.6-8-8-8zM452 500.9H290.5c-4.4 0-8 3.6-8 8v43.7c0 4.4 3.6 8 8 8h94.9l-0.3 8.9c-1.2 58.8-45.6 98.5-110.9 98.5-76.2 0-123.9-59.7-123.9-156.7 0-95.8 46.8-155.2 121.5-155.2 54.8 0 93.1 26.9 108.5 75.4h76.2c-13.6-87.2-86-143.4-184.7-143.4C150 288 72 375.2 72 511.9 72 650.2 149.1 736 273 736c114.1 0 187-70.7 187-181.6v-45.5c0-4.4-3.6-8-8-8z"}}]})(e)}function qT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function UT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]})(e)}function VT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]})(e)}function HT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M952 474H569.9c-10-2-20.5-4-31.6-6-15.9-2.9-22.2-4.1-30.8-5.8-51.3-10-82.2-20-106.8-34.2-35.1-20.5-52.2-48.3-52.2-85.1 0-37 15.2-67.7 44-89 28.4-21 68.8-32.1 116.8-32.1 54.8 0 97.1 14.4 125.8 42.8 14.6 14.4 25.3 32.1 31.8 52.6 1.3 4.1 2.8 10 4.3 17.8.9 4.8 5.2 8.2 9.9 8.2h72.8c5.6 0 10.1-4.6 10.1-10.1v-1c-.7-6.8-1.3-12.1-2-16-7.3-43.5-28-81.7-59.7-110.3-44.4-40.5-109.7-61.8-188.7-61.8-72.3 0-137.4 18.1-183.3 50.9-25.6 18.4-45.4 41.2-58.6 67.7-13.5 27.1-20.3 58.4-20.3 92.9 0 29.5 5.7 54.5 17.3 76.5 8.3 15.7 19.6 29.5 34.1 42H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h433.2c2.1.4 3.9.8 5.9 1.2 30.9 6.2 49.5 10.4 66.6 15.2 23 6.5 40.6 13.3 55.2 21.5 35.8 20.2 53.3 49.2 53.3 89 0 35.3-15.5 66.8-43.6 88.8-30.5 23.9-75.6 36.4-130.5 36.4-43.7 0-80.7-8.5-110.2-25-29.1-16.3-49.1-39.8-59.7-69.5-.8-2.2-1.7-5.2-2.7-9-1.2-4.4-5.3-7.5-9.7-7.5h-79.7c-5.6 0-10.1 4.6-10.1 10.1v1c.2 2.3.4 4.2.6 5.7 6.5 48.8 30.3 88.8 70.7 118.8 47.1 34.8 113.4 53.2 191.8 53.2 84.2 0 154.8-19.8 204.2-57.3 25-18.9 44.2-42.2 57.1-69 13-27.1 19.7-57.9 19.7-91.5 0-31.8-5.8-58.4-17.8-81.4-5.8-11.2-13.1-21.5-21.8-30.8H952c4.4 0 8-3.6 8-8v-60a8 8 0 0 0-8-7.9z"}}]})(e)}function $T(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M824 804H200c-4.4 0-8 3.4-8 7.6v60.8c0 4.2 3.6 7.6 8 7.6h624c4.4 0 8-3.4 8-7.6v-60.8c0-4.2-3.6-7.6-8-7.6zm-312-76c69.4 0 134.6-27.1 183.8-76.2C745 602.7 772 537.4 772 468V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 97-79 176-176 176s-176-79-176-176V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 69.4 27.1 134.6 76.2 183.8C377.3 701 442.6 728 512 728z"}}]})(e)}function WT(e){return KS({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]})(e)}function KT(e){return KS({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c2.206 0 4-1.795 4-4v-6c0-2.206-1.794-4-4-4s-4 1.794-4 4v6c0 2.205 1.794 4 4 4zM19 12v-2c0-.552-.447-1-1-1s-1 .448-1 1v2c0 2.757-2.243 5-5 5s-5-2.243-5-5v-2c0-.552-.447-1-1-1s-1 .448-1 1v2c0 3.52 2.613 6.432 6 6.92v1.08h-3c-.553 0-1 .447-1 1s.447 1 1 1h8c.553 0 1-.447 1-1s-.447-1-1-1h-3v-1.08c3.387-.488 6-3.4 6-6.92z"}}]})(e)}function GT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.meta||(e.meta={});var n=e.message;return t&&t.blocked?C7("Message hidden","Messages from blocked user","bp-better-messages"):n.startsWith('<span class="bpbm-sticker"')?a.createElement("div",{className:"last-message-rich"},a.createElement(iF,null)," ",x7("Sticker","bp-better-messages")," "):n.startsWith('<span class="bpbm-gif"')?a.createElement("div",{className:"last-message-rich"},a.createElement(zT,{style:{fontSize:18}})):n.startsWith('<div class="bpbm-voice-message"')?a.createElement("div",{className:"last-message-rich"},a.createElement(KT,null)," ",x7("Voice Message","bp-better-messages")," "):(n=MT(e,14,"onsite"),e.meta.files&&n.push(a.createElement("div",{className:"last-message-rich",key:"file-attachments-"+e.message_id},a.createElement(hT,null)," ",S7(k7("%s attachment","%s attachments",e.meta.files.length,"Conversations list item","bp-better-messages"),e.meta.files.length))),n)}function YT(e,t,n){var r=w7.subject?e.subject:n.name;return"chat-room"!==e.type&&"group"!==e.type||(r=e.title),w7.subject&&"thread"===e.type&&n&&(r=n.name+": "+r),!n||"group"!==e.type&&"chat-room"!==e.type||(r+=": "+n.name),r}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JT(e,t){var n=XT(XT({},e),t);if(n.participants){var r=w7.user_id;-1!==n.participants.indexOf(r)&&(n.participants=n.participants.filter((function(e){return e!==r})),n.participants.push(r))}return e.chatRoom&&t.chatRoom&&(n.chatRoom=XT(XT({},e.chatRoom),t.chatRoom)),"number"!=typeof n.isPinned&&(n.isPinned=0),n}var QT=new Map,eP=new ns;var tP=[];function nP(){return rP.apply(this,arguments)}function rP(){return(rP=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,"1"==w7.miniChats){e.next=6;break}return N2(w7.url+"#/new-conversation"),e.abrupt("return",!1);case 6:if(!(tP.indexOf(t)>-1)){e.next=10;break}return e.abrupt("return",!1);case 10:return e.next=12,oP(0,!0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oP(e,t){return aP.apply(this,arguments)}function aP(){return aP=n(o().mark((function e(t,n){var r,a,i,s,u,c,l,f,d,p,h,m,v=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>2&&void 0!==v[2]?v[2]:null,"1"==w7.miniChats){e.next=5;break}N2(w7.url+"#/conversation/"+t),e.next=57;break;case 5:if(!(tP.indexOf(t)>-1)){e.next=9;break}return e.abrupt("return",!1);case 9:if(a={thread_id:t,open:n},!w7.miniSync){e.next=38;break}if("number"!=typeof t){e.next=18;break}return e.next=14,J5.mini_chats.findOne({selector:{thread_id:t}}).exec();case 14:if(!(i=e.sent)){e.next=18;break}return uP(i.id),e.abrupt("return",!1);case 18:if(!r){e.next=26;break}return e.next=21,J5.mini_chats.findOne({selector:{user_id:r}}).exec();case 21:if(!(s=e.sent)){e.next=25;break}return uP(s.id),e.abrupt("return",!1);case 25:a.user_id=r;case 26:return u=1,e.next=29,J5.mini_chats.findOne({sort:[{id:"desc"}]}).exec();case 29:return(c=e.sent)&&(u=Number(c.id)+1),a.id=String(u),e.next=34,J5.mini_chats.insert(a);case 34:return l=e.sent,e.abrupt("return",l.toMutableJSON());case 38:if(f=Array.from(QT.values()),"number"!=typeof t){e.next=44;break}if(!(d=f.find((function(e){return e.thread_id===t})))){e.next=44;break}return uP(d.id),e.abrupt("return",!1);case 44:if(!r){e.next=50;break}if(!(p=f.find((function(e){return e.user_id===r})))){e.next=49;break}return uP(p.id),e.abrupt("return",!1);case 49:a.user_id=r;case 50:return h=Math.max.apply(Math,V(Array.from(QT.keys()))),(m=1)<=h&&(m=h+1),a.id=String(m),QT.set(a.id,a),eP.next(!0),e.abrupt("return",a);case 57:case"end":return e.stop()}}),e)}))),aP.apply(this,arguments)}function iP(e){return sP.apply(this,arguments)}function sP(){return(sP=n(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=8;break}return e.next=3,J5.mini_chats.findOne({selector:{thread_id:t}}).exec();case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.toMutableJSON());case 6:e.next=12;break;case 8:if(r=Array.from(QT.values()),!(a=r.find((function(e){return e.thread_id===t})))){e.next=12;break}return e.abrupt("return",a);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uP(e){return cP.apply(this,arguments)}function cP(){return(cP=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=document.querySelector(".bp-better-messages-mini"))&&n.dispatchEvent(new CustomEvent("better-messages-highlight-chat-"+t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lP(e,t){return fP.apply(this,arguments)}function fP(){return(fP=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=5;break}return e.next=3,J5.mini_chats.findOne(t).update({$set:n}).catch(zC);case 3:e.next=9;break;case 5:r=QT.get(t),Object.keys(n).map((function(e){r[e]=n[e]})),QT.set(t,r),eP.next(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dP(e){return pP.apply(this,arguments)}function pP(){return(pP=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=6;break}return e.next=3,J5.mini_chats.findOne(t).remove().catch(zC);case 3:return e.abrupt("return",e.sent);case 6:QT.delete(t),eP.next(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hP(){return(hP=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=6;break}return e.next=3,J5.mini_chats.findOne(t).update({$set:{open:!1}}).catch(zC);case 3:return e.abrupt("return",e.sent);case 6:(n=QT.get(t)).open=!1,QT.set(t,n),eP.next(!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mP(e){return vP.apply(this,arguments)}function vP(){return(vP=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=6;break}return e.next=3,J5.mini_chats.findOne(t).update({$set:{open:!0}}).catch(zC);case 3:return e.abrupt("return",e.sent);case 6:(n=QT.get(t)).open=!0,QT.set(t,n),eP.next(!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gP(e){return bP.apply(this,arguments)}function bP(){return(bP=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w7.miniSync){e.next=6;break}return e.next=3,J5.mini_chats.findOne({selector:{thread_id:t}}).remove().catch(zC);case 3:return e.abrupt("return",e.sent);case 6:n=Array.from(QT.values()),(r=n.find((function(e){return e.thread_id===t})))&&(QT.delete(r.id),eP.next(!0));case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yP(){return Co.local({zone:"utc"}).toFormat("yyyy-LL-dd HH:mm:ss")}var DP,wP=window.Better_Messages.badWords,_P=!1;function EP(){return xP.apply(this,arguments)}function xP(){return(xP=n(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==w7.user_id){e.next=2;break}return e.abrupt("return",[]);case 2:if(!_P){e.next=6;break}return e.next=5,S2(100);case 5:return e.abrupt("return",EP());case 6:if(!DP){e.next=8;break}return e.abrupt("return",DP);case 8:return _P=!0,e.next=11,MA("block-list-data");case 11:if((t=e.sent)&&t.hash!==wP&&(t=null),t){e.next=24;break}return e.next=16,a7.get("getBlockList");case 16:return n=e.sent,NA("block-list-data",{data:r=n.data,hash:wP}),DP=r,_P=!1,e.abrupt("return",DP);case 24:return DP=t.data,_P=!1,e.abrupt("return",t.data);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kP=!1;function CP(e){kP=e}function SP(){return FP.apply(this,arguments)}function FP(){return FP=n(o().mark((function e(){var t,n,r,a,i,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],n=Number(w7.user_id),r=String(w7.hash),e.prev=3,e.next=6,MA("settingsHash");case 6:a=e.sent,e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(3),!String(e.t0).includes("did not allow mutations")){e.next=14;break}return e.next=14,r7();case 14:return e.next=16,MA("settingsHash");case 16:a=e.sent;case 17:if(t||Z2||a&&r===a){e.next=24;break}return e.next=20,s7();case 20:return e.next=22,NA("settingsHash",w7.hash);case 22:return e.next=24,X2.postMessage({type:"update_settings",settings:w7});case 24:if(!isNaN(n)){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,MA("databaseUserId");case 28:if(void 0!==(i=e.sent)){e.next=37;break}return e.next=32,NA("databaseUserId",n);case 32:if(Z2){e.next=35;break}return e.next=35,X2.postMessage({type:"update_settings",settings:w7});case 35:e.next=48;break;case 37:if(Number(i)===n){e.next=48;break}if(t){e.next=41;break}return e.next=41,s7();case 41:return e.next=43,NA("settingsHash",w7.hash);case 43:return e.next=45,NA("databaseUserId",n);case 45:if(Z2){e.next=48;break}return e.next=48,X2.postMessage({type:"update_settings",settings:w7});case 48:return e.next=50,MA("lastThreadsPull");case 50:if(s=e.sent,u=!1,void 0===s&&(0!==n||0===n&&w7.guestAuth)&&(u=!0),!u){e.next=56;break}return e.next=56,TP();case 56:RP(!0),NA("initialLoad",!0),CP(!0),"1"!==w7.realtime&&W2(),w7.badWords&&EP(),zA();case 62:case"end":return e.stop()}}),e,null,[[3,9]])}))),FP.apply(this,arguments)}function OP(){return AP.apply(this,arguments)}function AP(){return(AP=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kP){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,S2(25);case 6:return e.abrupt("return",OP());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TP(){return PP.apply(this,arguments)}function PP(){return(PP=n(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.get("threads");case 3:return t=e.sent,n=t.data,e.next=7,oj(n.threads);case 7:return e.next=9,ES(n.users);case 9:return e.next=11,eS(n.messages);case 11:return e.next=13,NA("lastUpdate",n.serverTime);case 13:return e.next=15,NA("lastThreadsPull",yP());case 15:return e.abrupt("return",!0);case 18:e.prev=18,e.t0=e.catch(0),Yy(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}new Map;var jP=new Set,MP=new ns,BP=!1,NP=new ns;function RP(e){BP=e,NP.next(e)}function IP(){var e=k((0,a.useState)(BP),2),t=e[0],n=e[1];return(0,a.useLayoutEffect)((function(){var e,t;return e=NP.subscribe({next:function(e){BP=e,n(e)}}),t=setInterval((function(){n(BP)}),1e3),function(){e&&e.unsubscribe(),t&&clearInterval(t)}}),[]),t}function LP(){var e=k((0,a.useState)(0),2),t=e[0],n=e[1];return(0,a.useLayoutEffect)((function(){var e=J5.threads.find({selector:{unread:{$gt:0}}}).$.subscribe((function(e){var t=0;e.map((function(e){t+=e.get("unread")})),n(t)}));return function(){e.unsubscribe()}}),[]),t}function zP(){return qP.apply(this,arguments)}function qP(){return qP=n(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.find({selector:{unread:{$gt:0}}}).exec();case 2:return t=e.sent,n=[],t.map((function(e){n.push(e.toMutableJSON())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),qP.apply(this,arguments)}function UP(e){var t=k((0,a.useState)(null),2),n=t[0],r=t[1];return(0,a.useLayoutEffect)((function(){var t;if("string"==typeof e)r(null);else{var n=J5.threads.findOne({selector:{thread_id:e}});t=n.$.subscribe((function(e){r(e?e.toMutableJSON():null)}))}return function(){t&&t.unsubscribe()}}),[e]),F1(n)}var VP=new ns;function HP(e){return $P.apply(this,arguments)}function $P(){return $P=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.findOne({selector:{thread_id:t}}).exec();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toMutableJSON());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),$P.apply(this,arguments)}function WP(e,t){return KP.apply(this,arguments)}function KP(){return KP=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.findOne({selector:{thread_id:t}}).exec();case 2:if(!(r=e.sent)){e.next=6;break}return e.next=6,r.incrementalPatch(n).catch(zC);case 6:case"end":return e.stop()}}),e)}))),KP.apply(this,arguments)}function GP(){return YP.apply(this,arguments)}function YP(){return(YP=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.count().exec();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZP(e){return XP.apply(this,arguments)}function XP(){return XP=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gP(t),location.hash.endsWith("/conversation/"+t)&&(location.hash="#/"),e.next=4,HP(t);case 4:(n=e.sent)&&"chat-room"===n.type?(n.chatRoom.isJoined=!1,(r=n.chatRoom).isJoined=!1,WP(t,{chatRoom:r})):(J5.threads.find({selector:{thread_id:t}}).remove().catch(zC),J5.messages.find({selector:{thread_id:t}}).remove().catch(zC)),NC(t),g1(t);case 8:case"end":return e.stop()}}),e)}))),XP.apply(this,arguments)}function JP(){return QP.apply(this,arguments)}function QP(){return(QP=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OP();case 2:return e.next=4,J5.threads.find().exec();case 4:return t=e.sent,e.abrupt("return",t.map((function(e){return Number(e.thread_id)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ej(e,t){return tj.apply(this,arguments)}function tj(){return tj=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.findOne({selector:{thread_id:t}}).exec();case 2:if(!(r=e.sent)||r.get("unread")===n){e.next=6;break}return e.next=6,r.incrementalPatch({unread:n});case 6:case"end":return e.stop()}}),e)}))),tj.apply(this,arguments)}function nj(e){return rj.apply(this,arguments)}function rj(){return(rj=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J5.threads.find({selector:{thread_id:{$nin:t}}}).update({$set:{unread:0}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oj(e){return aj.apply(this,arguments)}function aj(){return aj=n(o().mark((function e(t){var n,r,a,i,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(s.length>1&&void 0!==s[1])||s[1],t&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:return r=["subject","title","image","url"],t=t.map((function(e){return r.map((function(t){void 0!==e[t]&&(e[t]=FC(e[t]))})),e})),a=t.map((function(e){return e.thread_id})),i=new Map,e.next=9,J5.threads.find({selector:{thread_id:{$in:a}}}).exec();case 9:e.sent.map((function(e){i.set(e.get("thread_id"),e)})),t.map((function(e){if(i.has(e.thread_id)){var t=i.get(e.thread_id).toMutableJSON(),r=e;n&&(r=JT(t,e)),i1()&&(r.unread=t.unread),t.groupCall&&(r.groupCall=t.groupCall),zk()(t,r)||J5.threads.incrementalUpsert(r)}else J5.threads.incrementalUpsert(e)}));case 12:case"end":return e.stop()}}),e)}))),aj.apply(this,arguments)}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uj=new Map;function cj(e){return lj.apply(this,arguments)}function lj(){return lj=n(o().mark((function e(t){var n,r,i,s,u,c,l,f,d,p,h,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:"ajax",w7.onSiteNotification){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,WC(t);case 5:if((r=e.sent).sender_id!==w7.user_id){e.next=8;break}return e.abrupt("return",!1);case 8:if(r.createdAt&&r.lastUpdate){e.next=10;break}return e.abrupt("return",!1);case 10:if(r.createdAt===r.lastUpdate){e.next=12;break}return e.abrupt("return",!1);case 12:return e.next=14,HP(r.thread_id);case 14:if(i=e.sent){e.next=17;break}return e.abrupt("return");case 17:if(!i.isHidden){e.next=19;break}return e.abrupt("return");case 19:if("ajax"!==n||0!==i.unread){e.next=21;break}return e.abrupt("return");case 21:if(!i.permissions){e.next=24;break}if(!i.permissions.isMuted){e.next=24;break}return e.abrupt("return");case 24:if(r3.isLeader&&X2.postMessage({type:"on_site_message",message_id:r.message_id}),!document.querySelector('.bp-messages-wrap .bm-side-tabs.bm-side-tabs-border-bottom > div.active[data-tab="threads-list"]')&&!document.querySelector(".bp-messages-wrap.bm-index-page")){e.next=27;break}return e.abrupt("return");case 27:if(!document.querySelector(".bp-better-messages-list .tabs > div.messages-tab.active")){e.next=29;break}return e.abrupt("return");case 29:if(!(s=document.querySelector(".bp-messages-wrap.bp-messages-mobile"))){e.next=33;break}if(!s.classList.contains("bm-index-page")){e.next=33;break}return e.abrupt("return");case 33:if(!z2(r.thread_id)){e.next=35;break}return e.abrupt("return",!1);case 35:return e.next=37,wS(r.sender_id);case 37:if(u=e.sent,l=YT(i,0,u),i.image?c=a.createElement("img",{src:i.image,alt:i.title}):u&&(c=a.createElement(zS,{user_id:u.user_id,size:45,link:!1})),f=a.createElement("div",{className:"bm-toast-site-message-container"},a.createElement("div",{className:"bm-toast-site-message-avatar"},c),a.createElement("div",{className:"bm-toast-site-message-info"},a.createElement("div",{className:"bm-toast-site-message-title"},l),w7.subjects&&"thread"===i.type&&""!==i.subject&&a.createElement("div",{className:"bm-toast-site-message-subject"},i.subject),a.createElement("div",{className:"bm-toast-site-message-content"},GT(r,u)))),!uj.has(i.thread_id)){e.next=45;break}return $y.update(uj.get(i.thread_id).toastId,{render:f}),uj.set(i.thread_id,sj(sj({},uj.get(i.thread_id)),{message_id:r.message_id})),e.abrupt("return");case 45:d=$y(f,{className:"bm-toasts bm-toast-site-message",position:Zy(),draggableDirection:Xy(),draggablePercent:Jy(),autoClose:!1,onClick:function(e){M2(i.thread_id).then((function(){$y.dismiss(d)}))},onOpen:function(){document.addEventListener("better-messages-thread-opened",p),document.addEventListener("better-messages-message-deleted",h)},onClose:function(){document.removeEventListener("better-messages-thread-opened",p),document.removeEventListener("better-messages-message-deleted",h),uj.delete(i.thread_id)},theme:"colored",hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),uj.set(i.thread_id,{message_id:r.message_id,toastId:d}),p=function(e){e.detail.threadId===r.thread_id&&$y.dismiss(d)},h=function(e){Number(e.detail.messageId)===Number(uj.get(i.thread_id).message_id)&&$y.dismiss(d)};case 49:case"end":return e.stop()}}),e)}))),lj.apply(this,arguments)}function fj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var dj={},pj={},hj=function(e){S(n,e);var t=fj(n);function n(){var e;u(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return p(F(e=t.call.apply(t,[this].concat(o))),"context",void 0),e}return d(n)}(a.Component);p(hj,"contextType",Dw);function mj(){var e=k((0,a.useState)(Q5.getValue()),2),t=e[0],n=e[1];return(0,a.useEffect)((function(){var e=Q5.subscribe({next:function(e){n(e)}});return function(){e.unsubscribe()}}),[]),[t,n]}var vj=__webpack_require__(78258),gj=a.createContext({threadId:null,thread:null,reply:null,chatMain:null,insideRouter:!1,screen:"messages",setScreen:null,call:null,groupVideo:null,groupAudio:null,action:null,setAction:null,syncing:!1});__webpack_require__(94953);function bj(e){return confirm(e)}function yj(){return yj=n(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bj(C7("Are you sure you want to delete this message?","Messages deleting","bp-better-messages"))){e.next=2;break}return e.abrupt("return");case 2:i=new Promise((function(e,a){a7.post("thread/"+t+"/deleteMessages",{messageIds:r}).then(function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Array.isArray(n.data.deleted)&&n.data.deleted.length>0?(n.data.deleted.map((function(e){GC(e)})),e(!0)):Array.isArray(n.data.errors)?a(C7(n.data.errors.join("\n"),"Messages deleting","bp-better-messages")):a(C7("Error while deleting message","Messages deleting","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(C7("Error while deleting message","Messages deleting","bp-better-messages"))}))})),$y.promise(i,{pending:{render:function(){return C7("Deleting message","Messages deleting","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("Message deleted","Messages deleting","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)}))),yj.apply(this,arguments)}function Dj(e,t,n){return wj.apply(this,arguments)}function wj(){return wj=n(o().mark((function e(t,r,a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a7.post("thread/"+t+"/favorite",{messageId:r,type:a}).then(function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JC(r,{favorited:"star"===a?1:0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ky(e)})).then((function(){}));case 1:case"end":return e.stop()}}),e)}))),wj.apply(this,arguments)}var _j=__webpack_require__(85613),Ej=__webpack_require__.n(_j);function xj(){return"rtl"===document.documentElement.dir}var kj;function Cj(e){var t=(0,a.useRef)(),n=(0,a.useRef)(),r=(0,a.useRef)(),o=k((0,a.useState)(!1),2),i=o[0],s=o[1];return(0,a.useEffect)((function(){var o,a=t.current,i=w7.color;document.body&&document.body.classList.contains("bm-messages-dark")&&(i=w7.darkColor);try{o=getComputedStyle(n.current).color,i="#".concat(o.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1).map((function(e){return parseInt(e,10).toString(16).padStart(2,"0")})).join(""))}catch(O9){}r.current=WaveSurfer.create({container:a,height:30,rtl:xj(),cursorColor:i,progressColor:i,waveColor:i,responsive:!0,ignoreSilenceMode:!0,barWidth:3,barMinHeight:1,barRadius:3,cursorWidth:1,barGap:3,normalize:!0}),r.current.on("pause",(function(){s(!1),kj=null})),r.current.on("play",(function(){kj&&kj.stop(),s(!0),kj=r.current})),r.current.load(e.src)}),[]),a.createElement("div",{className:"bm-voice-message"},a.createElement("div",{ref:n,className:"bm-voice-message-play",onClick:function(){Ho()||r.current.playPause()},onTouchEnd:function(e){Ho()&&r.current.playPause()}},!i&&a.createElement(gT,null),i&&a.createElement(vT,null)),a.createElement("div",{className:"bm-waveform",ref:t}))}var Sj=__webpack_require__(34704),Fj=__webpack_require__.n(Sj);function Oj(e){var t=e.message;if(!t)return null;var n=k((0,a.useState)(!1),2),r=n[0],o=n[1],i=k((0,a.useState)(0),2),s=i[0],u=i[1],c=t.meta.files;if(!Ko()&&t.message.startsWith('<div class="bpbm-voice-message"')&&"undefined"!=typeof WaveSurfer){var l=c.filter((function(e){return e.mimeType.startsWith("audio/")}));if(l.length>0)return a.createElement(Cj,{src:l[0].url})}var f=new Set,d=[],p=[],h=c.filter((function(e){var t=e.mimeType.startsWith("image/");return t&&f.add(e.id),d.push(e.url),p.push(e.thumb),t})),m=c.filter((function(e){var t=e.mimeType.startsWith("audio/");return t&&f.add(e.id),t})),v=c.filter((function(e){var t="video/mp4"===e.mimeType||"video/quicktime"===e.mimeType;return t&&f.add(e.id),t}));return c=c.filter((function(e){return!f.has(e.id)})),a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-attachments"},h.length>0&&a.createElement("div",{className:"bm-images"},h.map((function(e,t){return a.createElement("a",{key:"image_"+e.id,href:e.url,target:"_blank",style:{display:"block",backgroundImage:"url("+e.thumb+")",backgroundSize:"cover",backgroundPosition:"center"},onClick:function(e){e.preventDefault(),u(t+1),o((function(e){return!e}))}},a.createElement("img",{src:e.thumb,alt:e.name,loading:"lazy"}))})),(0,kE.createPortal)(a.createElement(Fj(),{showThumbsOnMount:p.length>1,toggler:r,sources:d,thumbs:p,type:"image",exitFullscreenOnClose:!0,slide:s,customToolbarButtons:[{viewBox:"0 0 16 16",d:"M0 14h16v2h-16v-2z M8 13l5-5h-3v-8h-4v8h-3z",width:"16px",height:"16px",title:"Download",onClick:function(e){var t=e.props.sources[e.stageIndexes.current],n=document.createElement("a");n.href=t,n.setAttribute("download",""),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]}),document.body)),v.length>0&&a.createElement("div",{className:"bm-videos"},v.map((function(e){return a.createElement("video",{key:"file_"+e.id,src:e.url,className:"bm-video",preload:"auto",controls:!0,playsInline:!0})}))),m.length>0&&a.createElement("div",{className:"bm-audios"},m.map((function(e){return a.createElement("audio",{key:"file_"+e.id,src:e.url,className:"bm-audio",controls:!0})}))),c.length>0&&a.createElement("div",{className:"bm-files"},c.map((function(e){return a.createElement("a",{key:"file_"+e.id,href:e.url,target:"_blank",className:"bm-file"},a.createElement(LT,null)," ",e.name," ",a.createElement("span",{className:"size"},"(",Ej()(e.size),")"))})))))}var Aj=(0,a.createContext)({}),Tj=()=>(0,a.useContext)(Aj),Pj=e=>a.createElement(Aj.Provider,{...e});var jj=function(){let e=new Map;return{on(t,n){return e.has(t)?e.get(t).add(n):e.set(t,new Set([n])),this},off(t,n){return e.has(t)&&e.get(t).delete(n),this},emit(t,n){return e.has(t)&&e.get(t).forEach((e=>{e(n)})),this}}}(),Mj=()=>(0,a.useRef)(new Map).current,Bj=()=>{},Nj=["resize","contextmenu","click","scroll","blur"],Rj={show({event:e,id:t,props:n,position:r}){e.preventDefault&&e.preventDefault(),jj.emit(0).emit(t,{event:e.nativeEvent||e,props:n,position:r})},hideAll(){jj.emit(0)}};function Ij(e){return{show(t){Rj.show({...e,...t})},hideAll(){Rj.hideAll()}}}function Lj(){let e,t,n,r,o=new Map,a=!1;function i(){r[e].node.focus()}function s(){return-1!==e||(u(),!1)}function u(){e+1<r.length?e++:e+1===r.length&&(e=0),a&&c(),i()}function c(){if(s()&&!n){let s=o.get(t);t.classList.remove("contexify_submenu-isOpen"),r=s.items,t=s.parentNode,s.isRoot&&(n=!0,o.clear()),a||(e=s.focusedIndex,i())}}return{init:function(t){r=Array.from(t.values()),e=-1,n=!0},moveDown:u,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,a&&c(),i()},openSubmenu:function(){if(s()&&e>=0&&r[e].isSubmenu){let s=Array.from(r[e].submenuRefTracker.values()),{node:u,setSubmenuPosition:c}=r[e];return o.set(u,{isRoot:n,focusedIndex:e,parentNode:t||u,items:r}),c(),u.classList.add("contexify_submenu-isOpen"),t=u,s.length>0?(e=0,r=s):a=!0,n=!1,i(),!0}return!1},closeSubmenu:c,matchKeys:function(e){!function t(n){for(let r of n)r.isSubmenu&&r.submenuRefTracker&&t(Array.from(r.submenuRefTracker.values())),r.keyMatcher&&r.keyMatcher(e)}(r)}}}function zj(e){return"function"==typeof e}function qj(e){return"string"==typeof e}function Uj(e,t){return a.Children.map(a.Children.toArray(e).filter(Boolean),(e=>(0,a.cloneElement)(e,t)))}function Vj(e,t){return zj(e)?e(t):e}function Hj(e,t){return{...e,...zj(t)?t(e):t}}var $j=({id:e,theme:t,style:n,className:r,children:o,animation:i="fade",preventDefaultOnKeydown:s=!0,disableBoundariesCheck:u=!1,onVisibilityChange:c,...l})=>{let[f,d]=(0,a.useReducer)(Hj,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),p=(0,a.useRef)(null),h=Mj(),[m]=(0,a.useState)((()=>Lj())),v=(0,a.useRef)(),g=(0,a.useRef)();function b(e,t){if(p.current&&!u){let{innerWidth:n,innerHeight:r}=window,{offsetWidth:o,offsetHeight:a}=p.current;e+o>n&&(e-=e+o-n),t+a>r&&(t-=t+a-r)}return{x:e,y:t}}function y({event:e,props:t,position:n}){e.stopPropagation();let r=n||function(e){let t={x:e.clientX,y:e.clientY},n=e.changedTouches;return n&&(t.x=n[0].clientX,t.y=n[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(e),{x:o,y:a}=b(r.x,r.y);(0,kE.flushSync)((()=>{d({visible:!0,willLeave:!1,x:o,y:a,triggerEvent:e,propsFromTrigger:t})})),clearTimeout(g.current),!v.current&&zj(c)&&(c(!0),v.current=!0)}function D(e){null!=e&&(2===e.button||e.ctrlKey)&&"contextmenu"!==e.type||(i&&(qj(i)||"exit"in i&&i.exit)?d((e=>({willLeave:e.visible}))):d((e=>({visible:!e.visible&&e.visible}))),g.current=setTimeout((()=>{zj(c)&&c(!1),v.current=!1})))}(0,a.useEffect)((()=>(jj.on(e,y).on(0,D),()=>{jj.off(e,y).off(0,D)})),[e,i,u]),(0,a.useEffect)((()=>{f.visible?m.init(h):h.clear()}),[f.visible,m,h]),(0,a.useEffect)((()=>{f.visible&&d(b(f.x,f.y))}),[f.visible]),(0,a.useEffect)((()=>{function e(e){s&&e.preventDefault()}function t(t){switch(t.key){case"Enter":case" ":m.openSubmenu()||D();break;case"Escape":D();break;case"ArrowUp":e(t),m.moveUp();break;case"ArrowDown":e(t),m.moveDown();break;case"ArrowRight":e(t),m.openSubmenu();break;case"ArrowLeft":e(t),m.closeSubmenu();break;default:m.matchKeys(t)}}if(f.visible){window.addEventListener("keydown",t);for(let e of Nj)window.addEventListener(e,D)}return()=>{window.removeEventListener("keydown",t);for(let e of Nj)window.removeEventListener(e,D)}}),[f.visible,m,s]);let{visible:w,triggerEvent:_,propsFromTrigger:E,x,y:k,willLeave:C}=f,S=Ey("contexify",r,{[`contexify_theme-${t}`]:t},qj(i)?Ey({[`contexify_willEnter-${i}`]:w&&!C,[`contexify_willLeave-${i} contexify_willLeave-'disabled'`]:w&&C}):i&&"enter"in i&&"exit"in i?Ey({[`contexify_willEnter-${i.enter}`]:i.enter&&w&&!C,[`contexify_willLeave-${i.exit} contexify_willLeave-'disabled'`]:i.exit&&w&&C}):null);return a.createElement(Pj,{value:h},w&&a.createElement("div",{...l,className:S,onAnimationEnd:function(){f.willLeave&&f.visible&&(0,kE.flushSync)((()=>d({visible:!1,willLeave:!1})))},style:{...n,left:x,top:k,opacity:1},ref:p,role:"menu"},Uj(o,{propsFromTrigger:E,triggerEvent:_})))},Wj=({id:e,children:t,className:n,style:r,triggerEvent:o,data:i,propsFromTrigger:s,keyMatcher:u,onClick:c=Bj,disabled:l=!1,hidden:f=!1,closeOnClick:d=!0,handlerEvent:p="onClick",...h})=>{let m=(0,a.useRef)(),v=Tj(),g={id:e,data:i,triggerEvent:o,props:s},b=Vj(l,g);function y(){let e=m.current;e.focus(),e.addEventListener("animationend",(()=>setTimeout(Rj.hideAll)),{once:!0}),e.classList.add("contexify_item-feedback"),c(g)}return Vj(f,g)?null:a.createElement("div",{...h,[p]:function(e){g.event=e,e.stopPropagation(),b||(d?y():c(g))},className:Ey("contexify_item",n,{"contexify_item-disabled":b}),style:r,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),g.event=e,y())},ref:function(e){e&&!b&&(m.current=e,v.set(e,{node:e,isSubmenu:!1,keyMatcher:!b&&zj(u)&&(e=>{u(e)&&(e.stopPropagation(),e.preventDefault(),g.event=e,y())})}))},tabIndex:-1,role:"menuitem","aria-disabled":b},a.createElement("div",{className:"contexify_itemContent"},t))};function Kj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Gj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"polyline",attr:{points:"9 21 3 21 3 15"}},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function Yj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"}},{tag:"polyline",attr:{points:"20 10 14 10 14 4"}},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function Zj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function Xj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Jj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Qj(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}function eM(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"}},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"}}]})(e)}function tM(e){var t=qC(e.message_id,!0);return t?a.createElement("span",{className:"bm-replied-message"},a.createElement("span",{className:"bm-replied-message-name"},a.createElement(hF,{user_id:t.sender_id})),a.createElement("span",{className:"bm-replied-message-text"},GT(t))):null}var nM,rM,oM=a.forwardRef((function(e,t){return null}));function aM(e){return iM.apply(this,arguments)}function iM(){return(iM=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.threads&&t.threads.length>0)){e.next=3;break}return e.next=3,oj(t.threads);case 3:if(!(t.messages&&t.messages.length>0)){e.next=6;break}return e.next=6,eS(t.messages);case 6:if(!t.users){e.next=9;break}return e.next=9,ES(t.users);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sM(){return sM=n(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("reactions/save",{message_id:t,emoji:n});case 3:return r=e.sent,a=r.data,e.next=7,aM(a);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),sM.apply(this,arguments)}function uM(e){var t=w7.reactions,n=Object.keys(t),r=k((0,a.useState)(!1),2),o=(r[0],r[1]);return a.createElement("div",{className:"bm-reactions-selector",onMouseOver:function(){return o(!0)},onMouseOut:function(){o(!1)}},n.map((function(t){var n=String(t).split("-"),r=[];n.map((function(e){r.push(parseInt(e,16))}));var o=String.fromCodePoint.apply(String,r);return a.createElement("div",{className:"bm-reaction-icon",key:"reaction-"+t,onClick:function(){!function(e,t){sM.apply(this,arguments)}(e.message_id,t)}},a.createElement(VA,{emoji:o,size:12,useImportant:!1}))})))}function cM(){return(cM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lM(e){var t=e.nativeEvent;return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function fM(e){return e.nativeEvent instanceof MouseEvent}function dM(e){return lM(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:fM(e)?{x:e.pageX,y:e.pageY}:null}function pM(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function hM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mM(){return mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mM.apply(this,arguments)}function vM(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}!function(e){e.CANCELED_BY_MOVEMENT="canceled-by-movement",e.CANCELED_BY_TIMEOUT="canceled-by-timeout"}(nM||(nM={})),function(e){e.BOTH="both",e.MOUSE="mouse",e.TOUCH="touch"}(rM||(rM={}));function gM(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}var bM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function yM(e){var t=e.basename,n=e.children,r=e.window,o=a.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),hD((function(e,t){var n=dD(e.location.hash.substr(1)),r=n.pathname,o=void 0===r?"/":r,a=n.search,i=void 0===a?"":a,s=n.hash;return lD("",{pathname:o,search:i,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var o=e.location.href,a=o.indexOf("#");r=-1===a?o:o.slice(0,a)}return r+"#"+("string"==typeof t?t:fD(t))}),(function(e,t){uD("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:r,v5Compat:!0}));var i=o.current,s=k(a.useState({action:i.action,location:i.location}),2),u=s[0],c=s[1];return a.useLayoutEffect((function(){return i.listen(c)}),[i]),a.createElement(vw,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i})}var DM=a.forwardRef((function(e,t){var n=e.onClick,r=e.relative,o=e.reloadDocument,i=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=vM(e,bM),d=function(e,t){var n=(void 0===t?{}:t).relative;ew()||xD(!1);var r=a.useContext(ZD),o=r.basename,i=r.navigator,s=aw(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==o&&(f="/"===c?o:OD([o,c])),i.createHref({pathname:f,search:l,hash:u})}(c,{relative:r}),p=function(e,t){var n=void 0===t?{}:t,r=n.target,o=n.replace,i=n.state,s=n.preventScrollReset,u=n.relative,c=rw(),l=tw(),f=aw(e,{relative:u});return a.useCallback((function(t){if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();var n=void 0!==o?o:fD(l)===fD(f);c(e,{replace:n,state:i,preventScrollReset:s,relative:u})}}),[l,c,f,o,i,r,e,s,u])}(c,{replace:i,state:s,target:u,preventScrollReset:l,relative:r});return a.createElement("a",mM({},f,{href:d,onClick:o?n:function(e){n&&n(e),e.defaultPrevented||p(e)},ref:t,target:u}))}));var wM,_M;function EM(e){var t=a.useRef(gM(e)),n=tw(),r=a.useMemo((function(){return function(e,t){var n,r=gM(e),o=pM(t.keys());try{var a=function(){var e=n.value;r.has(e)||t.getAll(e).forEach((function(t){r.append(e,t)}))};for(o.s();!(n=o.n()).done;)a()}catch(A9){o.e(A9)}finally{o.f()}return r}(n.search,t.current)}),[n.search]),o=rw(),i=a.useCallback((function(e,t){var n=gM("function"==typeof e?e(r):e);o("?"+n,t)}),[o,r]);return[r,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(wM||(wM={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_M||(_M={}));function xM(){var e=(0,a.useContext)(Dw),t=e.isMaximized,n=e.setIsMaximized;return a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Back",'"Back" Button Tooltip',"bp-better-messages")},a.createElement(DM,{to:"/",className:"back"},a.createElement(nT,null))),a.createElement("span",{id:"bm-new-thread-title",style:{marginRight:"auto"}},C7("Favorited messages","Favorited messages screen","bp-better-messages")),w7.fullScreen&&a.createElement(a.Fragment,null,!t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))))}function kM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=[],r=new Map;if(e&&e.length>0){var o,a,i=[];if(e.forEach((function(e){var t=e.date_sent.startOf("day").toISO();a?t>a?(a=t,n.push(i),i=[]):o&&o.sender_id!==e.sender_id&&(n.push(i),i=[]):a=t,o=e,i.push(e)})),n.push(i),t){var s,u=[];n.map((function(e){if(0===e.filter((function(e,n){var r=Number(e.message_id)===Number(t);return r&&(s=Number(n)),r})).length)u.push(e);else{var n=e.slice(0,s),r=e.slice(s);n.length>0&&u.push(n),r.length>0&&u.push(r)}})),n=u}n.map((function(e){var t=e[0].date_sent.startOf("day").toISO(),n=[];r.has(t)&&(n=r.get(t)),n.push(e),r.set(t,n)}))}return{stacks:n,dates:new Map(Array.from(r))}}const CM=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),SM=(0,a.createContext)({});const FM=(0,a.createContext)(null),OM="undefined"!=typeof document,AM=OM?a.useLayoutEffect:a.useEffect,TM=(0,a.createContext)({strict:!1});function PM(e,t,n,r){const o=(0,a.useContext)(SM).visualElement,i=(0,a.useContext)(TM),s=(0,a.useContext)(FM),u=(0,a.useContext)(CM).reducedMotion,c=(0,a.useRef)();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));const l=c.current;(0,a.useInsertionEffect)((()=>{l&&l.update(n,s)})),AM((()=>{l&&l.render()})),(0,a.useEffect)((()=>{l&&l.updateFeatures()}));return(window.HandoffAppearAnimations?AM:a.useEffect)((()=>{l&&l.animationState&&l.animationState.animateChanges()})),l}function jM(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function MM(e){return"string"==typeof e||Array.isArray(e)}function BM(e){return"object"==typeof e&&"function"==typeof e.start}const NM=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function RM(e){return BM(e.animate)||NM.some((t=>MM(e[t])))}function IM(e){return Boolean(RM(e)||e.variants)}function LM(e){const{initial:t,animate:n}=function(e,t){if(RM(e)){const{initial:t,animate:n}=e;return{initial:!1===t||MM(t)?t:void 0,animate:MM(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(SM));return(0,a.useMemo)((()=>({initial:t,animate:n})),[zM(t),zM(n)])}function zM(e){return Array.isArray(e)?e.join(" "):e}const qM={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},UM={};for(const P9 in qM)UM[P9]={isEnabled:e=>qM[P9].some((t=>!!e[t]))};function VM(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}const HM={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $M=1;const WM=(0,a.createContext)({}),KM=(0,a.createContext)({}),GM=Symbol.for("motionComponentSymbol");function YM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&function(e){for(const t in e)UM[t]={...UM[t],...e[t]}}(e);const i=(0,a.forwardRef)((function(i,s){let u;const c={...(0,a.useContext)(CM),...i,layoutId:ZM(i)},{isStatic:l}=c,f=LM(i),d=l?void 0:VM((()=>{if(HM.hasEverUpdated)return $M++})),p=r(i,l);if(!l&&OM){f.visualElement=PM(o,p,c,t);const n=(0,a.useContext)(KM),r=(0,a.useContext)(TM).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,r,e,d,n))}return a.createElement(SM.Provider,{value:f},u&&f.visualElement?a.createElement(u,{visualElement:f.visualElement,...c}):null,n(o,i,d,function(e,t,n){return(0,a.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):jM(n)&&(n.current=r))}),[t])}(p,f.visualElement,s),p,l,f.visualElement))}));return i[GM]=o,i}function ZM({layoutId:e}){const t=(0,a.useContext)(WM).id;return t&&void 0!==e?t+"-"+e:e}function XM(e){function t(t,n={}){return YM(e(t,n))}if("undefined"==typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const JM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QM(e){return"string"==typeof e&&!e.includes("-")&&!!(JM.indexOf(e)>-1||/[A-Z]/.test(e))}const eB={};const tB=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nB=new Set(tB);function rB(e,{layout:t,layoutId:n}){return nB.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!eB[e]||"opacity"===e)}const oB=e=>Boolean(e&&e.getVelocity),aB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=tB.length;function sB(e){return e.startsWith("--")}const uB=(e,t)=>t&&"number"==typeof e?t.transform(e):e,cB=(e,t,n)=>Math.min(Math.max(n,e),t),lB={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},fB={...lB,transform:e=>cB(0,1,e)},dB={...lB,default:1},pB=e=>Math.round(1e5*e)/1e5,hB=/(-)?([\d]*\.?[\d])+/g,mB=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gB(e){return"string"==typeof e}const bB=e=>({test:t=>gB(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),yB=bB("deg"),DB=bB("%"),wB=bB("px"),_B=bB("vh"),EB=bB("vw"),xB={...DB,parse:e=>DB.parse(e)/100,transform:e=>DB.transform(100*e)},kB={...lB,transform:Math.round},CB={borderWidth:wB,borderTopWidth:wB,borderRightWidth:wB,borderBottomWidth:wB,borderLeftWidth:wB,borderRadius:wB,radius:wB,borderTopLeftRadius:wB,borderTopRightRadius:wB,borderBottomRightRadius:wB,borderBottomLeftRadius:wB,width:wB,maxWidth:wB,height:wB,maxHeight:wB,size:wB,top:wB,right:wB,bottom:wB,left:wB,padding:wB,paddingTop:wB,paddingRight:wB,paddingBottom:wB,paddingLeft:wB,margin:wB,marginTop:wB,marginRight:wB,marginBottom:wB,marginLeft:wB,rotate:yB,rotateX:yB,rotateY:yB,rotateZ:yB,scale:dB,scaleX:dB,scaleY:dB,scaleZ:dB,skew:yB,skewX:yB,skewY:yB,distance:wB,translateX:wB,translateY:wB,translateZ:wB,x:wB,y:wB,z:wB,perspective:wB,transformPerspective:wB,opacity:fB,originX:xB,originY:xB,originZ:wB,zIndex:kB,fillOpacity:fB,strokeOpacity:fB,numOctaves:kB};function SB(e,t,n,r){const{style:o,vars:a,transform:i,transformOrigin:s}=e;let u=!1,c=!1,l=!0;for(const f in t){const e=t[f];if(sB(f)){a[f]=e;continue}const n=CB[f],r=uB(e,n);if(nB.has(f)){if(u=!0,i[f]=r,!l)continue;e!==(n.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=r):o[f]=r}if(t.transform||(u||r?o.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let a="";for(let i=0;i<iB;i++){const t=tB[i];void 0!==e[t]&&(a+=`${aB[t]||t}(${e[t]}) `)}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(e,r?"":a):n&&r&&(a="none"),a}(e.transform,n,l,r):o.transform&&(o.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;o.transformOrigin=`${e} ${t} ${n}`}}const FB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OB(e,t,n){for(const r in t)oB(t[r])||rB(r,n)||(e[r]=t[r])}function AB(e,t,n){const r={};return OB(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},t,n){return(0,a.useMemo)((()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return SB(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function TB(e,t,n){const r={},o=AB(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const PB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function jB(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||PB.has(e)}let MB=e=>!jB(e);try{(BB=require("@emotion/is-prop-valid").default)&&(MB=e=>e.startsWith("on")?!jB(e):BB(e))}catch(T9){}var BB;function NB(e,t,n){return"string"==typeof e?e:wB.transform(t+n*e)}const RB={offset:"stroke-dashoffset",array:"stroke-dasharray"},IB={offset:"strokeDashoffset",array:"strokeDasharray"};function LB(e,{attrX:t,attrY:n,originX:r,originY:o,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...u},c,l,f){if(SB(e,u,c,f),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:p,dimensions:h}=e;d.transform&&(h&&(p.transform=d.transform),delete d.transform),h&&(void 0!==r||void 0!==o||p.transform)&&(p.transformOrigin=function(e,t,n){return`${NB(t,e.x,e.width)} ${NB(n,e.y,e.height)}`}(h,void 0!==r?r:.5,void 0!==o?o:.5)),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==a&&function(e,t,n=1,r=0,o=!0){e.pathLength=1;const a=o?RB:IB;e[a.offset]=wB.transform(-r);const i=wB.transform(t),s=wB.transform(n);e[a.array]=`${i} ${s}`}(d,a,i,s,!1)}const zB=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),qB=e=>"string"==typeof e&&"svg"===e.toLowerCase();function UB(e,t,n,r){const o=(0,a.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return LB(n,t,{enableHardwareAcceleration:!1},qB(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};OB(t,e.style,e),o.style={...t,...o.style}}return o}function VB(e=!1){return(t,n,r,o,{latestValues:i},s)=>{const u=(QM(t)?UB:TB)(n,i,s,t),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"==typeof e.values||(MB(o)||!0===n&&jB(o)||!t&&!jB(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"==typeof t,e),l={...c,...u,ref:o},{children:f}=n,d=(0,a.useMemo)((()=>oB(f)?f.get():f),[f]);return r&&(l["data-projection-id"]=r),(0,a.createElement)(t,{...l,children:d})}}const HB=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function $B(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const WB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KB(e,t,n,r){$B(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(WB.has(o)?o:HB(o),t.attrs[o])}function GB(e,t){const{style:n}=e,r={};for(const o in n)(oB(n[o])||t.style&&oB(t.style[o])||rB(o,e))&&(r[o]=n[o]);return r}function YB(e,t){const n=GB(e,t);for(const r in e)if(oB(e[r])||oB(t[r])){n["x"===r||"y"===r?"attr"+r.toUpperCase():r]=e[r]}return n}function ZB(e,t,n,r={},o={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),t}const XB=e=>Array.isArray(e),JB=e=>XB(e)?e[e.length-1]||0:e;function QB(e){const t=oB(e)?e.get():e;return(e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const eN=e=>(t,n)=>{const r=(0,a.useContext)(SM),o=(0,a.useContext)(FM),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,a){const i={latestValues:tN(r,o,a,e),renderState:t()};return n&&(i.mount=e=>n(r,e,i)),i}(e,t,r,o);return n?i():VM(i)};function tN(e,t,n,r){const o={},a=r(e,{});for(const d in a)o[d]=QB(a[d]);let{initial:i,animate:s}=e;const u=RM(e),c=IM(e);t&&c&&!u&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===s&&(s=t.animate));let l=!!n&&!1===n.initial;l=l||!1===i;const f=l?s:i;if(f&&"boolean"!=typeof f&&!BM(f)){(Array.isArray(f)?f:[f]).forEach((t=>{const n=ZB(e,t);if(!n)return;const{transitionEnd:r,transition:a,...i}=n;for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[l?t.length-1:0]}null!==t&&(o[e]=t)}for(const e in r)o[e]=r[e]}))}return o}const nN={useVisualState:eN({scrapeMotionValuesFromProps:YB,createRenderState:zB,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(O9){n.dimensions={x:0,y:0,width:0,height:0}}LB(n,r,{enableHardwareAcceleration:!1},qB(t.tagName),e.transformTemplate),KB(t,n)}})},rN={useVisualState:eN({scrapeMotionValuesFromProps:GB,createRenderState:FB})};function oN(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const aN=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function iN(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function sN(e,t,n,r){return oN(e,t,(e=>t=>aN(t)&&e(t,iN(t)))(n),r)}var uN;!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(uN||(uN={}));const cN=(e,t)=>n=>t(e(n)),lN=(...e)=>e.reduce(cN);function fN(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const dN=fN("dragHorizontal"),pN=fN("dragVertical");function hN(e){let t=!1;if("y"===e)t=pN();else if("x"===e)t=dN();else{const e=dN(),n=pN();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function mN(){const e=hN(!0);return!e||(e(),!1)}class vN{constructor(e){this.isMounted=!1,this.node=e}update(){}}function gN(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return sN(e.current,n,((n,o)=>{if("touch"===n.type||mN())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive(uN.Hover,t),a[r]&&a[r](n,o)}),{passive:!e.getProps()[r]})}const bN=(e,t)=>!!t&&(e===t||bN(e,t.parentElement)),yN=e=>e;function DN(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,iN(n))}const wN=new WeakMap,_N=new WeakMap,EN=e=>{const t=wN.get(e.target);t&&t(e)},xN=e=>{e.forEach(EN)};function kN(e,t,n){const r=function({root:e,...t}){const n=e||document;_N.has(n)||_N.set(n,{});const r=_N.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xN,{root:e,...t})),r[o]}(t);return wN.set(e,n),r.observe(e),()=>{wN.delete(e),r.unobserve(e)}}const CN={some:0,all:1};const SN={inView:{Feature:class extends vN{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame((()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive(uN.InView,!0)}))}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o,fallback:a=!0}=e;if("undefined"==typeof IntersectionObserver)return void(a&&this.viewportFallback());const i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:CN[r]};return kN(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(uN.InView,t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends vN{constructor(){super(...arguments),this.removeStartListeners=yN,this.removeEndListeners=yN,this.removeAccessibleListeners=yN,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=sN(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();bN(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}),{passive:!(n.onTap||n.onPointerUp)}),o=sN(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=lN(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=oN(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=oN(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&DN("up",this.node.getProps().onTap)})),DN("down",((e,t)=>{this.startPress(e,t)}))})),t=oN(this.node.current,"blur",(()=>{this.isPressing&&DN("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=lN(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive(uN.Tap,!0),n&&n(e,t)}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive(uN.Tap,!1),!mN()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(e,t)}mount(){const e=this.node.getProps(),t=sN(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=oN(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=lN(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends vN{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(O9){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive(uN.Focus,!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive(uN.Focus,!1),this.isActive=!1)}mount(){this.unmount=lN(oN(this.node.current,"focus",(()=>this.onFocus())),oN(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends vN{mount(){this.unmount=lN(gN(this.node,!0),gN(this.node,!1))}unmount(){}}}};function FN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ON=e=>/^\-?\d*\.?\d+$/.test(e),AN=e=>/^0[^.\s]+$/.test(e),TN={delta:0,timestamp:0},PN=1/60*1e3,jN="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),MN="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(jN())),PN);let BN=!0,NN=!1,RN=!1;const IN=["read","update","preRender","render","postRender"],LN=IN.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,a=!1;const i=new WeakSet,s={schedule:(e,a=!1,s=!1)=>{const u=s&&o,c=u?t:n;return a&&i.add(e),-1===c.indexOf(e)&&(c.push(e),u&&o&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),i.delete(e)},process:u=>{if(o)a=!0;else{if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(u),i.has(r)&&(s.schedule(r),e())}o=!1,a&&(a=!1,s.process(u))}}};return s}((()=>NN=!0)),e)),{}),zN=IN.reduce(((e,t)=>{const n=LN[t];return e[t]=(e,t=!1,r=!1)=>(NN||$N(),n.schedule(e,t,r)),e}),{}),qN=IN.reduce(((e,t)=>(e[t]=LN[t].cancel,e)),{}),UN=IN.reduce(((e,t)=>(e[t]=()=>LN[t].process(TN),e)),{}),VN=e=>LN[e].process(TN),HN=e=>{NN=!1,TN.delta=BN?PN:Math.max(Math.min(e-TN.timestamp,40),1),TN.timestamp=e,RN=!0,IN.forEach(VN),RN=!1,NN&&(BN=!1,MN(HN))},$N=()=>{NN=!0,BN=!0,RN||MN(HN)};function WN(e,t){-1===e.indexOf(t)&&e.push(t)}function KN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class GN{constructor(){this.subscriptions=[]}add(e){return WN(this.subscriptions,e),()=>KN(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YN(e,t){return t?e*(1e3/t):0}class ZN{constructor(e,t={}){this.version="9.0.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=TN;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,zN.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>zN.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new GN);const n=this.events[e].add(t);return"change"===e?()=>{n(),zN.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function XN(e,t){return new ZN(e,t)}const JN=(e,t)=>n=>Boolean(gB(n)&&vB.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),QN=(e,t,n)=>r=>{if(!gB(r))return r;const[o,a,i,s]=r.match(hB);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(i),alpha:void 0!==s?parseFloat(s):1}},eR={...lB,transform:e=>Math.round((e=>cB(0,255,e))(e))},tR={test:JN("rgb","red"),parse:QN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+eR.transform(e)+", "+eR.transform(t)+", "+eR.transform(n)+", "+pB(fB.transform(r))+")"};const nR={test:JN("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:tR.transform},rR={test:JN("hsl","hue"),parse:QN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+DB.transform(pB(t))+", "+DB.transform(pB(n))+", "+pB(fB.transform(r))+")"},oR={test:e=>tR.test(e)||nR.test(e)||rR.test(e),parse:e=>tR.test(e)?tR.parse(e):rR.test(e)?rR.parse(e):nR.parse(e),transform:e=>gB(e)?e:e.hasOwnProperty("red")?tR.transform(e):rR.transform(e)},aR="${c}",iR="${n}";function sR(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0,r=0;const o=e.match(mB);o&&(n=o.length,e=e.replace(mB,aR),t.push(...o.map(oR.parse)));const a=e.match(hB);return a&&(r=a.length,e=e.replace(hB,iR),t.push(...a.map(lB.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function uR(e){return sR(e).values}function cR(e){const{values:t,numColors:n,tokenised:r}=sR(e),o=t.length;return e=>{let t=r;for(let r=0;r<o;r++)t=t.replace(r<n?aR:iR,r<n?oR.transform(e[r]):pB(e[r]));return t}}const lR=e=>"number"==typeof e?0:e;const fR={test:function(e){var t,n;return isNaN(e)&&gB(e)&&((null===(t=e.match(hB))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(mB))||void 0===n?void 0:n.length)||0)>0},parse:uR,createTransformer:cR,getAnimatableNone:function(e){const t=uR(e);return cR(e)(t.map(lR))}},dR=new Set(["brightness","contrast","saturate","opacity"]);function pR(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(hB)||[];if(!r)return e;const o=n.replace(r,"");let a=dR.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const hR=/([a-z-]*)\(.*?\)/g,mR={...fR,getAnimatableNone:e=>{const t=e.match(hR);return t?t.map(pR).join(" "):e}},vR={...CB,color:oR,backgroundColor:oR,outlineColor:oR,fill:oR,stroke:oR,borderColor:oR,borderTopColor:oR,borderRightColor:oR,borderBottomColor:oR,borderLeftColor:oR,filter:mR,WebkitFilter:mR},gR=e=>vR[e];function bR(e,t){let n=gR(e);return n!==mR&&(n=fR),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yR=e=>t=>t.test(e),DR=[lB,wB,DB,yB,EB,_B,{test:e=>"auto"===e,parse:e=>e}],wR=e=>DR.find(yR(e)),_R=[...DR,oR,fR],ER=e=>_R.find(yR(e));function xR(e,t,n){const r=e.getProps();return ZB(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}function kR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,XN(n))}function CR(e,t){const n=xR(e,t);let{transitionEnd:r={},transition:o={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const i in a){kR(e,i,JB(a[i]))}}function SR(e,t){if(!t)return;return(t[e]||t.default||t).from}function FR(e){return Boolean(oB(e)&&e.add)}const OR="data-"+HB("framerAppearId");const AR=e=>1e3*e,TR=!1,PR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jR=e=>t=>1-e(1-t),MR=e=>e*e,BR=jR(MR),NR=PR(MR),RR=(e,t,n)=>-n*e+n*t+e;function IR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const LR=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zR=[nR,tR,rR];function qR(e){const t=(e=>zR.find((t=>t.test(e))))(e);Boolean(t);let n=t.parse(e);return t===rR&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let o=0,a=0,i=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;o=IR(s,r,e+1/3),a=IR(s,r,e),i=IR(s,r,e-1/3)}else o=a=i=n;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*i),alpha:r}}(n)),n}const UR=(e,t)=>{const n=qR(e),r=qR(t),o={...n};return e=>(o.red=LR(n.red,r.red,e),o.green=LR(n.green,r.green,e),o.blue=LR(n.blue,r.blue,e),o.alpha=RR(n.alpha,r.alpha,e),tR.transform(o))};function VR(e,t){return"number"==typeof e?n=>RR(e,t,n):oR.test(e)?UR(e,t):WR(e,t)}const HR=(e,t)=>{const n=[...e],r=n.length,o=e.map(((e,n)=>VR(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},$R=(e,t)=>{const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=VR(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}},WR=(e,t)=>{const n=fR.createTransformer(t),r=sR(e),o=sR(t);return r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?lN(HR(r.values,o.values),n):n=>`${n>0?t:e}`},KR=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},GR=(e,t)=>n=>RR(e,t,n);function YR(e,t,n){const r=[],o=n||function(e){return"number"==typeof e?GR:"string"==typeof e?oR.test(e)?UR:WR:Array.isArray(e)?HR:"object"==typeof e?$R:GR}(e[0]),a=e.length-1;for(let i=0;i<a;i++){let n=o(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]:t;n=lN(e,n)}r.push(n)}return r}function ZR(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=YR(t,r,o),s=i.length,u=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=KR(e[n],e[n+1],t);return i[n](r)};return n?t=>u(cB(e[0],e[a-1],t)):u}const XR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function JR(e,t,n,r){if(e===t&&n===r)return yN;const o=t=>function(e,t,n,r,o){let a,i,s=0;do{i=t+(n-t)/2,a=XR(i,r,o)-e,a>0?n=i:t=i}while(Math.abs(a)>1e-7&&++s<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:XR(o(e),t,r)}const QR=e=>1-Math.sin(Math.acos(e)),eI=jR(QR),tI=PR(eI),nI=JR(.33,1.53,.69,.99),rI=jR(nI),oI=PR(rI),aI={linear:yN,easeIn:MR,easeInOut:NR,easeOut:BR,circIn:QR,circInOut:tI,circOut:eI,backIn:rI,backInOut:oI,backOut:nI,anticipate:e=>(e*=2)<1?.5*rI(e):.5*(2-Math.pow(2,-10*(e-1)))},iI=e=>{if(Array.isArray(e)){e.length;const[t,n,r,o]=e;return JR(t,n,r,o)}return"string"==typeof e?aI[e]:e};function sI({keyframes:e,ease:t=NR,times:n,duration:r=300}){e=[...e];const o=(e=>Array.isArray(e)&&"number"!=typeof e[0])(t)?t.map(iI):iI(t),a={done:!1,value:e[0]},i=function(e,t){return e.map((e=>e*t))}(n&&n.length===e.length?n:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(e),r);function s(){return ZR(i,e,{ease:Array.isArray(o)?o:(t=e,n=o,t.map((()=>n||NR)).splice(0,t.length-1))});var t,n}let u=s();return{next:e=>(a.value=u(e),a.done=e>=r,a),flipTarget:()=>{e.reverse(),u=s()}}}const uI=.001;function cI({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a,i=1-t;i=cB(.05,1,i),e=cB(.01,10,e/1e3),i<1?(o=t=>{const r=t*i,o=r*e,a=r-n,s=lI(t,i),u=Math.exp(-o);return uI-a/s*u},a=t=>{const r=t*i*e,a=r*n+n,s=Math.pow(i,2)*Math.pow(t,2)*e,u=Math.exp(-r),c=lI(Math.pow(t,2),i);return(-o(t)+uI>0?-1:1)*((a-s)*u)/c}):(o=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let o=1;o<12;o++)r-=e(r)/t(r);return r}(o,a,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*i*Math.sqrt(r*t),duration:e}}}function lI(e,t){return e*Math.sqrt(1-t*t)}const fI=["duration","bounce"],dI=["stiffness","damping","mass"];function pI(e,t){return t.some((t=>void 0!==e[t]))}function hI({keyframes:e,restDelta:t,restSpeed:n,...r}){let o=e[0],a=e[e.length-1];const i={done:!1,value:o},{stiffness:s,damping:u,mass:c,velocity:l,duration:f,isResolvedFromDuration:d}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!pI(e,dI)&&pI(e,fI)){const n=cI(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(r);let p=mI,h=l?-l/1e3:0;const m=u/(2*Math.sqrt(s*c));function v(){const e=a-o,r=Math.sqrt(s/c)/1e3,i=Math.abs(e)<5;if(n||(n=i?.01:2),t||(t=i?.005:.5),m<1){const t=lI(r,m);p=n=>{const o=Math.exp(-m*r*n);return a-o*((h+m*r*e)/t*Math.sin(t*n)+e*Math.cos(t*n))}}else if(1===m)p=t=>a-Math.exp(-r*t)*(e+(h+r*e)*t);else{const t=r*Math.sqrt(m*m-1);p=n=>{const o=Math.exp(-m*r*n),i=Math.min(t*n,300);return a-o*((h+m*r*e)*Math.sinh(i)+t*e*Math.cosh(i))/t}}}return v(),{next:e=>{const r=p(e);if(d)i.done=e>=f;else{let o=h;if(0!==e)if(m<1){const t=Math.max(0,e-5);o=YN(r-p(t),e-t)}else o=0;const s=Math.abs(o)<=n,u=Math.abs(a-r)<=t;i.done=s&&u}return i.value=i.done?a:r,i},flipTarget:()=>{h=-h,[o,a]=[a,o],v()}}}hI.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const mI=e=>0;const vI={decay:function({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){const i=e[0],s={done:!1,value:i};let u=n*t;const c=i+u,l=void 0===a?c:a(c);return l!==c&&(u=l-i),{next:e=>{const t=-u*Math.exp(-e/r);return s.done=!(t>o||t<-o),s.value=s.done?l:l+t,s},flipTarget:()=>{}}},keyframes:sI,tween:sI,spring:hI};function gI(e,t,n=0){return e-t-n}const bI=e=>{const t=({delta:t})=>e(t);return{start:()=>zN.update(t,!0),stop:()=>qN.update(t)}};function yI({duration:e,driver:t=bI,elapsed:n=0,repeat:r=0,repeatType:o="loop",repeatDelay:a=0,keyframes:i,autoplay:s=!0,onPlay:u,onStop:c,onComplete:l,onRepeat:f,onUpdate:d,type:p="keyframes",...h}){const m=n;let v,g,b=0,y=e,D=!1,w=!0;const _=vI[i.length>2?"keyframes":p]||sI,E=i[0],x=i[i.length-1];let k={done:!1,value:E};const{needsInterpolation:C}=_;C&&C(E,x)&&(g=ZR([0,100],[E,x],{clamp:!1}),i=[0,100]);const S=_({...h,duration:e,keyframes:i});function F(){b++,"reverse"===o?(w=b%2==0,n=function(e,t=0,n=0,r=!0){return r?gI(t+-e,t,n):t-(e-t)+n}(n,y,a,w)):(n=gI(n,y,a),"mirror"===o&&S.flipTarget()),D=!1,f&&f()}function O(e){w||(e=-e),n+=e,D||(k=S.next(Math.max(0,n)),g&&(k.value=g(k.value)),D=w?k.done:n<=0),d&&d(k.value),D&&(0===b&&(y=void 0!==y?y:n),b<r?function(e,t,n,r){return r?e>=t+n:e<=-n}(n,y,a,w)&&F():(v&&v.stop(),l&&l()))}return s&&(u&&u(),v=t(O),v.start()),{stop:()=>{c&&c(),v&&v.stop()},set currentTime(e){n=m,O(e)},sample:t=>{n=m;const r=e&&"number"==typeof e?Math.max(.5*e,50):50;let o=0;for(O(0);o<=t;){const e=t-o;O(Math.min(e,r)),o+=r}return k}}}const DI=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,wI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:DI([0,.65,.55,1]),circOut:DI([.55,0,1,.45]),backIn:DI([.31,.01,.66,-.59]),backOut:DI([.33,1.53,.69,.99])};function _I(e){if(e)return Array.isArray(e)?DI(e):wI[e]}const EI={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},xI={},kI={};for(const P9 in EI)kI[P9]=()=>(void 0===xI[P9]&&(xI[P9]=EI[P9]()),xI[P9]);const CI=new Set(["opacity"]);function SI(e,t,{onUpdate:n,onComplete:r,...o}){if(!(kI.waapi()&&CI.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping))return!1;let{keyframes:a,duration:i=300,elapsed:s=0,ease:u}=o;if("spring"===o.type||!(!(c=o.ease)||Array.isArray(c)||"string"==typeof c&&wI[c])){if(o.repeat===1/0)return;const e=yI({...o,elapsed:0});let t={done:!1,value:a[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;a=n,i=r-10,u="linear"}var c;const l=function(e,t,n,{delay:r=0,duration:o,repeat:a=0,repeatType:i="loop",ease:s,times:u}={}){return e.animate({[t]:n,offset:u},{delay:r,duration:o,easing:_I(s),fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,a,{...o,delay:-s,duration:i,ease:u});return l.onfinish=()=>{e.set(function(e,{repeat:t,repeatType:n="loop"}){return e[t&&"loop"!==n&&t%2==1?0:e.length-1]}(a,o)),zN.update((()=>l.cancel())),r&&r()},{get currentTime(){return l.currentTime||0},set currentTime(e){l.currentTime=e},stop:()=>{const{currentTime:t}=l;if(t){const n=yI({...o,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}zN.update((()=>l.cancel()))}}}function FI(e,t){const n=performance.now(),r=({timestamp:o})=>{const a=o-n;a>=t&&(qN.read(r),e(a-t))};return zN.read(r,!0),()=>qN.read(r)}function OI({keyframes:e,elapsed:t,onUpdate:n,onComplete:r}){const o=()=>{n&&n(e[e.length-1]),r&&r()};return t?{stop:FI(o,-t)}:o()}const AI=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),TI=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),PI=()=>({type:"keyframes",ease:"linear",duration:.3}),jI={type:"keyframes",duration:.8},MI={x:AI,y:AI,z:AI,rotate:AI,rotateX:AI,rotateY:AI,rotateZ:AI,scaleX:TI,scaleY:TI,scale:TI,opacity:PI,backgroundColor:PI,color:PI,default:TI},BI=(e,{keyframes:t})=>{if(t.length>2)return jI;return(MI[e]||MI.default)(t[1])},NI=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!fR.test(t)||t.startsWith("url(")));function RI(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function II(e){return"number"==typeof e?0:bR("",e)}function LI(e,t){return e[t]||e.default||e}const zI=(e,t,n,r={})=>o=>{const a=LI(r,e)||{},i=a.delay||r.delay||0;let{elapsed:s=0}=r;s-=AR(i);const u=function(e,t,n,r){const o=NI(t,n);let a=void 0!==r.from?r.from:e.get();return"none"===a&&o&&"string"==typeof n?a=bR(t,n):RI(a)&&"string"==typeof n?a=II(n):!Array.isArray(n)&&RI(n)&&"string"==typeof a&&(n=II(a)),Array.isArray(n)?(null===n[0]&&(n[0]=a),n):[a,n]}(t,e,n,a),c=u[0],l=u[u.length-1],f=NI(e,c),d=NI(e,l);let p={keyframes:u,velocity:t.getVelocity(),...a,elapsed:s,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if(!f||!d||TR||!1===a.type)return OI(p);if("inertia"===a.type)return function({keyframes:e,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:i=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:c,driver:l,onUpdate:f,onComplete:d,onStop:p}){const h=e[0];let m;function v(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function b(e){m&&m.stop(),m=yI({keyframes:[0,1],velocity:0,...e,driver:l,onUpdate:t=>{f&&f(t),e.onUpdate&&e.onUpdate(t)},onComplete:d,onStop:p})}function y(e){b({type:"spring",stiffness:i,damping:s,restDelta:u,...e})}if(v(h))y({velocity:t,keyframes:[h,g(h)]});else{let e=o*t+h;void 0!==c&&(e=c(e));const r=g(e),i=r===n?-1:1;let s,l;const f=e=>{s=l,l=e,t=YN(e-s,TN.delta),(1===i&&e>r||-1===i&&e<r)&&y({keyframes:[e,r],velocity:t})};b({type:"decay",keyframes:[h,0],velocity:t,timeConstant:a,power:o,restDelta:u,modifyTarget:c,onUpdate:v(e)?f:void 0})}return{stop:()=>m&&m.stop()}}(p);if(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:i,repeatDelay:s,from:u,elapsed:c,...l}){return!!Object.keys(l).length}(a)||(p={...p,...BI(e,p)}),p.duration&&(p.duration=AR(p.duration)),p.repeatDelay&&(p.repeatDelay=AR(p.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=SI(t,e,p);if(n)return n}return yI(p)};function qI(e,t,n={}){const r=xR(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>UI(e,r,n):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:i,staggerDirection:s}=o;return function(e,t,n=0,r=0,o=1,a){const i=[],s=(e.variantChildren.size-1)*r,u=1===o?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(VI).forEach(((e,r)=>{e.notify("AnimationStart",t),i.push(qI(e,t,{...a,delay:n+u(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,a+r,i,s,n)}:()=>Promise.resolve(),{when:s}=o;if(s){const[e,t]="beforeChildren"===s?[a,i]:[i,a];return e().then(t)}return Promise.all([a(),i(n.delay)])}function UI(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...s}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(a=r);const c=[],l=o&&e.animationState&&e.animationState.getState()[o];for(const f in s){const t=e.getValue(f),r=s[f];if(!t||void 0===r||l&&HI(l,f))continue;const o={delay:n,elapsed:0,...a};if(window.HandoffAppearAnimations&&!t.hasAnimated){const n=e.getProps()[OR];n&&(o.elapsed=window.HandoffAppearAnimations(n,f,t,zN))}let i=t.start(zI(f,t,r,e.shouldReduceMotion&&nB.has(f)?{type:!1}:o));FR(u)&&(u.add(f),i=i.then((()=>u.remove(f)))),c.push(i)}return Promise.all(c).then((()=>{i&&CR(e,i)}))}function VI(e,t){return e.sortNodePosition(t)}function HI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}const $I=[uN.Animate,uN.InView,uN.Focus,uN.Hover,uN.Tap,uN.Drag,uN.Exit],WI=[...$I].reverse(),KI=$I.length;function GI(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>qI(e,t,n)));r=Promise.all(o)}else if("string"==typeof t)r=qI(e,t,n);else{const o="function"==typeof t?xR(e,t,n.custom):t;r=UI(e,o,n)}return r.then((()=>e.notify("AnimationComplete",t)))}(e,t,n))))}function YI(e){let t=GI(e);const n={[uN.Animate]:XI(!0),[uN.InView]:XI(),[uN.Hover]:XI(),[uN.Tap]:XI(),[uN.Drag]:XI(),[uN.Focus]:XI(),[uN.Exit]:XI()};let r=!0;const o=(t,n)=>{const r=xR(e,n);if(r){const{transition:e,transitionEnd:n,...o}=r;t={...t,...o,...n}}return t};function a(a,i){const s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set;let f={},d=1/0;for(let t=0;t<KI;t++){const p=WI[t],h=n[p],m=void 0!==s[p]?s[p]:u[p],v=MM(m),g=p===i?h.isActive:null;!1===g&&(d=t);let b=m===u[p]&&m!==s[p]&&v;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),h.protectedKeys={...f},!h.isActive&&null===g||!m&&!h.prevProp||BM(m)||"boolean"==typeof m)continue;const y=ZI(h.prevProp,m);let D=y||p===i&&h.isActive&&!b&&v||t>d&&v;const w=Array.isArray(m)?m:[m];let _=w.reduce(o,{});!1===g&&(_={});const{prevResolvedValues:E={}}=h,x={...E,..._},k=e=>{D=!0,l.delete(e),h.needsAnimating[e]=!0};for(const e in x){const t=_[e],n=E[e];f.hasOwnProperty(e)||(t!==n?XB(t)&&XB(n)?!FN(t,n)||y?k(e):h.protectedKeys[e]=!0:void 0!==t?k(e):l.add(e):void 0!==t&&l.has(e)?k(e):h.protectedKeys[e]=!0)}h.prevProp=m,h.prevResolvedValues=_,h.isActive&&(f={...f,..._}),r&&e.blockInitialAnimation&&(D=!1),D&&!b&&c.push(...w.map((e=>({animation:e,options:{type:p,...a}}))))}if(l.size){const t={};l.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let p=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,o){if(n[t].isActive===r)return Promise.resolve();e.variantChildren&&e.variantChildren.forEach((e=>{e.animationState&&e.animationState.setActive(t,r)})),n[t].isActive=r;const i=a(o,t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function ZI(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!FN(t,e)}function XI(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let JI=0;const QI={animation:{Feature:class extends vN{constructor(e){super(e),e.animationState||(e.animationState=YI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),BM(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends vN{constructor(){super(...arguments),this.id=JI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive(uN.Exit,!e,{custom:null!=n?n:this.node.getProps().custom});t&&!e&&o.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},eL=(e,t)=>Math.abs(e-t);class tL{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=oL(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=eL(e.x,t.x),r=eL(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=TN;this.history.push({...r,timestamp:o});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nL(t,this.transformPagePoint),zN.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,o=oL("pointercancel"===e.type?this.lastMoveEventInfo:nL(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!aN(e))return;this.handlers=t,this.transformPagePoint=n;const r=nL(iN(e),this.transformPagePoint),{point:o}=r,{timestamp:a}=TN;this.history=[{...o,timestamp:a}];const{onSessionStart:i}=t;i&&i(e,oL(r,this.history)),this.removeListeners=lN(sN(window,"pointermove",this.handlePointerMove),sN(window,"pointerup",this.handlePointerUp),sN(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qN.update(this.updatePoint)}}function nL(e,t){return t?{point:t(e.point)}:e}function rL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oL({point:e},t){return{point:e,delta:rL(e,iL(t)),offset:rL(e,aL(t)),velocity:sL(t,.1)}}function aL(e){return e[0]}function iL(e){return e[e.length-1]}function sL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=iL(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>AR(t)));)n--;if(!r)return{x:0,y:0};const a=(o.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};const i={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function uL(e){return e.max-e.min}function cL(e,t=0,n=.01){return Math.abs(e-t)<=n}function lL(e,t,n,r=.5){e.origin=r,e.originPoint=RR(t.min,t.max,e.origin),e.scale=uL(n)/uL(t),(cL(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=RR(n.min,n.max,e.origin)-e.originPoint,(cL(e.translate)||isNaN(e.translate))&&(e.translate=0)}function fL(e,t,n,r){lL(e.x,t.x,n.x,r?r.originX:void 0),lL(e.y,t.y,n.y,r?r.originY:void 0)}function dL(e,t,n){e.min=n.min+t.min,e.max=e.min+uL(t)}function pL(e,t,n){e.min=t.min-n.min,e.max=e.min+uL(t)}function hL(e,t,n){pL(e.x,t.x,n.x),pL(e.y,t.y,n.y)}function mL(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function vL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const gL=.35;function bL(e,t,n){return{min:yL(e,t),max:yL(e,n)}}function yL(e,t){return"number"==typeof e?e:e[t]||0}function DL(e){return[e("x"),e("y")]}function wL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _L(e){return void 0===e||1===e}function EL({scale:e,scaleX:t,scaleY:n}){return!_L(e)||!_L(t)||!_L(n)}function xL(e){return EL(e)||kL(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kL(e){return CL(e.x)||CL(e.y)}function CL(e){return e&&"0%"!==e}function SL(e,t,n){return n+t*(e-n)}function FL(e,t,n,r,o){return void 0!==o&&(e=SL(e,o,r)),SL(e,n,r)+t}function OL(e,t=0,n=1,r,o){e.min=FL(e.min,t,n,r,o),e.max=FL(e.max,t,n,r,o)}function AL(e,{x:t,y:n}){OL(e.x,t.translate,t.scale,t.originPoint),OL(e.y,n.translate,n.scale,n.originPoint)}function TL(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function PL(e,t){e.min=e.min+t,e.max=e.max+t}function jL(e,t,[n,r,o]){const a=void 0!==t[o]?t[o]:.5,i=RR(e.min,e.max,a);OL(e,t[n],t[r],i,t.scale)}const ML=["x","scaleX","originX"],BL=["y","scaleY","originY"];function NL(e,t){jL(e.x,t,ML),jL(e.y,t,BL)}function RL(e,t){return wL(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const IL=new WeakMap;class LL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new tL(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(iN(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hN(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),DL((e=>{let t=this.getAxisMotionValue(e).get()||0;if(DB.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=uL(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&o(e,t);const{animationState:a}=this.visualElement;a&&a.setActive(uN.Drag,!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&o(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive(uN.Drag,!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!zL(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?RR(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?RR(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&jM(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:o}){return{x:mL(e.x,n,o),y:mL(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=gL){return!1===e?e=0:!0===e&&(e=gL),{x:bL(e,"left","right"),y:bL(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&DL((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jM(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=RL(e,n),{scroll:o}=t;return o&&(PL(r.x,o.offset.x),PL(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:vL(e.x,t.x),y:vL(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=wL(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),s=this.constraints||{},u=DL((i=>{if(!zL(i,t,this.currentDirection))return;let u=s&&s[i]||{};a&&(u={min:0,max:0});const c=r?200:1e6,l=r?40:1e7,f={type:"inertia",velocity:n?e[i]:0,bounceStiffness:c,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(i,f)}));return Promise.all(u).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(zI(e,n,0,t))}stopAnimation(){DL((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){DL((t=>{const{drag:n}=this.getProps();if(!zL(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];o.set(e[t]-RR(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!jM(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};DL((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=uL(e),o=uL(t);return o>r?n=KR(t.min,t.max-r,e.min):r>o&&(n=KR(e.min,e.max-o,t.min)),cB(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),DL((t=>{if(!zL(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:a}=this.constraints[t];n.set(RR(o,a,r[t]))}))}addListeners(){if(!this.visualElement.current)return;IL.set(this.visualElement,this);const e=sN(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();jM(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const o=oN(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(DL((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=gL,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:i}}}function zL(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}function qL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const UL={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!wB.test(e))return e;e=parseFloat(e)}return`${qL(e,t.target.x)}% ${qL(e,t.target.y)}%`}};function VL(e){return"string"==typeof e&&e.startsWith("var(--")}const HL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $L(e,t,n=1){const[r,o]=function(e){const t=HL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);return a?a.trim():VL(o)?$L(o,t,n+1):o}const WL="_$css",KL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=e.includes("var("),a=[];o&&(e=e.replace(HL,(e=>(a.push(e),WL))));const i=fR.parse(e);if(i.length>5)return r;const s=fR.createTransformer(e),u="number"!=typeof i[0]?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;i[0+u]/=c,i[1+u]/=l;const f=RR(c,l,.5);"number"==typeof i[2+u]&&(i[2+u]/=f),"number"==typeof i[3+u]&&(i[3+u]/=f);let d=s(i);if(o){let e=0;d=d.replace(WL,(()=>{const t=a[e];return e++,t}))}return d}};class GL extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var a;a=ZL,Object.assign(eB,a),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),HM.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,a=n.projection;return a?(a.isPresent=o,r||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||zN.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YL(e){const[t,n]=function(){const e=(0,a.useContext)(FM);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=(0,a.useId)();return(0,a.useEffect)((()=>r(o)),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),r=(0,a.useContext)(WM);return a.createElement(GL,{...e,layoutGroup:r,switchLayoutGroup:(0,a.useContext)(KM),isPresent:t,safeToRemove:n})}const ZL={borderRadius:{...UL,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:UL,borderTopRightRadius:UL,borderBottomLeftRadius:UL,borderBottomRightRadius:UL,boxShadow:KL};const XL=["TopLeft","TopRight","BottomLeft","BottomRight"],JL=XL.length,QL=e=>"string"==typeof e?parseFloat(e):e,ez=e=>"number"==typeof e||wB.test(e);function tz(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const nz=oz(0,.5,eI),rz=oz(.5,.95,yN);function oz(e,t,n){return r=>r<e?0:r>t?1:n(KR(e,t,r))}function az(e,t){e.min=t.min,e.max=t.max}function iz(e,t){az(e.x,t.x),az(e.y,t.y)}function sz(e,t,n,r,o){return e=SL(e-=t,1/n,r),void 0!==o&&(e=SL(e,1/o,r)),e}function uz(e,t,[n,r,o],a,i){!function(e,t=0,n=1,r=.5,o,a=e,i=e){DB.test(t)&&(t=parseFloat(t),t=RR(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let s=RR(a.min,a.max,r);e===a&&(s-=t),e.min=sz(e.min,t,n,s,o),e.max=sz(e.max,t,n,s,o)}(e,t[n],t[r],t[o],t.scale,a,i)}const cz=["x","scaleX","originX"],lz=["y","scaleY","originY"];function fz(e,t,n,r){uz(e.x,t,cz,n?n.x:void 0,r?r.x:void 0),uz(e.y,t,lz,n?n.y:void 0,r?r.y:void 0)}function dz(e){return 0===e.translate&&1===e.scale}function pz(e){return dz(e.x)&&dz(e.y)}function hz(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function mz(e){return uL(e.x)/uL(e.y)}class vz{constructor(){this.members=[]}add(e){WN(this.members,e),e.scheduleRender()}remove(e){if(KN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gz(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y;if((o||a)&&(r=`translate3d(${o}px, ${a}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:o}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),o&&(r+=`rotateY(${o}deg) `)}const i=e.x.scale*t.x,s=e.y.scale*t.y;return 1===i&&1===s||(r+=`scale(${i}, ${s})`),r||"none"}const bz=(e,t)=>e.depth-t.depth;class yz{constructor(){this.children=[],this.isDirty=!1}add(e){WN(this.children,e),this.isDirty=!0}remove(e){KN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bz),this.isDirty=!1,this.children.forEach(e)}}const Dz=["","X","Y","Z"];let wz=0;function _z({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(e,n={},r=(null==t?void 0:t())){this.id=wz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(kz),this.nodes.forEach(Az),this.nodes.forEach(Tz)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=e,this.latestValues=n,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new yz)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new GN),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}registerPotentialNode(e,t){this.potentialNodes.set(e,t)}mount(t,n=!1){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;const{layoutId:r,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(o||r)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=FI(r,250),HM.hasAnimatedSinceResize&&(HM.hasAnimatedSinceResize=!1,this.nodes.forEach(Oz))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||o)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||Rz,{onLayoutAnimationStart:i,onLayoutAnimationComplete:s}=a.getProps(),u=!this.targetLayout||!hz(this.targetLayout,r)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...LI(o,"layout"),onPlay:i,onComplete:s};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||0!==this.animationProgress||Oz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qN.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pz),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Sz);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Iz),this.potentialNodes.clear()),this.nodes.forEach(Fz),this.nodes.forEach(Ez),this.nodes.forEach(xz),this.clearAllSnapshots(),UN.update(),UN.preRender(),UN.render())}clearAllSnapshots(){this.nodes.forEach(Cz),this.sharedNodes.forEach(jz)}scheduleUpdateProjection(){zN.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){zN.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!pz(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||xL(this.latestValues)||a)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Lz((r=n).x),Lz(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(PL(t.x,n.offset.x),PL(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};iz(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:a}=r;if(r!==this.root&&o&&a.layoutScroll){if(o.isRoot){iz(t,e);const{scroll:n}=this.root;n&&(PL(t.x,-n.offset.x),PL(t.y,-n.offset.y))}PL(t.x,o.offset.x),PL(t.y,o.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};iz(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&NL(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),xL(e.latestValues)&&NL(n,e.latestValues)}return xL(this.latestValues)&&NL(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};iz(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!xL(e.latestValues))continue;EL(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};iz(r,e.measurePageBox()),fz(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return xL(this.latestValues)&&fz(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){const e=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:t,layoutId:n}=this.options;if(this.layout&&(t||n)){if(!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},hL(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),iz(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var r,o,a;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(r=this.target,o=this.relativeTarget,a=this.relativeParent.target,dL(r.x,o.x,a.x),dL(r.y,o.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):iz(this.target,this.layout.layoutBox),AL(this.target,this.targetDelta)):iz(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},hL(this.relativeTargetOrigin,this.target,e.target),iz(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!EL(this.parent.latestValues)&&!kL(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){const{isProjectionDirty:e,isTransformDirty:t}=this;this.isProjectionDirty=this.isTransformDirty=!1;const n=this.getLead(),r=Boolean(this.resumingFrom)||this!==n;let o=!0;if(e&&(o=!1),r&&t&&(o=!1),o)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;iz(this.layoutCorrected,this.layout.layoutBox),function(e,t,n,r=!1){const o=n.length;if(!o)return;let a,i;t.x=t.y=1;for(let s=0;s<o;s++){a=n[s],i=a.projectionDelta;const o=a.instance;o&&o.style&&"contents"===o.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&NL(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,AL(e,i)),r&&xL(a.latestValues)&&NL(e,a.latestValues))}t.x=TL(t.x),t.y=TL(t.y)}(this.layoutCorrected,this.treeScale,this.path,r);const{target:s}=n;if(!s)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.treeScale.x,c=this.treeScale.y,l=this.projectionTransform;fL(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.projectionTransform=gz(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===u&&this.treeScale.y===c||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,l=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Nz));this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Mz(a.x,e.x,n),Mz(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hL(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Bz(e.x,t.x,n.x,r),Bz(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,i,n)),s&&(this.animationValues=o,function(e,t,n,r,o,a){o?(e.opacity=RR(0,void 0!==n.opacity?n.opacity:1,nz(r)),e.opacityExit=RR(void 0!==t.opacity?t.opacity:1,0,rz(r))):a&&(e.opacity=RR(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<JL;i++){const o=`border${XL[i]}Radius`;let a=tz(t,o),s=tz(n,o);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||ez(a)===ez(s)?(e[o]=Math.max(RR(QL(a),QL(s),r),0),(DB.test(s)||DB.test(a))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=RR(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,l,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qN.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zN.update((()=>{HM.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n={}){const r=oB(e)?e:XN(e);return r.start(zI("",r,t,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&zz(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=uL(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=uL(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}iz(t,n),NL(t,o),fL(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new vz);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let o=0;o<Dz.length;o++){const t="rotate"+Dz[o];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const o in r)e.setStaticValue(o,r[o]);e.scheduleRender()}getProjectionStyles(e={}){var t,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=QB(e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=QB(e.pointerEvents)||""),this.hasProjected&&!xL(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=gz(this.projectionDeltaWithTransform,this.treeScale,i),o&&(r.transform=o(i,r.transform));const{x:s,y:u}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*u.origin}% 0`,a.animationValues?r.opacity=a===this?null!==(n=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:r.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in eB){if(void 0===i[c])continue;const{correct:e,applyTo:t}=eB[c],n="none"===r.transform?i[c]:e(i[c],a);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=a===this?QB(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Sz),this.root.sharedNodes.clear()}}}function Ez(e){e.updateLayout()}function xz(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;"size"===o?DL((e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],o=uL(r);r.min=t[e].min,r.max=r.min+o})):zz(o,n.layoutBox,t)&&DL((e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],o=uL(t[e]);r.max=r.min+o}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};fL(i,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?fL(s,e.applyTransform(r,!0),n.measuredBox):fL(s,t,n.layoutBox);const u=!pz(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:a}=r;if(o&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};hL(i,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};hL(s,t,a.layoutBox),hz(i,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:i,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function kz(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function Cz(e){e.clearSnapshot()}function Sz(e){e.clearMeasurements()}function Fz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Oz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Az(e){e.resolveTargetDelta()}function Tz(e){e.calcProjection()}function Pz(e){e.resetRotation()}function jz(e){e.removeLeadSnapshot()}function Mz(e,t,n){e.translate=RR(t.translate,0,n),e.scale=RR(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Bz(e,t,n,r){e.min=RR(t.min,n.min,r),e.max=RR(t.max,n.max,r)}function Nz(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Rz={duration:.45,ease:[.4,0,.1,1]};function Iz(e,t){let n=e.root;for(let o=e.path.length-1;o>=0;o--)if(Boolean(e.path[o].instance)){n=e.path[o];break}const r=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);r&&e.mount(r,!0)}function Lz(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function zz(e,t,n){return"position"===e||"preserve-aspect"===e&&!cL(mz(t),mz(n),.2)}const qz=_z({attachResizeListener:(e,t)=>oN(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uz={current:void 0},Vz=_z({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uz.current){const e=new qz(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Uz.current=e}return Uz.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Hz={pan:{Feature:class extends vN{constructor(){super(...arguments),this.removePointerDownListener=yN}onPointerDown(e){this.session=new tL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:n,onEnd:(e,t)=>{delete this.session,r&&r(e,t)}}}mount(){this.removePointerDownListener=sN(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends vN{constructor(e){super(e),this.removeGroupControls=yN,this.removeListeners=yN,this.controls=new LL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yN}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Vz,MeasureLayout:YL}},$z=new Set(["width","height","top","left","right","bottom","x","y"]),Wz=e=>$z.has(e),Kz=e=>e===lB||e===wB;var Gz;!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Gz||(Gz={}));const Yz=(e,t)=>parseFloat(e.split(", ")[t]),Zz=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Yz(o[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?Yz(t[1],e):0}},Xz=new Set(["x","y","z"]),Jz=tB.filter((e=>!Xz.has(e)));const Qz={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Zz(4,13),y:Zz(5,14)},eq=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Wz);let a=[],i=!1;const s=[];if(o.forEach((o=>{const u=e.getValue(o);if(!e.hasValue(o))return;let c=n[o],l=wR(c);const f=t[o];let d;if(XB(f)){const e=f.length,t=null===f[0]?1:0;c=f[t],l=wR(c);for(let n=t;n<e;n++)d?wR(f[n]):(d=wR(f[n]),d===l||Kz(l)&&Kz(d))}else d=wR(f);if(l!==d)if(Kz(l)&&Kz(d)){const e=u.get();"string"==typeof e&&u.set(parseFloat(e)),"string"==typeof f?t[o]=parseFloat(f):Array.isArray(f)&&d===wB&&(t[o]=f.map(parseFloat))}else(null==l?void 0:l.transform)&&(null==d?void 0:d.transform)&&(0===c||0===f)?0===c?u.set(d.transform(c)):t[o]=l.transform(f):(i||(a=function(e){const t=[];return Jz.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),i=!0),s.push(o),r[o]=void 0!==r[o]?r[o]:t[o],u.jump(f))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,o=((e,t,n)=>{const r=t.measureViewportBox(),o=t.current,a=getComputedStyle(o),{display:i}=a,s={};"none"===i&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=Qz[e](r,a)})),t.render();const u=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=Qz[n](u,a)})),e})(t,e,s);return a.length&&a.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),OM&&null!==n&&window.scrollTo({top:n}),{target:o,transitionEnd:r}}return{target:t,transitionEnd:r}};function tq(e,t,n,r){return(e=>Object.keys(e).some(Wz))(t)?eq(e,t,n,r):{target:t,transitionEnd:r}}const nq=(e,t,n,r)=>{const o=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!VL(t))return;const n=$L(t,r);n&&e.set(n)}));for(const o in t){const e=t[o];if(!VL(e))continue;const a=$L(e,r);a&&(t[o]=a,n&&void 0===n[o]&&(n[o]=e))}return{target:t,transitionEnd:n}}(e,t,r);return tq(e,t=o.target,n,r=o.transitionEnd)},rq={current:null},oq={current:!1};const aq=Object.keys(UM),iq=aq.length,sq=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uq{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>zN.render(this.render,!1,!0);const{latestValues:i,renderState:s}=o;this.latestValues=i,this.baseTarget={...i},this.initialValues=t.initial?{...i}:{},this.renderState=s,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=RM(t),this.isVariantNode=IM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{});for(const l in c){const e=c[l];void 0!==i[l]&&oB(e)&&(e.set(i[l],!1),FR(u)&&u.add(l))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),oq.current||function(){if(oq.current=!0,OM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rq.current=e.matches;e.addListener(t),t()}else rq.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rq.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qN.update(this.notifyUpdate),qN.render(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=nB.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&zN.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),o()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,o,a){let i,s;for(let u=0;u<iq;u++){const e=aq[u],{isEnabled:n,Feature:r,ProjectionNode:o,MeasureLayout:a}=UM[e];o&&(i=o),n(t)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),a&&(s=a))}if(!this.projection&&i){this.projection=new i(o,this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:s,layoutScroll:u,layoutRoot:c}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(r)||s&&jM(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:a,layoutScroll:u,layoutRoot:c})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<sq.length;n++){const t=sq[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const o in t){const a=t[o],i=n[o];if(oB(a))e.addValue(o,a),FR(r)&&r.add(o);else if(oB(i))e.addValue(o,XN(a,{owner:e})),FR(r)&&r.remove(o);else if(i!==a)if(e.hasValue(o)){const t=e.getValue(o);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(o);e.addValue(o,XN(void 0!==t?t:a,{owner:e}))}}for(const o in n)void 0===t[o]&&e.removeValue(o);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let n=0;n<lq;n++){const e=cq[n],r=this.props[e];(MM(r)||!1===r)&&(t[e]=r)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=XN(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=ZB(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||oB(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new GN),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}const cq=["initial",...$I],lq=cq.length;class fq extends uq{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},o){let a=function(e,t,n){const r={};for(const o in e){const e=SR(o,t);if(void 0!==e)r[o]=e;else{const e=n.getValue(o);e&&(r[o]=e.get())}}return r}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),a&&(a=r(a))),o){!function(e,t,n){var r,o;const a=Object.keys(t).filter((t=>!e.hasValue(t))),i=a.length;if(i)for(let s=0;s<i;s++){const i=a[s],u=t[i];let c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(o=null!==(r=n[i])&&void 0!==r?r:e.readValue(i))&&void 0!==o?o:t[i]),null!=c&&("string"==typeof c&&(ON(c)||AN(c))?c=parseFloat(c):!ER(c)&&fR.test(u)&&(c=bR(i,u)),e.addValue(i,XN(c,{owner:e})),void 0===n[i]&&(n[i]=c),null!==c&&e.setBaseTarget(i,c))}}(this,n,a);const e=nq(this,n,a,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class dq extends fq{readValueFromInstance(e,t){if(nB.has(t)){const e=gR(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(sB(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof o?o.trim():o}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return RL(e,t)}build(e,t,n,r){SB(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return GB(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oB(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){$B(e,t,n,r)}}class pq extends fq{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(nB.has(t)){const e=gR(t);return e&&e.default||0}return t=WB.has(t)?t:HB(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return YB(e,t)}build(e,t,n,r){LB(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){KB(e,t,0,r)}mount(e){this.isSVGTag=qB(e.tagName),super.mount(e)}}const hq=(e,t)=>QM(e)?new pq(t,{enableHardwareAcceleration:!1}):new dq(t,{enableHardwareAcceleration:!0}),mq={...QI,...SN,...Hz,...{layout:{ProjectionNode:Vz,MeasureLayout:YL}}},vq=XM(((e,t)=>function(e,{forwardMotionProps:t=!1},n,r){return{...QM(e)?nN:rN,preloadedFeatures:n,useRender:VB(t),createVisualElement:r,Component:e}}(e,t,mq,hq)));function gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gq(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}__webpack_require__(35837);var yq=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(O9){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Dq=Math.abs,wq=String.fromCharCode,_q=Object.assign;function Eq(e){return e.trim()}function xq(e,t,n){return e.replace(t,n)}function kq(e,t){return e.indexOf(t)}function Cq(e,t){return 0|e.charCodeAt(t)}function Sq(e,t,n){return e.slice(t,n)}function Fq(e){return e.length}function Oq(e){return e.length}function Aq(e,t){return t.push(e),e}var Tq=1,Pq=1,jq=0,Mq=0,Bq=0,Nq="";function Rq(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:Tq,column:Pq,length:i,return:""}}function Iq(e,t){return _q(Rq("",null,null,"",null,null,0),e,{length:-e.length},t)}function Lq(){return Bq=Mq>0?Cq(Nq,--Mq):0,Pq--,10===Bq&&(Pq=1,Tq--),Bq}function zq(){return Bq=Mq<jq?Cq(Nq,Mq++):0,Pq++,10===Bq&&(Pq=1,Tq++),Bq}function qq(){return Cq(Nq,Mq)}function Uq(){return Mq}function Vq(e,t){return Sq(Nq,e,t)}function Hq(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $q(e){return Tq=Pq=1,jq=Fq(Nq=e),Mq=0,[]}function Wq(e){return Nq="",e}function Kq(e){return Eq(Vq(Mq-1,Zq(91===e?e+2:40===e?e+1:e)))}function Gq(e){for(;(Bq=qq())&&Bq<33;)zq();return Hq(e)>2||Hq(Bq)>3?"":" "}function Yq(e,t){for(;--t&&zq()&&!(Bq<48||Bq>102||Bq>57&&Bq<65||Bq>70&&Bq<97););return Vq(e,Uq()+(t<6&&32==qq()&&32==zq()))}function Zq(e){for(;zq();)switch(Bq){case e:return Mq;case 34:case 39:34!==e&&39!==e&&Zq(Bq);break;case 40:41===e&&Zq(e);break;case 92:zq()}return Mq}function Xq(e,t){for(;zq()&&e+Bq!==57&&(e+Bq!==84||47!==qq()););return"/*"+Vq(t,Mq-1)+"*"+wq(47===e?e:zq())}function Jq(e){for(;!Hq(qq());)zq();return Vq(e,Mq)}var Qq="-ms-",eU="-moz-",tU="-webkit-",nU="comm",rU="rule",oU="decl",aU="@keyframes";function iU(e,t){for(var n="",r=Oq(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function sU(e,t,n,r){switch(e.type){case"@import":case oU:return e.return=e.return||e.value;case nU:return"";case aU:return e.return=e.value+"{"+iU(e.children,r)+"}";case rU:e.value=e.props.join(",")}return Fq(n=iU(e.children,r))?e.return=e.value+"{"+n+"}":""}function uU(e){return Wq(cU("",null,null,null,[""],e=$q(e),0,[0],e))}function cU(e,t,n,r,o,a,i,s,u){for(var c=0,l=0,f=i,d=0,p=0,h=0,m=1,v=1,g=1,b=0,y="",D=o,w=a,_=r,E=y;v;)switch(h=b,b=zq()){case 40:if(108!=h&&58==Cq(E,f-1)){-1!=kq(E+=xq(Kq(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=Kq(b);break;case 9:case 10:case 13:case 32:E+=Gq(h);break;case 92:E+=Yq(Uq()-1,7);continue;case 47:switch(qq()){case 42:case 47:Aq(fU(Xq(zq(),Uq()),t,n),u);break;default:E+="/"}break;case 123*m:s[c++]=Fq(E)*g;case 125*m:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+l:p>0&&Fq(E)-f&&Aq(p>32?dU(E+";",r,n,f-1):dU(xq(E," ","")+";",r,n,f-2),u);break;case 59:E+=";";default:if(Aq(_=lU(E,t,n,c,l,o,s,y,D=[],w=[],f),a),123===b)if(0===l)cU(E,t,_,_,D,a,f,s,w);else switch(99===d&&110===Cq(E,3)?100:d){case 100:case 109:case 115:cU(e,_,_,r&&Aq(lU(e,_,_,0,0,o,s,y,o,D=[],f),w),o,w,f,s,r?D:w);break;default:cU(E,_,_,_,[""],w,0,s,w)}}c=l=p=0,m=g=1,y=E="",f=i;break;case 58:f=1+Fq(E),p=h;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==Lq())continue;switch(E+=wq(b),b*m){case 38:g=l>0?1:(E+="\f",-1);break;case 44:s[c++]=(Fq(E)-1)*g,g=1;break;case 64:45===qq()&&(E+=Kq(zq())),d=qq(),l=f=Fq(y=E+=Jq(Uq())),b++;break;case 45:45===h&&2==Fq(E)&&(m=0)}}return a}function lU(e,t,n,r,o,a,i,s,u,c,l){for(var f=o-1,d=0===o?a:[""],p=Oq(d),h=0,m=0,v=0;h<r;++h)for(var g=0,b=Sq(e,f+1,f=Dq(m=i[h])),y=e;g<p;++g)(y=Eq(m>0?d[g]+" "+b:xq(b,/&\f/g,d[g])))&&(u[v++]=y);return Rq(e,t,n,0===o?rU:s,u,c,l)}function fU(e,t,n){return Rq(e,t,n,nU,wq(Bq),Sq(e,2,-2),0)}function dU(e,t,n,r){return Rq(e,t,n,oU,Sq(e,0,r),Sq(e,r+1,-1),r)}var pU=__webpack_require__(63011),hU=function(e,t,n){for(var r=0,o=0;r=o,o=qq(),38===r&&12===o&&(t[n]=1),!Hq(o);)zq();return Vq(e,Mq)},mU=function(e,t){return Wq(function(e,t){var n=-1,r=44;do{switch(Hq(r)){case 0:38===r&&12===qq()&&(t[n]=1),e[n]+=hU(Mq-1,t,n);break;case 2:e[n]+=Kq(r);break;case 4:if(44===r){e[++n]=58===qq()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=wq(r)}}while(r=zq());return e}($q(e),t))},vU=new WeakMap,gU=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vU.get(n))&&!r){vU.set(e,!0);for(var o=[],a=mU(t,o),i=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<i.length;c++,u++)e.props[u]=o[s]?a[s].replace(/&\f/g,i[c]):i[c]+" "+a[s]}}},bU=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function yU(e,t){switch(function(e,t){return 45^Cq(e,0)?(((t<<2^Cq(e,0))<<2^Cq(e,1))<<2^Cq(e,2))<<2^Cq(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tU+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tU+e+eU+e+Qq+e+e;case 6828:case 4268:return tU+e+Qq+e+e;case 6165:return tU+e+Qq+"flex-"+e+e;case 5187:return tU+e+xq(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return tU+e+Qq+"flex-item-"+xq(e,/flex-|-self/,"")+e;case 4675:return tU+e+Qq+"flex-line-pack"+xq(e,/align-content|flex-|-self/,"")+e;case 5548:return tU+e+Qq+xq(e,"shrink","negative")+e;case 5292:return tU+e+Qq+xq(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+xq(e,"-grow","")+tU+e+Qq+xq(e,"grow","positive")+e;case 4554:return tU+xq(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return xq(xq(xq(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return xq(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return xq(xq(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+tU+e+e;case 4095:case 3583:case 4068:case 2532:return xq(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fq(e)-1-t>6)switch(Cq(e,t+1)){case 109:if(45!==Cq(e,t+4))break;case 102:return xq(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==Cq(e,t+3)?"$3":"$2-$3"))+e;case 115:return~kq(e,"stretch")?yU(xq(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Cq(e,t+1))break;case 6444:switch(Cq(e,Fq(e)-3-(~kq(e,"!important")&&10))){case 107:return xq(e,":",":-webkit-")+e;case 101:return xq(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===Cq(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(Cq(e,t+11)){case 114:return tU+e+Qq+xq(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tU+e+Qq+xq(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tU+e+Qq+xq(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tU+e+Qq+e+e}return e}var DU=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case oU:e.return=yU(e.value,e.length);break;case aU:return iU([Iq(e,{value:xq(e.value,"@","@-webkit-")})],r);case rU:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return iU([Iq(e,{props:[xq(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return iU([Iq(e,{props:[xq(t,/:(plac\w+)/,":-webkit-input-$1")]}),Iq(e,{props:[xq(t,/:(plac\w+)/,":-moz-$1")]}),Iq(e,{props:[xq(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}];const wU=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||DU;var o,a,i={},s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)}));var u,c,l,f,d=[sU,(f=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&f(e)})],p=(c=[gU,bU].concat(r,d),l=Oq(c),function(e,t,n,r){for(var o="",a=0;a<l;a++)o+=c[a](e,t,n,r)||"";return o});a=function(e,t,n,r){u=n,iU(uU(e?e+"{"+t.styles+"}":t.styles),p),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new yq({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(s),h};function _U(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var EU=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},xU=function(e,t,n){EU(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}};const kU=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const CU={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var SU=/[A-Z]|^ms/g,FU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OU=function(e){return 45===e.charCodeAt(1)},AU=function(e){return null!=e&&"boolean"!=typeof e},TU=(0,pU.Z)((function(e){return OU(e)?e:e.replace(SU,"-$&").toLowerCase()})),PU=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(FU,(function(e,t,n){return MU={name:t,styles:n,next:MU},t}))}return 1===CU[e]||OU(e)||"number"!=typeof t||0===t?t:t+"px"};function jU(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch((0,c.Z)(n)){case"boolean":return"";case"object":if(1===n.anim)return MU={name:n.name,styles:n.styles,next:MU},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)MU={name:r.name,styles:r.styles,next:MU},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=jU(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!==(0,c.Z)(i))null!=t&&void 0!==t[i]?r+=a+"{"+t[i]+"}":AU(i)&&(r+=TU(a)+":"+PU(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=jU(e,t,i);switch(a){case"animation":case"animationName":r+=TU(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<i.length;u++)AU(i[u])&&(r+=TU(a)+":"+PU(a,i[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=MU,a=n(e);return MU=o,jU(e,t,a)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var MU,BU=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var NU=function(e,t,n){if(1===e.length&&"object"===(0,c.Z)(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";MU=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=jU(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++)o+=jU(n,t,e[i]),r&&(o+=a[i]);BU.lastIndex=0;for(var s,u="";null!==(s=BU.exec(o));)u+="-"+s[1];return{name:kU(o)+u,styles:o,next:MU}},RU=!!i.useInsertionEffect&&i.useInsertionEffect,IU=RU||function(e){return e()},LU=(RU||a.useLayoutEffect,{}.hasOwnProperty),zU=(0,a.createContext)("undefined"!=typeof HTMLElement?wU({key:"css"}):null);zU.Provider;var qU=function(e){return(0,a.forwardRef)((function(t,n){var r=(0,a.useContext)(zU);return e(t,r,n)}))},UU=(0,a.createContext)({});var VU="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HU=function(e,t){var n={};for(var r in t)LU.call(t,r)&&(n[r]=t[r]);return n[VU]=e,n},$U=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;EU(t,n,r);IU((function(){return xU(t,n,r)}));return null},WU=qU((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[VU],i=[r],s="";"string"==typeof e.className?s=_U(t.registered,i,e.className):null!=e.className&&(s=e.className+" ");var u=NU(i,void 0,(0,a.useContext)(UU));s+=t.key+"-"+u.name;var c={};for(var l in e)LU.call(e,l)&&"css"!==l&&l!==VU&&(c[l]=e[l]);return c.ref=n,c.className=s,(0,a.createElement)(a.Fragment,null,(0,a.createElement)($U,{cache:t,serialized:u,isStringTag:"string"==typeof o}),(0,a.createElement)(o,c))}));__webpack_require__(21916);var KU=function(e,t){var n=arguments;if(null==t||!LU.call(t,"css"))return a.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=WU,o[1]=HU(e,t);for(var i=2;i<r;i++)o[i]=n[i];return a.createElement.apply(null,o)};function GU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NU(t)}var YU=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var a=t[r];if(null!=a){var i=void 0;switch((0,c.Z)(a)){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var s in i="",a)a[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=a}i&&(o&&(o+=" "),o+=i)}}return o};function ZU(e,t,n){var r=[],o=_U(e,r,n);return r.length<2?n:o+t(r)}var XU=function(e){var t=e.cache,n=e.serializedArr;IU((function(){for(var e=0;e<n.length;e++)xU(t,n[e],!1)}));return null},JU=qU((function(e,t){var n=[],r=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var a=NU(r,t.registered);return n.push(a),EU(t,a,!1),t.key+"-"+a.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return ZU(t.registered,r,YU(n))},theme:(0,a.useContext)(UU)},i=e.children(o);return!0,(0,a.createElement)(a.Fragment,null,(0,a.createElement)(XU,{cache:t,serializedArr:n}),i)}));Math.min,Math.max;const QU=["top","right","bottom","left"];QU.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]);function eV(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function tV(e){if(null==e)return window;if(!eV(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function nV(e){return tV(e).getComputedStyle(e)}function rV(e){return eV(e)?"":e?(e.nodeName||"").toLowerCase():""}function oV(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function aV(e){return e instanceof tV(e).HTMLElement}function iV(e){return e instanceof tV(e).Element}function sV(e){return"undefined"!=typeof ShadowRoot&&(e instanceof tV(e).ShadowRoot||e instanceof ShadowRoot)}function uV(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=nV(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(o)}function cV(){return!/^((?!chrome|android).)*safari/i.test(oV())}function lV(e){return["html","body","#document"].includes(rV(e))}Math.min,Math.max;const fV=Math.round;function dV(e,t,n){var r,o,a,i;void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect();let u=1,c=1;t&&aV(e)&&(u=e.offsetWidth>0&&fV(s.width)/e.offsetWidth||1,c=e.offsetHeight>0&&fV(s.height)/e.offsetHeight||1);const l=iV(e)?tV(e):window,f=!cV()&&n,d=(s.left+(f&&null!=(r=null==(o=l.visualViewport)?void 0:o.offsetLeft)?r:0))/u,p=(s.top+(f&&null!=(a=null==(i=l.visualViewport)?void 0:i.offsetTop)?a:0))/c,h=s.width/u,m=s.height/c;return{width:h,height:m,top:p,right:d+h,bottom:p+m,left:d,x:d,y:p}}function pV(e){return(t=e,(t instanceof tV(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function hV(e){return"html"===rV(e)?e:e.assignedSlot||e.parentNode||(sV(e)?e.host:null)||pV(e)}function mV(e){const t=hV(e);return lV(t)?e.ownerDocument.body:aV(t)&&uV(t)?t:mV(t)}function vV(e,t){var n;void 0===t&&(t=[]);const r=mV(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=tV(r),i=o?[a].concat(a.visualViewport||[],uV(r)?r:[]):r,s=t.concat(i);return o?s:s.concat(vV(i))}const gV=a.useLayoutEffect;var bV=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],yV=function(){};function DV(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function wV(e,t,n){var r=[n];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&r.push("".concat(DV(e,o)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var _V=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,c.Z)(e)&&null!==e?[e]:[];var t},EV=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,bq({},ft(e,bV))};function xV(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function kV(e){return xV(e)?window.pageYOffset:e.scrollTop}function CV(e,t){xV(e)?window.scrollTo(0,t):e.scrollTop=t}function SV(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function FV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yV,o=kV(e),a=t-o,i=10,s=0;function u(){var t=SV(s+=i,o,a,n);CV(e,t),s<n?window.requestAnimationFrame(u):r(e)}u()}function OV(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?CV(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&CV(e,Math.max(t.offsetTop-o,0))}function AV(){try{return document.createEvent("TouchEvent"),!0}catch(O9){return!1}}var TV=!1,PV={get passive(){return TV=!0}},jV="undefined"!=typeof window?window:{};jV.addEventListener&&jV.removeEventListener&&(jV.addEventListener("p",yV,PV),jV.removeEventListener("p",yV,!1));var MV=TV;function BV(e){return null!=e}function NV(e,t,n){return e?t:n}function RV(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,i=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l,f=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,h=d.height,m=d.top,v=n.offsetParent.getBoundingClientRect().top,g=i?window.innerHeight:xV(l=u)?window.innerHeight:l.clientHeight,b=kV(u),y=parseInt(getComputedStyle(n).marginBottom,10),D=parseInt(getComputedStyle(n).marginTop,10),w=v-D,_=g-m,E=w+b,x=f-b-m,k=p-g+b+y,C=b+m-D,S=160;switch(o){case"auto":case"bottom":if(_>=h)return{placement:"bottom",maxHeight:t};if(x>=h&&!i)return a&&FV(u,k,S),{placement:"bottom",maxHeight:t};if(!i&&x>=r||i&&_>=r)return a&&FV(u,k,S),{placement:"bottom",maxHeight:i?_-y:x-y};if("auto"===o||i){var F=t,O=i?w:E;return O>=r&&(F=Math.min(O-y-s.controlHeight,t)),{placement:"top",maxHeight:F}}if("bottom"===o)return a&&CV(u,k),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(E>=h&&!i)return a&&FV(u,C,S),{placement:"top",maxHeight:t};if(!i&&E>=r||i&&w>=r){var A=t;return(!i&&E>=r||i&&w>=r)&&(A=i?w-D:E-D),a&&FV(u,C,S),{placement:"top",maxHeight:A}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}var IV=function(e){return"auto"===e?"bottom":e},LV=(0,a.createContext)(null),zV=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,s=e.menuShouldScrollIntoView,u=e.theme,c=((0,a.useContext)(LV)||{}).setPortalPlacement,l=(0,a.useRef)(null),f=k((0,a.useState)(r),2),d=f[0],p=f[1],h=k((0,a.useState)(null),2),m=h[0],v=h[1];return gV((function(){var e=l.current;if(e){var t="fixed"===i,a=RV({maxHeight:r,menuEl:e,minHeight:n,placement:o,shouldScroll:s&&!t,isFixedPosition:t,theme:u});p(a.maxHeight),v(a.placement),null==c||c(a.placement)}}),[r,o,i,s,n,c,u]),t({ref:l,placerProps:bq(bq({},e),{},{placement:m||IV(o),maxHeight:d})})},qV=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},UV=qV,VV=qV,HV=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return KU("div",cy({css:o("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};HV.defaultProps={children:"No options"};var $V=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return KU("div",cy({css:o("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};$V.defaultProps={children:"Loading..."};var WV,KV=["size"];var GV,YV,ZV={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},XV=function(e){var t=e.size,n=ft(e,KV);return KU("svg",cy({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ZV},n))},JV=function(e){return KU(XV,cy({size:20},e),KU("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},QV=function(e){return KU(XV,cy({size:20},e),KU("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},eH=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorContainer",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?o.neutral80:o.neutral40}}},tH=eH,nH=eH,rH=function(){var e=GU.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(WV||(GV=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],YV||(YV=GV.slice(0)),WV=Object.freeze(Object.defineProperties(GV,{raw:{value:Object.freeze(YV)}})))),oH=function(e){var t=e.delay,n=e.offset;return KU("span",{css:GU({animation:"".concat(rH," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},aH=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,a=e.isRtl;return KU("div",cy({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},o),KU(oH,{delay:0,offset:a}),KU(oH,{delay:160,offset:!0}),KU(oH,{delay:320,offset:!a}))};aH.defaultProps={size:4};var iH=["data"],sH=["innerRef","isDisabled","isHidden","inputClassName"],uH={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},cH={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":bq({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uH)},lH=function(e){return bq({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},uH)},fH=function(e){var t=e.children,n=e.innerProps;return KU("div",n,t)};var dH={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return KU("div",cy({css:o("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},a),t||KU(JV,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,a=e.isDisabled,i=e.isFocused,s=e.innerRef,u=e.innerProps,c=e.menuIsOpen;return KU("div",cy({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":i,"control--menu-is-open":c},o)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return KU("div",cy({css:o("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},a),t||KU(QV,null))},DownChevron:QV,CrossIcon:JV,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.Heading,i=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,l=e.selectProps;return KU("div",cy({css:o("group",e),className:r({group:!0},n)},s),KU(a,cy({},i,{selectProps:l,theme:c,getStyles:o,cx:r}),u),KU("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,o=EV(e);o.data;var a=ft(o,iH);return KU("div",cy({css:t("groupHeading",e),className:n({"group-heading":!0},r)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.innerProps,a=e.getStyles;return KU("div",cy({css:a("indicatorsContainer",e),className:r({indicators:!0},n)},o),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return KU("span",cy({},o,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.value,a=EV(e),i=a.innerRef,s=a.isDisabled,u=a.isHidden,c=a.inputClassName,l=ft(a,sH);return KU("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":o||""},KU("input",cy({className:n({input:!0},c),ref:i,style:lH(u),disabled:s},l)))},LoadingIndicator:aH,Menu:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerRef,i=e.innerProps;return KU("div",cy({css:o("menu",e),className:r({menu:!0},n),ref:a},i),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,i=e.innerRef,s=e.isMulti;return KU("div",cy({css:o("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:i},a),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.className,o=e.controlElement,i=e.cx,s=e.innerProps,u=e.menuPlacement,c=e.menuPosition,l=e.getStyles,f=(0,a.useRef)(null),d=(0,a.useRef)(null),p=k((0,a.useState)(IV(u)),2),h=p[0],m=p[1],v=(0,a.useMemo)((function(){return{setPortalPlacement:m}}),[]),g=k((0,a.useState)(null),2),b=g[0],y=g[1],D=(0,a.useCallback)((function(){if(o){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),t="fixed"===c?0:window.pageYOffset,n=e[h]+t;n===(null==b?void 0:b.offset)&&e.left===(null==b?void 0:b.rect.left)&&e.width===(null==b?void 0:b.rect.width)||y({offset:n,rect:e})}}),[o,c,h,null==b?void 0:b.offset,null==b?void 0:b.rect.left,null==b?void 0:b.rect.width]);gV((function(){D()}),[D]);var w=(0,a.useCallback)((function(){"function"==typeof d.current&&(d.current(),d.current=null),o&&f.current&&(d.current=function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=!0,animationFrame:s=!1}=r,u=o&&!s,c=u||a?[...iV(e)?vV(e):e.contextElement?vV(e.contextElement):[],...vV(t)]:[];c.forEach((e=>{u&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));let l,f=null;if(i){let r=!0;f=new ResizeObserver((()=>{r||n(),r=!1})),iV(e)&&!s&&f.observe(e),iV(e)||!e.contextElement||s||f.observe(e.contextElement),f.observe(t)}let d=s?dV(e):null;return s&&function t(){const r=dV(e);!d||r.x===d.x&&r.y===d.y&&r.width===d.width&&r.height===d.height||n(),d=r,l=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach((e=>{u&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==(e=f)||e.disconnect(),f=null,s&&cancelAnimationFrame(l)}}(o,f.current,D,{elementResize:"ResizeObserver"in window}))}),[o,D]);gV((function(){w()}),[w]);var _=(0,a.useCallback)((function(e){f.current=e,w()}),[w]);if(!t&&"fixed"!==c||!b)return null;var E=KU("div",cy({ref:_,css:l("menuPortal",{offset:b.offset,position:c,rect:b.rect}),className:i({"menu-portal":!0},r)},s),n);return KU(LV.Provider,{value:v},t?(0,kE.createPortal)(E,t):E)},LoadingMessage:$V,NoOptionsMessage:HV,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,o=e.cx,a=e.data,i=e.getStyles,s=e.innerProps,u=e.isDisabled,c=e.removeProps,l=e.selectProps,f=r.Container,d=r.Label,p=r.Remove;return KU(JU,null,(function(r){var h=r.css,m=r.cx;return KU(f,{data:a,innerProps:bq({className:m(h(i("multiValue",e)),o({"multi-value":!0,"multi-value--is-disabled":u},n))},s),selectProps:l},KU(d,{data:a,innerProps:{className:m(h(i("multiValueLabel",e)),o({"multi-value__label":!0},n))},selectProps:l},t),KU(p,{data:a,innerProps:bq({className:m(h(i("multiValueRemove",e)),o({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:l}))}))},MultiValueContainer:fH,MultiValueLabel:fH,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return KU("div",cy({role:"button"},n),t||KU(JV,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,i=e.isFocused,s=e.isSelected,u=e.innerRef,c=e.innerProps;return KU("div",cy({css:o("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":i,"option--is-selected":s},n),ref:u,"aria-disabled":a},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return KU("div",cy({css:o("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,i=e.isDisabled,s=e.isRtl;return KU("div",cy({css:o("container",e),className:r({"--is-disabled":i,"--is-rtl":s},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,i=e.innerProps;return KU("div",cy({css:o("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},i),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.innerProps,a=e.isMulti,i=e.getStyles,s=e.hasValue;return KU("div",cy({css:i("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s},n)},o),t)}};function pH(e){return KS({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"}}]})(e)}function hH(e){return KS({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6zM7.9 7.5L10.3 5l.7.7-2.4 2.5 2.4 2.5-.7.7-2.4-2.5-2.4 2.5-.7-.7 2.4-2.5-2.4-2.5.7-.7 2.4 2.5z"}}]})(e)}function mH(e){return KS({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.507 12.324a7 7 0 0 0 .065-8.56A7 7 0 0 0 2 4.393V2H1v3.5l.5.5H5V5H2.811a6.008 6.008 0 1 1-.135 5.77l-.887.462a7 7 0 0 0 11.718 1.092zm-3.361-.97l.708-.707L8 7.792V4H7v4l.146.354 3 3z"}}]})(e)}function vH(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1 8.05-9.12A8.251 8.251 0 1 0 15.25.01V0zm0 15a6.75 6.75 0 1 1 0-13.5 6.75 6.75 0 0 1 0 13.5z"}}]})(e)}function gH(e){return KS({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.111 2.18a7 7 0 1 1 7.778 11.64A7 7 0 0 1 4.11 2.18zm.556 10.809a6 6 0 1 0 6.666-9.978 6 6 0 0 0-6.666 9.978zM6.5 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM8 11a3 3 0 0 1-2.65-1.58l-.87.48a4 4 0 0 0 7.12-.16l-.9-.43A3 3 0 0 1 8 11z"}}]})(e)}function bH(e){return e.current?e.current.querySelector('div[contenteditable="true"]'):null}function yH(e){var t=bH(e),n=document.getSelection();n.anchorNode&&e.current.contains(n.anchorNode)?t.focus():wH(t)}function DH(e){var t=bH(e),n=document.getSelection();t&&n.anchorNode&&e.current.contains(n.anchorNode)&&t.blur()}function wH(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function _H(e){var t=bH(e),n=document.getSelection();return!n.isCollapsed&&(t.contains(n.anchorNode)?n.getRangeAt(0).getBoundingClientRect():void 0)}function EH(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}function xH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xH(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CH(e){var t=k((0,a.useState)(!1),2),n=t[0],r=t[1],o=e.editor,i=Nk({placement:"top",open:n,onOpenChange:r,middleware:[HE(5),VE(),WE({padding:8})],whileElementsMounted:Cx}),s=i.x,u=i.y,c=i.reference,l=i.floating,f=i.strategy,d=i.context,p=Ik([Mk(d,{role:"menu"}),Pk(d)]),h=(p.getReferenceProps,p.getFloatingProps);return a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-emojies",ref:c,onMouseDown:function(e){e.preventDefault()},onClick:function(){r(!n)}},!n&&a.createElement(gH,null),n&&a.createElement(hH,null)),a.createElement(Sk,null,n&&a.createElement(vq.div,cy({className:"bm-emoji-picker-container",initial:{opacity:0,y:"20px"},animate:{opacity:1,y:"0%"},exit:{opacity:0,y:"20px"},transition:{duration:.2}},h({ref:l,style:{position:f,top:null!=u?u:0,left:null!=s?s:0}})),a.createElement(SH,{onEmojiSelect:function(e){!function(e,t){yH(e);var n=bH(e),r=UA(t),o=window.getSelection();if(o&&o.rangeCount){var a=o.getRangeAt(0),i=document.createElement("img");i.className="bm-inline-emoji",i.alt=t,i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",i.setAttribute("style","width: 20px !important; height: 20px !important; background-image: url('"+AA+" '); vertical-align: middle; background-size: "+100*r.sheet.cols+"% "+100*r.sheet.rows+"%; background-position: "+100/(r.sheet.cols-1)*r.emoji.x+"% "+100/(r.sheet.rows-1)*r.emoji.y+"%"),a.insertNode(i);var s=document.createRange();s.setStartAfter(i),o.removeAllRanges(),o.addRange(s),n.dispatchEvent(new CustomEvent("better-messages-changed"))}}(o,e.native)}}))))}function SH(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){new SA(kH(kH({},e),{},{data:zA,getSpritesheetURL:function(){return AA},i18n:{search:C7("Search","Emoji Picker","bp-better-messages"),search_no_results_1:C7("Oh no!","Emoji Picker","bp-better-messages"),search_no_results_2:C7("That emoji couldn’t be found","Emoji Picker","bp-better-messages"),pick:C7("Pick an emoji…","Emoji Picker","bp-better-messages"),categories:{activity:C7("Activity","Emoji Picker","bp-better-messages"),flags:C7("Flags","Emoji Picker","bp-better-messages"),foods:C7("Food & Drink","Emoji Picker","bp-better-messages"),frequent:C7("Frequently used","Emoji Picker","bp-better-messages"),nature:C7("Animals & Nature","Emoji Picker","bp-better-messages"),objects:C7("Objects","Emoji Picker","bp-better-messages"),people:C7("Smileys & People","Emoji Picker","bp-better-messages"),places:C7("Travel & Places","Emoji Picker","bp-better-messages"),search:C7("Search Results","Emoji Picker","bp-better-messages"),symbols:C7("Symbols","Emoji Picker","bp-better-messages")},skins:{choose:C7("Choose default skin tone","Emoji Picker","bp-better-messages"),1:C7("Default","Emoji Picker","bp-better-messages"),2:C7("Light","Emoji Picker","bp-better-messages"),3:C7("Medium-Light","Emoji Picker","bp-better-messages"),4:C7("Medium","Emoji Picker","bp-better-messages"),5:C7("Medium-Dark","Emoji Picker","bp-better-messages"),6:C7("Dark","Emoji Picker","bp-better-messages")}},theme:"light",set:TA,ref:t}))}),[]),a.createElement("div",{ref:t})}function FH(){const e=(0,a.useRef)(!1);return AM((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class OH extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AH({children:e,isPresent:t}){const n=(0,a.useId)(),r=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)((()=>{const{width:e,height:a,top:i,left:s}=o.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${i}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}}),[t]),a.createElement(OH,{isPresent:t,childRef:r,sizeRef:o},a.cloneElement(e,{ref:r}))}const TH=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const u=VM(PH),c=(0,a.useId)(),l=(0,a.useMemo)((()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))})),i?void 0:[n]);return(0,a.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[n]),a.useEffect((()=>{!n&&!u.size&&r&&r()}),[n]),"popLayout"===s&&(e=a.createElement(AH,{isPresent:n},e)),a.createElement(FM.Provider,{value:l},e)};function PH(){return new Map}const jH=e=>e.key||"";const MH=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{o&&(s="wait");let[u]=function(){const e=FH(),[t,n]=(0,a.useState)(0),r=(0,a.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,a.useCallback)((()=>zN.postRender(r)),[r]),t]}();const c=(0,a.useContext)(WM).forceRender;c&&(u=c);const l=FH(),f=function(e){const t=[];return a.Children.forEach(e,(e=>{(0,a.isValidElement)(e)&&t.push(e)})),t}(e);let d=f;const p=new Set,h=(0,a.useRef)(d),m=(0,a.useRef)(new Map).current,v=(0,a.useRef)(!0);var g;if(AM((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=jH(e);t.set(n,e)}))}(f,m),h.current=d})),g=()=>{v.current=!0,m.clear(),p.clear()},(0,a.useEffect)((()=>()=>g()),[]),v.current)return a.createElement(a.Fragment,null,d.map((e=>a.createElement(TH,{key:jH(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:i,mode:s},e))));d=[...d];const b=h.current.map(jH),y=f.map(jH),D=b.length;for(let a=0;a<D;a++){const e=b[a];-1===y.indexOf(e)&&p.add(e)}return"wait"===s&&p.size&&(d=[]),p.forEach((e=>{if(-1!==y.indexOf(e))return;const n=m.get(e);if(!n)return;const o=b.indexOf(e);d.splice(o,0,a.createElement(TH,{key:jH(n),isPresent:!1,onExitComplete:()=>{m.delete(e),p.delete(e);const t=h.current.findIndex((t=>t.key===e));if(h.current.splice(t,1),!p.size){if(h.current=f,!1===l.current)return;u(),r&&r()}},custom:t,presenceAffectsLayout:i,mode:s},n))})),d=d.map((e=>{const t=e.key;return p.has(t)?e:a.createElement(TH,{key:jH(e),isPresent:!0,presenceAffectsLayout:i,mode:s},e)})),a.createElement(a.Fragment,null,p.size?d:d.map((e=>(0,a.cloneElement)(e))))};var BH=__webpack_require__(14577),NH=__webpack_require__.n(BH);const RH=window.Uppy.XHRUpload;var IH=__webpack_require__.n(RH);const LH=window.Uppy.Webcam;var zH=__webpack_require__.n(LH);const qH=window.Uppy.ImageEditor;var UH=__webpack_require__.n(qH),VH=(__webpack_require__(59722),__webpack_require__(32181));__webpack_require__(49765),__webpack_require__(64018),__webpack_require__(18205),__webpack_require__(65638),__webpack_require__(71414);function HH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var $H=function(e){S(r,e);var t=HH(r);function r(e){var a;u(this,r),p(F(a=t.call(this,e)),"uppy",void 0),p(F(a),"state",void 0),p(F(a),"plugins",[]),p(F(a),"strings",void 0),p(F(a),"uploadStarted",!1),p(F(a),"onDragDrop",(function(){a.setState({showDropZone:!1})})),p(F(a),"onDragOver",(function(){a.setState({showDropZone:!0})})),p(F(a),"onDragEnd",(function(){a.setState({showDropZone:!1})})),p(F(a),"addFile",(function(e){try{a.uppy.addFile(e),a.handleOpen()}catch(O9){}})),p(F(a),"getFilesCount",(function(){return a.uppy.getFiles().length})),p(F(a),"lastThreadId",null),p(F(a),"lastMessageId",null),p(F(a),"uploadFiles",function(){var e=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.uppy.getFiles().length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,a.uploadStarted=!0,a.setState({uploading:!0}),a.lastThreadId=t,a.lastMessageId=n,e.next=9,a.uppy.getPlugin("XHRUpload").setOptions({endpoint:w7.restUrl+"thread/"+t+"/upload/"+n+"/"});case 9:return e.next=11,a.uppy.upload();case 11:e.sent.failed.map((function(e){var t=Gb(S7(C7("Failed to upload %s","File Uploader - Failed to upload (%filename)","bp-better-messages"),e.name));Ky(t+="<br><strong>"+e.error+"</strong>")})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),Ky(e.t0);case 18:return e.prev=18,a.uploadStarted=!1,a.setState({uploading:!1}),a.clear(),e.finish(18);case 23:case"end":return e.stop()}}),e,null,[[2,15,18,23]])})));return function(t,n){return e.apply(this,arguments)}}());var i=w7.attachments;a.state={filesCount:0,modalOpen:!1,uploading:!1,showDropZone:!1,activeDropZone:!1,progress:0};var s={maxFileSize:1024*i.maxSize*1024,allowedFileTypes:i.formats};if(i.maxItems>0&&(s.maxNumberOfFiles=i.maxItems),a.strings={addBulkFilesFailed:{0:C7("Failed to add %{smart_count} file due to an internal error","File Uploader","bp-better-messages"),1:C7("Failed to add %{smart_count} files due to internal errors","File Uploader","bp-better-messages")},youCanOnlyUploadX:{0:C7("You can only upload %{smart_count} file","File Uploader","bp-better-messages"),1:C7("You can only upload %{smart_count} files","File Uploader","bp-better-messages")},exceedsSize:C7("%{file} exceeds maximum allowed size of %{size}","File Uploader","bp-better-messages"),missingRequiredMetaField:C7("Missing required meta fields","File Uploader","bp-better-messages"),missingRequiredMetaFieldOnFile:C7("Missing required meta fields in %{fileName}","File Uploader","bp-better-messages"),inferiorSize:C7("This file is smaller than the allowed size of %{size}","File Uploader","bp-better-messages"),youCanOnlyUploadFileTypes:C7("You can only upload: %{types}","File Uploader","bp-better-messages"),noMoreFilesAllowed:C7("Cannot add more files","File Uploader","bp-better-messages"),noDuplicates:C7("Cannot add the duplicate file '%{fileName}', it already exists","File Uploader","bp-better-messages"),authAborted:C7("Authentication aborted","File Uploader","bp-better-messages"),failedToUpload:C7("Failed to upload %{file}","File Uploader","bp-better-messages"),noFilesFound:C7("You have no files or folders here","File Uploader","bp-better-messages"),selectX:{0:C7("Select %{smart_count}","File Uploader","bp-better-messages"),1:C7("Select %{smart_count}","File Uploader","bp-better-messages")},allFilesFromFolderNamed:C7("All files from folder %{name}","File Uploader","bp-better-messages"),openFolderNamed:C7("Open folder %{name}","File Uploader","bp-better-messages"),cancel:C7("Cancel","File Uploader","bp-better-messages"),loading:C7("Loading...","File Uploader","bp-better-messages"),emptyFolderAdded:C7("No files were added from empty folder","File Uploader","bp-better-messages"),folderAlreadyAdded:C7('The folder "%{folder}" was already added',"File Uploader","bp-better-messages"),folderAdded:{0:C7("Added %{smart_count} file from %{folder}","File Uploader","bp-better-messages"),1:C7("Added %{smart_count} files from %{folder}","File Uploader","bp-better-messages")},addingMoreFiles:C7("Adding more files","File Uploader","bp-better-messages"),addMore:C7("Add more","File Uploader","bp-better-messages"),addMoreFiles:C7("Add more files","File Uploader","bp-better-messages"),allowAccessDescription:C7("In order to take pictures or record video with your camera, please allow camera access for this site.","File Uploader","bp-better-messages"),allowAccessTitle:C7("Please allow access to your camera","File Uploader","bp-better-messages"),allowAudioAccessDescription:C7("In order to record audio, please allow microphone access for this site.","File Uploader","bp-better-messages"),allowAudioAccessTitle:C7("Please allow access to your microphone","File Uploader","bp-better-messages"),back:C7("Back","File Uploader","bp-better-messages"),browse:C7("browse","File Uploader","bp-better-messages"),browseFiles:C7("browse files","File Uploader","bp-better-messages"),browseFolders:C7("browse folders","File Uploader","bp-better-messages"),cancelUpload:C7("Cancel upload","File Uploader","bp-better-messages"),chooseFiles:C7("Choose files","File Uploader","bp-better-messages"),closeModal:C7("Close Modal","File Uploader","bp-better-messages"),discardRecordedFile:C7("Discard recorded file","File Uploader","bp-better-messages"),done:C7("Done","File Uploader","bp-better-messages"),dropHereOr:C7("Drop here or %{browse}","File Uploader","bp-better-messages"),dropHint:C7("Drop your files here","File Uploader","bp-better-messages"),dropPasteBoth:C7("Drop files here, %{browseFiles} or %{browseFolders}","File Uploader","bp-better-messages"),dropPasteFiles:C7("Drop files here or %{browseFiles}","File Uploader","bp-better-messages"),dropPasteFolders:C7("Drop files here or %{browseFolders}","File Uploader","bp-better-messages"),dropPasteImportBoth:C7("Drop files here, %{browseFiles}, %{browseFolders} or import from:","File Uploader","bp-better-messages"),dropPasteImportFiles:C7("Drop files here, %{browseFiles} or import from:","File Uploader","bp-better-messages"),dropPasteImportFolders:C7("Drop files here, %{browseFolders} or import from:","File Uploader","bp-better-messages"),editFile:C7("Edit file","File Uploader","bp-better-messages"),editFileWithFilename:C7("Edit file %{file}","File Uploader","bp-better-messages"),editing:C7("Editing %{file}","File Uploader","bp-better-messages"),finishEditingFile:C7("Finish editing file","File Uploader","bp-better-messages"),generatingThumbnails:C7("Generating thumbnails...","File Uploader","bp-better-messages"),micDisabled:C7("Microphone access denied by user","File Uploader","bp-better-messages"),missingRequiredMetaFields:{0:C7("Missing required meta field: %{fields}.","File Uploader","bp-better-messages"),1:C7("Missing required meta fields: %{fields}.","File Uploader","bp-better-messages")},myDevice:C7("My Device","File Uploader","bp-better-messages"),noAudioDescription:C7("In order to record audio, please connect a microphone or another audio input device","File Uploader","bp-better-messages"),noAudioTitle:C7("Microphone Not Available","File Uploader","bp-better-messages"),noCameraDescription:C7("In order to take pictures or record video, please connect a camera device","File Uploader","bp-better-messages"),noCameraTitle:C7("Camera Not Available","File Uploader","bp-better-messages"),pluginNameAudio:C7("Audio","File Uploader","bp-better-messages"),pluginNameCamera:C7("Camera","File Uploader","bp-better-messages"),processingXFiles:{0:C7("Processing %{smart_count} file","File Uploader","bp-better-messages"),1:C7("Processing %{smart_count} files","File Uploader","bp-better-messages")},recording:C7("Recording","File Uploader","bp-better-messages"),recordingLength:C7("Recording length %{recording_length}","File Uploader","bp-better-messages"),recordVideoBtn:C7("Record Video","File Uploader","bp-better-messages"),removeFile:C7("Remove file","File Uploader","bp-better-messages"),save:C7("Save","File Uploader","bp-better-messages"),saveChanges:C7("Save changes","File Uploader","bp-better-messages"),startAudioRecording:C7("Begin audio recording","File Uploader","bp-better-messages"),startCapturing:C7("Begin screen capturing","File Uploader","bp-better-messages"),startRecording:C7("Begin video recording","File Uploader","bp-better-messages"),stopAudioRecording:C7("Stop audio recording","File Uploader","bp-better-messages"),stopCapturing:C7("Stop screen capturing","File Uploader","bp-better-messages"),stopRecording:C7("Stop video recording","File Uploader","bp-better-messages"),submitRecordedFile:C7("Submit recorded file","File Uploader","bp-better-messages"),takePicture:C7("Take a picture","File Uploader","bp-better-messages"),takePictureBtn:C7("Take Picture","File Uploader","bp-better-messages"),timedOut:C7("Upload stalled for %{seconds} seconds, aborting.","File Uploader","bp-better-messages"),upload:C7("Upload","File Uploader","bp-better-messages"),uploadComplete:C7("Upload complete","File Uploader","bp-better-messages"),uploadFailed:C7("Upload failed","File Uploader","bp-better-messages"),uploadXFiles:{0:C7("Send Now","File Uploader","bp-better-messages"),1:C7("Send Now","File Uploader","bp-better-messages")},uploadXNewFiles:{0:C7("Upload +%{smart_count} file","File Uploader","bp-better-messages"),1:C7("Upload +%{smart_count} files","File Uploader","bp-better-messages")},xFilesSelected:{0:C7("%{smart_count} file selected","File Uploader","bp-better-messages"),1:C7("%{smart_count} files selected","File Uploader","bp-better-messages")}},a.uppy=new(NH())({autoProceed:!1,allowMultipleUploadBatches:!1,restrictions:s,onBeforeUpload:function(e){if(!a.uploadStarted)return a.handleClose(),a.props.sendMessage(),!1;var t={};return Object.keys(e).forEach((function(n){var r=e[n],o=r.meta.type.split("/");r.meta.type=o[0]+"/"+r.extension,t[n]=r})),t},locale:{strings:a.strings}}),i.allowPhoto){var c=[];(i.formats.includes(".jpg")||i.formats.includes(".png"))&&c.push("picture"),i.formats.includes(".webm")&&c.push("video-only"),c.length>0&&(a.plugins.push("Webcam"),a.uppy.use(zH(),{modes:c,mirror:!1,showVideoSourceDropdown:!0,videoConstraints:{width:1920,height:1080}}))}return a.plugins.push("ImageEditor"),a.uppy.use(UH(),{quality:1}),a.uppy.use(IH(),{endpoint:null,fieldName:"file",bundle:!1,limit:1,timeout:0,headers:function(){var e={"X-WP-Nonce":w7.nonce};return w7.guestAuth&&(e["BM-Guest-ID"]=w7.guestAuth.id,e["BM-Guest-Secret"]=w7.guestAuth.secret),e},getResponseError:function(e,t){var n="Unexpected error message.";try{n=JSON.parse(e).message}catch(O9){}return new Error(n)},locale:{strings:{timedOut:C7("Upload stalled for %{seconds} seconds, aborting.","File Uploader","bp-better-messages")}}}),a.uppy.on("progress",(function(e){a.setState({progress:e})})),a.uppy.on("progress",(function(e){a.setState({progress:e})})),a.uppy.on("file-added",(function(e){var t=a.uppy.getFiles().length;a.setState({filesCount:t}),t>0&&a.props.setHasFiles(!0)})),a.uppy.on("upload-success",(function(e,t){var n=t.body.update;try{n.messages&&eS(n.messages),n.users&&ES(n.users)}catch(O9){console.error(O9)}})),a.uppy.on("file-removed",(function(){var e=a.uppy.getFiles().length;a.setState({filesCount:e}),0===e&&a.props.setHasFiles(!1)})),a.uppy.on("upload-success",(function(e,t){a.uppy.setFileMeta(e.id,{id:t.body.result})})),a.uppy.on("restriction-failed",(function(e,t){Ky(t.message)})),a.uppy.on("complete",(function(e){0===e.successful.length&&a7.post("thread/"+a.lastThreadId+"/upload/"+a.lastMessageId+"/unsuccessful")})),a.handleOpen=a.handleOpen.bind(F(a)),a.handleClose=a.handleClose.bind(F(a)),a}return d(r,[{key:"componentDidMount",value:function(){window.addEventListener("blur",this.onDragDrop),document.addEventListener("drop",this.onDragDrop),document.addEventListener("dragover",this.onDragOver),document.addEventListener("dragend",this.onDragEnd),document.addEventListener("dragleave",this.onDragEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("blur",this.onDragDrop),document.removeEventListener("drop",this.onDragDrop),document.removeEventListener("dragover",this.onDragOver),document.removeEventListener("dragend",this.onDragEnd),document.removeEventListener("dragleave",this.onDragEnd)}},{key:"clear",value:function(){this.uppy.reset()}},{key:"handleOpen",value:function(){this.setState({modalOpen:!0})}},{key:"handleClose",value:function(){this.setState({modalOpen:!1})}},{key:"render",value:function(){var e=this,t="bm-attachment",n=C7("Add attachment",'"Add attachment" button tooltip',"bp-better-messages"),r={};return this.state.filesCount>0&&(t+=" bm-attachments-added",n=S7(k7("%s attachment added, click to add more attachments","%s attachments added, click to add more attachments",this.state.filesCount,'"Add attachment" button tooltip with added files',"bp-better-messages"),this.state.filesCount),r["data-count"]=this.state.filesCount),a.createElement(a.Fragment,null,this.state.uploading&&a.createElement(kC,{content:C7("Uploading attachments",'"Uploading attachments" tooltip')},a.createElement("div",{className:"bm-attachment bm-attachment-progress"},this.state.progress,"%")),!this.state.uploading&&a.createElement(kC,{content:n},a.createElement("div",cy({className:t,onClick:this.handleOpen},r),a.createElement(TT,null))),this.props.chatMain&&(0,kE.createPortal)(a.createElement(MH,null,this.state.showDropZone&&a.createElement(vq.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bm-dropzone"+(this.state.activeDropZone?" bm-dropzone-dragging-over":""),onDrop:function(t){t.preventDefault(),e.setState({activeDropZone:!1,showDropZone:!1});var n=Array.from(t.dataTransfer.items);n.length>0&&n.map((function(t){if("file"===t.kind){var n=t.getAsFile();if(n){var r={type:t.type,data:n};void 0!==n.name&&"undefined"!==n.name?r.name=n.name:r.name="",e.addFile(r)}}}))},onDragOver:function(t){t.preventDefault(),e.setState({activeDropZone:!0})},onDragLeave:function(t){t.preventDefault(),e.setState({activeDropZone:!1})}},C7("Drop your files here","File Uploader","bp-better-messages"))),this.props.chatMain),(0,kE.createPortal)(a.createElement(VH,{uppy:this.uppy,proudlyDisplayPoweredByUppy:!1,closeModalOnClickOutside:!0,open:this.state.modalOpen,hideUploadButton:!1,fileManagerSelectionType:"both",onRequestClose:this.handleClose,plugins:this.plugins,locale:this.strings,theme:"light",metaFields:[{id:"name",name:C7("Name","File Uploader","bp-better-messages"),placeholder:""}]}),document.querySelector("body")))}}]),r}(a.Component);function WH(e){var t=bH(e);t&&(t.innerHTML="",t.dispatchEvent(new CustomEvent("better-messages-changed")))}function KH(e){return GH.apply(this,arguments)}function GH(){return(GH=n(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bH(t),"<br/>"===(r=YH(n.innerHTML).replace(/<div><br><\/div>/gi,"<br/>").replace(/<div>/gi,"<br/>").replace(/<br>/gi,"<br/>").replace(/<\/div>/gi,"")).slice(-5)&&(r=r.slice(0,-5)),"<br/>"===r.substring(0,5)&&(r=r.slice(5)),e.next=6,ZH(r);case 6:return r=e.sent,a=wC(r,{ignoreTags:n$,skipHtmlDecoding:!0}),r=a.result,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YH(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<div>",n);if(-1===r){t+="<div>".concat(e.slice(n),"</div>");break}var o=e.indexOf("</div>",r);if(-1===o){t+=e.slice(n);break}t+="<div>".concat(e.slice(n,r),"</div>").concat(e.slice(r,o+6)),n=o+6}return t.replace(/<div><\/div>/gi,"")}function ZH(e){return XH.apply(this,arguments)}function XH(){return(XH=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OC(t),e.next=3,JH(n);case 3:return n=e.sent,e.next=6,e$(n);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JH(e){return QH.apply(this,arguments)}function QH(){return QH=n(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if('<img class="bm-inline-emoji" alt="',-1!==(n=t.indexOf('<img class="bm-inline-emoji" alt="'))){e.next=6;break}return e.abrupt("return",t);case 6:return r=t.indexOf(">",n)+1,a=t.slice(n,r),(i=a.match(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g))&&(t=t.replace(a,i[0])),e.abrupt("return",JH(t));case 11:case"end":return e.stop()}}),e)}))),QH.apply(this,arguments)}function e$(e){return t$.apply(this,arguments)}function t$(){return(t$=n(o().mark((function e(t){var n,r,a,i,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if('<span class="bm-inline-mention"',-1!==(n=t.indexOf('<span class="bm-inline-mention"'))){e.next=6;break}return e.abrupt("return",t);case 6:return r=t.indexOf("</span>",n)+1,a=t.slice(n,r+6),i='data-user-id="',s=a.indexOf(i),s+=i.length,u=a.indexOf('"',s),c=Number(a.slice(s,u)),e.next=15,wS(c);case 15:return l=e.sent,t=l?t.replace(a,'<span class="bm-mention" data-user-id="'+l.user_id+'">@'+l.name+"</span>"):t.replace(a,""),e.abrupt("return",e$(t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n$=["br","strong","b","u","i","s","span","p","strike","sub","sup"];function r$(e,t){return o$.apply(this,arguments)}function o$(){return o$=n(o().mark((function e(t,n){var r,a,i,s,u,c,l,f,d,p,h,m,v,g,b,y=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:{},a=y.length>3&&void 0!==y[3]&&y[3],i=y.length>4&&void 0!==y[4]?y[4]:[],s=y.length>5&&void 0!==y[5]?y[5]:"",e.next=6,KH(n);case 6:if(u=e.sent,WH(n),Ho()&&DH(n),!(c=0===t)){e.next=14;break}if(0!==i.length){e.next=14;break}return Ky(C7("Please select recipient(s) before sending the message","User tried to send message with no recipients","bp-better-messages"),3e3),e.abrupt("return",!1);case 14:if(""!==u.trim()||a){e.next=16;break}return e.abrupt("return",!1);case 16:if(!0,!w7.badWords){e.next=22;break}return e.next=20,EP();case 20:(l=e.sent).length>0&&l.some((function(e){return u.indexOf(e)>=0}))&&!1;case 22:return d={message:u},a&&(d.files=!0,!1),T0(),r&&(d.meta=r),c?(f="thread/new",d.recipients=i,d.subject=s):f="thread/"+t+"/send",e.prev=27,e.next=30,a7.post(f,d);case 30:if(h=e.sent,m=h.data,!c){e.next=42;break}if(!m.errors){e.next=38;break}return Ky(Object.values(m.errors)),e.abrupt("return",!1);case 38:if(!m.result){e.next=40;break}return e.abrupt("return",{thread_id:m.thread_id,message_id:m.message_id});case 40:e.next=57;break;case 42:if(!m.errors){e.next=47;break}return Ky(Object.values(m.errors)),e.abrupt("return",!1);case 47:if(!m.update){e.next=57;break}return v=m.update.messages[0],g="sent",v&&v.tmpId&&nS.has(v.tmpId)&&(g=nS.get(v.tmpId)),Y5.statuses.set(v.message_id,g),sS({message_id:v.message_id,status:g}),eS(m.update.messages),ES(m.update.users),J5.threads.findOne({selector:{thread_id:t}}).update({$set:{lastTime:v.date_sent,lastMessage:v.message_id}}).catch(zC),e.abrupt("return",{thread_id:t,message_id:v.message_id});case 57:e.next=67;break;case 59:e.prev=59,e.t0=e.catch(27),console.error(e.t0),p&&BC(t,p,!0),Ky((b=e.t0.response.data).message),g7(e.t0,t,null),b.data&&b.data.update&&aM(b.data.update);case 67:case"end":return e.stop()}}),e,null,[[27,59]])}))),o$.apply(this,arguments)}function a$(){return(a$=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.get("stickers");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),Yy(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i$(){return(i$=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.get("stickers/"+t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),Ky(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function s$(e){return u$.apply(this,arguments)}function u$(){return u$=n(o().mark((function e(t){var n,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,a7.post("stickers/search",{search:t,page:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),Ky(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),u$.apply(this,arguments)}function c$(e,t,n){return l$.apply(this,arguments)}function l$(){return(l$=n(o().mark((function e(t,n,r){var a,i,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("stickers/"+t+"/send",{sticker_id:n,sticker_img:r});case 3:return a=e.sent,(i=a.data).errors?Ky(Object.values(i.errors)):i.update&&(eS(i.update.messages),ES(i.update.users),s=i.update.messages[0],WP(t,{lastTime:s.date_sent,lastMessage:s.message_id})),e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(0),u=e.t0.message,e.t0.response.data.message&&(u+="\n "+e.t0.response.data.message),Ky(u),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f$(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p$(e){return e=d$(d$({},{showText:!0}),e),a.createElement("div",{className:"bm-loading"},a.createElement("span",{className:"bm-loading-icon"},a.createElement("div",{className:"bm-wait-abit"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null))),e.showText&&a.createElement("span",{className:"bm-loading-text"},C7("Loading","Frontend Scripts","bp-better-messages")))}function h$(e,t,n){var r=this,o=(0,a.useRef)(null),i=(0,a.useRef)(0),s=(0,a.useRef)(null),u=(0,a.useRef)([]),c=(0,a.useRef)(),l=(0,a.useRef)(),f=(0,a.useRef)(e),d=(0,a.useRef)(!0);(0,a.useEffect)((function(){f.current=e}),[e]);var p=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,v="maxWait"in n,g=v?Math.max(+n.maxWait||0,t):null;(0,a.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var b=(0,a.useMemo)((function(){var e=function(e){var t=u.current,n=c.current;return u.current=c.current=null,i.current=e,l.current=f.current.apply(n,t)},n=function(e,t){p&&cancelAnimationFrame(s.current),s.current=p?requestAnimationFrame(e):setTimeout(e,t)},a=function(e){if(!d.current)return!1;var n=e-o.current;return!o.current||n>=t||n<0||v&&e-i.current>=g},b=function(t){return s.current=null,m&&u.current?e(t):(u.current=c.current=null,l.current)},y=function e(){var r=Date.now();if(a(r))return b(r);if(d.current){var s=t-(r-o.current),u=v?Math.min(s,g-(r-i.current)):s;n(e,u)}},D=function(){var f=Date.now(),p=a(f);if(u.current=[].slice.call(arguments),c.current=r,o.current=f,p){if(!s.current&&d.current)return i.current=o.current,n(y,t),h?e(o.current):l.current;if(v)return n(y,t),e(o.current)}return s.current||n(y,t),l.current};return D.cancel=function(){s.current&&(p?cancelAnimationFrame(s.current):clearTimeout(s.current)),i.current=0,u.current=o.current=c.current=s.current=null},D.isPending=function(){return!!s.current},D.flush=function(){return s.current?b(Date.now()):l.current},D}),[h,v,t,g,m,p]);return b}function m$(e,t){return e===t}function v$(e){return"function"==typeof e?function(){return e}:e}function g$(e,t,n){var r,o,i=n&&n.equalityFn||m$,s=(r=(0,a.useState)(v$(e)),o=r[1],[r[0],(0,a.useCallback)((function(e){return o(v$(e))}),[])]),u=s[0],c=s[1],l=h$((0,a.useCallback)((function(e){return c(e)}),[c]),t,n),f=(0,a.useRef)(e);return i(f.current,e)||(l(e),f.current=e),[u,l]}function b$(e,t){if(j$(e))for(let n=0;n<e.length&&!1!==t(e[n],n,e);n++);else e&&b$(Object.keys(e),(n=>t(e[n],n,e)));return e}function y$(e,t){const n=F$(t);if(T$(t)||n){let r=n?"":{};if(e){const o=window.getComputedStyle(e,null);r=n?zW(e,o,t):t.reduce(((t,n)=>(t[n]=zW(e,o,n),t)),r)}return r}e&&b$(V$(t),(n=>qW(e,n,t[n])))}const D$=(e,t)=>{const{o:n,u:r,_:o}=e;let a,i=n;const s=(e,t)=>{const n=i,s=e,u=t||(r?!r(n,s):n!==s);return(u||o)&&(i=s,a=n),[i,u,a]};return[t?e=>s(t(i,a),e):s,e=>[i,!!e,a]]},w$=()=>"undefined"!=typeof window,_$=w$()&&Node.ELEMENT_NODE,{toString:E$,hasOwnProperty:x$}=Object.prototype,k$=e=>void 0===e,C$=e=>null===e,S$=e=>"number"==typeof e,F$=e=>"string"==typeof e,O$=e=>"boolean"==typeof e,A$=e=>"function"==typeof e,T$=e=>Array.isArray(e),P$=e=>"object"==typeof e&&!T$(e)&&!C$(e),j$=e=>{const t=!!e&&e.length,n=S$(t)&&t>-1&&t%1==0;return!!(T$(e)||!A$(e)&&n)&&(!(t>0&&P$(e))||t-1 in e)},M$=e=>{if(!e||!P$(e)||"object"!==(e=>k$(e)||C$(e)?`${e}`:E$.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase())(e))return!1;let t;const n="constructor",r=e[n],o=r&&r.prototype,a=x$.call(e,n),i=o&&x$.call(o,"isPrototypeOf");if(r&&!a&&!i)return!1;for(t in e);return k$(t)||x$.call(e,t)},B$=e=>{const t=HTMLElement;return!!e&&(t?e instanceof t:e.nodeType===_$)},N$=e=>{const t=Element;return!!e&&(t?e instanceof t:e.nodeType===_$)},R$=(e,t,n)=>e.indexOf(t,n),I$=(e,t,n)=>(n||F$(t)||!j$(t)?e.push(t):Array.prototype.push.apply(e,t),e),L$=e=>{const t=Array.from,n=[];return t&&e?t(e):(e instanceof Set?e.forEach((e=>{I$(n,e)})):b$(e,(e=>{I$(n,e)})),n)},z$=e=>!!e&&0===e.length,q$=(e,t,n)=>{b$(e,(e=>e&&e.apply(void 0,t||[]))),!n&&(e.length=0)},U$=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),V$=e=>e?Object.keys(e):[],H$=(e,t,n,r,o,a,i)=>{const s=[t,n,r,o,a,i];return"object"==typeof e&&!C$(e)||A$(e)||(e={}),b$(s,(t=>{b$(V$(t),(n=>{const r=t[n];if(e===r)return!0;const o=T$(r);if(r&&(M$(r)||o)){const t=e[n];let a=t;o&&!T$(t)?a=[]:o||M$(t)||(a={}),e[n]=H$(a,r)}else e[n]=r}))})),e},$$=e=>{for(const t in e)return!1;return!0},W$=(e,t,n,r)=>{if(k$(r))return n?n[e]:t;n&&(F$(r)||S$(r))&&(n[e]=r)},K$=(e,t,n)=>{if(k$(n))return e?e.getAttribute(t):null;e&&e.setAttribute(t,n)},G$=(e,t,n,r)=>{if(n){const o=K$(e,t)||"",a=new Set(o.split(" "));a[r?"add":"delete"](n),K$(e,t,L$(a).join(" ").trim())}},Y$=(e,t)=>{e&&e.removeAttribute(t)},Z$=(e,t)=>W$("scrollLeft",0,e,t),X$=(e,t)=>W$("scrollTop",0,e,t),J$=w$()&&Element.prototype,Q$=(e,t)=>{const n=[],r=t?N$(t)?t:null:document;return r?I$(n,r.querySelectorAll(e)):n},eW=(e,t)=>{if(N$(e)){return(J$.matches||J$.msMatchesSelector).call(e,t)}return!1},tW=e=>e?L$(e.childNodes):[],nW=e=>e?e.parentElement:null,rW=(e,t)=>{if(N$(e)){const n=J$.closest;if(n)return n.call(e,t);do{if(eW(e,t))return e;e=nW(e)}while(e)}return null},oW=(e,t,n)=>{const r=e&&rW(e,t),o=e&&((e,t)=>{const n=t?N$(t)?t:null:document;return n?n.querySelector(e):null})(n,r),a=rW(o,t)===r;return!(!r||!o)&&(r===e||o===e||a&&rW(rW(e,n),t)!==r)},aW=(e,t,n)=>{if(n&&e){let r,o=t;j$(n)?(r=document.createDocumentFragment(),b$(n,(e=>{e===o&&(o=e.previousSibling),r.appendChild(e)}))):r=n,t&&(o?o!==t&&(o=o.nextSibling):o=e.firstChild),e.insertBefore(r,o||null)}},iW=(e,t)=>{aW(e,null,t)},sW=(e,t)=>{aW(nW(e),e&&e.nextSibling,t)},uW=e=>{if(j$(e))b$(L$(e),(e=>uW(e)));else if(e){const t=nW(e);t&&t.removeChild(e)}},cW=e=>{const t=document.createElement("div");return e&&K$(t,"class",e),t},lW=e=>{const t=cW();return t.innerHTML=e.trim(),b$(tW(t),(e=>uW(e)))},fW=e=>e.charAt(0).toUpperCase()+e.slice(1),dW=["-webkit-","-moz-","-o-","-ms-"],pW=["WebKit","Moz","O","MS","webkit","moz","o","ms"],hW={},mW={},vW=e=>{let t=mW[e];if(U$(mW,e))return t;const n=fW(e),r=cW().style;return b$(dW,(o=>{const a=o.replace(/-/g,""),i=[e,o+e,a+n,fW(a)+n];return!(t=i.find((e=>void 0!==r[e])))})),mW[e]=t||""},gW=e=>{if(w$()){let t=hW[e]||window[e];return U$(hW,e)||(b$(pW,(n=>(t=t||window[n+fW(e)],!t))),hW[e]=t),t}},bW=gW("MutationObserver"),yW=gW("IntersectionObserver"),DW=gW("ResizeObserver"),wW=gW("cancelAnimationFrame"),_W=gW("requestAnimationFrame"),EW=w$()&&window.setTimeout,xW=w$()&&window.clearTimeout,kW=(e,t,n,r)=>{if(e&&t){let o=!0;return b$(n,(n=>{(r?r(e[n]):e[n])!==(r?r(t[n]):t[n])&&(o=!1)})),o}return!1},CW=(e,t)=>kW(e,t,["w","h"]),SW=(e,t)=>kW(e,t,["x","y"]),FW=(e,t)=>kW(e,t,["t","r","b","l"]),OW=(e,t,n)=>kW(e,t,["width","height"],n&&(e=>Math.round(e))),AW=()=>{},TW=e=>{let t;const n=e?EW:_W,r=e?xW:wW;return[o=>{r(t),t=n(o,A$(e)?e():e)},()=>r(t)]},PW=(e,t)=>{let n,r,o,a=AW;const{g:i,v:s,p:u}=t||{},c=function(t){a(),xW(n),n=r=void 0,a=AW,e.apply(this,t)},l=e=>u&&r?u(r,e):e,f=()=>{a!==AW&&c(l(o)||o)},d=function(){const e=L$(arguments),t=A$(i)?i():i,u=S$(t)&&t>=0;if(u){const i=A$(s)?s():s,u=S$(i)&&i>=0,d=t>0?EW:_W,p=t>0?xW:wW,h=l(e)||e,m=c.bind(0,h);a();const v=d(m,t);a=()=>p(v),u&&!n&&(n=EW(f,i)),r=o=h}else c(e)};return d.m=f,d},{max:jW}=Math,MW=/[^\x20\t\r\n\f]+/g,BW=(e,t,n)=>{const r=e&&e.classList;let o,a=0,i=!1;if(r&&t&&F$(t)){const e=t.match(MW)||[];for(i=e.length>0;o=e[a++];)i=!!n(r,o)&&i}return i},NW=(e,t)=>{BW(e,t,((e,t)=>e.remove(t)))},RW=(e,t)=>(BW(e,t,((e,t)=>e.add(t))),NW.bind(0,e,t)),IW={opacity:1,zindex:1},LW=(e,t)=>{const n=t?parseFloat(e):parseInt(e,10);return n==n?n:0},zW=(e,t,n)=>null!=t?t[n]||t.getPropertyValue(n):e.style[n],qW=(e,t,n)=>{try{const{style:r}=e;k$(r[t])?r.setProperty(t,n):r[t]=((e,t)=>!IW[e.toLowerCase()]&&S$(t)?`${t}px`:t)(t,n)}catch($){}},UW=e=>"rtl"===y$(e,"direction"),VW=(e,t,n)=>{const r=t?`${t}-`:"",o=n?`-${n}`:"",a=`${r}top${o}`,i=`${r}right${o}`,s=`${r}bottom${o}`,u=`${r}left${o}`,c=y$(e,[a,i,s,u]);return{t:LW(c[a],!0),r:LW(c[i],!0),b:LW(c[s],!0),l:LW(c[u],!0)}},{round:HW}=Math,$W={w:0,h:0},WW=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:$W,KW=e=>e?{w:e.clientWidth,h:e.clientHeight}:$W,GW=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:$W,YW=e=>{const t=parseFloat(y$(e,"height"))||0,n=parseFloat(y$(e,"width"))||0;return{w:n-HW(n),h:t-HW(t)}},ZW=e=>e.getBoundingClientRect();let XW;const JW=e=>e.split(" "),QW=(e,t,n,r)=>{b$(JW(t),(t=>{e.removeEventListener(t,n,r)}))},eK=(e,t,n,r)=>{var o;const a=(()=>{if(k$(XW)){XW=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){XW=!0}}))}catch(e){}}return XW})(),i=null!=(o=a&&r&&r.S)?o:a,s=r&&r.$||!1,u=r&&r.C||!1,c=[],l=a?{passive:i,capture:s}:s;return b$(JW(t),(t=>{const r=u?o=>{e.removeEventListener(t,r,s),n&&n(o)}:n;I$(c,QW.bind(null,e,t,r,s)),e.addEventListener(t,r,l)})),q$.bind(0,c)},tK=e=>e.stopPropagation(),nK=e=>e.preventDefault(),rK={x:0,y:0},oK=e=>{const t=e?ZW(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:rK},aK=(e,t)=>{b$(T$(t)?t:[t],e)},iK=e=>{const t=new Map,n=(e,n)=>{if(e){const r=t.get(e);aK((e=>{r&&r[e?"delete":"clear"](e)}),n)}else t.forEach((e=>{e.clear()})),t.clear()},r=(e,o)=>{if(F$(e)){const r=t.get(e)||new Set;return t.set(e,r),aK((e=>{A$(e)&&r.add(e)}),o),n.bind(0,e,o)}O$(o)&&o&&n();const a=V$(e),i=[];return b$(a,(t=>{const n=e[t];n&&I$(i,r(t,n))})),q$.bind(0,i)};return r(e||{}),[r,n,(e,n)=>{const r=t.get(e);b$(L$(r),(e=>{n&&!z$(n)?e.apply(0,n):e()}))}]},sK=e=>JSON.stringify(e,((e,t)=>{if(A$(t))throw new Error;return t})),uK={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},cK=(e,t)=>{const n={};return b$(V$(t).concat(V$(e)),(r=>{const o=e[r],a=t[r];if(P$(o)&&P$(a))H$(n[r]={},cK(o,a)),$$(n[r])&&delete n[r];else if(U$(t,r)&&a!==o){let e=!0;if(T$(o)||T$(a))try{sK(o)===sK(a)&&(e=!1)}catch(fh){}e&&(n[r]=a)}})),n},lK="os-environment-flexbox-glue",fK=`${lK}-max`,dK="data-overlayscrollbars",pK="data-overlayscrollbars-initialize",hK="data-overlayscrollbars-overflow-x",mK="data-overlayscrollbars-overflow-y",vK="overflowVisible",gK="updating",bK="os-viewport",yK="os-viewport-arrange",DK="os-viewport-scrollbar-hidden",wK="os-overflow-visible",_K="os-size-observer-listener",EK="os-scrollbar-track",xK="os-scrollbar-handle",kK="os-scrollbar-transitionless",CK="os-scrollbar-interaction",SK="os-scrollbar-unusable",FK="os-scrollbar-auto-hidden",OK="os-scrollbar-wheel",AK={},TK=()=>AK,PK="__osSizeObserverPlugin";const{round:jK,abs:MK}=Math,BK="__osScrollbarsHidingPlugin";let NK;const RK=(e,t,n,r)=>{iW(e,t);const o=KW(t),a=WW(t),i=YW(n);return r&&uW(t),{x:a.h-o.h+i.h,y:a.w-o.w+i.w}},IK=(e,t)=>{const n="hidden";y$(e,{overflowX:n,overflowY:n,direction:"rtl"}),Z$(e,0);const r=oK(e),o=oK(t);Z$(e,-999);const a=oK(t);return{i:r.x===o.x,n:o.x!==a.x}},LK=(e,t)=>{const n=RW(e,lK),r=ZW(e),o=ZW(t),a=OW(o,r,!0),i=RW(e,fK),s=ZW(e),u=ZW(t),c=OW(u,s,!0);return n(),i(),a&&c},zK=()=>{const{body:e}=document,t=lW('<div class="os-environment"><div></div></div>')[0],n=t.firstChild,[r,,o]=iK(),[a,i]=D$({o:RK(e,t,n),u:SW},RK.bind(0,e,t,n,!0)),[s]=i(),u=(e=>{let t=!1;const r=RW(e,DK);try{t="none"===y$(e,vW("scrollbar-width"))||"none"===window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")}catch(n){}return r(),t})(t),c={x:0===s.x,y:0===s.y},l={elements:{host:null,padding:!u,viewport:e=>u&&e===e.ownerDocument.body&&e,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},f=H$({},uK),d=H$.bind(0,{},f),p=H$.bind(0,{},l),h={k:s,A:c,I:u,L:"-1"===y$(t,"zIndex"),B:IK(t,n),V:LK(t,n),Y:r.bind(0,"z"),j:r.bind(0,"r"),N:p,q:e=>H$(l,e)&&p(),F:d,G:e=>H$(f,e)&&d(),X:H$({},l),U:H$({},f)},m=window.addEventListener,v=PW((e=>o(e?"z":"r")),{g:33,v:99});if(Y$(t,"style"),uW(t),m("resize",v.bind(0,!1)),!(u||c.x&&c.y)){let e;m("resize",(()=>{const t=TK()[BK];e=e||t&&t.R(),e&&e(h,a,v.bind(0,!0))}))}return h},qK=()=>(NK||(NK=zK()),NK),UK=(e,t)=>A$(t)?t.apply(0,e):t,VK=(e,t,n,r)=>{const o=k$(r)?n:r;return UK(e,o)||t.apply(0,e)},HK=(e,t,n,r)=>{const o=k$(r)?n:r,a=UK(e,o);return!!a&&(B$(a)?a:t.apply(0,e))},$K=new WeakMap,WK=e=>$K.get(e),KK=(e,t)=>e?t.split(".").reduce(((e,t)=>e&&U$(e,t)?e[t]:void 0),e):void 0,GK=(e,t,n)=>r=>[KK(e,r),n||void 0!==KK(t,r)],YK=e=>{let t=e;return[()=>t,e=>{t=H$({},t,e)}]},ZK="tabindex",XK=cW.bind(0,""),JK=e=>{iW(nW(e),tW(e)),uW(e)},QK=e=>{const t=qK(),{N:n,I:r}=t,o=TK()[BK],a=o&&o.T,{elements:i}=n(),{host:s,padding:u,viewport:c,content:l}=i,f=B$(e),d=f?{}:e,{elements:p}=d,{host:h,padding:m,viewport:v,content:g}=p||{},b=f?e:d.target,y=eW(b,"textarea"),D=b.ownerDocument,w=D.documentElement,_=b===D.body,E=D.defaultView,x=VK.bind(0,[b]),k=HK.bind(0,[b]),C=UK.bind(0,[b]),S=x.bind(0,XK,c),F=k.bind(0,XK,l),O=S(v),A=O===b,T=A&&_,P=!A&&F(g),j=!A&&B$(O)&&O===P,M=j&&!!C(l),B=M?S():O,N=M?P:F(),R=T?w:j?B:O,I=y?x(XK,s,h):b,L=T?R:I,z=j?N:P,q=D.activeElement,U=!A&&E.top===E&&q===b,V={W:b,Z:L,J:R,K:!A&&k(XK,u,m),tt:z,nt:!A&&!r&&a&&a(t),ot:T?w:R,st:T?D:R,et:E,ct:D,rt:y,it:_,lt:f,ut:A,dt:j,ft:(e,t)=>A?((e,t,n)=>{const r=K$(e,t)||"";return new Set(r.split(" ")).has(n)})(R,dK,t):((e,t)=>BW(e,t,((e,t)=>e.contains(t))))(R,e),_t:(e,t,n)=>A?G$(R,dK,t,n):(n?RW:NW)(R,e)},H=V$(V).reduce(((e,t)=>{const n=V[t];return I$(e,!(!n||nW(n))&&n)}),[]),$=e=>e?R$(H,e)>-1:null,{W,Z:K,K:G,J:Y,tt:Z,nt:X}=V,J=[()=>{Y$(K,dK),Y$(K,pK),Y$(W,pK),_&&(Y$(w,dK),Y$(w,pK))}],Q=y&&$(K);let ee=y?W:tW([Z,Y,G,K,W].find((e=>!1===$(e))));const te=T?W:Z||Y;return[V,()=>{K$(K,dK,A?"viewport":"host");const e=RW(G,"os-padding"),t=RW(Y,!A&&bK),n=RW(Z,"os-content"),o=_&&!A?RW(nW(b),DK):AW;if(Q&&(sW(W,K),I$(J,(()=>{sW(K,W),uW(K)}))),iW(te,ee),iW(K,G),iW(G||K,!A&&Y),iW(Y,Z),I$(J,(()=>{o(),Y$(Y,hK),Y$(Y,mK),$(Z)&&JK(Z),$(Y)&&JK(Y),$(G)&&JK(G),e(),t(),n()})),r&&!A&&I$(J,NW.bind(0,Y,DK)),X&&(((e,t)=>{aW(nW(e),e,t)})(Y,X),I$(J,uW.bind(0,X))),U){const e=K$(Y,ZK);K$(Y,ZK,"-1"),Y.focus();const t=()=>e?K$(Y,ZK,e):Y$(Y,ZK),n=eK(D,"pointerdown keydown",(()=>{t(),n()}));I$(J,[t,n])}else q&&q.focus&&q.focus();ee=0},q$.bind(0,J)]},eG=(e,t)=>{const{tt:n}=e,[r]=t;return e=>{const{V:t}=qK(),{ht:o}=r(),{gt:a}=e,i=(n||!t)&&a;return i&&y$(n,{height:o?"":"100%"}),{vt:i,wt:i}}},tG=(e,t)=>{const[n,r]=t,{Z:o,K:a,J:i,ut:s}=e,[u,c]=D$({u:FW,o:VW()},VW.bind(0,o,"padding",""));return(e,t,o)=>{let[l,f]=c(o);const{I:d,V:p}=qK(),{bt:h}=n(),{vt:m,wt:v,yt:g}=e,[b,y]=t("paddingAbsolute");(m||f||!p&&v)&&([l,f]=u(o));const D=!s&&(y||g||f);if(D){const e=!b||!a&&!d,t=l.r+l.l,n=l.t+l.b,o={marginRight:e&&!h?-t:0,marginBottom:e?-n:0,marginLeft:e&&h?-t:0,top:e?-l.t:0,right:e?h?-l.r:"auto":0,left:e?h?"auto":-l.l:0,width:e?`calc(100% + ${t}px)`:""},s={paddingTop:e?l.t:0,paddingRight:e?l.r:0,paddingBottom:e?l.b:0,paddingLeft:e?l.l:0};y$(a||i,o),y$(i,s),r({K:l,St:!e,P:a?s:H$({},o,s)})}return{xt:D}}},{max:nG}=Math,rG=nG.bind(0,0),oG="visible",aG="hidden",iG={u:CW,o:{w:0,h:0}},sG={u:SW,o:{x:aG,y:aG}},uG=(e,t,n)=>n?RW(e,t):NW(e,t),cG=e=>0===e.indexOf(oG),lG=(e,t)=>{const[n,r]=t,{Z:o,K:a,J:i,nt:s,ut:u,_t:c,it:l,et:f}=e,{k:d,V:p,I:h,A:m}=qK(),v=TK()[BK],g=!u&&!h&&(m.x||m.y),b=l&&u,[y,D]=D$(iG,YW.bind(0,i)),[w,_]=D$(iG,GW.bind(0,i)),[E,x]=D$(iG),[k,C]=D$(iG),[S]=D$(sG),F=(e,t)=>{if(y$(i,{height:""}),t){const{St:t,K:r}=n(),{$t:a,M:s}=e,u=YW(o),c=KW(o),l="content-box"===y$(i,"boxSizing"),f=t||l?r.b+r.t:0,d=!(m.x&&l);y$(i,{height:c.h+u.h+(a.x&&d?s.x:0)-f})}},O=(e,t)=>{const n=h||e?0:42,r=(e,r,o)=>{const a=y$(i,e),s="scroll"===(t?t[e]:a);return[a,s,s&&!h?r?n:o:0,r&&!!n]},[o,a,s,u]=r("overflowX",m.x,d.x),[c,l,f,p]=r("overflowY",m.y,d.y);return{Ct:{x:o,y:c},$t:{x:a,y:l},M:{x:s,y:f},D:{x:u,y:p}}},A=(e,t,r,o)=>{const{M:a,D:i}=e,{x:s,y:u}=i,{x:c,y:l}=a,{P:f}=n(),d=t?"marginLeft":"marginRight",p=t?"paddingLeft":"paddingRight",h=f[d],m=f.marginBottom,v=f[p],g=f.paddingBottom;o.width=`calc(100% + ${l+-1*h}px)`,o[d]=-l+h,o.marginBottom=-c+m,r&&(o[p]=v+(u?l:0),o.paddingBottom=g+(s?c:0))},[T,P]=v?v.H(g,p,i,s,n,O,A):[()=>g,()=>[AW]];return(e,t,s)=>{const{vt:l,Ot:d,wt:v,xt:g,gt:j,yt:M}=e,{ht:B,bt:N}=n(),[R,I]=t("showNativeOverlaidScrollbars"),[L,z]=t("overflow"),q=R&&m.x&&m.y,U=!u&&!p&&(l||v||d||I||j),V=cG(L.x),H=cG(L.y),$=V||H;let W,K=D(s),G=_(s),Y=x(s),Z=C(s);if(I&&h&&c(DK,"scrollbarHidden",!q),U&&(W=O(q),F(W,B)),l||g||v||M||I){$&&c(wK,vK,!1);const[e,t]=P(q,N,W),[n,r]=K=y(s),[o,a]=G=w(s),u=KW(i);let l=o,d=u;e(),(a||r||I)&&t&&!q&&T(t,o,n,N)&&(d=KW(i),l=GW(i));const p={w:rG(nG(o.w,l.w)+n.w),h:rG(nG(o.h,l.h)+n.h)},h={w:rG((b?f.innerWidth:d.w+rG(u.w-o.w))+n.w),h:rG((b?f.innerHeight+n.h:d.h+rG(u.h-o.h))+n.h)};Z=k(h),Y=E(((e,t)=>{const n=window.devicePixelRatio%1!=0?1:0,r={w:rG(e.w-t.w),h:rG(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}})(p,h),s)}const[X,J]=Z,[Q,ee]=Y,[te,ne]=G,[re,oe]=K,ae={x:Q.w>0,y:Q.h>0},ie=V&&H&&(ae.x||ae.y)||V&&ae.x&&!ae.y||H&&ae.y&&!ae.x;if(g||M||oe||ne||J||ee||z||I||U){const e={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},t=((e,t,n,r)=>{const o=(e,t)=>{const n=cG(e),r=t&&n&&e.replace("visible-","")||"";return[t&&!n?e:"",cG(r)?"hidden":r]},[a,i]=o(n.x,t.x),[s,u]=o(n.y,t.y);return r.overflowX=i&&s?i:a,r.overflowY=u&&a?u:s,O(e,r)})(q,ae,L,e),n=T(t,te,re,N);u||A(t,N,n,e),U&&F(t,B),u?(K$(o,hK,e.overflowX),K$(o,mK,e.overflowY)):y$(i,e)}G$(o,dK,vK,ie),uG(a,wK,ie),!u&&uG(i,wK,$);const[se,ue]=S(O(q).Ct);return r({Ct:se,zt:{x:X.w,y:X.h},Tt:{x:Q.w,y:Q.h},Et:ae}),{It:ue,At:J,Lt:ee}}},fG=(e,t,n)=>{const r={},o=t||{};return b$(V$(e).concat(V$(o)),(t=>{const a=e[t],i=o[t];r[t]=!!(n||a||i)})),r},dG=(e,t,n,r)=>{let o=!1;const{Ht:a,Pt:i,Mt:s,Dt:u,Rt:c,kt:l}=r||{},f=PW((()=>{o&&n(!0)}),{g:33,v:99}),[d,p]=((e,t,n)=>{let r,o=!1;const a=a=>{if(n){const i=n.reduce(((t,n)=>{if(n){const[r,o]=n,i=o&&r&&(a?a(r):Q$(r,e));i&&i.length&&o&&F$(o)&&I$(t,[i,o.trim()],!0)}return t}),[]);b$(i,(n=>b$(n[0],(a=>{const i=n[1],s=r.get(a)||[];if(e.contains(a)){const e=eK(a,i,(n=>{o?(e(),r.delete(a)):t(n)}));r.set(a,I$(s,e))}else q$(s),r.delete(a)}))))}};return n&&(r=new WeakMap,a()),[()=>{o=!0},a]})(e,f,s),h=i||[],m=(a||[]).concat(h),v=(o,a)=>{const i=c||AW,s=l||AW,f=new Set,d=new Set;let m=!1,v=!1;if(b$(o,(n=>{const{attributeName:o,target:a,type:c,oldValue:l,addedNodes:p,removedNodes:g}=n,b="attributes"===c,y="childList"===c,D=e===a,w=b&&F$(o)?K$(a,o):0,_=0!==w&&l!==w,E=R$(h,o)>-1&&_;if(t&&(y||!D)){const t=!b,c=b&&_,d=c&&u&&eW(a,u),h=(d?!i(a,o,l,w):t||c)&&!s(n,!!d,e,r);b$(p,(e=>f.add(e))),b$(g,(e=>f.add(e))),v=v||h}!t&&D&&_&&!i(a,o,l,w)&&(d.add(o),m=m||E)})),f.size>0&&p((e=>L$(f).reduce(((t,n)=>(I$(t,Q$(e,n)),eW(n,e)?I$(t,n):t)),[]))),t)return!a&&v&&n(!1),[!1];if(d.size>0||m){const e=[L$(d),m];return!a&&n.apply(0,e),e}},g=new bW((e=>v(e)));return g.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:m,subtree:t,childList:t,characterData:t}),o=!0,[()=>{o&&(d(),g.disconnect(),o=!1)},()=>{if(o){f.m();const e=g.takeRecords();return!z$(e)&&v(e,!0)}}]},pG=3333333,hG=e=>e&&(e.height||e.width),mG=(e,t,n)=>{const{Bt:r=!1,Vt:o=!1}=n||{},a=TK()[PK],{B:i}=qK(),s=lW(`<div class="os-size-observer"><div class="${_K}"></div></div>`)[0],u=s.firstChild,c=UW.bind(0,e),[l]=D$({o:void 0,_:!0,u:(e,t)=>!(!e||!hG(e)&&hG(t))}),f=e=>{const n=T$(e)&&e.length>0&&P$(e[0]),o=!n&&O$(e[0]);let a=!1,u=!1,c=!0;if(n){const[t,,n]=l(e.pop().contentRect),r=hG(t),o=hG(n);a=!n||!r,u=!o&&r,c=!a}else o?[,c]=e:u=!0===e;if(r&&c){const t=o?e[0]:UW(s);Z$(s,t?i.n?-3333333:i.i?0:pG:pG),X$(s,pG)}a||t({vt:!o,Yt:o?e:void 0,Vt:!!u})},d=[];let p=!!o&&f;return[()=>{q$(d),uW(s)},()=>{if(DW){const e=new DW(f);e.observe(u),I$(d,(()=>{e.disconnect()}))}else if(a){const[e,t]=a.O(u,f,o);p=e,I$(d,t)}if(r){const[e]=D$({o:void 0},c);I$(d,eK(s,"scroll",(t=>{const n=e(),[r,o,a]=n;o&&(NW(u,"ltr rtl"),RW(u,r?"rtl":"ltr"),f([!!r,o,a])),tK(t)})))}p&&(RW(s,"os-size-observer-appear"),I$(d,eK(s,"animationstart",p,{C:!!DW}))),(DW||a)&&iW(e,s)}]},vG="[data-overlayscrollbars]",gG=["tabindex"],bG=["wrap","cols","rows"],yG=["id","class","style","open"],DG=(e,t,n)=>{let r,o,a;const{Z:i,J:s,tt:u,rt:c,ut:l,ft:f,_t:d}=e,{V:p}=qK(),[h]=D$({u:CW,o:{w:0,h:0}},(()=>{const e=f(wK,vK),t=f(yK,""),n=t&&Z$(s),r=t&&X$(s);d(wK,vK),d(yK,""),d("",gK,!0);const o=GW(u),a=GW(s),i=YW(s);return d(wK,vK,e),d(yK,"",t),d("",gK),Z$(s,n),X$(s,r),{w:a.w+o.w+i.w,h:a.h+o.h+i.h}})),m=c?bG:yG.concat(bG),v=PW(n,{g:()=>r,v:()=>o,p(e,t){const[n]=e,[r]=t;return[V$(n).concat(V$(r)).reduce(((e,t)=>(e[t]=n[t]||r[t],e)),{})]}}),g=e=>{b$(e||gG,(e=>{if(R$(gG,e)>-1){const t=K$(i,e);F$(t)?K$(s,e,t):Y$(s,e)}}))},b=(e,r)=>{const[o,a]=e,i={gt:a};return t({ht:o}),!r&&n(i),i},y=({vt:e,Yt:r,Vt:o})=>{const a=!e||o?n:v;let i=!1;if(r){const[e,n]=r;i=n,t({bt:e})}a({vt:e,yt:i})},D=(e,t)=>{const[,r]=h(),o={wt:r};return r&&!t&&(e?n:v)(o),o},w=(e,t,n)=>{const r={Ot:t};return t?!n&&v(r):l||g(e),r},[_,E,x]=u||!p?((e,t)=>{let n;const r=cW("os-trinsic-observer"),o=[],[a]=D$({o:!1}),i=(e,n)=>{if(e){const r=a((e=>0===e.h||e.isIntersecting||e.intersectionRatio>0)(e)),[,o]=r;if(o)return!n&&t(r),[r]}},s=(e,t)=>{if(e&&e.length>0)return i(e.pop(),t)};return[()=>{q$(o),uW(r)},()=>{if(yW)n=new yW((e=>s(e)),{root:e}),n.observe(r),I$(o,(()=>{n.disconnect()}));else{const e=()=>{const e=WW(r);i(e)},[t,n]=mG(r,e);I$(o,t),n(),e()}iW(e,r)},()=>{if(n)return s(n.takeRecords(),!0)}]})(i,b):[AW,AW,AW],[k,C]=l?[AW,AW]:mG(i,y,{Vt:!0,Bt:!0}),[S,F]=dG(i,!1,w,{Pt:yG,Ht:yG.concat(gG)}),O=l&&DW&&new DW(y.bind(0,{vt:!0}));return O&&O.observe(i),g(),[()=>{_(),k(),a&&a[0](),O&&O.disconnect(),S()},()=>{C(),E()},()=>{const e={},t=F(),n=x(),r=a&&a[1]();return t&&H$(e,w.apply(0,I$(t,!0))),n&&H$(e,b.apply(0,I$(n,!0))),r&&H$(e,D.apply(0,I$(r,!0))),e},e=>{const[t]=e("update.ignoreMutation"),[n,i]=e("update.attributes"),[c,f]=e("update.elementEvents"),[d,p]=e("update.debounce"),h=e=>A$(t)&&t(e);if((f||i)&&(a&&(a[1](),a[0]()),a=dG(u||s,!0,D,{Ht:m.concat(n||[]),Mt:c,Dt:vG,kt:(e,t)=>{const{target:n,attributeName:r}=e;return!(t||!r||l)&&oW(n,vG,".os-viewport")||!!rW(n,".os-scrollbar")||!!h(e)}})),p)if(v.m(),T$(d)){const e=d[0],t=d[1];r=S$(e)&&e,o=S$(t)&&t}else S$(d)?(r=d,o=!1):(r=!1,o=!1)}]},wG={x:0,y:0},_G=(e,t)=>{const n=GK(t,{}),[r,o,a]=iK(),[i,s,u]=QK(e),c=YK((e=>({K:{t:0,r:0,b:0,l:0},St:!1,P:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},zt:wG,Tt:wG,Ct:{x:"hidden",y:"hidden"},Et:{x:!1,y:!1},ht:!1,bt:UW(e.Z)}))(i)),[l,f]=c,d=((e,t)=>{const{W:n,J:r,_t:o,ut:a}=e,{I:i,A:s,V:u}=qK(),c=!i&&(s.x||s.y),l=[eG(e,t),tG(e,t),lG(e,t)];return(e,t,i)=>{const s=fG(H$({vt:!1,xt:!1,yt:!1,gt:!1,At:!1,Lt:!1,It:!1,Ot:!1,wt:!1},t),{},i),f=c||!u,d=f&&Z$(r),p=f&&X$(r);o("",gK,!0);let h=s;return b$(l,(t=>{h=fG(h,t(h,e,!!i)||{},i)})),Z$(r,d),X$(r,p),o("",gK),a||(Z$(n,0),X$(n,0)),h}})(i,c),p=(e,t,n)=>{const r=V$(e).some((t=>e[t])),o=r||!$$(t)||n;return o&&a("u",[e,t,n]),o},[h,m,v,g]=DG(i,f,(e=>p(d(n,e),{},!1))),b=l.bind(0);return b.jt=e=>r("u",e),b.Nt=()=>{const{W:e,J:t}=i,n=Z$(e),r=X$(e);m(),s(),Z$(t,n),X$(t,r)},b.qt=i,[(e,n)=>{const r=GK(t,e,n);return g(r),p(d(r,v(),n),e,!!n)},b,()=>{o(),h(),u()}]},{round:EG}=Math,xG=(e,t)=>eK(e,"mousedown",eK.bind(0,t,"click",tK,{C:!0,$:!0}),{$:!0}),kG=(e,t,n,r,o,a)=>{const{B:i}=qK(),{Ft:s,Gt:u,Xt:c}=n,l="scroll"+(a?"Left":"Top"),f="client"+(a?"X":"Y"),d=a?"width":"height",p=a?"left":"top",h=a?"w":"h",m=a?"x":"y",v=(e,t)=>n=>{const{Tt:f}=o(),d=WW(u)[h]-WW(s)[h],p=t*n/d*f[m],v=UW(c)&&a?i.n||i.i?1:-1:1;r[l]=e+p*v};return eK(u,"pointerdown",(n=>{const o=rW(n.target,".os-scrollbar-handle")===s,a=o?s:u;if(((e,t,n)=>{const r=t.scrollbars,{button:o,isPrimary:a,pointerType:i}=e,{pointers:s}=r;return 0===o&&a&&r[n?"dragScroll":"clickScroll"]&&(s||[]).includes(i)})(n,e,o)){const e=!o&&n.shiftKey,i=()=>ZW(s),c=()=>ZW(u),h=(e,t)=>(e||i())[p]-(t||c())[p],g=v(r[l]||0,1/(e=>{const{width:t,height:n}=ZW(e),{w:r,h:o}=WW(e);return{x:EG(t)/r||1,y:EG(n)/o||1}})(r)[m]),b=n[f],y=i(),D=c(),w=y[d],_=h(y,D)+w/2,E=b-D[p],x=o?0:E-_,k=[eK(t,"selectstart",(e=>nK(e)),{S:!1}),eK(u,"pointermove",(t=>{const n=t[f]-b;(o||e)&&g(x+n)}))];if(e)g(x);else if(!o){const e=TK().__osClickScrollPlugin;e&&I$(k,e.O(g,h,x,w,E))}eK(u,"pointerup",(e=>{q$(k),a.releasePointerCapture(e.pointerId)}),{C:!0}),a.setPointerCapture(n.pointerId)}}))},{min:CG,max:SG,abs:FG,round:OG}=Math,AG=(e,t,n,r)=>{if(r){const e=n?"x":"y",{Tt:t,zt:o}=r,a=o[e],i=t[e];return SG(0,CG(1,a/(a+i)))}const o=n?"w":"h",a=WW(e)[o],i=WW(t)[o];return SG(0,CG(1,a/i))},TG=(e,t,n)=>{const{N:r,L:o}=qK(),{scrollbars:a}=r(),{slot:i}=a,{ct:s,W:u,Z:c,J:l,lt:f,ot:d,it:p,ut:h}=t,{scrollbars:m}=f?{}:e,{slot:v}=m||{},g=HK([u,c,l],(()=>h&&p?u:c),i,v),b=(e,t,n)=>{const r=n?RW:NW;b$(e,(e=>{r(e.Xt,t)}))},y=(e,t)=>{b$(e,(e=>{const[n,r]=t(e);y$(n,r)}))},D=(e,t,n)=>{y(e,(e=>{const{Ft:r,Gt:o}=e;return[r,{[n?"width":"height"]:`${(100*AG(r,o,n,t)).toFixed(3)}%`}]}))},w=(e,t,n)=>{const r=n?"X":"Y";y(e,(e=>{const{Ft:o,Gt:a,Xt:i}=e,s=((e,t,n,r,o,a)=>{const{B:i}=qK(),s=a?"x":"y",u=a?"Left":"Top",{Tt:c}=r,l=OG(c[s]),f=FG(n[`scroll${u}`]),d=a&&o,p=i.i?f:l-f,h=CG(1,(d?p:f)/l),m=AG(e,t,a);return 1/m*(1-m)*h})(o,a,d,t,UW(i),n);return[o,{transform:s==s?`translate${r}(${(100*s).toFixed(3)}%)`:""}]}))},_=[],E=[],x=[],k=(e,t,n)=>{const r=O$(n),o=!r||!n;(!r||n)&&b(E,e,t),o&&b(x,e,t)},C=e=>{const t=e?"os-scrollbar-horizontal":"os-scrollbar-vertical",r=e?E:x,a=z$(r)?kK:"",i=cW(`os-scrollbar ${t} ${a}`),u=cW(EK),l=cW(xK),f={Xt:i,Gt:u,Ft:l};return o||RW(i,"os-no-css-vars"),iW(i,u),iW(u,l),I$(r,f),I$(_,[uW.bind(0,i),n(f,k,s,c,d,e)]),f},S=C.bind(0,!0),F=C.bind(0,!1);return S(),F(),[{Ut:e=>{D(E,e,!0),D(x,e)},Wt:e=>{w(E,e,!0),w(x,e)},Zt:k,Jt:{Kt:E,Qt:S,tn:y.bind(0,E)},nn:{Kt:x,Qt:F,tn:y.bind(0,x)}},()=>{iW(g,E[0].Xt),iW(g,x[0].Xt),EW((()=>{k(kK)}),300)},q$.bind(0,_)]},PG=(e,t,n,r)=>{let o,a,i,s,u,c=0;const l=YK({}),[f]=l,[d,p]=TW(),[h,m]=TW(),[v,g]=TW(100),[b,y]=TW(100),[D,w]=TW((()=>c)),[_,E,x]=TG(e,n.qt,((e,t)=>(n,r,o,a,i,s)=>{const{Xt:u}=n,[c,l]=TW(333),f=!!i.scrollBy;let d=!0;return q$.bind(0,[eK(u,"pointerenter",(()=>{r(CK,!0)})),eK(u,"pointerleave pointercancel",(()=>{r(CK)})),eK(u,"wheel",(e=>{const{deltaX:t,deltaY:n,deltaMode:o}=e;f&&d&&0===o&&nW(u)===a&&i.scrollBy({left:t,top:n,behavior:"smooth"}),d=!1,r(OK,!0),c((()=>{d=!0,r(OK)})),nK(e)}),{S:!1,$:!0}),xG(u,o),kG(e,o,n,i,t,s),l])})(t,n)),{Z:k,J:C,ot:S,st:F,ut:O,it:A}=n.qt,{Jt:T,nn:P,Zt:j,Ut:M,Wt:B}=_,{tn:N}=T,{tn:R}=P,I=e=>{const{Xt:t}=e,n=O&&!A&&nW(t)===C&&t;return[n,{transform:n?`translate(${Z$(S)}px, ${X$(S)}px)`:""}]},L=(e,t)=>{if(w(),e)j(FK);else{const e=()=>j(FK,!0);c>0&&!t?D(e):e()}},z=()=>{s=a,s&&L(!0)},q=[g,w,y,m,p,x,eK(k,"pointerover",z,{C:!0}),eK(k,"pointerenter",z),eK(k,"pointerleave",(()=>{s=!1,a&&L(!1)})),eK(k,"pointermove",(()=>{o&&d((()=>{g(),L(!0),b((()=>{o&&L(!1)}))}))})),eK(F,"scroll",(e=>{h((()=>{B(n()),i&&L(!0),v((()=>{i&&!s&&L(!1)}))})),r(e),O&&N(I),O&&R(I)}))],U=f.bind(0);return U.qt=_,U.Nt=E,[(e,r,s)=>{const{At:l,Lt:f,It:d,yt:p}=s,{A:h}=qK(),m=GK(t,e,r),v=n(),{Tt:g,Ct:b,bt:y}=v,[D,w]=m("showNativeOverlaidScrollbars"),[_,E]=m("scrollbars.theme"),[x,k]=m("scrollbars.visibility"),[C,S]=m("scrollbars.autoHide"),[F]=m("scrollbars.autoHideDelay"),[O,T]=m("scrollbars.dragScroll"),[P,N]=m("scrollbars.clickScroll"),R=l||f||p,I=d||k,z=D&&h.x&&h.y,q=(e,t)=>{const n="visible"===x||"auto"===x&&"scroll"===e;return j("os-scrollbar-visible",n,t),n};if(c=F,w&&j("os-theme-none",z),E&&(j(u),j(_,!0),u=_),S&&(o="move"===C,a="leave"===C,i="never"!==C,L(!i,!0)),T&&j("os-scrollbar-handle-interactive",O),N&&j("os-scrollbar-track-interactive",P),I){const e=q(b.x,!0),t=q(b.y,!1);j("os-scrollbar-cornerless",!(e&&t))}R&&(M(v),B(v),j(SK,!g.x,!0),j(SK,!g.y,!1),j("os-scrollbar-rtl",y&&!A))},U,q$.bind(0,q)]},jG=(e,t,n)=>{A$(e)&&e(t||void 0,n||void 0)},MG=(e,t,n)=>{const{F:r,N:o,Y:a,j:i}=qK(),s=TK(),u=B$(e),c=u?e:e.target,l=WK(c);if(t&&!l){let l=!1;const f=e=>{const t=TK().__osOptionsValidationPlugin,n=t&&t.O;return n?n(e,!0):e},d=H$({},r(),f(t)),[p,h,m]=iK(n),[v,g,b]=_G(e,d),[y,D,w]=PG(e,d,g,(e=>m("scroll",[S,e]))),_=(e,t)=>v(e,!!t),E=_.bind(0,{},!0),x=a(E),k=i(E),C=e=>{(e=>{$K.delete(e)})(c),x(),k(),w(),b(),l=!0,m("destroyed",[S,!!e]),h()},S={options(e,t){if(e){const n=t?r():{},o=cK(d,H$(n,f(e)));$$(o)||(H$(d,o),_(o))}return H$({},d)},on:p,off:(e,t)=>{e&&t&&h(e,t)},state(){const{zt:e,Tt:t,Ct:n,Et:r,K:o,St:a,bt:i}=g();return H$({},{overflowEdge:e,overflowAmount:t,overflowStyle:n,hasOverflow:r,padding:o,paddingAbsolute:a,directionRTL:i,destroyed:l})},elements(){const{W:e,Z:t,K:n,J:r,tt:o,ot:a,st:i}=g.qt,{Jt:s,nn:u}=D.qt,c=e=>{const{Ft:t,Gt:n,Xt:r}=e;return{scrollbar:r,track:n,handle:t}},l=e=>{const{Kt:t,Qt:n}=e,r=c(t[0]);return H$({},r,{clone:()=>{const e=c(n());return y({},!0,{}),e}})};return H$({},{target:e,host:t,padding:n||r,viewport:r,content:o||r,scrollOffsetElement:a,scrollEventElement:i,scrollbarHorizontal:l(s),scrollbarVertical:l(u)})},update:e=>_({},e),destroy:C.bind(0)};return g.jt(((e,t,n)=>{y(t,n,e)})),((e,t)=>{$K.set(e,t)})(c,S),b$(V$(s),(e=>jG(s[e],0,S))),((e,t,n)=>{const{nativeScrollbarsOverlaid:r,body:o}=n||{},{A:a,I:i}=qK(),{nativeScrollbarsOverlaid:s,body:u}=t,c=null!=r?r:s,l=k$(o)?u:o,f=(a.x||a.y)&&c,d=e&&(C$(l)?!i:l);return!!f||!!d})(g.qt.it,o().cancel,!u&&e.cancel)?(C(!0),S):(g.Nt(),D.Nt(),m("initialized",[S]),g.jt(((e,t,n)=>{const{vt:r,yt:o,gt:a,At:i,Lt:s,It:u,wt:c,Ot:l}=e;m("updated",[S,{updateHints:{sizeChanged:r,directionChanged:o,heightIntrinsicChanged:a,overflowEdgeChanged:i,overflowAmountChanged:s,overflowStyleChanged:u,contentMutation:c,hostMutation:l},changedOptions:t,force:n}])})),S.update(!0),S)}return l};MG.plugin=e=>{b$((e=>{const t=[];return b$(T$(e)?e:[e],(e=>{b$(V$(e),(n=>{I$(t,AK[n]=e[n])}))})),t})(e),(e=>jG(e,MG)))},MG.valid=e=>{const t=e&&e.elements,n=A$(t)&&t();return M$(n)&&!!WK(n.target)},MG.env=()=>{const{k:e,A:t,I:n,B:r,V:o,L:a,X:i,U:s,N:u,q:c,F:l,G:f}=qK();return H$({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:n,rtlScrollBehavior:r,flexboxGlue:o,cssCustomProperties:a,staticDefaultInitialization:i,staticDefaultOptions:s,getDefaultInitialization:u,setDefaultInitialization:c,getDefaultOptions:l,setDefaultOptions:f})};var BG=["children","className"];function NG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var RG=function(e){S(n,e);var t=NG(n);function n(e){var r;return u(this,n),p(F(r=t.call(this,e)),"_osTargetRef",void 0),p(F(r),"_osViewPort",void 0),p(F(r),"_osViewPortMain",void 0),p(F(r),"_osInstance",null),r._osTargetRef=a.createRef(),r._osViewPort=a.createRef(),r._osViewPortMain=a.createRef(),r}return d(n,[{key:"osInstance",value:function(){return this._osInstance||null}},{key:"osTarget",value:function(){return this._osTargetRef.current||null}},{key:"osViewPort",value:function(){return this._osViewPort.current||null}},{key:"osViewPortMain",value:function(){return this._osViewPortMain.current||null}},{key:"componentDidMount",value:function(){this._osInstance=MG(this.osTarget(),{scrollbars:{autoHide:Ho()?"scroll":"move",clickScroll:!1},overflow:{x:"hidden"},update:{elementEvents:[["img","load"],["video","loadeddata"],["video","loadedmetadata"],["video","canplay"]]}},this.props.events)}},{key:"componentWillUnmount",value:function(){MG.valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this.props;e.children,e.className,ft(e,BG);return a.createElement("div",{className:"os-host "+this.props.classes,ref:this._osTargetRef},a.createElement("div",{className:"os-size-observer os-size-observer-appear"},a.createElement("div",{className:"os-size-observer-listener"})),a.createElement("div",{className:"os-padding"},a.createElement("div",{className:"os-viewport",ref:this._osViewPort},this.props.children)),a.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal os-scrollbar-transitionless os-theme-dark os-scrollbar-handle-interactive os-scrollbar-cornerless"},a.createElement("div",{className:"os-scrollbar-track"},a.createElement("div",{className:"os-scrollbar-handle"}))),a.createElement("div",{className:"os-scrollbar os-scrollbar-vertical os-scrollbar-transitionless os-theme-dark os-scrollbar-handle-interactive os-scrollbar-cornerless"},a.createElement("div",{className:"os-scrollbar-track"},a.createElement("div",{className:"os-scrollbar-handle"}))))}}]),n}(a.Component);function IG(){var e=k((0,a.useState)(!1),2),t=e[0],n=e[1],r=(0,a.useContext)(gj).chatMain;return r?a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Send Sticker",'"Send Sticker" button tooltip',"bp-better-messages")},a.createElement("div",{className:"bm-stickers",onClick:function(){n(!t)}},a.createElement(iF,null))),(0,kE.createPortal)(a.createElement(MH,null,t&&a.createElement(zG,{close:function(){n(!1)}})),r)):null}var LG=new Map;function zG(e){var t=(0,a.useContext)(gj).threadId,n=k((0,a.useState)(!1),2),r=n[0],o=n[1],i=(0,a.useRef)(!1),s=k((0,a.useState)(!1),2),u=s[0],c=s[1],l=k((0,a.useState)([]),2),f=l[0],d=l[1],p=k((0,a.useState)([]),2),h=p[0],m=p[1],v=k((0,a.useState)("latest"),2),g=v[0],b=v[1],y=k((0,a.useState)(""),2),D=y[0],w=y[1],_=k((0,a.useState)(!1),2),E=_[0],x=_[1],C=k((0,a.useState)([]),2),S=C[0],F=C[1],O=(0,a.useRef)(0),A=(0,a.useRef)(0),T=k((0,a.useState)(),2),P=T[0],j=T[1],M=(0,a.useRef)(!1),B=k((0,a.useState)(!1),2),N=(B[0],B[1],k(g$(D,300),1)[0]),R=(0,a.useRef)();(0,a.useEffect)((function(){P&&P.addEventListener("scroll",(function(){I(P)}))}),[P]);var I=function(e){var t=e.scrollHeight-(e.scrollTop+e.clientHeight);if(!i.current&&!M.current&&t<=100){M.current=!0;var n=A.current+1;n<=O.current&&s$(R.current,n).then((function(e){M.current=!1,A.current=n,F((function(t){return[].concat(V(t),V(Object.entries(e.stickers)))}))}))}},L=(0,a.useRef)();(0,a.useEffect)((function(){(function(){return a$.apply(this,arguments)})().then((function(e){d(Object.entries(e.packs)),m(Object.entries(e.stickers)),LG.set("latest",Object.entries(e.stickers)),o(!0),c(!0)})).catch((function(){e.close()}))}),[]),(0,a.useEffect)((function(){LG.has(g)?m(LG.get(g)):"latest"!==g&&"search"!==g&&(c(!1),function(e){return i$.apply(this,arguments)}(Number(g)).then((function(e){m(Object.entries(e)),LG.set(g,Object.entries(e)),c(!0)})))}),[g]),(0,a.useEffect)((function(){""!==N&&(x(!1),R.current=N,s$(N).then((function(e){x(!0),O.current=e.pages,A.current=1,F(Object.entries(e.stickers))})))}),[N]);return a.createElement(vq.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-stickers-selector",role:"application"},!1===r&&a.createElement("div",{style:{margin:"10px 0"}},a.createElement(p$,null)),!1!==r&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bpbm-stickers-head"},a.createElement(RG,{classes:"bpbm-stickers-tabs",ref:L,events:{initialized:function(e){var t=e.elements().padding.querySelector(".os-padding"),n=t.querySelectorAll(".os-viewport > span"),r=0;Array.from(n).map((function(e){r+=e.getBoundingClientRect().width})),t.style.width=r+"px"}}},a.createElement(kC,{content:C7("Latest","Stickers selector","bp-better-messages")},a.createElement("span",{className:"latest"===g?"bpbm-stickers-tabs-active":"",onClick:function(){b("latest")}},a.createElement(mH,null))),a.createElement(kC,{content:C7("Search","Stickers selector","bp-better-messages")},a.createElement("span",{className:"search"===g?"bpbm-stickers-tabs-active":"",onClick:function(){b("search")}},a.createElement(vH,null))),f.map((function(e){var t=k(e,2),n=t[0],r=t[1];return a.createElement("span",{key:n,className:g===n?"bpbm-stickers-tabs-active":"",onClick:function(){b(n)}},a.createElement("img",{src:r.packageImg,alt:r.packageName}))}))),a.createElement(kC,{content:C7("Close","Stickers selector","bp-better-messages")},a.createElement("span",{className:"bpbm-stickers-close",onClick:e.close},a.createElement(pH,null)))),"search"===g&&a.createElement("span",{className:"bpbm-stickers-search"},a.createElement("input",{type:"text",name:"search",value:D,onChange:function(e){return w(e.target.value)},placeholder:C7("Search","Stickers selector - Search Input Placeholder","bp-better-messages")})),a.createElement(RG,{classes:"bpbm-stickers-selector-sticker-container",events:{initialized:function(e){j(e.elements().scrollEventElement)}}},"search"===g&&a.createElement(a.Fragment,null,a.createElement("span",{className:"bpbm-stickers-selector-sticker-list"},""===D&&a.createElement("span",{className:"bpbm-stickers-selector-empty"},C7("Search results will display here","Stickers selector","bp-better-messages")),""!==D&&a.createElement(a.Fragment,null,!E&&a.createElement(p$,{showText:!1}),E&&a.createElement(a.Fragment,null,0===S.length&&a.createElement("span",{className:"bpbm-stickers-selector-empty"},C7("No stickers found","Stickers selector","bp-better-messages")),S.length>0&&a.createElement(a.Fragment,null,S.map((function(n){var r=k(n,2),o=r[0],i=r[1];return a.createElement("span",{key:o,className:"bpbm-stickers-selector-sticker",onClick:function(){c$(t,o,i.stickerImg),e.close()}},a.createElement("img",{src:i.stickerImg,alt:""}))}))))))),"search"!==g&&a.createElement("span",{className:"bpbm-stickers-selector-sticker-list"},!u&&a.createElement(p$,{showText:!1}),u&&a.createElement(a.Fragment,null,0===h.length&&a.createElement(a.Fragment,null,"latest"===g&&a.createElement("span",{className:"bpbm-stickers-selector-empty"},C7("You have not used any stickers yet","Stickers selector","bp-better-messages")),"latest"!==g&&a.createElement("span",{className:"bpbm-stickers-selector-empty"},C7("No stickers found","Stickers selector","bp-better-messages"))),h.length>0&&a.createElement(a.Fragment,null,h.map((function(n){var r=k(n,2),o=r[0],i=r[1];return a.createElement("span",{key:o,className:"bpbm-stickers-selector-sticker",onClick:function(){c$(t,o,i.stickerImg),e.close()}},a.createElement("img",{src:i.stickerImg,alt:""}))}))))))))}var qG=__webpack_require__(83688),UG=__webpack_require__.n(qG);function VG(e){return KS({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM10.243 3.757c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM13 8c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM11.243 12.243c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM7 14c0 0 0 0 0 0 0-0.552 0.448-1 1-1s1 0.448 1 1c0 0 0 0 0 0 0 0.552-0.448 1-1 1s-1-0.448-1-1zM2.757 12.243c0 0 0 0 0 0 0-0.552 0.448-1 1-1s1 0.448 1 1c0 0 0 0 0 0 0 0.552-0.448 1-1 1s-1-0.448-1-1zM2.257 3.757c0 0 0 0 0 0 0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM0.875 8c0-0.621 0.504-1.125 1.125-1.125s1.125 0.504 1.125 1.125c0 0.621-0.504 1.125-1.125 1.125s-1.125-0.504-1.125-1.125z"}}]})(e)}function HG(e,t,n){return $G.apply(this,arguments)}function $G(){return($G=n(o().mark((function e(t,n,r){var a,i,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KH(r);case 2:if(""!==(a=e.sent).trim()){e.next=6;break}return Ky(C7("The message you were trying to send was empty","User tried to send empty message error","bp-better-messages"),3e3),e.abrupt("return",!1);case 6:return i="thread/"+t+"/save",s={message_id:n,message:a},e.prev=8,e.next=11,a7.post(i,s);case 11:return u=e.sent,c=u.data,WH(r),e.next=16,aM(c);case 16:return e.abrupt("return",!0);case 19:e.prev=19,e.t0=e.catch(8),Ky(e.t0.response.data.message);case 22:case"end":return e.stop()}}),e,null,[[8,19]])})))).apply(this,arguments)}function WG(){return KG.apply(this,arguments)}function KG(){return KG=n(o().mark((function e(){var t,n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,n=i.length>1&&void 0!==i[1]?i[1]:"",e.prev=2,r="gifs?page="+t,""!==n&&(r+="&search="+n),e.next=7,a7.get(r);case 7:return a=e.sent,e.abrupt("return",a.data);case 11:throw e.prev=11,e.t0=e.catch(2),Yy(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),KG.apply(this,arguments)}function GG(e,t){return YG.apply(this,arguments)}function YG(){return(YG=n(o().mark((function e(t,n){var r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("gifs/"+t+"/send",{gif_id:n});case 3:return r=e.sent,(a=r.data).errors?Ky(Object.values(a.errors)):a.update&&(eS(a.update.messages),ES(a.update.users),i=a.update.messages[0],WP(t,{lastTime:i.date_sent,lastMessage:i.message_id})),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),Yy(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ZG(){var e=k((0,a.useState)(!1),2),t=e[0],n=e[1],r=(0,a.useContext)(gj).chatMain;return r?a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Send GIF",'"Send GIF" button tooltip',"bp-better-messages")},a.createElement("span",{className:"bm-gif",onClick:function(){n(!t)}},a.createElement(AT,null))),(0,kE.createPortal)(a.createElement(MH,null,t&&a.createElement(JG,{close:function(){n(!1)}})),r)):null}var XG=new Map;function JG(e){var t=(0,a.useContext)(gj).threadId,r=k((0,a.useState)(!1),2),i=(r[0],r[1],k((0,a.useState)(!1),2)),s=i[0],u=i[1],c=(0,a.useRef)(!1),l=k((0,a.useState)(!1),2),f=l[0],d=l[1],p=k((0,a.useState)([]),2),h=p[0],m=p[1],v=(0,a.useRef)(1),g=k((0,a.useState)("trending"),2),b=g[0],y=g[1],D=k((0,a.useState)(""),2),w=D[0],_=D[1],E=k((0,a.useState)(!1),2),x=E[0],C=E[1],S=k((0,a.useState)([]),2);S[0],S[1];(0,a.useEffect)((function(){WG(v.current).then((function(e){m(e.gifs),XG.set("trending",e.gifs),u(!0),d(!0)})).catch((function(){e.close()}))}),[]),(0,a.useEffect)((function(){XG.has(b)?m(XG.get(b)):"trending"!==b&&"search"!==b&&d(!1)}),[b]);var F=k((0,a.useState)(),2),O=F[0],A=F[1],T=(0,a.useRef)(!1),P=k((0,a.useState)(!1),2);P[0],P[1];(0,a.useEffect)((function(){O&&O.addEventListener("scroll",(function(){j(O)}))}),[O]);var j=function(e){var t=e.scrollHeight-(e.scrollTop+e.clientHeight);!c.current&&!T.current&&t<=100&&N()},M=k(g$(w,300),1)[0],B=(0,a.useRef)(""),N=function(){var e=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.current){e.next=2;break}return e.abrupt("return");case 2:return T.current=!0,v.current++,e.next=6,WG(v.current,B.current);case 6:(t=e.sent).gifs.length<20&&(c.current=!0),m((function(e){return T.current=!1,[].concat(V(e),V(t.gifs))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){""!==M&&(C(!1),WG(1,M).then((function(e){m(e.gifs),d(!0),C(!0)}))),B.current=M}),[M]),a.createElement(vq.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-gifs-selector",role:"application"},!1===s&&a.createElement("div",{style:{margin:"10px 0"}},a.createElement(p$,null)),!1!==s&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bpbm-gifs-head"},a.createElement("div",{className:"bpbm-gifs-tabs"},a.createElement(kC,{content:C7("Trending","Gifs selector","bp-better-messages")},a.createElement("span",{className:"trending"===b?"bpbm-gifs-tabs-active":"",onClick:function(){y("trending")}},a.createElement(wT,{className:"bm-svg"}))),a.createElement("span",{"data-package-id":"search",className:"search"===b?"bpbm-gifs-tabs-active":"",onClick:function(){y("search")}},a.createElement("input",{type:"text",name:"search",value:w,onChange:function(e){return _(e.target.value)},placeholder:C7("Search","Gifs selector","bp-better-messages")}))),a.createElement(kC,{content:C7("Close","Gifs selector","bp-better-messages")},a.createElement("span",{className:"bpbm-gifs-close",onClick:e.close},a.createElement(pH,{className:"bm-svg"})))),a.createElement(RG,{classes:"bpbm-gifs-selector-gif-container",events:{initialized:function(e){A(e.elements().scrollEventElement)}}},"search"===b&&a.createElement(a.Fragment,null,a.createElement("span",{className:"bpbm-gifs-selector-gif-list "+(""===w||x&&0===h.length?"empty":"")},""===w&&a.createElement("span",{className:"bpbm-gifs-selector-empty"},C7("Search results will display here","Gifs selector","bp-better-messages")),""!==w&&a.createElement(a.Fragment,null,!x&&a.createElement("span",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto"}},a.createElement(p$,{showText:!1})),x&&a.createElement(a.Fragment,null,0===h.length&&a.createElement("span",{className:"bpbm-gifs-selector-empty"},C7("No gifs found","Gifs selector","bp-better-messages")),h.length>0&&a.createElement(a.Fragment,null,h.map((function(n){return a.createElement("span",{key:n.id,className:"bpbm-gifs-selector-gif",onClick:function(){GG(t,n.id),e.close()}},a.createElement("img",{src:n.url,alt:""}))}))))))),"search"!==b&&a.createElement("span",{className:"bpbm-gifs-selector-gif-list"},!f&&a.createElement(p$,{showText:!1}),f&&a.createElement(a.Fragment,null,0===h.length&&a.createElement(a.Fragment,null,"trending"===b&&a.createElement("span",{className:"bpbm-gifs-selector-empty"},C7("You have not used any gifs yet","Gifs selector","bp-better-messages")),"trending"!==b&&a.createElement("span",{className:"bpbm-gifs-selector-empty"},C7("No gifs found","Gifs selector","bp-better-messages"))),h.length>0&&a.createElement(a.Fragment,null,h.map((function(n){return a.createElement("span",{key:n.id,className:"bpbm-gifs-selector-gif",onClick:function(){GG(t,n.id),e.close()}},a.createElement("img",{src:n.url,alt:""}))}))))))))}__webpack_require__(85844),__webpack_require__(94986);function QG(e,t){return eY.apply(this,arguments)}function eY(){return eY=n(o().mark((function e(t,n){var r,a,i,s,u,c,l,f,d,p,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yH(t),r=bH(t),!(a=window.getSelection())){e.next=42;break}if(!a.rangeCount){e.next=42;break}return e.next=7,wS(n);case 7:if(i=e.sent){e.next=10;break}return e.abrupt("return");case 10:if(s=a.getRangeAt(0),u=s.commonAncestorContainer.nodeValue){e.next=14;break}return e.abrupt("return");case 14:c=s.startOffset,l=u.slice(0,c),f=l.lastIndexOf("@"),-1===(d=u.indexOf(" ",f))&&(d=0),u.slice(0,f),d>0&&u.slice(d),s.collapse(!0),(p=s.cloneRange()).selectNodeContents(r),p.setStart(s.commonAncestorContainer,f),d&&p.setEnd(s.commonAncestorContainer,d),p.deleteContents(),h="",i.avatar&&(h+='<img src="'+i.avatar+'" class="avatar avatar-16" width="16" height="16" alt="" />'),h+=i.name,(m=document.createElement("span")).className="bm-inline-mention",m.dataset.userId=String(i.user_id),m.contentEditable="false",m.innerHTML=h,m.onclick=function(e){Wo()&&(e.preventDefault(),e.stopImmediatePropagation(),wH(r))},p.insertNode(m),(v=document.createRange()).setStartAfter(m),a.removeAllRanges(),a.addRange(v);case 42:case"end":return e.stop()}}),e)}))),eY.apply(this,arguments)}const tY=function(e){var t=(0,a.useRef)([]),n=k((0,a.useState)(!0),2),r=n[0],o=n[1],i=e.args,s=i.editor,u=(i.mention,i.setMention),c=i.search,l=i.mentionIndex,f=i.setMentionIndex,d=i.mentionResults,p=Nk({placement:"top",open:r,onOpenChange:o,middleware:[HE(0),VE(),WE({padding:0})],whileElementsMounted:function(e,t,n){Cx(e,t,n,{})}}),h=p.x,m=p.y,v=p.reference,g=p.floating,b=p.strategy,y=p.context,D=Ik([Bk(y,{activeIndex:l,listRef:t})]),w=(D.getReferenceProps,D.getFloatingProps),_=D.getItemProps;return(0,a.useEffect)((function(){v(e.reference)}),[e.reference]),null===c?null:a.createElement(vq.div,cy({initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"}},w({className:"bm-mentions",ref:g,style:{position:b,top:null!=m?m:0,left:null!=h?h:0}})),d.map((function(e,n){return a.createElement(vq.div,cy({key:"mention_suggestion_"+e.user_id,ref:function(e){t.current[n]=e},onMouseDown:function(e){e.preventDefault()},onHoverStart:function(){f(n)},onClick:function(){QG(s,e.user_id),u(null)}},_,{className:"bm-mention"+(l===n?" bm-mention-active":"")}),a.createElement(zS,{user_id:e.user_id,size:20,link:!1}),a.createElement(hF,{user_id:e.user_id,link:!1}))})))};function nY(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rY(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function rY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oY(e){return aY.apply(this,arguments)}function aY(){return(aY=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Hk.decode)(t),e.next=3,iY(n);case 3:return n=e.sent,e.next=6,uY(n);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iY(e){return sY.apply(this,arguments)}function sY(){return sY=n(o().mark((function e(t){var n,r,a,i,s,u,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Set,r=nY(t.matchAll(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g));try{for(r.s();!(a=r.n()).done;)i=a.value,s=i[0],n.has(s)||(u=UA(s),"object"===(0,c.Z)(u)&&(l="width: 20px; height: 20px; background-image: url('"+AA+" '); vertical-align: middle; background-size: "+100*u.sheet.cols+"% "+100*u.sheet.rows+"%; background-position: "+100/(u.sheet.cols-1)*u.emoji.x+"% "+100/(u.sheet.rows-1)*u.emoji.y+"%",f='<img class="bm-inline-emoji" alt="'+s+'" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" style="'+l+'">',t=t.replace(new RegExp(s,"g"),f)),n.add(s))}catch(A9){r.e(A9)}finally{r.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),sY.apply(this,arguments)}function uY(e){return cY.apply(this,arguments)}function cY(){return(cY=n(o().mark((function e(t){var n,r,a,i,s,u,c,l,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if('<span class="bm-mention"',-1!==(n=t.indexOf('<span class="bm-mention"'))){e.next=6;break}return e.abrupt("return",t);case 6:if(-1!==(r=t.indexOf("</span>",n))){e.next=9;break}return e.abrupt("return",t);case 9:return a=t.slice(n,r+7),i='data-user-id="',s=a.indexOf(i),s+=i.length,u=a.indexOf('"',s),c=Number(a.slice(s,u)),">@",l=a.indexOf(">@"),l+=">@".length,f=a.indexOf("<",s),d=a.slice(l,f),p='<span class="bm-inline-mention" data-user-id="'+c+'" contenteditable="false">'+d+"</span>",t=t.replace(a,p),e.abrupt("return",uY(t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lY(e,t){var n=bH(e);n&&(n.innerHTML=t)}function fY(){var e=(0,a.useContext)(Dw),t=e.isMaximized,n=e.setIsMaximized;return a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Back",'"Back" Button Tooltip',"bp-better-messages")},a.createElement(DM,{to:"/",className:"back"},a.createElement(nT,null))),a.createElement("span",{id:"bm-new-thread-title"},C7("Bulk Messages","Bulk messaging screen","bp-better-messages")),w7.fullScreen&&a.createElement(a.Fragment,null,!t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))))}function dY(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pY(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function pY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hY=(0,a.createContext)(!1);function mY(){var e=(0,a.useRef)(),t=(0,a.useRef)(null),r=k((0,a.useState)(!0),2),i=(r[0],r[1]),s=k((0,a.useState)("all"),2),u=s[0],c=s[1],l=k((0,a.useState)(null),2),f=l[0],d=l[1],p=k((0,a.useState)(""),2),h=p[0],m=p[1],v=k((0,a.useState)(),2),g=v[0],b=v[1],y=k((0,a.useState)(),2),D=y[0],w=y[1],_=k((0,a.useState)(0),2),E=_[0],x=_[1],C=k((0,a.useState)(!1),2),S=C[0],F=C[1],O=(0,a.useRef)(!1);(0,a.useEffect)((function(){O.current=S}),[S]);var A=k((0,a.useState)(0),2),T=A[0],P=A[1];(0,a.useEffect)((function(){a7.get("bulkMessages").then((function(e){var t=e.data;d(t.reports),b(t.roles),w(t.groups),j()}))}),[]),(0,a.useEffect)((function(){j()}),[u]);var j=function(){var t=n(o().mark((function t(){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FormData(e.current),t.next=3,a7.post("bulkMessages/preview",{selectors:M(n)});case 3:r=t.sent,a=r.data,x(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(e){var t,n={},r=dY(e);try{for(r.s();!(t=r.n()).done;){var o=k(t.value,2),a=o[0],i=o[1];void 0!==n[a]?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(i)):n[a]=i}}catch(A9){r.e(A9)}finally{r.f()}return n},B=function(){var r=n(o().mark((function n(){var r,a,i,s,u,c,l,f;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FormData(e.current),a=M(r),i=[],n.prev=3,F(!0),n.next=7,KH(t);case 7:return s=n.sent,n.next=10,a7.post("bulkMessages/start",{selectors:a,message:s});case 10:u=n.sent,c=u.data,l=Math.ceil(c.total/20),f=1;case 14:if(!(f<l+1)){n.next=27;break}if(!O.current){n.next=23;break}return n.next=18,N(c.report_id,f);case 18:n.sent.map((function(e){return i.push(e)})),P(Math.ceil(f/l*100)),n.next=24;break;case 23:return n.abrupt("break",27);case 24:f++,n.next=14;break;case 27:n.next=32;break;case 29:n.prev=29,n.t0=n.catch(3),Yy(n.t0);case 32:return n.prev=32,F(!1),a.hideThread&&setTimeout((function(){J5.threads.find({selector:{thread_id:{$in:i}}}).remove().catch(zC),J5.messages.find({selector:{thread_id:{$in:i}}}).remove().catch(zC)}),1e3),a7.get("bulkMessages").then((function(e){var t=e.data;d(t.reports)})),n.finish(32);case 37:case"end":return n.stop()}}),n,null,[[3,29,32,37]])})));return function(){return r.apply(this,arguments)}}(),N=function(){var e=n(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("bulkMessages/send",{report_id:t,per_page:20,page:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=n(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a7.post("bulkMessages/changeReport",{report_id:t,property:n,value:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),L=function(){var e=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S7(C7("Are you sure you want to delete %s conversation(s) and report?","Bulk Messages Page","bp-better-messages"),n),!confirm(r)){e.next=5;break}return e.next=4,a7.post("bulkMessages/deleteReport",{report_id:t});case 4:d((function(e){return e.filter((function(e){return e.id!==t}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=k((0,a.useState)(!1),2),q=z[0],U=z[1],V=k((0,a.useState)(!1),2),H=V[0],$=V[1];return a.createElement(a.Fragment,null,a.createElement(hY.Provider,{value:!0},a.createElement("div",{className:"chat-header"},a.createElement(fY,null)),a.createElement(RG,{classes:"bulk-message"},a.createElement("div",{className:"bm-not-in-progress",style:{display:S?"none":"block"}},a.createElement("div",{className:"reports"},a.createElement("h3",null,C7("Reports","Bulk Messages Page","bp-better-messages")),null===f&&a.createElement(p$,null),null!==f&&0===f.length&&a.createElement("p",null,C7("No reports yet.","Bulk Messages Page","bp-better-messages")),null!==f&&f.length>0&&a.createElement("table",{className:"reports-list"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,C7("ID","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Subject","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Sender","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Sent","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Read","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Date","Bulk Messages Page","bp-better-messages")),a.createElement("th",null,C7("Disable Reply","Bulk Messages Page","bp-better-messages")),a.createElement("th",null))),a.createElement("tbody",null,f.map((function(e){return a.createElement("tr",{key:"report-"+e.id},a.createElement("td",null,e.id),a.createElement("td",null,e.subject),a.createElement("td",null,a.createElement(hF,{link:!1,user_id:e.sender})),a.createElement("td",null,e.count),a.createElement("td",null,e.read),a.createElement("td",null,e.date),a.createElement("td",null,a.createElement("input",{id:"report-disable-reply-"+e.id,className:"disableReply bpbm-checkbox",type:"checkbox",defaultChecked:e.disableReply,onChange:function(t){I(e.id,"disableReply",t.target.checked?"1":"0")}}),a.createElement("label",{htmlFor:"report-disable-reply-"+e.id})),a.createElement("td",null,a.createElement(kC,{content:C7("Delete","Bulk Messages Page","bp-better-messages")},a.createElement("span",{className:"delete",onClick:function(){L(e.id,e.count)}},a.createElement(OT,null)))))}))))),a.createElement("form",{ref:e},a.createElement("div",null,a.createElement("label",{className:"bm-bold"},C7("Send to","Bulk Messages Page","bp-better-messages")),a.createElement("div",{className:"box"},a.createElement("ul",{className:"send-to"},a.createElement("li",null,a.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-all",value:"all",checked:"all"===u,onChange:function(){c("all")}}),a.createElement("label",{htmlFor:"sent-to-all"},C7("All Users","Bulk Messages Page","bp-better-messages"))),g&&g.length>0&&a.createElement("li",null,a.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-role",value:"role",checked:"role"===u,onChange:function(){c("role")}}),a.createElement("label",{htmlFor:"sent-to-role"},C7("Users with Role","Bulk Messages Page","bp-better-messages")),"role"===u&&a.createElement("div",{className:"roles"},a.createElement("ul",{className:"rolesSelector"},g.map((function(e){return a.createElement("li",{key:"role-"+e.slug},a.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"roles",id:"role-"+e.slug,value:e.slug,onChange:function(){j()}}),a.createElement("label",{htmlFor:"role-"+e.slug},e.name))}))))),D&&D.length>0&&a.createElement("li",null,a.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-group",value:"group",checked:"group"===u,onChange:function(){c("group")}}),a.createElement("label",{htmlFor:"sent-to-group"},C7("Group","Bulk Messages Page","bp-better-messages")),"group"===u&&a.createElement("div",{className:"groups"},a.createElement("select",{name:"group",onChange:function(){j()},defaultValue:D[0].id},D.map((function(e,t){return a.createElement("option",{key:"group-"+e.id,value:e.id},e.name)})))))),a.createElement("p",{id:"users-selected"},C7("Users selected:","Bulk Messages Page","bp-better-messages")," ",a.createElement("b",null,E)))),a.createElement("div",null,a.createElement("label",{className:"bm-bold"},C7("Options","Bulk Messages Page","bp-better-messages")),a.createElement("div",{className:"box"},a.createElement("ul",{className:"options"},a.createElement("li",null,a.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"hideThread",id:"hideThread",value:"1",defaultChecked:!0}),a.createElement("label",{htmlFor:"hideThread"},C7("Hide this conversation from your conversation list","Bulk Messages Page","bp-better-messages")),a.createElement("p",null,C7("If you are messaging to many users better to hide new threads from your conversation list.","Bulk Messages Page","bp-better-messages"))),a.createElement("li",null,a.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"disableReply",id:"disableReply",value:"1",defaultChecked:!0}),a.createElement("label",{htmlFor:"disableReply"},C7("Disable replies to this message","Bulk Messages Page","bp-better-messages"))),a.createElement("li",null,a.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"useExistingThread",disabled:H,id:"sameThread",onChange:function(e){U(e.target.checked)},value:"1"}),a.createElement("label",{htmlFor:"sameThread"},C7("Do not create a new conversation if it already exists","Bulk Messages Page","bp-better-messages"))),a.createElement("li",null,a.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"singleThread",checked:H,id:"singleThread",value:"1",onChange:function(e){$(e.target.checked)},disabled:q}),a.createElement("label",{htmlFor:"singleThread"},C7("Add all recipients to one conversation","Bulk Messages Page","bp-better-messages")))))),w7.subjects&&a.createElement("div",null,a.createElement("label",{htmlFor:"subject-input",className:"bm-bold"},C7("Subject","Bulk Messages Page","bp-better-messages")),a.createElement("input",{onChange:function(e){m(e.target.value)},type:"text",tabIndex:3,name:"subject",className:"subject-input",id:"subject-input",autoComplete:"off",value:h}),a.createElement("span",{className:"clearfix"})),a.createElement("div",null,a.createElement("label",{htmlFor:"message-input",className:"bm-bold"},C7("Message","Bulk Messages Page","bp-better-messages")),a.createElement("div",null,a.createElement(yY,{ref:t,setEditorEmpty:i})),a.createElement("span",{className:"clearfix"})),a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),B()}},C7("Start Messaging","Bulk Messages Page","bp-better-messages")))),a.createElement("div",{className:"bm-in-progress",style:{display:S?"block":"none"}},a.createElement("div",{className:"progress"},a.createElement("div",{className:"progress-value",style:{width:T+"%"}}),a.createElement("span",{className:"progress-text"},T,"%")),a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),R()}},C7("Stop Messaging","Bulk Messages Page","bp-better-messages"))))))}new Map;var vY=a.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{setEditorEmpty:null,initialMessage:""},t=arguments.length>1?arguments[1]:void 0,n=(0,a.useContext)(gj),r=n.reply,o=n.threadId,i=n.thread,s=n.action,u=n.setAction,c=(0,a.useContext)(OY),l=c.sendMessage,f=c.saveMessage,d=(0,a.useContext)(hY),p=(0,a.useContext)(Dw),h=p.mobileView,m=(0,a.useState)(""),v=k(m,2),g=v[0],b=v[1],y=(0,a.useState)(),D=k(y,2),w=D[0],_=D[1],E=(0,a.useState)(null),x=k(E,2),C=x[0],S=x[1],F=(0,a.useState)([]),O=k(F,2),A=O[0],T=O[1],P=(0,a.useRef)();(0,a.useEffect)((function(){s&&("reply_message"!==s.action&&WH(t),"edit_message"===s.action&&oY(s.message.message).then((function(e){lY(t,e)})),h||yH(t))}),[s]),(0,a.useEffect)((function(){w&&i?J5.users.find({selector:{user_id:{$in:i.participants},name:{$regex:new RegExp(".*"+g+".*","i")}}}).exec().then((function(e){var t=[];e.length>0&&(e.map((function(e){e.user_id!==w7.user_id&&t.push({user_id:e.user_id,label:e.name})})),T(t)),a7.post("thread/"+i.thread_id+"/mentionsSuggestions",{search:g.toLowerCase()}).then((function(e){var n=e.data;if(n.length>0){var r=!1;n.map((function(e){0===t.filter((function(t){return""===g||t.user_id===e.user_id})).length&&(t.push(e),r=!0)})),r&&T(t)}}))})):b(null)}),[w,g]);var j=function(){},M=function(){try{var e=window.getSelection(),t=e.anchorOffset,n=e.anchorNode.textContent,r=n.slice(0,t),o=n.slice(t),a=r.split(" "),i=o.split(" "),s=a.pop()+i.shift();if(s.startsWith("@")){var u=s.slice(1);u.length>0?(b(u),_(e.getRangeAt(0))):(b(null),_(null))}else _(null),b(null)}catch(c){}},B=(0,a.useRef)(!1),N=function(){try{if(B.current)return;B.current=!0;var n=bH(t);if(n){var r=""!==n.innerText.trim(),o=n.innerHTML.includes("<img")||n.innerHTML.includes("<span");e.setEditorEmpty(!r&&!o)}else e.setEditorEmpty(!0)}finally{B.current=!1}},R=(0,a.useState)(!1),I=k(R,2),L=I[0],z=I[1];(0,a.useEffect)((function(){return document.addEventListener("mouseup",q),document.addEventListener("keyup",q),function(){document.removeEventListener("mouseup",q),document.removeEventListener("keyup",q)}}),[]);var q=function(){var e=_H(t);z(e)};return a.createElement("div",{ref:t,className:"bm-editor"},r&&(0,kE.createPortal)(a.createElement(tY,{reference:r,args:{editor:t,mention:w,setMention:_,search:g,setSearch:b,mentionIndex:C,setMentionIndex:S,mentionResults:A,setMentionResults:T}}),r),a.createElement(gY,{initialMessage:e.initialMessage,onSelection:function(){q()},onChange:function(){d||setTimeout((function(){N(),M()}),33)},onKeyDown:function(e){if(!d)if(setTimeout((function(){N(),M()}),33),w)switch(e.key){case"ArrowDown":e.preventDefault();var n=C>=A.length-1?0:C+1;S(n);break;case"ArrowUp":e.preventDefault();var r=C<=0?A.length-1:C-1;S(r);break;case"Tab":case"Enter":e.preventDefault(),QG(t,A[C].user_id),_(null);break;case"Escape":e.preventDefault(),_(null)}else(h&&w7.touchEnter||!h&&!w7.disableEnter)&&!e.shiftKey&&13==e.keyCode?(e.preventDefault(),s&&"edit_message"===s.action?f(o,s.message.id,t):l(o,t)):27==e.keyCode&&s?u(!1):j()}}),L&&(0,kE.createPortal)(a.createElement("div",{className:"bm-editor-format-tooltip",ref:P,style:{opacity:1,top:"".concat(L.top+window.pageYOffset-35,"px"),left:"".concat(L.left+window.pageXOffset-70+L.width/2,"px")}},a.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("bold")}},a.createElement(NT,null)),a.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("italic")}},a.createElement(UT,null)),a.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("underline")}},a.createElement($T,null)),a.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("strikeThrough")}},a.createElement(HT,null))),document.body))})),gY=a.memo(bY);function bY(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onKeyDown:null,onChange:null,onSelection:null,initialMessage:""},t=(0,a.useRef)();return(0,a.useEffect)((function(){t.current.addEventListener("better-messages-changed",e.onChange)}),[t]),(0,a.useEffect)((function(){e.initialMessage&&""!==e.initialMessage.trim()&&""===t.current.innerHTML.trim()&&queueMicrotask((function(){t.current.innerHTML=e.initialMessage}))}),[e.initialMessage]),a.createElement("div",{ref:t,className:"bm-editor-content notranslate wp-exclude-emoji",placeholder:C7("Write your message","Reply area placeholder","bp-better-messages"),contentEditable:!0,suppressContentEditableWarning:!0,onMouseUp:e.onSelection,onKeyUp:e.onSelection,onChange:e.onChange,onInput:e.onChange,onKeyDown:e.onKeyDown,onClick:function(e){if(Wo()){var n=Array.from(e.target.childNodes);if(n.length>0)"bm-inline-mention"===n.pop().className&&(e.preventDefault(),wH(t.current))}},onPaste:function(t){t.preventDefault(),e.onChange();var n=t.clipboardData?(t.originalEvent||t).clipboardData.getData("text/plain"):window.clipboardData?window.clipboardData.getData("Text"):"",r=document.getSelection().getRangeAt(0);r.deleteContents(),n.split("\n").reverse().map((function(e){r.insertNode(document.createElement("br")),r.insertNode(document.createTextNode(e))})),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),t.clipboardData.files.length>0&&Array.from(t.clipboardData.files).map((function(e){var n={type:e.type,data:e};void 0!==e.name&&"undefined"!==e.name?n.name=e.name:n.name="",t.target.closest(".bm-reply").dispatchEvent(new CustomEvent("better-message-editor-paste-file",{detail:{file:n}}))}))}})}const yY=vY;var DY=__webpack_require__(75240),wY=__webpack_require__.n(DY),_Y=__webpack_require__(87664),EY=__webpack_require__.n(_Y);function xY(e){return kY.apply(this,arguments)}function kY(){return kY=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Promise((function(e,r){a7.post("thread/"+t+"/restore").then(function(){var r=n(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m7(t,!1),e(!0);case 2:case"end":return n.stop()}}),n)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){r(e.response.data.message)}))})),$y.promise(r,{pending:{render:function(){return C7("Restoring conversation","Thread restoring","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-thread"},a.createElement("p",null,C7("Conversation restored","Thread restoring","bp-better-messages")))},autoClose:5e3,theme:"colored",type:"success"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:3e4,theme:"colored",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)}))),kY.apply(this,arguments)}function CY(e){var t=e.thread,n=[];if(EY()(t.permissions.canReplyMsg)>0&&wY()(t.permissions.canReplyMsg,(function(e,r){n.push(a.createElement("div",{key:"cant_reply_"+r},Gb(e),"thread_archived"===r&&a.createElement("div",{style:{marginTop:5}},a.createElement("button",{onClick:function(e){e.preventDefault(),xY(t.thread_id)}},x7("Recover","bp-better-messages")))))})),n.length>0)return a.createElement("div",{className:"bm-reply-restricted"},n)}function SY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SY(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OY=a.createContext({uploader:null,reply:null,sendMessage:null,saveMessage:null}),AY=(0,a.forwardRef)((function(e,t){e=FY(FY({},{placeholder:!1,initialMessage:"",subject:null,recipients:[]}),e);var r=(0,a.useContext)(gj),i=r.insideRouter,s=(r.screen,r.thread),u=r.threadId,c=r.action,l=r.setAction,f=r.chatMain,d=(0,a.useContext)(MZ).chatId,p=(0,a.useRef)(null),h=(0,a.useRef)(null),m=k((0,a.useState)(!1),2),v=m[0],g=m[1],b=k((0,a.useState)(!1),2),y=b[0],D=b[1],w=k((0,a.useState)(!0),2),_=w[0],E=w[1],x=k((0,a.useState)(!1),2),C=x[0],S=x[1],F=k((0,a.useState)(!1),2),O=F[0],A=F[1],T=k((0,a.useState)(0),2),P=T[0],j=T[1],M=(0,a.useRef)(),B=(0,a.useRef)();(0,a.useEffect)((function(){O?(j(0),M.current=window.setInterval((function(){j((function(e){return e+1}))}),1e3)):clearInterval(M.current)}),[O]);var N=function(){B.current.stream.getTracks().forEach((function(e){e.stop()})),A(!1)},R="function"==typeof window.BMrecordVoiceMessage&&u>0&&!w7.disableVoiceMessages,I=w7.attachments;s&&(s.permissions&&!s.permissions.canUpload&&(I=!1),I&&"chat-room"===s.type&&!s.chatRoom.enableFiles&&(I=!1)),(0,a.useEffect)((function(){t.current.addEventListener("better-message-editor-paste-file",(function(e){h.current&&h.current.addFile(e.detail.file)}))}),[]),(0,a.useEffect)((function(){WH(p),O&&N()}),[u]);var L,z=(0,a.useRef)(null),q=(0,a.useRef)(null);z.current=e.subject,q.current=e.recipients,i&&(L=rw()),null===u&&(u=0);var U=function(){var e=n(o().mark((function e(){var t,n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!!h.current&&h.current.getFilesCount()>0,r={},0!==u){e.next=22;break}return n&&D(!0),e.next=6,r$(u,p,null,n,q.current,z.current);case 6:if(!(a=e.sent)){e.next=20;break}if(!(t=a.message_id)||!h.current){e.next=12;break}return e.next=12,h.current.uploadFiles(a.thread_id,t);case 12:if(n&&D(!1),!i){e.next=17;break}L("/conversation/"+a.thread_id),e.next=20;break;case 17:if(UG()(d)){e.next=20;break}return e.next=20,J5.mini_chats.findOne(d).update({$set:{thread_id:a.thread_id}}).catch(zC);case 20:e.next=41;break;case 22:return c&&"reply_message"===c.action&&(r.reply_to=c.message.message_id),n&&D(!0),e.next=26,r$(u,p,r,n,[],"");case 26:if(!(s=e.sent)){e.next=40;break}if(!(t=s.message_id)||!h.current){e.next=32;break}return e.next=32,h.current.uploadFiles(u,t);case 32:if(n&&D(!1),!i){e.next=37;break}L("/conversation/"+u),e.next=40;break;case 37:if(UG()(d)){e.next=40;break}return e.next=40,J5.mini_chats.findOne(d).update({$set:{thread_id:u}}).catch(zC);case 40:c&&l(!1);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return",!1);case 2:return D(!0),e.next=5,HG(u,c.message.message_id,p);case 5:D(!1),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){if(c&&"edit_message"===c.action?g(!0):g(!1),h.current)if(c){if("edit_message"===c.action){var e=c.message;e.meta.files&&e.meta.files.map((function(e){Oo().get(e.url,{responseType:"blob"}).then((function(t){h.current.uppy.addFile({id:e.id,data:new File([t.data],e.name),name:e.name,type:e.mimeType})}))}))}}else h.current.uppy.reset()}),[c]);var H,$,W,K,G=O7("better_messages_send_button_after","",s);return a.createElement(OY.Provider,{value:{reply:t.current,uploader:h.current,sendMessage:U,saveMessage:V}},a.createElement(MH,null,c&&"edit_message"===c.action&&a.createElement(vq.div,{style:{zIndex:0},initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-preview-message bpbm-edit-message"},a.createElement("div",{className:"bpbm-preview-message-cancel",onClick:function(){l(!1)}},a.createElement(fT,{className:"bm-svg"})),a.createElement("div",{className:"bpbm-preview-message-content"},a.createElement("span",{className:"bpbm-preview-message-name"},C7("Edit message","Edit message panel","bp-better-messages")),a.createElement("div",{className:"bpbm-preview-message-text"},GT(c.message))))),a.createElement(MH,null,c&&"reply_message"===c.action&&a.createElement(vq.div,{style:{zIndex:0},initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-preview-message bpbm-reply-message"},a.createElement("div",{className:"bpbm-preview-message-cancel",onClick:function(){l(!1)}},a.createElement(fT,{className:"bm-svg"})),a.createElement("div",{className:"bpbm-preview-message-content"},a.createElement("span",{className:"bpbm-preview-message-name"},C7("Reply to message","Reply message panel","bp-better-messages")),a.createElement("div",{className:"bpbm-preview-message-text"},GT(c.message))))),a.createElement("div",{ref:t,className:"bm-reply"+(I?" bm-attachments":""),style:{visibility:s||e.placeholder?"visible":"hidden"}},(s||e.placeholder)&&a.createElement(a.Fragment,null,(e.placeholder||s.permissions&&s.permissions.canReply)&&a.createElement(a.Fragment,null,I&&a.createElement($H,{ref:h,sendMessage:U,chatMain:f,setHasFiles:S}),a.createElement(yY,{ref:p,setEditorEmpty:E,initialMessage:e.initialMessage}),O&&a.createElement("span",{className:"bpbm-record-voice"},a.createElement("span",{className:"bpbm-record-voice-delete",onClick:function(){N()}},a.createElement(fT,{className:"bm-svg"})),a.createElement("span",{className:"bpbm-record-voice-time"},(H=1e3*P,$=Math.floor(H/1e3%60),W=Math.floor(H/6e4%60),K=Math.floor(H/36e5%24),W=W<10?"0"+W:W,$=$<10?"0"+$:$,"00"!==(K=K<10?"0"+K:K)?K+":"+W+":"+$:W+":"+$)),a.createElement("span",{className:"bpbm-record-voice-send",onClick:function(){B.current.stream.getTracks().forEach((function(e){e.stop()})),B.current.stopRecording().then(function(){var e=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),(n=new FormData).append("data",t),c&&"reply_message"===c.action&&((r={}).reply_to=c.message.message_id,n.append("meta",JSON.stringify(r))),e.next=6,a7.post("thread/"+u+"/sendVoice",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:c&&l(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},a.createElement(lT,{className:"bm-svg"}))),!O&&a.createElement(a.Fragment,null,w7.gifs&&a.createElement(ZG,null),w7.stickers&&a.createElement(IG,null),!_7&&a.createElement(CH,{editor:p}),!v&&a.createElement(a.Fragment,null,!1===y&&a.createElement(a.Fragment,null,R&&_&&!C&&a.createElement(kC,{content:x7("Record Voice Message","bp-better-messages")},a.createElement("div",{tabIndex:0,className:"bm-send-message",onClick:function(){window.BMrecordVoiceMessage().then((function(e){B.current=e,A(!0)})).catch((function(e){Ky(e)}))}},a.createElement(KT,null))),(!R||!_||C)&&a.createElement(kC,{content:x7("Send Message","bp-better-messages")},a.createElement("div",{tabIndex:0,className:"bm-send-message",onMouseDown:function(e){e.preventDefault()},onClick:function(){U()},onKeyDown:function(e){"Enter"===e.code&&U()}},a.createElement(ZA,null)))),y&&a.createElement("div",{className:"bm-send-message"},a.createElement(VG,{className:"bm-spin-animation"}))),v&&a.createElement(kC,{content:C7("Save Message",'"Edit message" button tooltip',"bp-better-messages")},a.createElement(a.Fragment,null,!y&&a.createElement("div",{className:"bm-send-message",onMouseDown:function(e){e.preventDefault()},onClick:function(){V()}},a.createElement(GA,null)),y&&a.createElement("div",{className:"bm-send-message"},a.createElement(VG,{className:"bm-spin-animation"})))),Gb(G))),!e.placeholder&&s.permissions&&!s.permissions.canReply&&a.createElement(a.Fragment,null,a.createElement(CY,{thread:s})))))}));var TY=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function PY(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||TY(r)&&TY(o)))return!1;var r,o;return!0}for(var jY={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},MY=function(e){return KU("span",cy({css:jY},e))},BY={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,o=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,o=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,o=e.label,a=void 0===o?"":o,i=e.selectValue,s=e.isDisabled,u=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&i)return"value ".concat(a," focused, ").concat(c(i,n),".");if("menu"===t){var l=s?" disabled":"",f="".concat(u?"selected":"focused").concat(l);return"option ".concat(a," ").concat(f,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},NY=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,i=e.isFocused,s=e.selectValue,u=e.selectProps,c=e.id,l=u.ariaLiveMessages,f=u.getOptionLabel,d=u.inputValue,p=u.isMulti,h=u.isOptionDisabled,m=u.isSearchable,v=u.menuIsOpen,g=u.options,b=u.screenReaderStatus,y=u.tabSelectsValue,D=u["aria-label"],w=u["aria-live"],_=(0,a.useMemo)((function(){return bq(bq({},BY),l||{})}),[l]),E=(0,a.useMemo)((function(){var e,n="";if(t&&_.onChange){var r=t.option,o=t.options,a=t.removedValue,i=t.removedValues,u=t.value,c=a||r||(e=u,Array.isArray(e)?null:e),l=c?f(c):"",d=o||i||void 0,p=d?d.map(f):[],m=bq({isDisabled:c&&h(c,s),label:l,labels:p},t);n=_.onChange(m)}return n}),[t,_,h,s,f]),x=(0,a.useMemo)((function(){var e="",t=n||r,a=!!(n&&s&&s.includes(n));if(t&&_.onFocus){var i={focused:t,label:f(t),isDisabled:h(t,s),isSelected:a,options:o,context:t===n?"menu":"value",selectValue:s};e=_.onFocus(i)}return e}),[n,r,f,h,_,o,s]),k=(0,a.useMemo)((function(){var e="";if(v&&g.length&&_.onFilter){var t=b({count:o.length});e=_.onFilter({inputValue:d,resultsMessage:t})}return e}),[o,d,v,_,g,b]),C=(0,a.useMemo)((function(){var e="";if(_.guidance){var t=r?"value":v?"menu":"input";e=_.guidance({"aria-label":D,context:t,isDisabled:n&&h(n,s),isMulti:p,isSearchable:m,tabSelectsValue:y})}return e}),[D,n,r,p,h,m,v,_,s,y]),S="".concat(x," ").concat(k," ").concat(C),F=KU(a.Fragment,null,KU("span",{id:"aria-selection"},E),KU("span",{id:"aria-context"},S)),O="initial-input-focus"===(null==t?void 0:t.action);return KU(a.Fragment,null,KU(MY,{id:c},O&&F),KU(MY,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},i&&!O&&F))},RY=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],IY=new RegExp("["+RY.map((function(e){return e.letters})).join("")+"]","g"),LY={},zY=0;zY<RY.length;zY++)for(var qY=RY[zY],UY=0;UY<qY.letters.length;UY++)LY[qY.letters[UY]]=qY.base;var VY=function(e){return e.replace(IY,(function(e){return LY[e]}))},HY=function(e,t){void 0===t&&(t=PY);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}(VY),$Y=function(e){return e.replace(/^\s+|\s+$/g,"")},WY=function(e){return"".concat(e.label," ").concat(e.value)},KY=["innerRef"];function GY(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object.entries(e).filter((function(e){var t=k(e,1)[0];return!n.includes(t)}));return o.reduce((function(e,t){var n=k(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}(ft(e,KY),"onExited","in","enter","exit","appear");return KU("input",cy({ref:t},n,{css:GU({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var YY=["boxSizing","height","overflow","paddingRight","position"],ZY={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function XY(e){e.preventDefault()}function JY(e){e.stopPropagation()}function QY(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function eZ(){return"ontouchstart"in window||navigator.maxTouchPoints}var tZ=!("undefined"==typeof window||!window.document||!window.document.createElement),nZ=0,rZ={capture:!1,passive:!1};var oZ=function(){return document.activeElement&&document.activeElement.blur()},aZ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function iZ(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,s=(0,a.useRef)(!1),u=(0,a.useRef)(!1),c=(0,a.useRef)(0),l=(0,a.useRef)(null),f=(0,a.useCallback)((function(e,t){if(null!==l.current){var a=l.current,c=a.scrollTop,f=a.scrollHeight,d=a.clientHeight,p=l.current,h=t>0,m=f-d-c,v=!1;m>t&&s.current&&(r&&r(e),s.current=!1),h&&u.current&&(i&&i(e),u.current=!1),h&&t>m?(n&&!s.current&&n(e),p.scrollTop=f,v=!0,s.current=!0):!h&&-t>c&&(o&&!u.current&&o(e),p.scrollTop=0,v=!0,u.current=!0),v&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,o,i]),d=(0,a.useCallback)((function(e){f(e,e.deltaY)}),[f]),p=(0,a.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),h=(0,a.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;f(e,t)}),[f]),m=(0,a.useCallback)((function(e){if(e){var t=!!MV&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",h,t)}}),[h,p,d]),v=(0,a.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",h,!1))}),[h,p,d]);return(0,a.useEffect)((function(){if(t){var e=l.current;return m(e),function(){v(e)}}}),[t,m,v]),function(e){l.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,o=(0,a.useRef)({}),i=(0,a.useRef)(null),s=(0,a.useCallback)((function(e){if(tZ){var t=document.body,n=t&&t.style;if(r&&YY.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&nZ<1){var a=parseInt(o.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,s=window.innerWidth-i+a||0;Object.keys(ZY).forEach((function(e){var t=ZY[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&eZ()&&(t.addEventListener("touchmove",XY,rZ),e&&(e.addEventListener("touchstart",QY,rZ),e.addEventListener("touchmove",JY,rZ))),nZ+=1}}),[r]),u=(0,a.useCallback)((function(e){if(tZ){var t=document.body,n=t&&t.style;nZ=Math.max(nZ-1,0),r&&nZ<1&&YY.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&eZ()&&(t.removeEventListener("touchmove",XY,rZ),e&&(e.removeEventListener("touchstart",QY,rZ),e.removeEventListener("touchmove",JY,rZ)))}}),[r]);return(0,a.useEffect)((function(){if(t){var e=i.current;return s(e),function(){u(e)}}}),[t,s,u]),function(e){i.current=e}}({isEnabled:n});return KU(a.Fragment,null,n&&KU("div",{onClick:oZ,css:aZ}),t((function(e){o(e),i(e)})))}var sZ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},uZ=function(e){var t=e.name,n=e.onFocus;return KU("input",{required:!0,name:t,tabIndex:-1,onFocus:n,css:sZ,value:"",onChange:function(){}})},cZ={clearIndicator:nH,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,o=r.colors,a=r.borderRadius,i=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?o.neutral5:o.neutral0,borderColor:t?o.neutral10:n?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?o.primary:o.neutral30}}},dropdownIndicator:tH,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,o=r.spacing,a=r.colors;return bq({margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80,transform:n?"translateZ(0)":""},cH)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,o=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:VV,menu:function(e){var t,n=e.placement,r=e.theme,o=r.borderRadius,a=r.spacing,i=r.colors;return p(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),p(t,"backgroundColor",i.neutral0),p(t,"borderRadius",o),p(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),p(t,"marginBottom",a.menuGutter),p(t,"marginTop",a.menuGutter),p(t,"position","absolute"),p(t,"width","100%"),p(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,o=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,o=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?o.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}}},noOptionsMessage:UV,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,o=e.theme,a=o.spacing,i=o.colors;return{label:"option",backgroundColor:r?i.primary:n?i.primary25:"transparent",color:t?i.neutral20:r?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?i.primary:i.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,o=n.colors;return{label:"singleValue",color:t?o.neutral40:o.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,o=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&o?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var lZ={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},fZ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:AV(),captureMenuScroll:!AV(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=bq({ignoreCase:!0,ignoreAccents:!0,stringify:WY,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,a=r.ignoreAccents,i=r.stringify,s=r.trim,u=r.matchFrom,c=s?$Y(n):n,l=s?$Y(i(t)):i(t);return o&&(c=c.toLowerCase(),l=l.toLowerCase()),a&&(c=HY(c),l=VY(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(O9){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function dZ(e,t,n,r){return{type:"option",data:t,isDisabled:bZ(e,t,n),isSelected:yZ(e,t,n),label:vZ(e,t),value:gZ(e,t),index:r}}function pZ(e,t){return e.options.map((function(n,r){if("options"in n){var o=n.options.map((function(n,r){return dZ(e,n,t,r)})).filter((function(t){return mZ(e,t)}));return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var a=dZ(e,n,t,r);return mZ(e,a)?a:void 0})).filter(BV)}function hZ(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,V(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function mZ(e,t){var n=e.inputValue,r=void 0===n?"":n,o=t.data,a=t.isSelected,i=t.label,s=t.value;return(!wZ(e)||!a)&&DZ(e,{label:i,value:s,data:o},r)}var vZ=function(e,t){return e.getOptionLabel(t)},gZ=function(e,t){return e.getOptionValue(t)};function bZ(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function yZ(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=gZ(e,t);return n.some((function(t){return gZ(e,t)===r}))}function DZ(e,t,n){return!e.filterOption||e.filterOption(t,n)}var wZ=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},_Z=1,EZ=function(e){S(o,e);var t,n,r=(t=o,n=T(),function(){var e,r=A(t);if(n){var o=A(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O(this,e)});function o(e){var t;if(u(this,o),(t=r.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,o=r.onChange,a=r.name;n.name=a,t.ariaOnChange(e,n),o(e,n)},t.setValue=function(e,n,r){var o=t.props,a=o.closeMenuOnSelect,i=o.isMulti,s=o.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,o=n.isMulti,a=n.name,i=t.state.selectValue,s=o&&t.isOptionSelected(e,i),u=t.isOptionDisabled(e,i);if(s){var c=t.getOptionValue(e);t.setValue(i.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(u)return void t.ariaOnChange(e,{action:"select-option",option:e,name:a});o?t.setValue([].concat(V(i),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,o=t.getOptionValue(e),a=r.filter((function(e){return t.getOptionValue(e)!==o})),i=NV(n,a,a[0]||null);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(NV(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],o=n.slice(0,n.length-1),a=NV(e,o,o[0]||null);t.onChange(a,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wV.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return vZ(t.props,e)},t.getOptionValue=function(e){return gZ(t.props,e)},t.getStyles=function(e,n){var r=cZ[e](n);r.boxSizing="border-box";var o=t.props.styles[e];return o?o(r,n):r},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,bq(bq({},dH),e.components);var e},t.buildCategorizedOptions=function(){return pZ(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return hZ(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:bq({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,r=n.isMulti,o=n.menuIsOpen;t.focusInput(),o?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&xV(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var o=Math.abs(r.clientX-t.initialTouchX),a=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=o>5||a>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return wZ(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,o=n.backspaceRemovesValue,a=n.escapeClearsValue,i=n.inputValue,s=n.isClearable,u=n.isDisabled,c=n.menuIsOpen,l=n.onKeyDown,f=n.tabSelectsValue,d=n.openMenuOnFocus,p=t.state,h=p.focusedOption,m=p.focusedValue,v=p.selectValue;if(!(u||"function"==typeof l&&(l(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||i)return;t.focusValue("previous");break;case"ArrowRight":if(!r||i)return;t.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(m)t.removeValue(m);else{if(!o)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!f||!h||d&&t.isOptionSelected(h,v))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(t.isComposing)return;t.selectOption(h);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:i}),t.onMenuClose()):s&&a&&t.clearValue();break;case" ":if(i)return;if(!c){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++_Z),t.state.selectValue=_V(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.buildFocusableOptions(),a=n.indexOf(t.state.selectValue[0]);t.state.focusedOption=n[a]}return t}return d(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&OV(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(OV(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,o=n.isFocused,a=this.buildFocusableOptions(),i="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(r[0]);s>-1&&(i=s)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[i]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(r);r||(o=-1);var a=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===o?0:-1===o?a:o-1;break;case"next":o>-1&&o<a&&(i=o+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var o=0,a=r.indexOf(n);n||(a=-1),"up"===e?o=a>0?a-1:r.length-1:"down"===e?o=(a+1)%r.length:"pageup"===e?(o=a-t)<0&&(o=0):"pagedown"===e?(o=a+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(lZ):bq(bq({},lZ),this.props.theme):lZ}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,o=this.selectOption,a=this.setValue,i=this.props,s=i.isMulti,u=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:u,options:c,selectOption:o,selectProps:i,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return bZ(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return yZ(this.props,e,t)}},{key:"filterOption",value:function(e,t){return DZ(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,i=e.tabIndex,s=e.form,u=e.menuIsOpen,c=e.required,l=this.getComponents().Input,f=this.state,d=f.inputIsHidden,p=f.ariaSelection,h=this.commonProps,m=r||this.getElementId("input"),v=bq(bq(bq({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox"},u&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?a.createElement(l,cy({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,form:s,type:"text",value:o},v)):a.createElement(GY,cy({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yV,onFocus:this.onInputFocus,disabled:t,tabIndex:i,inputMode:"none",form:s,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,s=t.SingleValue,u=t.Placeholder,c=this.commonProps,l=this.props,f=l.controlShouldRenderValue,d=l.isDisabled,p=l.isMulti,h=l.inputValue,m=l.placeholder,v=this.state,g=v.selectValue,b=v.focusedValue,y=v.isFocused;if(!this.hasValue()||!f)return h?null:a.createElement(u,cy({},c,{key:"placeholder",isDisabled:d,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return g.map((function(t,s){var u=t===b,l="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return a.createElement(n,cy({},c,{components:{Container:r,Label:o,Remove:i},isFocused:u,isDisabled:d,key:l,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var D=g[0];return a.createElement(s,cy({},c,{data:D,isDisabled:d}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.createElement(e,cy({},t,{innerProps:s,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!e||!o)return null;return a.createElement(e,cy({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return a.createElement(n,cy({},r,{isDisabled:o,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.createElement(e,cy({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,o=t.Menu,i=t.MenuList,s=t.MenuPortal,u=t.LoadingMessage,c=t.NoOptionsMessage,l=t.Option,f=this.commonProps,d=this.state.focusedOption,p=this.props,h=p.captureMenuScroll,m=p.inputValue,v=p.isLoading,g=p.loadingMessage,b=p.minMenuHeight,y=p.maxMenuHeight,D=p.menuIsOpen,w=p.menuPlacement,_=p.menuPosition,E=p.menuPortalTarget,x=p.menuShouldBlockScroll,k=p.menuShouldScrollIntoView,C=p.noOptionsMessage,S=p.onMenuScrollToTop,F=p.onMenuScrollToBottom;if(!D)return null;var O,A=function(t,n){var r=t.type,o=t.data,i=t.isDisabled,s=t.isSelected,u=t.label,c=t.value,p=d===o,h=i?void 0:function(){return e.onOptionHover(o)},m=i?void 0:function(){return e.selectOption(o)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1};return a.createElement(l,cy({},f,{innerProps:g,data:o,isDisabled:i,isSelected:s,key:v,label:u,type:r,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())O=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,i=t.options,s=t.index,u="".concat(e.getElementId("group"),"-").concat(s),c="".concat(u,"-heading");return a.createElement(n,cy({},f,{key:u,data:o,options:i,Heading:r,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return A(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return A(t,"".concat(t.index))}));else if(v){var T=g({inputValue:m});if(null===T)return null;O=a.createElement(u,f,T)}else{var P=C({inputValue:m});if(null===P)return null;O=a.createElement(c,f,P)}var j={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:_,menuShouldScrollIntoView:k},M=a.createElement(zV,cy({},f,j),(function(t){var n=t.ref,r=t.placerProps,s=r.placement,u=r.maxHeight;return a.createElement(o,cy({},f,j,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:v,placement:s}),a.createElement(iZ,{captureEnabled:h,onTopArrive:S,onBottomArrive:F,lockEnabled:x},(function(t){return a.createElement(i,cy({},f,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:v,maxHeight:u,focusedOption:d}),O)})))}));return E||"fixed"===_?a.createElement(s,cy({},f,{appendTo:E,controlElement:this.controlRef,menuPlacement:w,menuPosition:_}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,s=t.required,u=this.state.selectValue;if(i&&!r){if(s&&!this.hasValue())return a.createElement(uZ,{name:i,onFocus:this.onValueInputFocus});if(o){if(n){var c=u.map((function(t){return e.getOptionValue(t)})).join(n);return a.createElement("input",{name:i,type:"hidden",value:c})}var l=u.length>0?u.map((function(t,n){return a.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):a.createElement("input",{name:i,type:"hidden",value:""});return a.createElement("div",null,l)}var f=u[0]?this.getOptionValue(u[0]):"";return a.createElement("input",{name:i,type:"hidden",value:f})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,i=t.isFocused,s=t.selectValue,u=this.getFocusableOptions();return a.createElement(NY,cy({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:o,isFocused:i,selectValue:s,focusableOptions:u}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,i=this.props,s=i.className,u=i.id,c=i.isDisabled,l=i.menuIsOpen,f=this.state.isFocused,d=this.commonProps=this.getCommonProps();return a.createElement(r,cy({},d,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:f}),this.renderLiveRegion(),a.createElement(t,cy({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:f,menuIsOpen:l}),a.createElement(o,cy({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),a.createElement(n,cy({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,u=e.options,c=e.value,l=e.menuIsOpen,f=e.inputValue,d=e.isMulti,p=_V(c),h={};if(n&&(c!==n.value||u!==n.options||l!==n.menuIsOpen||f!==n.inputValue)){var m=l?function(e,t){return hZ(pZ(e,t))}(e,p):[],v=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,g=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);h={selectValue:p,focusedOption:g,focusedValue:v,clearFocusValueOnUpdate:!1}}var b=null!=o&&e!==n?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},y=a,D=i&&s;return i&&!D&&(y={value:NV(d,p,p[0]||null),options:p,action:"initial-input-focus"},D=!s),"initial-input-focus"===(null==a?void 0:a.action)&&(y=null),bq(bq(bq({},h),b),{},{prevProps:e,ariaSelection:y,prevWasFocused:D})}}]),o}(a.Component);EZ.defaultProps=fZ;var xZ=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var kZ=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var CZ=(0,a.forwardRef)((function(e,t){var n=function(e){var t=e.defaultOptions,n=void 0!==t&&t,r=e.cacheOptions,o=void 0!==r&&r,i=e.loadOptions;e.options;var s=e.isLoading,u=void 0!==s&&s,c=e.onInputChange,l=e.filterOption,f=void 0===l?null:l,d=ft(e,kZ),h=d.inputValue,m=(0,a.useRef)(void 0),v=(0,a.useRef)(!1),g=k((0,a.useState)(Array.isArray(n)?n:void 0),2),b=g[0],y=g[1],D=k((0,a.useState)(void 0!==h?h:""),2),w=D[0],_=D[1],E=k((0,a.useState)(!0===n),2),x=E[0],C=E[1],S=k((0,a.useState)(void 0),2),F=S[0],O=S[1],A=k((0,a.useState)([]),2),T=A[0],P=A[1],j=k((0,a.useState)(!1),2),M=j[0],B=j[1],N=k((0,a.useState)({}),2),R=N[0],I=N[1],L=k((0,a.useState)(void 0),2),z=L[0],q=L[1],U=k((0,a.useState)(void 0),2),V=U[0],H=U[1];o!==V&&(I({}),H(o)),n!==z&&(y(Array.isArray(n)?n:void 0),q(n)),(0,a.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var $=(0,a.useCallback)((function(e,t){if(!i)return t();var n=i(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[i]);(0,a.useEffect)((function(){!0===n&&$(w,(function(e){v.current&&(y(e||[]),C(!!m.current))}))}),[]);var W=(0,a.useCallback)((function(e,t){var n=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,t,c);if(!n)return m.current=void 0,_(""),O(""),P([]),C(!1),void B(!1);if(o&&R[n])_(n),O(n),P(R[n]),C(!1),B(!1);else{var r=m.current={};_(n),C(!0),B(!F),$(n,(function(e){v&&r===m.current&&(m.current=void 0,C(!1),O(n),P(e||[]),B(!1),I(e?bq(bq({},R),{},p({},n,e)):R))}))}}),[o,$,F,R,c]),K=M?[]:w&&F?T:b||[];return bq(bq({},d),{},{options:K,isLoading:x||u,onInputChange:W,filterOption:f})}(e),r=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,o=void 0!==r&&r,i=e.defaultValue,s=void 0===i?null:i,u=e.inputValue,c=e.menuIsOpen,l=e.onChange,f=e.onInputChange,d=e.onMenuClose,p=e.onMenuOpen,h=e.value,m=ft(e,xZ),v=k((0,a.useState)(void 0!==u?u:n),2),g=v[0],b=v[1],y=k((0,a.useState)(void 0!==c?c:o),2),D=y[0],w=y[1],_=k((0,a.useState)(void 0!==h?h:s),2),E=_[0],x=_[1],C=(0,a.useCallback)((function(e,t){"function"==typeof l&&l(e,t),x(e)}),[l]),S=(0,a.useCallback)((function(e,t){var n;"function"==typeof f&&(n=f(e,t)),b(void 0!==n?n:e)}),[f]),F=(0,a.useCallback)((function(){"function"==typeof p&&p(),w(!0)}),[p]),O=(0,a.useCallback)((function(){"function"==typeof d&&d(),w(!1)}),[d]),A=void 0!==u?u:g,T=void 0!==c?c:D,P=void 0!==h?h:E;return bq(bq({},m),{},{inputValue:A,menuIsOpen:T,onChange:C,onInputChange:S,onMenuClose:O,onMenuOpen:F,value:P})}(n);return a.createElement(EZ,cy({ref:t},r))}));const SZ=CZ;function FZ(){var e=(0,a.useContext)(Dw),t=e.isMaximized,n=e.setIsMaximized;return a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Back",'"Back" Button Tooltip',"bp-better-messages")},a.createElement(DM,{to:"/",className:"back"},a.createElement(nT,null))),a.createElement("span",{id:"bm-new-thread-title"},C7("Start a new conversation","New threads screen","bp-better-messages")),w7.canBulk&&a.createElement(kC,{showOnMobile:!1,content:C7("Bulk Message","New threads screen","bp-better-messages")},a.createElement(DM,{to:"/send-bulk",className:"mass-message"},a.createElement(YA,null))),w7.fullScreen&&a.createElement(a.Fragment,null,!t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))))}function OZ(){return OZ=n(o().mark((function e(t){var n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,e.next=4,a7.post("thread/suggest",{recipients:t,forceNew:n});case 4:return r=e.sent,(a=r.data).thread_id||(a.thread_id=0),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),Ky(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),OZ.apply(this,arguments)}const AZ=function(e){var t=e.innerProps,n=e.data,r=e.innerRef,o="bm_user_selector__option";return e.isFocused&&(o+=" bm_user_selector__option_focused"),e.isSelected&&(o+=" bm_user_selector__option_selected"),"number"==typeof n.value?a.createElement("div",cy({ref:r,className:o},t,{"aria-disabled":"false",tabIndex:-1,key:"user_option_"+n.value}),a.createElement(zS,{user_id:n.value,link:!1,size:30}),a.createElement("div",{className:"bm_user_selector__option_name"},a.createElement(hF,{link:!1,user_id:n.value}))):"string"==typeof n.value?a.createElement("div",cy({ref:r,className:o},t,{"aria-disabled":"false",tabIndex:-1,key:"user_option_"+n.value}),a.createElement("div",{className:"bm_user_selector__option_name"},Gb(S7(C7("Add <strong>%s</strong>","New threads screen","bp-better-messages"),n.value)))):void 0};function TZ(e){return PZ.apply(this,arguments)}function PZ(){return(PZ=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,a7.get("suggestions",{params:{search:t}});case 3:return e.sent.data.map((function(e){n.push({value:e.user_id})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jZ(e){var t=k((0,a.useState)(0),2),r=t[0],i=t[1],s=k((0,a.useState)(!1),2),u=s[0],c=s[1],l=k((0,a.useState)(!1),2),f=l[0],d=l[1],p=k((0,a.useState)(!1),2),h=p[0],m=p[1],v=k((0,a.useState)([]),2),g=v[0],b=v[1],y=k((0,a.useState)([]),2),D=y[0],w=y[1],_=(0,a.createRef)(),E=(0,a.createRef)(),x=k((0,a.useState)(null),2),C=x[0],S=x[1],F=k((0,a.useState)(!1),2),O=F[0],A=F[1],T=k((0,a.useState)([]),2),P=T[0],j=T[1],M=k((0,a.useState)(!1),2),B=M[0],N=M[1],R=k((0,a.useState)(""),2),I=R[0],L=R[1],z=k((0,a.useState)(""),2),q=z[0],U=z[1],H=(0,a.createRef)(),$=k((0,a.useState)(null),2),W=$[0],K=$[1];(0,a.useEffect)((function(){K(H.current)}),[H]),(0,a.useEffect)((function(){w7.suggestions&&(m(!0),a7.get("userSuggestions").then((function(e){var t=[];e.data.map((function(e){t.push({value:Number(e)})})),b(t),m(!1)})))}),[]),a.useEffect((function(){var e=new Proxy(new URLSearchParams(window.location.hash),{get:function(e,t){return e.get(t)}}),t=E.current;if(t&&e.to){var n=e.to.split(",");if(n.length>0){var r=[];V(new Set(n)).map((function(e){r.push({value:Number(e)})})),t.setValue(r)}}e.subject&&L(e.subject),e.message&&U(e.message)}),[window.location.hash]),a.useEffect((function(){D.length>0?function(e){return OZ.apply(this,arguments)}(D,u).then(function(){var e=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.thread_id,t.result,(r=t.errors)&&r.length>0?(i(0),j(r),d(!1),N(!1),A(!1)):(i(n),u||0===n?(i(0),d(!0),N(!0),A(!1)):(d(!1),N(!1),A(!0),m7(n,null)),j([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(i(0),d(!1),N(!1),A(!1),j([]))}),[D,u]),a.useEffect((function(){c(!1)}),[D]);var G=UP(r);return a.useEffect((function(){S(_.current)}),[_]),a.createElement(a.Fragment,null,e.inRouter&&a.createElement("div",{className:"chat-header"},a.createElement(FZ,null)),a.createElement(SZ,{ref:E,autoFocus:!1,defaultMenuIsOpen:w7.suggestions,className:"bm_user_selector",classNamePrefix:"bm_user_selector",isMulti:!0,placeholder:C7("Start typing to search members","New threads screen","bp-better-messages"),defaultOptions:g,loadOptions:TZ,onChange:function(e,t){w(e.map((function(e){return e.value})))},components:{ValueContainer:function(e){return a.createElement(a.Fragment,null,a.createElement("span",{className:"bm-to-label"},C7("To: ","New threads screen","bp-better-messages")),a.createElement(dH.ValueContainer,e))},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MultiValueLabel:function(e){return a.createElement(a.Fragment,{key:"user_"+e.data.value},a.createElement(zS,{key:"label_avatar_"+e.data.value,user_id:e.data.value,link:!1,size:20}),a.createElement(hF,{key:"label_username_"+e.data.value,link:!1,user_id:e.data.value}))},NoOptionsMessage:function(e){return a.createElement("div",{className:"bm_user_selector__menu-notice bm_user_selector__menu-notice--no-options"},h&&C7("Loading...","New threads screen","bp-better-messages"),!h&&C7("No members found","New threads screen","bp-better-messages"))},LoadingMessage:function(e){return a.createElement("div",{className:"bm_user_selector__menu-loading"},C7("Loading...","New threads screen","bp-better-messages"))},Option:AZ}}),w7.subjects&&B&&a.createElement(vq.div,{style:{zIndex:0},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm_thread_subject_input"},a.createElement("label",{className:"bm-to-label"},C7("Subject:","New threads screen","bp-better-messages")),a.createElement("input",{className:"thread_subject__input",type:"text",placeholder:C7("Enter conversation subject","New threads screen","bp-better-messages"),autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-expanded":"false",onChange:function(e){L(e.target.value)},value:I})),P.length>0&&a.createElement(vq.div,{style:{zIndex:0},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm_thread_create_error bm-alert bm-error"},a.createElement("ul",null,P.map((function(e,t){return a.createElement("li",{key:"thread_start_error_"+t},Gb(e))})))),O&&a.createElement(vq.div,{style:{zIndex:0,flexDirection:"column",textAlign:"center"},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm-conversation-exist bm-alert bm-info"},a.createElement("p",{style:{marginBottom:"5px"}},C7("You already have a conversation with this member.","New threads screen","bp-better-messages"),a.createElement("br",null),C7("Type a message below to continue the conversation.","New threads screen","bp-better-messages")),!w7.singleThread&&a.createElement("button",{onClick:function(e){e.preventDefault(),c(!0)}},C7("Start a new conversation","New threads screen","bp-better-messages"))),a.createElement(gj.Provider,{value:{syncing:!1,threadId:r,thread:G,reply:C,insideRouter:e.inRouter,screen:"newThread",action:null,setAction:null,setScreen:null,call:null,chatMain:W}},a.createElement("div",{className:"bpbm-chat-content"},a.createElement("div",{ref:H,className:"bpbm-chat-main"},G&&!f&&a.createElement(a.Fragment,null,a.createElement(LJ,{thread:G,threadId:r}),a.createElement(AY,{ref:_})),f&&a.createElement(a.Fragment,null,a.createElement(LJ,{threadId:0,placeholder:!0}),a.createElement(AY,{ref:_,placeholder:!0,initialMessage:q,recipients:D,subject:I})),!G&&!f&&a.createElement(a.Fragment,null,a.createElement("div",{style:{height:"100%"}}),a.createElement(AY,{ref:_,placeholder:!0}))))))}var MZ=a.createContext({open:null,setOpen:null,chatId:null});function BZ(e){var t=k((0,a.useState)(!0),2),n=t[0],r=t[1];return a.createElement(MZ.Provider,{value:{open:n,setOpen:r,chatId:e.chatId}},a.createElement(vq.div,{className:"mini-chat-new chat"+(n?" open":"")},a.createElement("div",{className:"head"},a.createElement("span",{style:{marginRight:"auto"}},C7("Start a new conversation","New threads screen","bp-better-messages")),a.createElement("div",{className:"controls"},a.createElement(kC,{content:C7("Close","Mini Chats","bp-better-messages")},a.createElement("span",{className:"close",onClick:function(){dP(e.chatId)}},a.createElement(dT,null))))),a.createElement("div",{className:"chat-content"},a.createElement(jZ,{inRouter:!1}))))}function NZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NZ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IZ(e){(0,a.useContext)(MZ);e=RZ(RZ({},{opacity:.3}),e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-list",style:{paddingTop:0,marginTop:20,opacity:e.opacity,overflow:"hidden"}},V(Array(10)).map((function(e,t){return a.createElement("div",{key:"messages-placeholder-"+t,className:"bm-date-stack"},a.createElement("div",{className:"bm-messages-stack "+(t%2==0?"bm-left-side":"bm-right-side")},a.createElement("div",{className:"bm-pic",style:{top:"0"}},a.createElement("span",{className:"avatar bbpm-avatar"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:35,height:35,borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("div",{className:"bm-content"},a.createElement("div",{className:"bm-info"},a.createElement("div",{className:"name"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("ul",{className:"bm-messages-listing"},a.createElement("div",{className:"bm-message  my"},a.createElement("div",{className:"bm-message-content no-padding"},a.createElement("span",{className:"bm-message-content-text"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",minWidth:"150px",maxWidth:"350px",width:"100%",height:"25px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))))))))}))))}const LZ=a.memo(IZ);var zZ=a.createContext(!1);function qZ(){var e,t,r,i=Co.now().year,s=(e=k((0,a.useState)(void 0),2),t=e[0],r=e[1],(0,a.useLayoutEffect)((function(){var e=J5.messages.find({selector:{favorited:1},sort:[{message_id:"asc"}]}).$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),r(IC(t))}));return function(){e.unsubscribe()}}),[]),t);(0,a.useEffect)((function(){a7.get("getFavorited").then(function(){var e=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oj((n=t.data).threads),ES(n.users),eS(n.messages),r=n.messages.map((function(e){return e.message_id})),e.next=7,J5.messages.find({selector:{$and:[{favorited:{$eq:1}},{message_id:{$nin:r}}]}}).update({$set:{favorited:0}}).catch(zC);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Yy(e)}))}),[]);var u=(0,a.useMemo)((function(){return kM(s)}),[s]).dates,c="bm-messages-list bm-template-"+w7.template;return a.createElement(a.Fragment,null,a.createElement("div",{className:"chat-header"},a.createElement(xM,null)),a.createElement(zZ.Provider,{value:!0},a.createElement("div",{className:c,role:"application"},a.createElement(RG,{classes:"bm-list"},!s&&a.createElement(LZ,null),s&&a.createElement(a.Fragment,null,0===u.size&&a.createElement("div",{className:"empty bpbm-favorite-empty"},a.createElement("p",{className:"bpbm-empty-icon"},a.createElement(BT,null)),a.createElement("p",{className:"bpbm-empty-message"},C7("No favorited messages yet!","Favorited messages screen","bp-better-messages"))),u.size>0&&a.createElement(a.Fragment,null,Array.from(u.entries()).map((function(e){var t=k(e,2),n=t[0],r=t[1],o=Co.fromISO(n),s="MMMM d";return o.year!==i&&(s+=", y"),a.createElement("div",{className:"bm-date-stack",key:"message_stack_date_"+n},a.createElement(kC,{content:o.toLocal().toLocaleString(Co.DATE_HUGE)},a.createElement("div",{className:"bm-sticky-date"},o.toLocal().toFormat(s))),r.map((function(e){return a.createElement(NJ,{key:"message_stack_"+e[0].thread_id+"_"+e[0].message_id,thread:null,stack:e})})))}))))))))}var UZ="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kids kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum music mutual mv mw mx my mz na nab nagoya name natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest racing radio re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign vermögensberater vermögensberatung versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw".split(" "),VZ="ελ ευ бг бел дети ею католик ком мкд мон москва онлайн орг рус рф сайт срб укр қаз հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بيتك بھارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه پاکستان ڀارت कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ გე みんな アマゾン クラウド グーグル コム ストア セール ファッション ポイント 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港 닷넷 닷컴 삼성 한국".split(" "),HZ=function(e,t){for(var n in t)e[n]=t[n];return e};function $Z(e,t){return e in t||(t[e]=[]),t[e]}function WZ(e,t,n){for(var r in t.numeric&&(t.asciinumeric=!0,t.alphanumeric=!0),t.ascii&&(t.asciinumeric=!0,t.alpha=!0),t.asciinumeric&&(t.alphanumeric=!0),t.alpha&&(t.alphanumeric=!0),t.alphanumeric&&(t.domain=!0),t.emoji&&(t.domain=!0),t){var o=$Z(r,n);o.indexOf(e)<0&&o.push(e)}}function KZ(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}KZ.groups={},KZ.prototype={accepts:function(){return!!this.t},go:function(e){var t=this,n=t.j[e];if(n)return n;for(var r=0;r<t.jr.length;r++){var o=t.jr[r][0],a=t.jr[r][1];if(a&&o.test(e))return a}return t.jd},has:function(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta:function(e,t,n,r){for(var o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr:function(e,t,n,r){var o;return r=r||KZ.groups,t&&t.j?o=t:(o=new KZ(t),n&&r&&WZ(t,n,r)),this.jr.push([e,o]),o},ts:function(e,t,n,r){var o=this,a=e.length;if(!a)return o;for(var i=0;i<a-1;i++)o=o.tt(e[i]);return o.tt(e[a-1],t,n,r)},tt:function(e,t,n,r){r=r||KZ.groups;var o=this;if(t&&t.j)return o.j[e]=t,t;var a,i=t,s=o.go(e);if(s?(a=new KZ,HZ(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new KZ,i){if(r)if(a.t&&"string"==typeof a.t){var u=HZ(function(e,t){var n={};for(var r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);WZ(i,u,r)}else n&&WZ(i,n,r);a.t=i}return o.j[e]=a,a}};var GZ=function(e,t,n,r,o){return e.ta(t,n,r,o)},YZ=function(e,t,n,r,o){return e.tr(t,n,r,o)},ZZ=function(e,t,n,r,o){return e.ts(t,n,r,o)},XZ=function(e,t,n,r,o){return e.tt(t,n,r,o)},JZ="WORD",QZ="UWORD",eX="LOCALHOST",tX="TLD",nX="UTLD",rX="SCHEME",oX="SLASH_SCHEME",aX="NUM",iX="NL",sX="OPENBRACE",uX="OPENBRACKET",cX="OPENANGLEBRACKET",lX="OPENPAREN",fX="CLOSEBRACE",dX="CLOSEBRACKET",pX="CLOSEANGLEBRACKET",hX="CLOSEPAREN",mX="AMPERSAND",vX="APOSTROPHE",gX="ASTERISK",bX="AT",yX="BACKSLASH",DX="BACKTICK",wX="CARET",_X="COLON",EX="COMMA",xX="DOLLAR",kX="DOT",CX="EQUALS",SX="EXCLAMATION",FX="HYPHEN",OX="PERCENT",AX="PIPE",TX="PLUS",PX="POUND",jX="QUERY",MX="QUOTE",BX="SEMI",NX="SLASH",RX="TILDE",IX="UNDERSCORE",LX="EMOJI",zX="SYM",qX=Object.freeze({__proto__:null,WORD:JZ,UWORD:QZ,LOCALHOST:eX,TLD:tX,UTLD:nX,SCHEME:rX,SLASH_SCHEME:oX,NUM:aX,WS:"WS",NL:iX,OPENBRACE:sX,OPENBRACKET:uX,OPENANGLEBRACKET:cX,OPENPAREN:lX,CLOSEBRACE:fX,CLOSEBRACKET:dX,CLOSEANGLEBRACKET:pX,CLOSEPAREN:hX,AMPERSAND:mX,APOSTROPHE:vX,ASTERISK:gX,AT:bX,BACKSLASH:yX,BACKTICK:DX,CARET:wX,COLON:_X,COMMA:EX,DOLLAR:xX,DOT:kX,EQUALS:CX,EXCLAMATION:SX,HYPHEN:FX,PERCENT:OX,PIPE:AX,PLUS:TX,POUND:PX,QUERY:jX,QUOTE:MX,SEMI:BX,SLASH:NX,TILDE:RX,UNDERSCORE:IX,EMOJI:LX,SYM:zX}),UX=/[a-z]/,VX=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,HX=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,$X=/\d/,WX=/\s/;function KX(e,t,n,r,o){for(var a,i=t.length,s=0;s<i-1;s++){var u=t[s];e.j[u]?a=e.j[u]:((a=new KZ(r)).jr=o.slice(),e.j[u]=a),e=a}return(a=new KZ(n)).jr=o.slice(),e.j[t[i-1]]=a,a}function GX(e,t){return GX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},GX(e,t)}var YX={defaultProtocol:"http",events:null,format:XX,formatHref:XX,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ZX(e,t){void 0===t&&(t=null);var n=HZ({},YX);e&&(n=HZ(n,e instanceof ZX?e.o:e));for(var r=n.ignoreTags,o=[],a=0;a<r.length;a++)o.push(r[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function XX(e){return e}ZX.prototype={o:YX,ignoreTags:[],defaultRender:function(e){return e},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r=null!=t,o=this.o[e];return o?("object"===(0,c.Z)(o)?"function"==typeof(o=n.t in o?o[n.t]:YX[e])&&r&&(o=o(t,n)):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj:function(e,t,n){var r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render:function(e){var t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};var JX=Object.freeze({__proto__:null,defaults:YX,Options:ZX,assign:HZ});function QX(e,t){this.t="token",this.v=e,this.tk=t}function eJ(e,t){var n=function(t){var n,r;function o(n,r){var o;return(o=t.call(this,n,r)||this).t=e,o}return r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,GX(n,r),o}(QX);for(var r in t)n.prototype[r]=t[r];return n.t=e,n}QX.prototype={isLink:!1,toString:function(){return this.v},toHref:function(e){return this.toString()},toFormattedString:function(e){var t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref:function(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(e){return void 0===e&&(e=YX.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject:function(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate:function(e){return e.get("validate",this.toString(),this)},render:function(e){var t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),o=this.toFormattedString(e),a={},i=e.get("className",n,t),s=e.get("target",n,t),u=e.get("rel",n,t),c=e.getObj("attributes",n,t),l=e.getObj("events",n,t);return a.href=n,i&&(a.class=i),s&&(a.target=s),u&&(a.rel=u),c&&HZ(a,c),{tagName:r,attributes:a,content:o,eventListeners:l}}};var tJ=eJ("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),nJ=eJ("text"),rJ=eJ("nl"),oJ=eJ("url",{isLink:!0,toHref:function(e){return void 0===e&&(e=YX.defaultProtocol),this.hasProtocol()?this.v:e+"://"+this.v},hasProtocol:function(){var e=this.tk;return e.length>=2&&e[0].t!==eX&&e[1].t===_X}}),aJ=function(e){return new KZ(e)};function iJ(e,t,n){var r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}"undefined"!=typeof console&&console&&console.warn;var sJ={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function uJ(){sJ.scanner=function(e){var t,n,r,o,a,i;void 0===e&&(e=[]);var s={};KZ.groups=s;var u=new KZ;XZ(u,"'",vX),XZ(u,"{",sX),XZ(u,"[",uX),XZ(u,"<",cX),XZ(u,"(",lX),XZ(u,"}",fX),XZ(u,"]",dX),XZ(u,">",pX),XZ(u,")",hX),XZ(u,"&",mX),XZ(u,"*",gX),XZ(u,"@",bX),XZ(u,"`",DX),XZ(u,"^",wX),XZ(u,":",_X),XZ(u,",",EX),XZ(u,"$",xX),XZ(u,".",kX),XZ(u,"=",CX),XZ(u,"!",SX),XZ(u,"-",FX),XZ(u,"%",OX),XZ(u,"|",AX),XZ(u,"+",TX),XZ(u,"#",PX),XZ(u,"?",jX),XZ(u,'"',MX),XZ(u,"/",NX),XZ(u,";",BX),XZ(u,"~",RX),XZ(u,"_",IX),XZ(u,"\\",yX);var c=YZ(u,$X,aX,((t={}).numeric=!0,t));YZ(c,$X,c);var l=YZ(u,UX,JZ,((n={}).ascii=!0,n));YZ(l,UX,l);var f=YZ(u,VX,QZ,((r={}).alpha=!0,r));YZ(f,UX),YZ(f,VX,f);var d=YZ(u,WX,"WS",((o={}).whitespace=!0,o));XZ(u,"\n",iX,((a={}).whitespace=!0,a)),XZ(d,"\n"),YZ(d,WX,d);var p=YZ(u,HX,LX,((i={}).emoji=!0,i));YZ(p,HX,p),XZ(p,"️",p);var h=XZ(p,"‍");YZ(h,HX,p);for(var m=[[UX,l]],v=[[UX,null],[VX,f]],g=0;g<UZ.length;g++)KX(u,UZ[g],tX,JZ,m);for(var b=0;b<VZ.length;b++)KX(u,VZ[b],nX,QZ,v);WZ(tX,{tld:!0,ascii:!0},s),WZ(nX,{utld:!0,alpha:!0},s),KX(u,"file",rX,JZ,m),KX(u,"mailto",rX,JZ,m),KX(u,"http",oX,JZ,m),KX(u,"https",oX,JZ,m),KX(u,"ftp",oX,JZ,m),KX(u,"ftps",oX,JZ,m),WZ(rX,{scheme:!0,ascii:!0},s),WZ(oX,{slashscheme:!0,ascii:!0},s),e=e.sort((function(e,t){return e[0]>t[0]?1:-1}));for(var y=0;y<e.length;y++){var D,w,_=e[y][0],E=e[y][1]?((D={}).scheme=!0,D):((w={}).slashscheme=!0,w);_.indexOf("-")>=0?E.domain=!0:UX.test(_)?$X.test(_)?E.asciinumeric=!0:E.ascii=!0:E.numeric=!0,ZZ(u,_,_,E)}return ZZ(u,"localhost",eX,{ascii:!0}),u.jd=new KZ(zX),{start:u,tokens:HZ({groups:s},qX)}}(sJ.customSchemes);for(var e=0;e<sJ.tokenQueue.length;e++)sJ.tokenQueue[e][1]({scanner:sJ.scanner});sJ.parser=function(e){var t=e.groups,n=t.domain.concat([mX,gX,bX,yX,DX,wX,xX,CX,FX,aX,OX,AX,TX,PX,NX,zX,RX,IX]),r=[vX,pX,fX,dX,hX,_X,EX,kX,SX,cX,sX,uX,lX,jX,MX,BX],o=[mX,vX,gX,yX,DX,wX,fX,xX,CX,FX,aX,sX,OX,AX,TX,PX,jX,NX,zX,RX,IX],a=aJ(),i=XZ(a,RX);GZ(i,o,i),GZ(i,t.domain,i);var s=aJ(),u=aJ(),c=aJ();GZ(a,t.domain,s),GZ(a,t.scheme,u),GZ(a,t.slashscheme,c),GZ(s,o,i),GZ(s,t.domain,s);var l=XZ(s,bX);XZ(i,bX,l);var f=XZ(i,kX);GZ(f,o,i),GZ(f,t.domain,i);var d=aJ();GZ(l,t.domain,d),GZ(d,t.domain,d);var p=XZ(d,kX);GZ(p,t.domain,d);var h=aJ(tJ);GZ(p,t.tld,h),GZ(p,t.utld,h),XZ(l,eX,h);var m=XZ(d,FX);GZ(m,t.domain,d),GZ(h,t.domain,d),XZ(h,kX,p),XZ(h,FX,m);var v=XZ(h,_X);GZ(v,t.numeric,tJ);var g=XZ(s,FX),b=XZ(s,kX);GZ(g,t.domain,s),GZ(b,o,i),GZ(b,t.domain,s);var y=aJ(oJ);GZ(b,t.tld,y),GZ(b,t.utld,y),GZ(y,t.domain,s),GZ(y,o,i),XZ(y,kX,b),XZ(y,FX,g),XZ(y,bX,l);var D=XZ(y,_X),w=aJ(oJ);GZ(D,t.numeric,w);var _=aJ(oJ),E=aJ();GZ(_,n,_),GZ(_,r,E),GZ(E,n,_),GZ(E,r,E),XZ(y,NX,_),XZ(w,NX,_);var x=XZ(u,_X),k=XZ(c,_X),C=XZ(k,NX);XZ(C,NX,x),GZ(u,t.domain,s),XZ(u,kX,b),XZ(u,FX,g),GZ(c,t.domain,s),XZ(c,kX,b),XZ(c,FX,g),GZ(x,t.domain,_),XZ(x,NX,_);var S=XZ(_,sX),F=XZ(_,uX),O=XZ(_,cX),A=XZ(_,lX);XZ(E,sX,S),XZ(E,uX,F),XZ(E,cX,O),XZ(E,lX,A),XZ(S,fX,_),XZ(F,dX,_),XZ(O,pX,_),XZ(A,hX,_),XZ(S,fX,_);var T=aJ(oJ),P=aJ(oJ),j=aJ(oJ),M=aJ(oJ);GZ(S,n,T),GZ(F,n,P),GZ(O,n,j),GZ(A,n,M);var B=aJ(),N=aJ(),R=aJ(),I=aJ();return GZ(S,r),GZ(F,r),GZ(O,r),GZ(A,r),GZ(T,n,T),GZ(P,n,P),GZ(j,n,j),GZ(M,n,M),GZ(T,r,T),GZ(P,r,P),GZ(j,r,j),GZ(M,r,M),GZ(B,n,B),GZ(N,n,P),GZ(R,n,j),GZ(I,n,M),GZ(B,r,B),GZ(N,r,N),GZ(R,r,R),GZ(I,r,I),XZ(P,dX,_),XZ(j,pX,_),XZ(M,hX,_),XZ(T,fX,_),XZ(N,dX,_),XZ(R,pX,_),XZ(I,hX,_),XZ(B,hX,_),XZ(a,eX,y),XZ(a,iX,rJ),{start:a,tokens:qX}}(sJ.scanner.tokens);for(var t=0;t<sJ.pluginQueue.length;t++)sJ.pluginQueue[t][1]({scanner:sJ.scanner,parser:sJ.parser});sJ.initialized=!0}function cJ(e){return sJ.initialized||uJ(),function(e,t,n){for(var r=n.length,o=0,a=[],i=[];o<r;){for(var s=e,u=null,c=null,l=0,f=null,d=-1;o<r&&!(u=s.go(n[o].t));)i.push(n[o++]);for(;o<r&&(c=u||s.go(n[o].t));)u=null,(s=c).accepts()?(d=0,f=s):d>=0&&d++,o++,l++;if(d<0)(o-=l)<r&&(i.push(n[o]),o++);else{i.length>0&&(a.push(iJ(nJ,t,i)),i=[]),o-=d,l-=d;var p=f.t,h=n.slice(o-l,o);a.push(iJ(p,t,h))}}return i.length>0&&a.push(iJ(nJ,t,i)),a}(sJ.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,r=0;r<n;){var o=e.charCodeAt(r),a=void 0,i=o<55296||o>56319||r+1===n||(a=e.charCodeAt(r+1))<56320||a>57343?e[r]:e.slice(r,r+2);t.push(i),r+=i.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),r=n.length,o=[],a=0,i=0;i<r;){for(var s=e,u=null,c=0,l=null,f=-1,d=-1;i<r&&(u=s.go(n[i]));)(s=u).accepts()?(f=0,d=0,l=s):f>=0&&(f+=n[i].length,d++),c+=n[i].length,a+=n[i].length,i++;a-=f,i-=d,c-=f,o.push({t:l.t,v:t.slice(a-c,a),s:a-c,e:a})}return o}(sJ.scanner.start,e))}function lJ(e,t,n){if(0===a.Children.count(e.props.children))return e;var r=[];a.Children.forEach(e.props.children,(function(e){"string"==typeof e?r.push.apply(r,function(e,t,n){for(var r=cJ(e),o=[],i=0;i<r.length;i++){var s=r[i];if("nl"===s.t&&t.get("nl2br")){var u="__linkify-el-"+n.elementId++;o.push(a.createElement("br",{key:u}))}else if(s.isLink&&t.check(s)){var c=t.render(s);if(!("key"in c.props)){var l="__linkify-el-"+n.elementId++,f=JX.assign({key:l},c.props);c=a.cloneElement(c,f)}o.push(c)}else o.push(s.toString())}return o}(e,t,n)):a.isValidElement(e)?"string"==typeof e.type&&t.ignoreTags.indexOf(e.type.toUpperCase())>=0?r.push(e):r.push(lJ(e,t,n)):r.push(e)}));var o="__linkify-el-"+n.elementId++,i=JX.assign({key:o},e.props);return a.cloneElement(e,i,r)}var fJ=function(e){var t=0,n={key:"__linkify-wrapper"};for(var r in e)"options"!==r&&"as"!==r&&"tagName"!==r&&"children"!==r&&(n[r]=e[r]);var o=new ZX(e.options,(function(e){var n=e.tagName,r=e.attributes,o=e.content;return r.key="__linkify-lnk-"+t++,r.class&&(r.className=r.class,delete r.class),a.createElement(n,r,o)})),i=e.as||e.tagName||a.Fragment||"span",s=e.children;return lJ(a.createElement(i,n,s),o,{elementId:0})};var dJ=function(){return{}};function pJ(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}((0,a.useState)(dJ),2),t=e[1];return(0,a.useCallback)((function(){t({})}),[])}var hJ=window.wp.i18n,mJ=(hJ.__,hJ._n,hJ._nx,hJ._x);hJ.sprintf;function vJ(e){var t=e.children,n=e.title,r=e.itemKey,o=e.outsideClose,i=(0,a.useRef)();(0,a.useEffect)((function(){return setTimeout((function(){return document.addEventListener("click",s)}),300),function(){document.removeEventListener("click",s)}}),[]);var s=function(e){if(o){var t=e.target;i.current.contains(t)||DJ(r)}};return a.createElement(vq.div,{ref:i,initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"bm-modal-window bm-modal-"+r,role:"dialog",tabIndex:-1},a.createElement("div",{className:"bm-modal-window-inner"},a.createElement("div",{className:"bm-modal-window-header"},a.createElement("h3",null,n),a.createElement(kC,{content:mJ("Close","Close Modal Window","bp-better-messages")},a.createElement("span",{className:"bm-modal-window-close",onClick:function(){return DJ(r)}},a.createElement(fT,null)))),a.createElement("div",{className:"bm-modal-window-content"},t)))}var gJ=null;function bJ(){var e=(0,a.useRef)(),t=pJ(),n=(0,a.useRef)([]);return(0,a.useEffect)((function(){(gJ=e.current).addEventListener("better-messages-add-modal",(function(e){var r=e.detail;0===n.current.filter((function(e){return e.key!==r.key})).length&&(n.current.push(r),t())})),gJ.addEventListener("better-messages-remove-modal",(function(e){var r=e.detail;n.current=n.current.filter((function(e){return e.key!==r.key})),t()}))}),[e]),a.createElement("div",{id:"better-messages-modals-container",ref:e},a.createElement(MH,null,n.current.map((function(e){return a.createElement(vJ,{key:e.key,itemKey:e.key,title:e.title,outsideClose:e.outsideClose},e.modal)}))))}function yJ(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];DJ(e),gJ.dispatchEvent(new CustomEvent("better-messages-add-modal",{detail:{key:e,title:t,modal:n,outsideClose:r}}))}function DJ(e){gJ.dispatchEvent(new CustomEvent("better-messages-remove-modal",{detail:{key:e}}))}function wJ(e){var t=e.threadId,n=qC(e.messageId);return n&&n.thread_id===t?a.createElement("div",{className:"bm-message-reactions-panel"},!n&&a.createElement(p$,null),n&&a.createElement("div",{className:"bm-message-reactions-panel"},n.meta.reactions&&n.meta.reactions.length>0&&a.createElement("div",{className:"bp-messages-user-list"},n.meta.reactions.map((function(e){return a.createElement(a.Fragment,{key:"message-reaction-"+e},e.users.map((function(t){var n=String(e.reaction).split("-"),r=[];n.map((function(e){r.push(parseInt(e,16))}));var o=String.fromCodePoint.apply(String,r);return a.createElement("div",{className:"user not-clickable",key:"message-reaction-"+t},a.createElement("div",{className:"pic",style:{paddingLeft:0}},a.createElement(zS,{user_id:t,size:30})),a.createElement(hF,{user_id:t}),a.createElement("div",{className:"bm-msg-status",style:{marginLeft:"auto"}},a.createElement(VA,{emoji:o,size:13,useImportant:!0})))})))}))))):null}function _J(){var e=Number(window.Better_Messages.user_id);return 0===e&&w7.guestAuth?-Math.abs(w7.guestAuth.id):e}var EJ=function(){};var xJ="undefined"!=typeof window;const kJ=xJ?a.useLayoutEffect:a.useEffect;var CJ={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const SJ=xJ&&void 0!==window.ResizeObserver?function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=(0,a.useState)(CJ),o=r[0],i=r[1],s=(0,a.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,o=t.width,a=t.height,s=t.top,u=t.left,c=t.bottom,l=t.right;i({x:n,y:r,width:o,height:a,top:s,left:u,bottom:c,right:l})}}))}),[]);return kJ((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[n,o]}:function(){return[EJ,CJ]};function FJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FJ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AJ(e){var t=e.message,r=e.thread,i=(0,a.useRef)(),s=k(SJ(),2),u=s[0],c=s[1].width,l=(0,a.useContext)(zZ),f=k((0,a.useState)(Date.now()),2),d=f[0],p=f[1],h=function(){p(Date.now())};(0,a.useEffect)((function(){return document.addEventListener("better-message-settings-changed",h),function(){document.removeEventListener("better-message-settings-changed",h)}}),[]);var m=(0,a.useRef)(null),v=k((0,a.useState)(!1),2),g=v[0],b=v[1],y=Ij({id:"context-menu-message-"+t.message_id}),D=y.show,w=y.hideAll,_=(0,a.useCallback)(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O7("BetterMessagesSingleMessageContextMenu",!0,t,z);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:$o()&&D({event:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),E=function(e,t){var n=void 0===t?{}:t,r=n.threshold,o=void 0===r?400:r,i=n.captureEvent,s=void 0!==i&&i,u=n.detect,c=void 0===u?rM.BOTH:u,l=n.cancelOnMovement,f=void 0!==l&&l,d=n.filterEvents,p=n.onStart,h=n.onMove,m=n.onFinish,v=n.onCancel,g=(0,a.useRef)(!1),b=(0,a.useRef)(!1),y=(0,a.useRef)(),D=(0,a.useRef)(e),w=(0,a.useRef)(null),_=(0,a.useCallback)((function(e){return function(t){if(!b.current&&(fM(t)||lM(t))&&(void 0===d||d(t))){w.current=dM(t),s&&t.persist();var n=void 0===e?{}:{context:e};null==p||p(t,n),b.current=!0,y.current=setTimeout((function(){D.current&&(D.current(t,n),g.current=!0)}),o)}}}),[s,d,p,o]),E=(0,a.useCallback)((function(e,t){return function(n){if(fM(n)||lM(n)){w.current=null,s&&n.persist();var r=void 0===e?{}:{context:e};g.current?null==m||m(n,r):b.current&&(null==v||v(n,cM({},r,{reason:null!=t?t:nM.CANCELED_BY_TIMEOUT}))),g.current=!1,b.current=!1,void 0!==y.current&&clearTimeout(y.current)}}}),[s,m,v]),x=(0,a.useCallback)((function(e){return function(t){if(null==h||h(t,{context:e}),f&&w.current){var n=dM(t);if(n){var r=!0===f?25:f,o={x:Math.abs(n.x-w.current.x),y:Math.abs(n.y-w.current.y)};(o.x>r||o.y>r)&&E(e,nM.CANCELED_BY_MOVEMENT)(t)}}}}),[E,f,h]);return(0,a.useEffect)((function(){return function(){void 0!==y.current&&clearTimeout(y.current)}}),[]),(0,a.useEffect)((function(){D.current=e}),[e]),(0,a.useMemo)((function(){return function(t){var n={onMouseDown:_(t),onMouseMove:x(t),onMouseUp:E(t),onMouseLeave:E(t)},r={onTouchStart:_(t),onTouchMove:x(t),onTouchEnd:E(t)};return null===e?{}:c===rM.MOUSE?n:c===rM.TOUCH?r:cM({},n,r)}}),[e,E,c,x,_])}(_,{detect:"touch",cancelOnMovement:!0}),x=xj(),C=!1,S=r&&r.moderators&&r.moderators.length>0&&r.moderators.includes(w7.user_id),F=r&&r.permissions&&r.permissions.canDeleteAllMessages||S,O=!1,A="bm-message",T="bm-message-content",P=t.message.includes('<span class="bp-messages-iframe-container">'),j=t.message.startsWith('<div class="bpbm-voice-message"')&&"undefined"!=typeof WaveSurfer;if(P&&(T+=" has-iframe"),t.meta||(t.meta={}),t.meta.files){var M=t.meta.files.filter((function(e){return!!e.id}));M.length>0?(T+=" has-files",t.meta.files=M):t.meta.files=null}Number(t.sender_id)===_J()&&(A+=" my",C=!0,r&&r.permissions&&r.permissions.canDeleteOwnMessages&&(F=!0),r&&r.permissions&&r.permissions.canEditOwnMessages&&(O=!0)),g&&(A+=" selected");var B=w7.favorite,N=w7.replies,R=w7.reactions;r&&r.permissions&&!1===r.permissions.canReply&&(N=!1,R=!1),j&&(T+=" voice-message",T+=" bm-hide-background",O=!1),t.message.includes('class="bpbm-sticker"')&&(T+=" bm-hide-background",O=!1),t.message.includes('class="bpbm-gif"')&&(T+=" bm-hide-background",O=!1),N&&(T+=" reply-enabled");var I=function(){e.setAction({action:"reply_message",message:t})},L=(0,a.useMemo)((function(){return e.fromBlocked?C7("Message hidden (User blocked)","Messages from blocked user","bp-better-messages"):MT(t)}),[t.message,t.meta,e.fromBlocked,d]),z=[];N&&!C&&z.push({key:"context-reply-item",icon:a.createElement(tF,null),label:C7("Reply","Message context menu","bp-better-messages"),action:I,style:"standard"}),O&&z.push({key:"context-edit-item",icon:a.createElement(Kj,null),label:C7("Edit","Message context menu","bp-better-messages"),action:function(){e.setAction({action:"edit_message",message:t})},style:"standard"}),F&&z.push({key:"context-delete-item",icon:a.createElement(DT,null),label:C7("Delete","Message context menu","bp-better-messages"),action:function(){!function(e,t){yj.apply(this,arguments)}(t.thread_id,[Number(t.message_id)])},style:"danger"}),T.includes("bm-hide-background")||z.unshift({key:"context-copy-item",icon:a.createElement(pT,null),label:C7("Copy message text","Message context menu","bp-better-messages"),action:function(){!function(e){if(EH(),document.selection){var t=document.body.createTextRange();t.moveToElementText(e),t.select().createTextRange(),document.execCommand("copy")}else if(window.getSelection){var n=document.createRange();n.selectNode(e),window.getSelection().addRange(n),document.execCommand("copy")}EH()}(i.current.querySelector(".bm-message-content-text")),Wy(C7("Text copied to clipboard","Message context menu","bp-better-messages"),1e3)},style:"standard"});var q=z.length>0;A=O7("better_messages_single_message_class",A,t);var U=function(){var e=n(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("AUDIO"!==(r=n.target).tagName){e.next=3;break}return e.abrupt("return");case 3:if("VIDEO"!==r.tagName){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,O7("BetterMessagesSingleMessageContextMenu",!0,t,z);case 7:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:document.querySelector("#context-menu-message-"+t.message_id)?w():D({event:n});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=a.createElement("span",{ref:u,className:"message-controls"},!!w7.messagesStatus&&C&&a.createElement(a.Fragment,null,a.createElement(oM,{key:t.tmpId?"message_"+t.tmpId:"message_"+t.message_id,thread_id:t.thread_id,message_id:t.message_id,detailed:r&&r.participantsCount>2})),B&&a.createElement(a.Fragment,null,1!==t.favorited&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Mark as Favorited","Mark message as favorite","bp-better-messages")},a.createElement("span",{onClick:function(){Dj(t.thread_id,Number(t.message_id),"star")},className:"favorite"},a.createElement(VT,null)))),1===t.favorited&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Remove from Favorited","Remove message from favorited","bp-better-messages")},a.createElement("span",{onClick:function(){Dj(t.thread_id,Number(t.message_id),"unstar")},className:"favorite active"},a.createElement(BT,null))))),!l&&a.createElement(a.Fragment,null,N&&!C&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Reply","Reply to message button","bp-better-messages")},a.createElement("span",{className:"bpbm-reply",onClick:function(){I()}},a.createElement(tF,null)))),q&&a.createElement(kC,{content:C7("More","More button","bp-better-messages")},a.createElement("span",{onClick:function(e){U(e)},className:"bpbm-more"},a.createElement(uF,null)))));t.meta.replyTo&&(T=T.replace("bm-hide-background",""));var H={};T.includes("bm-hide-background")||(H=OJ(OJ({},H),E())),z.length>0&&(H=OJ(OJ({},H),{onContextMenu:U})),l&&(T+=" favorited-page",H.onClick=function(){location.href="#/conversation/"+t.thread_id+"/?messageId="+t.message_id}),H=OJ(OJ({},H),{ref:m,className:T}),"message"!==w7.datePosition&&(H.title=t.date_sent.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS));var $=w7.reactionsList,W={};$&&(W.cursor="pointer");var K="message_"+t.message_id;t.tmpId&&(K="message_"+t.tmpId);var G={};return c>0&&(G.maxWidth="calc(100% - "+c+"px)"),a.createElement(a.Fragment,{key:"message-item-content-inner"+K},a.createElement("div",{ref:i,className:A,"data-id":t.message_id},a.createElement("div",cy({},H,{style:G}),!!t.meta.replyTo&&a.createElement(tM,{message_id:t.meta.replyTo}),"message"===w7.datePosition&&!x&&"standard"===e.template&&a.createElement("span",{className:"bm-message-info"},a.createElement(kC,{content:t.date_sent.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},a.createElement("span",{className:"bm-time"},t.date_sent.toLocal().toLocaleString(Co.TIME_24_SIMPLE)))),!x&&"standard"===e.template&&V,a.createElement("span",{className:"bm-message-content-text"},a.createElement(fJ,{options:{target:{url:"_blank"},ignoreTags:["a"]}},L)),x&&"standard"===e.template&&V,"message"===w7.datePosition&&x&&"standard"===e.template&&a.createElement("span",{className:"bm-message-info"},a.createElement(kC,{content:t.date_sent.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},a.createElement("span",{className:"bm-time"},t.date_sent.toLocal().toLocaleString(Co.TIME_24_SIMPLE)))),t.meta.files&&a.createElement(Oj,{message:t}),"message"===w7.datePosition&&"modern"===e.template&&a.createElement("span",{className:"bm-message-info"},a.createElement(kC,{content:t.date_sent.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},a.createElement("span",{className:"bm-time"},t.date_sent.toLocal().toLocaleString(Co.TIME_24_SIMPLE)))),R&&t.meta.reactions&&t.meta.reactions.length>0&&a.createElement("div",{className:"bm-reactions"},t.meta.reactions.map((function(e){var n=String(e.reaction).split("-"),r=[];n.map((function(e){r.push(parseInt(e,16))}));var o=String.fromCodePoint.apply(String,r);return a.createElement("span",{key:"reaction-"+e.reaction,className:"bm-reaction",style:W,onClick:function(){$&&yJ("message-popup",C7("Message reactions","Message Reactions Modal","bp-better-messages"),a.createElement(wJ,{threadId:t.thread_id,messageId:t.message_id}),!0)}},a.createElement(VA,{emoji:o,size:13,useImportant:!0}),a.createElement("span",{className:"bm-reaction-count"},e.users.length))}))),!C&&R&&a.createElement(uM,{message_id:Number(t.message_id),reference:m})),"modern"===e.template&&V,z.length>0&&(0,kE.createPortal)(a.createElement($j,{style:{zIndex:"10000"},id:"context-menu-message-"+t.message_id,animation:!1,onVisibilityChange:function(e){b(e)}},z.map((function(e){return a.createElement(Wj,{key:e.key,onClick:e.action},e.icon,a.createElement("span",{style:{marginLeft:"5px"}},e.label))})),a.createElement("span",{id:"context-menu-message-"+t.message_id,style:{display:"none"}})),document.querySelector("body"))))}function TJ(e,t){var n=!0;return zk()(e.message,t.message)||(n=!1),zk()(e.thread,t.thread)||(n=!1),zk()(e.fromBlocked,t.fromBlocked)||(n=!1),n}const PJ=a.memo(AJ,TJ);function jJ(e){var t=(0,a.useContext)(gj).setAction,n="message_"+e.message.message_id;return e.message.tmpId&&(n="message_"+e.message.tmpId),a.createElement(PJ,{key:"message-item-content-"+n,fromBlocked:e.fromBlocked,template:e.template,message:e.message,thread:e.thread,setAction:t})}function MJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O9){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var BJ=function(e){S(n,e);var t=MJ(n);function n(e){var r;return u(this,n),p(F(r=t.call(this,e)),"interval",void 0),p(F(r),"style",void 0),r}return d(n,[{key:"componentDidMount",value:function(){var e=this;this.props.style?this.style=this.props.style:this.style="short",this.interval=window.setInterval((function(){e.forceUpdate()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return a.createElement(a.Fragment,null,this.props.time.toRelative({style:this.style}))}}]),n}(a.Component);function NJ(e){var t,n=e.thread,r=e.stack,o="bm-messages-stack",i=pJ();(0,a.useEffect)((function(){return document.addEventListener("better-message-settings-changed",i),function(){document.removeEventListener("better-message-settings-changed",i)}}),[]),n&&(t=n.participantsCount<=2);var s=yS(r[0].sender_id),u=w7.template,c=w7.layout,l=n&&n.moderators&&n.moderators.length>0&&n.moderators.includes(r[0].sender_id);n&&"chat-room"===n.type&&("default"!==n.chatRoom.template&&(u=n.chatRoom.template),"default"!==n.chatRoom.modernLayout&&(c=n.chatRoom.modernLayout)),"standard"===u?Number(r[0].sender_id)===_J()?o+=" outgoing":o+=" incoming":"leftAll"===c?Number(r[0].sender_id)===_J()?o+=" outgoing bm-left-side":o+=" incoming bm-left-side":"left"===c?Number(r[0].sender_id)===_J()?o+=" outgoing bm-left-side":o+=" incoming bm-right-side":"right"===c&&(Number(r[0].sender_id)===_J()?o+=" outgoing bm-right-side":o+=" incoming bm-left-side");var f,d=s&&1===s.blocked,p=!0;return!t||"hide_private"!==w7.avatars&&"hide"!==w7.avatars||(p=!1),t||"hide_groups"!==w7.avatars&&"hide"!==w7.avatars||(p=!1),p||(o+=" bm-hide-avatars"),d&&(o+=" bm-stack-hidden"),"stack"===w7.datePosition&&(f=a.createElement(kC,{content:r[0].date_sent.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},a.createElement("span",{className:"bm-time"},a.createElement(BJ,{time:r[0].date_sent.toLocal(),style:"long"})))),a.createElement("div",{className:o},p&&a.createElement("div",{className:"bm-pic"},a.createElement(zS,{size:35,user_id:r[0].sender_id})),a.createElement("div",{className:"bm-content"},a.createElement("div",{className:"bm-info"},a.createElement(hF,{user_id:r[0].sender_id,moderator:l}),f),a.createElement("ul",{className:"bm-messages-listing"},r.map((function(e){var t="message_"+e.message_id;return e.tmpId&&(t="message_"+e.tmpId),a.createElement(jJ,{fromBlocked:d,template:u,key:t,thread:n,message:e})})))))}function RJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RJ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const LJ=(0,a.memo)((function(e){e=IJ(IJ({},{placeholder:!1,inRouter:!1}),e);var t=(0,a.useRef)(null),r=e.threadId,i=e.thread;t.current=r;var s=(0,a.useRef)(),u=null;if(ew()){var c=k(EM(),2),l=c[0];c[1];u=Number(l.get("messageId"))}var f=(0,a.useRef)(!1),d=(0,a.useRef)(null),p=k((0,a.useState)(!1),2),h=p[0],m=p[1],v=k((0,a.useState)(!1),2),g=v[0],b=v[1],y=(0,a.useRef)(!1);(0,a.useLayoutEffect)((function(){y.current=g}),[g]);var D=k((0,a.useState)(!1),2),w=D[0],_=D[1],E=(0,a.useRef)(!1);(0,a.useLayoutEffect)((function(){E.current=w}),[w]);var x=(0,a.useRef)(),C=k((0,a.useState)(!1),2),S=C[0],F=C[1],O=(0,a.useRef)(),A=k((0,a.useState)(!1),2),T=A[0],P=A[1],j=(0,a.useRef)(),M=Co.now().year,B=Co.now().toISODate(),N=Co.now().minus({day:1}).toISODate(),R=k((0,a.useState)(!0),2),I=R[0],L=R[1],z=k((0,a.useState)(!1),2),q=z[0],U=z[1],H=(0,a.useRef)(!1);(0,a.useLayoutEffect)((function(){H.current=q}),[q]);var $=(0,a.useRef)(!1),W=(0,a.useRef)(!1),K=k((0,a.useState)(null),2),G=K[0],Y=K[1],Z=(0,a.useRef)(),X=(0,a.useRef)(),J=(0,a.useRef)(),Q=(0,a.useRef)(),ee=k((0,a.useState)(null),2),te=ee[0],ne=ee[1],re=(0,a.useRef)(),oe=function(e){var t=k((0,a.useState)(jP.has(e)),2),n=t[0],r=t[1];return(0,a.useLayoutEffect)((function(){var t;return 0===e?r(!0):(r(jP.has(e)),t=MP.subscribe({next:function(t){t===e&&r(jP.has(e))}})),function(){t&&t.unsubscribe()}}),[e]),n}(r),ae=function(e,t,n){var r=k((0,a.useState)(null),2),o=r[0],i=r[1],s=k((0,a.useState)(0),2),u=s[0],c=s[1];return(0,a.useLayoutEffect)((function(){var n,r;if("loading"===e)i(null);else{var o={selector:{thread_id:e},sort:[{message_id:"desc"}],limit:20};t&&(o={selector:{$or:[{message_id:{$gte:t}},{message_id:{$type:"string"}}],thread_id:e},sort:[{message_id:"desc"}]});var a=J5.messages.find(o);n=a.$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),i(t)})),r=jC.subscribe({next:function(t){t===e&&c((function(e){return e+1}))}})}return function(){n&&n.unsubscribe(),r&&r.unsubscribe()}}),[e,t]),"loading"===e?null:(0,a.useMemo)((function(){return IC(o,e)}),[u,o,e])}(r,te);(0,a.useEffect)((function(){re.current=te}),[te]);var ie=(0,a.useRef)(!1),se=(0,a.useRef)(null),ue=function(e){e&&Q.current&&(Z.current=Q.current.scrollHeight,X.current=Q.current.scrollTop),ne(e)},ce=function(){ie.current||(clearTimeout(se.current),se.current=setTimeout((function(){ie.current=!0}),1e3))};(0,a.useEffect)((function(){ie.current=!1,le.current=!1,fe.current=null,ue(null),ce(),Y(null),m(!1),L(!0),_(!1),b(!1),U(!1),Se(!0,!0)}),[r]);var le=(0,a.useRef)(!1);(0,a.useEffect)((function(){$.current=!q||I}),[I,q]),(0,a.useEffect)((function(){return s.current&&pe(s.current.osViewPort()),function(){he()}}),[s.current]);var fe=(0,a.useRef)(null),de=(0,a.useRef)(null);(0,a.useEffect)((function(){if(j.current&&j.current.update(),d.current&&(be(d.current),d.current=null),J.current&&Z.current&&!W.current){var e=Z.current,t=Q.current.scrollHeight;De(e,t)}if(ae)if(h||m(!0),de.current!==r&&(fe.current=null,de.current=null),de.current=r,fe.current){var n=!1;s.current.osViewPort().querySelectorAll(".bm-message").forEach((function(e){var t=Number(e.dataset.id);if(t>fe.current){fe.current=t,n=!0;var r=e.querySelector(".bpbm-gif");r&&r.dispatchEvent(new CustomEvent("bm-play-gif"))}})),n&&Se()}else{var o=V(ae).pop();o&&(fe.current=o.message_id,Se())}if(ie.current||Se(),!re.current&&ae&&ae.length>=20){var a=ae.slice(-Math.abs(20));re.current=Number(a[0].message_id),ne(a[0].message_id)}}),[ae]),(0,a.useEffect)((function(){u&&ae&&ae.length>0&&!f.current&&(f.current=!0,be(u))}),[ae,u]);var pe=function(e){J.current=e;var t=J.current.closest(".bm-messages-list");Q.current=t.querySelector(".os-viewport"),Se(!0),Q.current.addEventListener("scroll",we),t.addEventListener("click",me),t.addEventListener("touchstart",me),t.addEventListener("wheel",me)},he=function(){if(J.current){var e=J.current.closest(".bm-messages-list");Q.current.removeEventListener("scroll",we),e.removeEventListener("click",me),e.removeEventListener("touchstart",me),e.removeEventListener("wheel",me),J.current=null,Q.current=null}},me=function(){U(!0)},ve=(0,a.useMemo)((function(){return kM(ae,G)}),[ae,G]).dates,ge=function(){var e=n(o().mark((function e(t){var n,r,a,i,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:60,r=Q.current.querySelector('.bm-message[data-id="'+t+'"]')){e.next=4;break}return e.abrupt("return");case 4:U(!0),$.current=!1,W.current=!0,a=Q.current.getBoundingClientRect().top,i=r.getBoundingClientRect().top,s=Q.current.scrollTop+(i-a)-n,Q.current.scroll({top:s,behavior:"smooth"}),setTimeout((function(){W.current=!1}),500);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=n(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=16;break}if(!(ae.filter((function(e){return e.message_id===n})).length>0)){e.next=5;break}!re.current||Number(re.current)>Number(n)?(ue(n),d.current=n):Q.current&&ge(n),e.next=16;break;case 5:return e.next=7,WC(n);case 7:if(!(r=e.sent)||r.thread_id!==t.current){e.next=13;break}(!re.current||Number(re.current)>Number(n))&&ue(n),d.current=n,e.next=16;break;case 13:return d.current=n,e.next=16,Ee(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=(0,a.useRef)(!1),De=function(e,t){if(ye.current&&!$.current){var n=t-e;0!==n&&(Q.current.scrollTo({top:X.current+n,behavior:"auto"}),ye.current=!1)}},we=function(e){P(!0),clearTimeout(O.current),O.current=window.setTimeout((function(){P(!1)}),1e3),ie.current&&H.current&&!W.current&&_e()},_e=function(){if(Q.current){var e=Q.current,t=Math.abs(e.scrollTop),n=e.scrollHeight-t-e.clientHeight;t<=100&&Ee(),n>500&&$.current?L(!1):n<=100&&!$.current&&L(!0)}},Ee=function(){var e=n(o().mark((function e(){var t,n,a,i,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:null,!E.current&&!y.current){e.next=3;break}return e.abrupt("return");case 3:if(_(!0),L(!1),!t){e.next=10;break}return e.next=8,ke(t);case 8:e.next=22;break;case 10:return e.next=12,UC(r);case 12:if(n=e.sent,!((a=n.filter((function(e){return"string"==typeof e.message_id||e.message_id<re.current}))).length>0)){e.next=20;break}i=V(a).slice(-Math.abs(30)).shift(),ye.current=!0,ue(Number(i.message_id)),e.next=22;break;case 20:return e.next=22,ke();case 22:setTimeout((function(){_(!1)}),100);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=(0,a.useRef)(!1),ke=function(){var e=n(o().mark((function e(){var n,r,a,i,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>0&&void 0!==c[0]?c[0]:null,r=c.length>1&&void 0!==c[1]?c[1]:"more",0!==t.current){e.next=4;break}return e.abrupt("return");case 4:if(!xe.current&&!g){e.next=6;break}return e.abrupt("return");case 6:return xe.current=!0,e.next=9,HC(t.current);case 9:return a=e.sent,i={},("more"===r||"until"===r)&&(i={loaded:a,to:n,mode:r}),e.next=14,a7.post("thread/"+t.current+"/loadMore",i);case 14:if(!((s=e.sent).data.messages.length>0)){e.next=21;break}return e.next=18,eS(s.data.messages);case 18:u=V(s.data.messages).pop(),ye.current=!0,ue(u.message_id);case 21:return e.next=23,ES(s.data.users);case 23:"more"===r&&s.data.messages.length<30&&b(!0),xe.current=!1;case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=(0,a.useRef)("auto"),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Q.current&&!(Q.current.clientHeight>=Q.current.scrollHeight||W.current)){if(!t&&!$.current)return!1;var n="auto";e||(n="smooth"),ie.current||(n="auto",ie.current=!0),Ce.current=n,Q.current.scrollTo({top:Q.current.scrollHeight,behavior:n}),F(!0),clearTimeout(x.current),x.current=setTimeout((function(){F(!1)}),1500)}},Fe="bm-list";T&&!S&&(Fe+=" bm-just-scrolled");var Oe=w7.template;e.thread&&"chat-room"===e.thread.type&&"default"!==e.thread.chatRoom.template&&(Oe=e.thread.chatRoom.template);var Ae="bm-messages-list bm-template-"+Oe;q||(Ae+=" not-interacted");var Te=Array.isArray(ae)&&(ae.length>0||oe);return a.createElement(a.Fragment,null,a.createElement("div",{className:Ae,role:"application",onClick:function(){q||U(!0)}},a.createElement(RG,{ref:s,events:{updated:function(e,t){t.updateHints.directionChanged||t.updateHints.hostMutation||(Se(),ce())}},onWheel:function(){q||U(!0)},classes:Fe},e.placeholder&&a.createElement("div",{className:"empty-thread"},a.createElement(cT,null),a.createElement("span",null,x7("Write a message to start the conversation","bp-better-messages"))),!e.placeholder&&a.createElement(a.Fragment,null,!Te&&a.createElement(LZ,null),Te&&a.createElement(a.Fragment,null,0===ve.size&&a.createElement(a.Fragment,null,a.createElement("div",{className:"empty-thread"},a.createElement(cT,null),a.createElement("span",null,x7("Write a message to start the conversation","bp-better-messages")))),ve.size>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-conversation-start",key:"bm-conversation-start-"+i.thread_id},w&&a.createElement("span",null,C7("Loading...","Label at the start of messages list in conversation while loading","bp-better-messages")),!1===w&&g&&a.createElement("span",null,C7("Start of conversation","Label at the start of messages list in conversation","bp-better-messages"))),Array.from(ve.entries()).map((function(e){var t,n=k(e,2),r=n[0],o=n[1],s=Co.fromISO(r),u=s.toISODate();return t=u===B?C7("Today","Messages stack date (today)","bp-better-messages"):u===N?C7("Yesterday","Messages stack date (yesterday)","bp-better-messages"):s.year!==M?s.toLocal().toFormat(C7("MMMM d, y","Messages stack date (previous years) https://moment.github.io/luxon/#/formatting?id=table-of-tokens","bp-better-messages")):s.toLocal().toFormat(C7("MMMM d","Messages stack date (current year) https://moment.github.io/luxon/#/formatting?id=table-of-tokens","bp-better-messages")),a.createElement("div",{className:"bm-date-stack",key:"message_stack_date_"+r},a.createElement(kC,{content:s.toLocal().toLocaleString(Co.DATE_HUGE)},a.createElement("div",{className:"bm-sticky-date"},t)),a.createElement(a.Fragment,{key:"message_stack_date_"+r+"_stacks"},o.map((function(e,t){return a.createElement(a.Fragment,{key:"message_stack_fragment_"+e[0].thread_id+"_"+t},e[0].message_id===G&&a.createElement("div",{className:"bm-unread-messages",key:"unread_messages_"+G},C7("Unread messages","Messages list unread label","bp-better-messages")),i&&a.createElement(NJ,{key:"message_stack_"+e[0].thread_id+"_"+e[0].sender_id+"_"+e[0].date_sent,thread:i,stack:e}))}))))})))))),a.createElement(MH,null,q&&!I&&a.createElement(vq.span,{initial:{bottom:"-100px"},animate:{bottom:"15px"},exit:{bottom:"-100px"},className:"bpbm-scroll-down",onClick:function(){Se(!1,!0)}},a.createElement(XS,null))))," ")}));function zJ(e,t){k2(e,!0,!0,t)}function qJ(){return qJ=n(o().mark((function e(t,r){var i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(r);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(S7(C7("Make %s moderator in this conversation?","Making user a moderator in the conversation","bp-better-messages"),i.name))){e.next=7;break}return e.abrupt("return",!1);case 7:s=new Promise((function(e,a){a7.post("thread/"+t+"/makeModerator",{user_id:r}).then(function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):a(C7("Error while making moderator","Making user a moderator in the conversation","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(Gy(e,C7("Error while making moderator","Making user a moderator in the conversation","bp-better-messages")))}))}));try{$y.promise(s,{pending:{render:function(){return S7(C7("Making %s moderator","Making user a moderator in the conversation","bp-better-messages"),i.name)},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,S7(C7("%s is moderator now","Making user a moderator in the conversation","bp-better-messages"),i.name)))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 9:case"end":return e.stop()}}),e)}))),qJ.apply(this,arguments)}function UJ(){return UJ=n(o().mark((function e(t,r){var i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(r);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(S7(C7("Unmake %s moderator in this conversation?","Unmaking user a moderator in the conversation","bp-better-messages"),i.name))){e.next=7;break}return e.abrupt("return",!1);case 7:s=new Promise((function(e,a){a7.post("thread/"+t+"/unmakeModerator",{user_id:r}).then(function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):a(C7("Error while unmaking moderator","Unmaking user a moderator in the conversation","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(Gy(e,C7("Error while unmaking moderator","Unmaking user a moderator in the conversation","bp-better-messages")))}))}));try{$y.promise(s,{pending:{render:function(){return S7(C7("Unmaking %s moderator","Unmaking user a moderator in the conversation","bp-better-messages"),i.name)},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,S7(C7("%s is not moderator anymore","Unmaking user a moderator in the conversation","bp-better-messages"),i.name)))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 9:case"end":return e.stop()}}),e)}))),UJ.apply(this,arguments)}function VJ(){return VJ=n(o().mark((function e(t,r){var i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(r);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(S7(C7("Remove %s from this conversation?","Remove user from the conversation","bp-better-messages"),i.name))){e.next=7;break}return e.abrupt("return",!1);case 7:s=new Promise((function(e,a){a7.post("thread/"+t+"/removeParticipant",{user_id:r}).then(function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):a(C7("Error while removing participant","Remove participant action","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(Gy(e,C7("Error while removing participant","Remove participant action","bp-better-messages")))}))}));try{$y.promise(s,{pending:{render:function(){return C7("Removing participant","Remove participant action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("Participant removed","Remove participant action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 9:case"end":return e.stop()}}),e)}))),VJ.apply(this,arguments)}function HJ(e){return $J.apply(this,arguments)}function $J(){return $J=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(C7("Are you sure you want to block user from sending you messages?","Block user action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:r=new Promise((function(e,r){a7.post("blockUser",{user_id:t}).then(function(){var a=n(o().mark((function n(a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.data?(kS(t,{blocked:1}),e(!0)):r(C7("Error while blocking user","Block user action","bp-better-messages"));case 1:case"end":return n.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r(Gy(e,C7("Error while blocking user","Block user action","bp-better-messages")))}))}));try{$y.promise(r,{pending:{render:function(){return C7("Blocking user","Block user action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("This user has been blocked","Block user action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 4:case"end":return e.stop()}}),e)}))),$J.apply(this,arguments)}function WJ(e){return KJ.apply(this,arguments)}function KJ(){return KJ=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(C7("Are you sure you want to unblock user from sending you messages?","Unblock user action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:r=new Promise((function(e,r){a7.post("unblockUser",{user_id:t}).then(function(){var a=n(o().mark((function n(a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.data?(kS(t,{blocked:0}),e(!0)):r(C7("Error while unblocking user","Unblock user action","bp-better-messages"));case 1:case"end":return n.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r(Gy(e,C7("Error while unblocking user","Unblock user action","bp-better-messages")))}))}));try{$y.promise(r,{pending:{render:function(){return C7("Unblocking user","Unblock user action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("This user has been unblocked","Unblock user action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 4:case"end":return e.stop()}}),e)}))),KJ.apply(this,arguments)}function GJ(e){var t=pJ(),n=yS(e.user_id,!1),r=TS(e.user_id),o=(0,a.useRef)();return(0,a.useEffect)((function(){o.current&&clearInterval(o.current),!n||r||n.lastActive.startsWith("1970-01-01")||(o.current=window.setInterval((function(){t()}),5e3))}),[n]),a.createElement(a.Fragment,null,n&&a.createElement(a.Fragment,null,r&&a.createElement("div",{className:"last-online online-now"},C7("Online","User online status","bp-better-messages")),!r&&!n.lastActive.startsWith("1970-01-01")&&a.createElement("div",{className:"last-online"},S7(C7("Active %s","User online status (was active ago)","bp-better-messages"),Co.fromFormat(n.lastActive,D7,{zone:"GMT"}).toRelative({style:"short"})))))}function YJ(e){var t=e.userId,n=e.showActions,r=void 0!==n&&n,o=yS(t),i=!!w7.ws;return a.createElement("div",{className:"bm-user-popup"},a.createElement("div",{className:"bm-user-popup-left"},a.createElement("div",{className:"bm-user-popup-avatar"},a.createElement(zS,{user_id:t,size:50,link:!1}))),a.createElement("div",{className:"bm-user-popup-right"},a.createElement("div",{className:"bm-user-popup-user-info"},a.createElement("div",{className:"bm-user-popup-name"},a.createElement(hF,{raw:!0,user_id:t})),i&&a.createElement(GJ,{user_id:t})),r&&a.createElement(a.Fragment,null,o&&a.createElement("div",{className:"bm-user-popup-actions"},o.url&&a.createElement("a",{className:"bm-style-btn",target:"_blank",href:o.url},C7("User profile","Users List","bp-better-messages"))))))}function ZJ(e){var t=e.onClick,n=e.label,r=e.disabled,o=void 0!==r&&r,i=e.classes,s=void 0===i?"":i;return a.createElement("button",{className:"bm-button "+s,onClick:t,disabled:o},n)}function XJ(){return(XJ=n(o().mark((function e(t,n,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/muteUser",{user_id:n,duration:r});case 3:return aM((a=e.sent).data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function JJ(e){var t=e.threadId,n=e.userId,r=k((0,a.useState)(1),2),o=r[0],i=r[1],s=k((0,a.useState)(60),2),u=s[0],c=s[1];return a.createElement("div",{className:"bm-moderation-actions-panel"},a.createElement(YJ,{userId:n}),a.createElement("div",{className:"bm-moderation-actions-form"},a.createElement("label",null,C7("Mute user for","Moderation actions","bp-better-messages")),a.createElement("div",{className:"bm-moderation-actions-row"},a.createElement("div",null,a.createElement("input",{type:"number",placeholder:"",value:o,min:1,max:9999,onChange:function(e){var t=Number(e.target.value);t<1?t=1:t>9999&&(t=9999),i(t)}})),a.createElement("div",null,a.createElement("select",{value:u,onChange:function(e){c(Number(e.target.value))}},a.createElement("option",{value:1},x7("Minutes","bp-better-messages")),a.createElement("option",{value:60},x7("Hours","bp-better-messages")),a.createElement("option",{value:1440},x7("Days","bp-better-messages"))))),a.createElement(ZJ,{onClick:function(){!function(e,t,n){XJ.apply(this,arguments)}(t,n,o*u),DJ("moderation-panel")},classes:"bm-moderation-actions-button",label:C7("Mute","Moderation actions","bp-better-messages")})))}function QJ(){return(QJ=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/unmuteUser",{user_id:n});case 3:return aM((r=e.sent).data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function eQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M11 7h8a1 1 0 0 1 1 1v7c0 .27 -.107 .516 -.282 .696"}},{tag:"path",attr:{d:"M16 16h-11a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h2"}},{tag:"path",attr:{d:"M7 16v4"}},{tag:"path",attr:{d:"M7.5 16l4.244 -4.244"}},{tag:"path",attr:{d:"M13.745 9.755l2.755 -2.755"}},{tag:"path",attr:{d:"M13.5 16l1.249 -1.249"}},{tag:"path",attr:{d:"M16.741 12.759l3.259 -3.259"}},{tag:"path",attr:{d:"M4 13.5l4.752 -4.752"}},{tag:"path",attr:{d:"M17 17v3"}},{tag:"path",attr:{d:"M5 20h4"}},{tag:"path",attr:{d:"M15 20h4"}},{tag:"path",attr:{d:"M17 7v-2"}},{tag:"path",attr:{d:"M3 3l18 18"}}]})(e)}function tQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"rect",attr:{x:"4",y:"7",width:"16",height:"9",rx:"1"}},{tag:"path",attr:{d:"M7 16v4"}},{tag:"path",attr:{d:"M7.5 16l9 -9"}},{tag:"path",attr:{d:"M13.5 16l6.5 -6.5"}},{tag:"path",attr:{d:"M4 13.5l6.5 -6.5"}},{tag:"path",attr:{d:"M17 16v4"}},{tag:"path",attr:{d:"M5 20h4"}},{tag:"path",attr:{d:"M15 20h4"}},{tag:"path",attr:{d:"M17 7v-2"}},{tag:"path",attr:{d:"M7 7v-2"}}]})(e)}function nQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}},{tag:"path",attr:{d:"M16 5l3 3"}}]})(e)}function rQ(){return(rQ=n(o().mark((function e(t,n,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/banUser",{user_id:n,duration:r});case 3:return aM((a=e.sent).data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function oQ(e){var t=e.threadId,n=e.userId,r=k((0,a.useState)(1),2),o=r[0],i=r[1],s=k((0,a.useState)(60),2),u=s[0],c=s[1];return a.createElement("div",{className:"bm-moderation-actions-panel"},a.createElement(YJ,{userId:n}),a.createElement("div",{className:"bm-moderation-actions-form"},a.createElement("label",null,C7("Ban user for","Moderation actions","bp-better-messages")),a.createElement("div",{className:"bm-moderation-actions-row"},a.createElement("div",null,a.createElement("input",{type:"number",placeholder:"",value:o,min:1,max:9999,onChange:function(e){var t=Number(e.target.value);t<1?t=1:t>9999&&(t=9999),i(t)}})),a.createElement("div",null,a.createElement("select",{value:u,onChange:function(e){c(Number(e.target.value))}},a.createElement("option",{value:1},x7("Minutes","bp-better-messages")),a.createElement("option",{value:60},x7("Hours","bp-better-messages")),a.createElement("option",{value:1440},x7("Days","bp-better-messages"))))),a.createElement(ZJ,{onClick:function(){!function(e,t,n){rQ.apply(this,arguments)}(t,n,o*u),DJ("moderation-panel")},classes:"bm-moderation-actions-button",label:C7("Ban","Moderation actions","bp-better-messages")})))}function aQ(){return(aQ=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/unbanUser",{user_id:n});case 3:return aM((r=e.sent).data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function iQ(e){var t=e.thread,n=e.user_id,r=e.isThreadLevelModerator,o=e.isModerator,i=e.muted,s=void 0===i?"":i,u=e.banned,c=void 0===u?"":u,l=yS(n),f=Ij({id:"user-item-context-"+n}),d=f.show,p=f.hideAll,h=[];w7.isAdmin&&"chat-room"===t.type&&!c&&n>0&&(o?h.push({key:"unmake-moderator",label:C7("Remove from moderators","Users List","bp-better-messages"),icon:a.createElement(nF,null),onClick:function(e){!function(e,t){UJ.apply(this,arguments)}(t.thread_id,n)}}):h.push({key:"make-moderator",label:C7("Promote to moderator","Users List","bp-better-messages"),icon:a.createElement(rF,null),onClick:function(e){!function(e,t){qJ.apply(this,arguments)}(t.thread_id,n)}})),l&&1===l.canBlock&&0===l.blocked&&h.push({key:"block-user",label:C7("Block user",'"Block user" Button',"bp-better-messages"),icon:a.createElement(Xj,null),onClick:function(e){HJ(l.user_id)}}),l&&1===l.blocked&&h.push({key:"unblock-user",label:C7("Unblock user",'"Unblock user" Button',"bp-better-messages"),icon:a.createElement(Zj,null),onClick:function(e){WJ(l.user_id)}});var m=!!w7.isAdmin||r;!m||"thread"!==t.type&&"chat-room"!==t.type||(c?h.push({key:"unban-user",label:C7("Unban user","Moderation actions","bp-better-messages"),icon:a.createElement(PT,null),onClick:function(e){!function(e,t){aQ.apply(this,arguments)}(t.thread_id,n)}}):(h.push({key:"remove-participant",label:C7("Kick participant","Remove user from the conversation","bp-better-messages"),icon:a.createElement(sT,null),onClick:function(e){!function(e,t){VJ.apply(this,arguments)}(t.thread_id,n)}}),"chat-room"===t.type&&(s?h.push({key:"unmute-user",label:C7("Unmute user","Moderation actions","bp-better-messages"),icon:a.createElement(eQ,null),onClick:function(e){!function(e,t){QJ.apply(this,arguments)}(t.thread_id,n)}}):h.push({key:"mute-user",label:C7("Mute user","Moderation actions","bp-better-messages"),icon:a.createElement(tQ,null),onClick:function(e){yJ("moderation-panel",C7("Mute user","Moderation actions","bp-better-messages"),a.createElement(JJ,{threadId:t.thread_id,userId:n}))}}),h.push({key:"ban-user",label:C7("Ban user","Moderation actions","bp-better-messages"),icon:a.createElement(PT,null),onClick:function(e){yJ("moderation-panel",C7("Ban user","Moderation actions","bp-better-messages"),a.createElement(oQ,{threadId:t.thread_id,userId:n}))}}))));var v=[];return n<0&&v.push(a.createElement("span",null," ",C7("Anonymous User","Not logged-in user","bp-better-messages"))),m&&(s&&v.push(a.createElement("span",null,S7(C7("Muted until %s","Moderation actions","bp-better-messages"),s))),c&&v.push(a.createElement("span",null," ",S7(C7("Banned until %s","Moderation actions","bp-better-messages"),c)))),a.createElement("div",{className:"user threads-list-item not-clickable"},a.createElement("div",{className:"pic"},a.createElement(zS,{user_id:n,size:30})),a.createElement(hF,{user_id:n,moderator:o}),v.length>0&&a.createElement(a.Fragment,null,a.createElement("span",{className:"threads-list-item-note"},v)),n!==w7.user_id&&a.createElement("div",{className:"actions"},!AC()&&a.createElement(a.Fragment,null,!w7.callRestrict&&l&&!!l.canAudio&&a.createElement(kC,{content:C7("Audio Call","Users List","bp-better-messages")},a.createElement("span",{onClick:function(e){e.stopPropagation(),zJ(l.user_id,"audio")},className:"bpbm-audio-call"},a.createElement(uT,null))),!w7.callRestrict&&l&&!!l.canVideo&&a.createElement(kC,{content:C7("Video Call","Users List","bp-better-messages")},a.createElement("span",{onClick:function(e){e.stopPropagation(),zJ(l.user_id,"video")},className:"bpbm-video-call"},a.createElement(ET,null)))),h.length>0&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("More",'"Additional options" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"bm-more-actions",onClick:function(e){e.preventDefault(),e.stopPropagation(),document.querySelector("#user-item-context-"+n)?p():d({event:e})}},a.createElement(uF,null))),(0,kE.createPortal)(a.createElement($j,{style:{zIndex:"1000"},animation:!1,id:"user-item-context-"+n},h.map((function(e){return a.createElement(Wj,{key:e.key,onClick:e.onClick},e.icon&&a.createElement(a.Fragment,null,e.icon),a.createElement("span",{style:{marginLeft:e.icon?5:0}},e.label))})),a.createElement("span",{id:"user-item-context-"+n,className:"user-item-context-menu",style:{display:"none"}})),document.querySelector("body")))))}function sQ(e){var t=e.thread,n=e.parent,r=k((0,a.useState)("all"),2),o=r[0],i=r[1],s=k((0,a.useState)(50),2),u=s[0],c=s[1],l=n.closest(".bm-thread-settings-container");(0,a.useEffect)((function(){l.addEventListener("scroll",f)}));var f=function(e){l.scrollHeight-l.clientHeight-l.scrollTop<100&&c((function(e){return e+50}))},d=t.permissions&&t.permissions.isModerator||t.moderators&&t.moderators.length>0&&t.moderators.includes(w7.user_id),p=[],h=[],m=t.participants.filter((function(e){return e<0}));if(t.moderators&&t.moderators.length>0&&h.push(a.createElement("span",{key:"filter-moderators",className:"moderators"===o?"bm-active":"",onClick:function(){i("moderators"),c(50)}},C7("Moderators","Users List","bp-better-messages"))),m.length>0&&h.push(a.createElement("span",{key:"filter-guests",className:"guests"===o?"bm-active":"",onClick:function(){i("guests"),c(50)}},C7("Anonymous","Users List","bp-better-messages"))),t.restricted&&(t.restricted.mute&&h.push(a.createElement("span",{key:"filter-muted",className:"muted"===o?"bm-active":"",onClick:function(){i("muted"),c(50)}},C7("Muted","Users List","bp-better-messages"))),t.restricted.ban&&h.push(a.createElement("span",{key:"filter-banned",className:"banned"===o?"bm-active":"",onClick:function(){i("banned"),c(50)}},C7("Banned","Users List","bp-better-messages")))),e.thread.participants){if(p=V(e.thread.participants),a1.map((function(e){var t=p.indexOf(e);-1!==t&&(delete p[t],p.unshift(e))})),"guests"===o&&m.length>0&&(p=p.filter((function(e){return m.includes(e)}))),"chat-room"===t.type&&("moderators"===o&&(p=p.filter((function(e){return t.moderators.includes(e)}))),t.restricted)){if("muted"===o&&t.restricted.mute){var v=Object.keys(t.restricted.mute).map(Number);p=p.filter((function(e){return v.includes(e)}))}"banned"===o&&t.restricted.ban&&(p=Object.keys(t.restricted.ban).map(Number))}p=p.slice(0,u)}return a.createElement("div",{className:"bp-messages-user-list",style:{height:"auto "}},h.length>0&&a.createElement("div",{className:"participants-panel-filters"},a.createElement("span",{className:"all"===o?"bm-active":"",onClick:function(){i("all"),c(50)}},x7("All","bp-better-messages")),h),p&&a.createElement(a.Fragment,null,p.map((function(e){var n=t.moderators&&t.moderators.length>0&&t.moderators.includes(e),r=t.restricted&&t.restricted.mute&&void 0!==t.restricted.mute[e]?t.restricted.mute[e]:"",o=t.restricted&&t.restricted.ban&&void 0!==t.restricted.ban[e]?t.restricted.ban[e]:"";return a.createElement(iQ,{key:"user-list-item-thread-"+e,user_id:e,thread:t,muted:r,banned:o,isModerator:n,isThreadLevelModerator:d})}))))}function uQ(){return(uQ=n(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/changeSubject",{subject:n});case 3:r=e.sent,aM(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function cQ(e,t){return lQ.apply(this,arguments)}function lQ(){return lQ=n(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Promise((function(e,a){a7.post("thread/"+t+"/addParticipant",{user_id:r}).then(function(){var t=n(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):a(C7("Error while adding participants","Add participant action","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(Gy(e,C7("Error while adding participants","Add participant action","bp-better-messages")))}))}));try{$y.promise(i,{pending:{render:function(){return C7("Adding participants","Add participant action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("Participants added","Add participant action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 2:case"end":return e.stop()}}),e)}))),lQ.apply(this,arguments)}function fQ(){return(fQ=n(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,a7.get("suggestions",{params:{search:t,threadId:n}});case 3:return ES((a=e.sent).data),a.data.map((function(e){r.push({value:e.user_id})})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dQ(e){var t=k((0,a.useState)([]),2),r=t[0],i=t[1],s=k((0,a.useState)(!1),2),u=s[0];s[1];return a.createElement("div",{className:"bm-add-participant-panel"},a.createElement(SZ,{autoFocus:!0,defaultMenuIsOpen:!1,className:"bm_user_selector",classNamePrefix:"bm_user_selector",isMulti:!0,placeholder:C7("Start typing to search members","Add Participants Panel","bp-better-messages"),loadOptions:function(t){return function(e,t){return fQ.apply(this,arguments)}(t,e.threadId)},onChange:function(e,t){i(e.map((function(e){return e.value})))},components:{ValueContainer:function(e){return a.createElement(a.Fragment,null,a.createElement(dH.ValueContainer,e))},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MultiValueLabel:function(e){return a.createElement(a.Fragment,{key:"user_"+e.data.value},a.createElement(zS,{key:"label_avatar_"+e.data.value,user_id:e.data.value,link:!1,size:20})," ",a.createElement(hF,{key:"label_username_"+e.data.value,link:!1,user_id:e.data.value}))},NoOptionsMessage:function(e){return a.createElement("div",{className:"bm_user_selector__menu-notice bm_user_selector__menu-notice--no-options"},u&&C7("Loading...","Add Participants Panel","bp-better-messages"),!u&&C7("No members found","Add Participants Panel","bp-better-messages"))},LoadingMessage:function(e){return a.createElement("div",{className:"bm_user_selector__menu-loading"},C7("Loading...","Add Participants Panel","bp-better-messages"))},Option:AZ}}),a.createElement("div",{className:"bm-action-buttons"},a.createElement(ZJ,{onClick:n(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,cQ(e.threadId,r);case 3:DJ("add-participant"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])}))),label:C7("Add participants","Add Participants Panel","bp-better-messages"),disabled:0===r.length})))}function pQ(){return(pQ=n(o().mark((function e(t,n,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("thread/"+t+"/changeMeta",{key:n,value:r});case 3:a=e.sent,aM(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Yy(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function hQ(){var e,t=(0,a.useContext)(gj).thread,n=(0,a.createRef)(),r=k((0,a.useState)(null),2),o=r[0],i=r[1],s=k((0,a.useState)(t.subject),2),u=s[0],c=s[1],l=k((0,a.useState)(!1),2),f=l[0],d=l[1];(0,a.useEffect)((function(){i(n.current)}),[n]);var p=t.permissions&&t.permissions.isModerator;p&&"thread"===t.type&&(e=a.createElement("div",{className:"bpbm-thread-options"},a.createElement("div",{className:"bpbm-thread-option"},a.createElement("div",{className:"bpbm-thread-option-toggle"},a.createElement("label",{htmlFor:"rename_thread"},C7("Change conversation subject","Conversation Settings","bp-better-messages")),a.createElement("input",{id:"rename_thread",type:"text",onChange:function(e){c(e.target.value),d(!0)},value:u})),f&&a.createElement("div",{className:"bpbm-thread-option-description bpbm-change-subject-div"},a.createElement("button",{onClick:function(){!function(e,t){uQ.apply(this,arguments)}(t.thread_id,u)}},C7("Change subject","Conversation Settings","bp-better-messages")))),a.createElement("div",{className:"bpbm-thread-option"},a.createElement("div",{className:"bpbm-thread-option-toggle"},a.createElement("input",{id:"allow_invite",className:"bpbm-checkbox",type:"checkbox",value:"yes",onChange:function(e){!function(e,t,n){pQ.apply(this,arguments)}(t.thread_id,"allow_invite",e.target.checked?"yes":"no")},defaultChecked:t.meta.allowInvite}),a.createElement("label",{htmlFor:"allow_invite"},C7("Allow conversation members to invite other members","Conversation Settings","bp-better-messages"))),a.createElement("div",{className:"bpbm-thread-option-description"},C7("When enabled, conversation participants will be able to add other users to conversation.","Conversation Settings","bp-better-messages")))));var h=O7("better_messages_participants_list_after","",t);return a.createElement(vq.div,{initial:{height:0},animate:{height:"100%"},exit:{height:"0"},className:"bm-thread-settings-container",onScroll:function(){}},e&&a.createElement("div",{className:"bm-thread-settings"},a.createElement("h4",null,C7("Conversation settings","Conversation Settings","bp-better-messages")),e),a.createElement("div",{ref:n,className:"participants-panel"},a.createElement("h4",{className:"bm-thread-add-participant-title"},C7("Participants","Conversation Settings","bp-better-messages"),t.permissions&&t.permissions.isModerator&&"thread"===t.type&&a.createElement(kC,{content:C7("Add new participant","Conversation Settings","bp-better-messages")},a.createElement("span",{onClick:function(){yJ("add-participant",C7("Add new participant","Conversation Settings","bp-better-messages"),a.createElement(dQ,{threadId:t.thread_id}))},className:"bm-thread-add-participant"},a.createElement(iT,{className:"bm-svg"})))),o&&a.createElement(sQ,{thread:t,isModerator:p,parent:o})),""!==h&&Gb(h))}function mQ(e,t){var n="bp-better-messages-mini-mobile-container";e.id===n&&(e.style.display="none"),window.location.hash=null,t(!1),e.id===n&&(e.innerHTML="")}function vQ(e){return gQ.apply(this,arguments)}function gQ(){return gQ=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(x7("Are you sure you want to mute this conversation?","bp-better-messages"))&&a7.post("thread/"+t+"/mute").then(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:WP(t,{"permissions.isMuted":!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ky(e)})).then((function(){}));case 2:case"end":return e.stop()}}),e)}))),gQ.apply(this,arguments)}function bQ(e){return yQ.apply(this,arguments)}function yQ(){return yQ=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(x7("Are you sure you want to unmute this conversation?","bp-better-messages"))&&a7.post("thread/"+t+"/unmute").then(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:WP(t,{"permissions.isMuted":!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ky(e)})).then((function(){}));case 2:case"end":return e.stop()}}),e)}))),yQ.apply(this,arguments)}function DQ(e){return wQ.apply(this,arguments)}function wQ(){return wQ=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Promise((function(e,r){a7.post("thread/"+t+"/clearMessages").then(function(){var a=n(o().mark((function n(a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.data?(e(!0),ZC(t)):r(C7("Error while clearing messages","Clear Messages Action","bp-better-messages"));case 1:case"end":return n.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r(C7("Error while clearing messages","Clear Messages Action","bp-better-messages"))}))}));try{$y.promise(r,{pending:{render:function(){return C7("Clearing messages","Clear Messages Action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("Messages cleared","Clear Messages Action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 2:case"end":return e.stop()}}),e)}))),wQ.apply(this,arguments)}function _Q(e){return EQ.apply(this,arguments)}function EQ(){return EQ=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Promise((function(e,r){a7.post("thread/"+t+"/erase").then(function(){var a=n(o().mark((function n(a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.data?(e(!0),ZP(t)):r(C7("Error while deleting conversation","Delete Conversation Action","bp-better-messages"));case 1:case"end":return n.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r(C7("Error while deleting conversation","Delete Conversation Action","bp-better-messages"))}))}));try{$y.promise(r,{pending:{render:function(){return C7("Deleting conversation","Delete Conversation Action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("Conversation deleted","Delete Conversation Action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 2:case"end":return e.stop()}}),e)}))),EQ.apply(this,arguments)}function xQ(e){return kQ.apply(this,arguments)}function kQ(){return(kQ=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("/chat/"+t+"/leave");case 3:n=e.sent,r=n.data,A7("better_messages_chat_room_leave",r,t),aM(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Yy(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function CQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-1.846.634-3.542 1.688-4.897l11.209 11.209A7.946 7.946 0 0 1 12 20c-4.411 0-8-3.589-8-8zm14.312 4.897L7.103 5.688A7.948 7.948 0 0 1 12 4c4.411 0 8 3.589 8 8a7.954 7.954 0 0 1-1.688 4.897z"}}]})(e)}function SQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2.586 15.408 4.299 4.299a.996.996 0 0 0 .707.293h12.001v-2h-6.958l7.222-7.222c.78-.779.78-2.049 0-2.828L14.906 3a2.003 2.003 0 0 0-2.828 0l-4.75 4.749-4.754 4.843a2.007 2.007 0 0 0 .012 2.816zM13.492 4.414l4.95 4.95-2.586 2.586L10.906 7l2.586-2.586zM8.749 9.156l.743-.742 4.95 4.95-4.557 4.557a1.026 1.026 0 0 0-.069.079h-1.81l-4.005-4.007 4.748-4.837z"}}]})(e)}function FQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217 28.098v455.804l142-42.597V70.697zm159.938 26.88l.062 2.327V87h16V55zM119 55v117.27h18V73h62V55zm258 50v16h16v-16zm0 34v236h16V139zm-240 58.727V233H41v46h96v35.273L195.273 256zM244 232c6.627 0 12 10.745 12 24s-5.373 24-12 24-12-10.745-12-24 5.373-24 12-24zM137 339.73h-18V448h18zM377 393v14h16v-14zm0 32v23h16v-23zM32 471v18h167v-18zm290.652 0l-60 18H480v-18z"}}]})(e)}function OQ(e){return AQ.apply(this,arguments)}function AQ(){return AQ=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(C7("Are you sure you want to leave this conversation?","Leave conversation action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:r=new Promise((function(e,r){a7.post("thread/"+t+"/leaveThread").then(function(){var a=n(o().mark((function n(a){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.data?(ZP(t),e(!0)):r(C7("Error while leaving conversation","Leave conversation action","bp-better-messages"));case 1:case"end":return n.stop()}}),n)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r(Gy(e,C7("Error while leaving conversation","Leave conversation action","bp-better-messages")))}))}));try{$y.promise(r,{pending:{render:function(){return C7("Leaving conversation","Leave conversation action","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-message"},a.createElement("p",null,C7("You left the conversation","Leave conversation action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(O9){Yy(O9)}case 4:case"end":return e.stop()}}),e)}))),AQ.apply(this,arguments)}function TQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4.929 19.071A9.969 9.969 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10H2l2.929-2.929zM11 6v12h2V6h-2zM7 9v6h2V9H7zm8 0v6h2V9h-2z"}}]}]})(e)}function PQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.455 19L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455zM14 10.25V8H7v6h7v-2.25L17 14V8l-3 2.25z"}}]}]})(e)}function jQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"}}]}]})(e)}function MQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 10.828l-4.95 4.95-1.414-1.414L12 8l6.364 6.364-1.414 1.414z"}}]}]})(e)}function BQ(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-4.586 6l1.768 1.768-1.414 1.414L12 15.414l-1.768 1.768-1.414-1.414L10.586 14l-1.768-1.768 1.414-1.414L12 12.586l1.768-1.768 1.414 1.414L13.414 14zM9 4v2h6V4H9z"}}]}]})(e)}function NQ(e){return RQ.apply(this,arguments)}function RQ(){return RQ=n(o().mark((function e(t){var n,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,wS(t);case 3:(r=e.sent)&&N2(r.url,n);case 5:case"end":return e.stop()}}),e)}))),RQ.apply(this,arguments)}function IQ(e){return LQ.apply(this,arguments)}function LQ(){return LQ=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Promise((function(e,r){a7.post("thread/"+t+"/delete").then(function(){var r=n(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ZP(t),e(!0);case 2:case"end":return n.stop()}}),n)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){r(e.response.data.message)}))})),$y.promise(r,{pending:{render:function(){return C7("Deleting conversation","Thread deleting","bp-better-messages")},theme:"dark"},success:{render:function(){return a.createElement("div",{className:"bm-deleted-thread"},a.createElement("p",null,C7("Conversation deleted","Thread deleting","bp-better-messages"),a.createElement("br",null),a.createElement("span",{onClick:function(){xY(t)},className:"bm-deleted-thread-restore"},C7("Restore?","Thread deleting","bp-better-messages"))))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gb(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:1e4,theme:"colored",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)}))),LQ.apply(this,arguments)}function zQ(e){return qQ.apply(this,arguments)}function qQ(){return qQ=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a7.post("thread/"+t+"/makePinned").then(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:WP(t,{isPinned:1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ky(e)})).then((function(){}));case 1:case"end":return e.stop()}}),e)}))),qQ.apply(this,arguments)}function UQ(e){return VQ.apply(this,arguments)}function VQ(){return VQ=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a7.post("thread/"+t+"/unmakePinned").then(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:WP(t,{isPinned:0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ky(e)})).then((function(){}));case 1:case"end":return e.stop()}}),e)}))),VQ.apply(this,arguments)}function HQ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return e&&(n&&e&&"thread"===e.type&&2===e.participantsCount&&t&&t.url&&r.push({key:"unmute",showInThread:!0,showInList:!1,label:C7("Open Member Profile","Mini Chat","bp-better-messages"),icon:a.createElement(QA,null),classes:"bpbm-unmute-conversation",onClick:function(){NQ(t.user_id,!1)},onAuxClick:function(){NQ(t.user_id,!0)}}),e.permissions&&w7.pinning&&(e.isPinned?r.push({key:"pin",showInThread:!1,showInList:!0,tooltip:"",label:C7("Unpin from top",'"Unpin thread" Button',"bp-better-messages"),icon:a.createElement(eF,null),classes:"bm-pin-thread",onClick:function(){UQ(e.thread_id)},onAuxClick:function(){}}):r.push({key:"unpin",showInThread:!1,showInList:!0,tooltip:"",label:C7("Pin to top",'"Pin thread" Button',"bp-better-messages"),icon:a.createElement(eF,null),classes:"bm-unpin-thread",onClick:function(){zQ(e.thread_id)},onAuxClick:function(){}})),!AC()&&e.permissions&&e.permissions.canMuteThread&&(e.permissions.isMuted?r.push({key:"unmute",showInThread:!0,showInList:!0,tooltip:C7("Unmute conversation notifications",'"Unmute thread" Button Tooltip',"bp-better-messages"),label:C7("Unmute conversation",'"Unmute thread" Button',"bp-better-messages"),icon:a.createElement(Qj,null),classes:"bpbm-unmute-conversation",onClick:function(){bQ(e.thread_id)},onAuxClick:function(){}}):r.push({key:"mute",showInThread:!0,showInList:!0,tooltip:C7("Mute conversation notifications",'"Mute thread" Button Tooltip',"bp-better-messages"),label:C7("Mute conversation",'"Mute thread" Button',"bp-better-messages"),icon:a.createElement(eM,null),classes:"bpbm-mute-thread",onClick:function(){vQ(e.thread_id)},onAuxClick:function(){}})),t&&e.permissions&&e.permissions.canBlockUser&&(t.blocked?r.push({key:"block",showInThread:!0,showInList:!0,tooltip:C7("Unblock user",'"Unblock user" Button Tooltip',"bp-better-messages"),label:C7("Unblock user",'"Unblock user" Button',"bp-better-messages"),icon:a.createElement(CQ,null),classes:"bpbm-unblock-user",onClick:function(){WJ(t.user_id)},onAuxClick:function(){}}):r.push({key:"block",showInThread:!0,showInList:!0,tooltip:C7("Block user",'"Block user" Button Tooltip',"bp-better-messages"),label:C7("Block user",'"Block user" Button',"bp-better-messages"),icon:a.createElement(CQ,null),classes:"bpbm-block-user",onClick:function(){HJ(t.user_id)},onAuxClick:function(){}})),e.permissions&&e.permissions.canInvite&&r.push({key:"add-participants",showInThread:!0,showInList:!1,tooltip:C7("Add new participants to current conversation",'"Add new participants" Button Tooltip',"bp-better-messages"),label:C7("Add new participants",'"Add new participants" Button',"bp-better-messages"),icon:a.createElement(Zj,null),classes:"bpbm-invite-conversation",onClick:function(){yJ("add-participant",C7("Add new participant","Conversation Settings","bp-better-messages"),a.createElement(dQ,{threadId:e.thread_id}))},onAuxClick:function(){}}),e.permissions&&e.permissions.canLeave&&r.push({key:"leave-thread",showInThread:!0,showInList:!0,tooltip:C7("Leave this conversation",'"Leave conversation" Button Tooltip',"bp-better-messages"),label:C7("Leave",'"Leave conversation" Button',"bp-better-messages"),icon:a.createElement(FQ,null),classes:"bm-leave-conversation",onClick:function(){OQ(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.deleteAllowed&&r.push({key:"archive-thread",showInThread:!0,showInList:!0,tooltip:C7("Delete conversation",'"Delete thread" Button Tooltip',"bp-better-messages"),label:C7("Delete Conversation","Delete conversation tooltip","bp-better-messages"),icon:a.createElement(IT,null),classes:"bpbm-delete-conversation",onClick:function(){IQ(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.canClearThread&&r.push({key:"clear-thread",showInThread:!0,showInList:!0,tooltip:C7("Delete all messages in this conversation",'"Clear messages" Button Tooltip',"bp-better-messages"),label:C7("Clear messages",'"Clear messages" Button',"bp-better-messages"),icon:a.createElement(SQ,null),classes:"bpbm-clear-conversation",onClick:function(){confirm(C7("Are you sure you want to delete all messages in this conversation? (This action is irreversible)","Clear Messages Action","bp-better-messages"))&&DQ(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.canEraseThread&&"thread"===e.type&&r.push({key:"delete-thread",showInThread:!0,showInList:!0,tooltip:C7("Erase conversation and all messages",'"Erase thread" Button Tooltip',"bp-better-messages"),label:C7("Erase conversation",'"Erase thread" Button',"bp-better-messages"),icon:a.createElement(BQ,null),classes:"bpbm-delete-conversation",onClick:function(){confirm(C7("Are you sure you want to delete this conversation? (This action is irreversible)","Delete Conversation Action","bp-better-messages"))&&_Q(e.thread_id)},onAuxClick:function(){}}),e.chatRoom&&"chat-room"===e.type&&e.chatRoom.isJoined&&!e.chatRoom.autoJoin&&r.push({key:"leave-room",showInThread:!0,showInList:!0,tooltip:C7("Leave chat room",'"Leave Chat Room" Button Tooltip',"bp-better-messages"),label:C7("Leave chat room",'"Leave Chat Room" Button',"bp-better-messages"),icon:a.createElement(mT,null),classes:"bpbm-leave-chat-room",onClick:function(){xQ(e.chatRoom.id)},onAuxClick:function(){}})),r}function $Q(){var e,t=(0,a.useContext)(Dw),n=(t.root,t.isMaximized),r=t.setIsMaximized,o=t.singleFullScreen,i=(0,a.useContext)(gj),s=(i.threadId,i.thread),u=(i.screen,i.setScreen),c=i.call,l=i.groupVideo,f=i.groupAudio,d=ew();d&&(e=rw());var p=(0,a.useRef)(),h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=(0,a.useCallback)((function(e){var t=e.target;p.current&&(p.current.closest(".expandingButtons").contains(t)||v(!1))}),[]);(0,a.useEffect)((function(){document.removeEventListener("click",g)}),[]),(0,a.useEffect)((function(){m?document.addEventListener("click",g):document.removeEventListener("click",g)}),[m]);var b=DS(s),y=!1;s&&(s.participantsCount>=3&&(y=!0),s.adminAccess&&(y=!0));var D=HQ(s,b).filter((function(e){return!0===e.showInThread}));return a.createElement(a.Fragment,null,!w7.callRestrict&&!!s&&s.permissions&&"thread"===s.type&&2===s.participantsCount&&a.createElement(a.Fragment,null,s&&s.permissions.canAudioCall&&a.createElement(kC,{showOnMobile:!1,content:C7("Audio Call",'"Audio Call" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"audio-call",onClick:function(){c.startCall("audio")}},a.createElement(rT,null))),s&&s.permissions.canVideoCall&&a.createElement(kC,{showOnMobile:!1,content:C7("Video Call",'"Video Call" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"video-call",onClick:function(){c.startCall("video")}},a.createElement(oT,null)))),f&&a.createElement(kC,{showOnMobile:!1,content:C7("Audio Chat",'"Audio Chat" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"group-audio-call",onClick:function(){f.startCall()}},a.createElement(TQ,null))),l&&a.createElement(kC,{showOnMobile:!1,content:C7("Video Chat",'"Video Chat" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"group-call",onClick:function(){l.startCall()}},a.createElement(PQ,null))),s&&("thread"===s.type&&y||"group"===s.type||"chat-room"===s.type&&!s.chatRoom.hideParticipants)&&a.createElement(kC,{showOnMobile:!1,content:C7("Participants",'"Participants" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){u("settings")},className:"participants",style:{cursor:"pointer"}},a.createElement(CT,null))),s&&s.permissions.canMinimize&&!Ho()&&!n&&!o&&a.createElement(kC,{showOnMobile:!1,content:C7("Minimize chat",'"Minimize conversation" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){oP(s.thread_id,!0),d&&e("/")},className:"bpbm-minimize"},a.createElement(eT,null))),w7.fullScreen&&a.createElement(a.Fragment,null,!n&&!o&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){r(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),n&&!o&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){r(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))),D.length>0&&a.createElement(kC,{content:C7("More",'"Additional options" Button Tooltip',"bp-better-messages")},a.createElement("div",{className:"expandingButtons"+(m?" expandingButtonsOpen":""),onClick:function(){v(!m)}},a.createElement(uF,null),a.createElement(MH,null,m&&a.createElement(a.Fragment,null,a.createElement(vq.div,{ref:p,initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},exit:{opacity:0},className:"bpbm-dropdown-menu"},D.map((function(e){return a.createElement(kC,{key:e.key,content:e.tooltip},a.createElement("span",{onClick:e.onClick,className:"bpbm-dropdown-item "+e.classes},a.createElement("span",{className:"bpbm-dropdown-item-icon"},e.icon),a.createElement("span",{className:"bpbm-dropdown-item-label"},e.label)))}))))))))}function WQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WQ(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GQ(e){var t=(e=KQ(KQ({},{userIds:[]}),e)).userIds,n=[],r=function(e){if(0===e.length)return[];var t=k((0,a.useState)(null),2),n=t[0],r=t[1];return(0,a.useLayoutEffect)((function(){var t=J5.users.find({selector:{user_id:{$in:e}}}).$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),r(t)}));return function(){t.unsubscribe()}}),[e]),n}(t);return r&&r.length>0&&(n=r.map((function(e){return e.name}))),a.createElement("div",{className:"bm-typing-container"},a.createElement("div",{className:"bm-typing bm-is-typing-active"},a.createElement("span",{className:"bm-typing__bullet"}),a.createElement("span",{className:"bm-typing__bullet"}),a.createElement("span",{className:"bm-typing__bullet"})),a.createElement("div",{className:"bm-typing-text"},0===t.length&&C7("typing","Typing indicator (private conversation)","bp-better-messages"),t.length>0&&n.length>0&&n.length<=2&&a.createElement(a.Fragment,null,S7(k7("%s typing","%s typing",t.length,"Typing indicator (Username 1, Username 2 typing)","bp-better-messages"),n.join(", "))),t.length>0&&0===n.length&&a.createElement(a.Fragment,null,S7(k7("%s typing","%s typing",t.length,"Typing indicator (3 or more typing)","bp-better-messages"),t.length))))}function YQ(e){var t=function(e){var t=k((0,a.useState)(0),2),n=t[0],r=t[1],o=function(e){var t=0;e.map((function(e){FS.has(e)&&t++})),r(t)};return(0,a.useEffect)((function(){o(e);var t=AS.subscribe({next:function(t){e.includes(t)&&o(e)}});return function(){t.unsubscribe()}}),[e]),n}((0,a.useMemo)((function(){var t=[];return e.thread.participants.map((function(e){t.push(e)})),t}),[e.thread.participants]));return a.createElement(a.Fragment,null,a.createElement("div",{className:"group-online"},S7(k7("%s participant","%s participants",e.thread.participantsCount,"Group Thread Participants Count","bp-better-messages"),e.thread.participantsCount),!!t&&t>0&&S7(" ("+C7("%s online","Group Thread Online Participants Count","bp-better-messages")+")",t)))}function ZQ(e){var t=e.typing,n=e.thread,r=pJ();(0,a.useEffect)((function(){return document.addEventListener("better-message-settings-changed",r),function(){document.removeEventListener("better-message-settings-changed",r)}}),[]);var o=!!w7.ws,i=w7.subName,s="hide"===i,u=o&&"online"===i,c=null;if("thread"===n.type)if(2===n.participantsCount){var l=[];o&&t.length>0&&l.push(a.createElement(a.Fragment,{key:"typing-indicator"},a.createElement(GQ,null))),s||0!==t.length||(!0===u&&l.push(a.createElement(a.Fragment,{key:"other-info"},a.createElement(GJ,{user_id:n.participants[0]}))),!1===u&&""!==n.subject.trim()&&l.push(a.createElement(a.Fragment,{key:"other-info"},n.subject))),l.length>0&&(c=a.createElement(a.Fragment,null,l))}else n.participantsCount>=3&&(c=a.createElement(a.Fragment,null,o&&t.length>0&&a.createElement(GQ,{userIds:t}),0===t.length&&a.createElement(YQ,{thread:n})));else("group"===n.type||"chat-room"===n.type)&&(c=a.createElement(a.Fragment,null,o&&t.length>0&&a.createElement(GQ,{userIds:t}),0===t.length&&a.createElement(YQ,{thread:n})));return c?a.createElement("div",{className:"sub-name"},c):null}function XQ(){var e=(0,a.useContext)(Dw),t=e.reactRoot,n=e.root,r=e.callActive,o=e.mobileView,i=e.setMobileView,s=e.singleFullScreen,u=(e.setIsMaximized,(0,a.useContext)(gj)),c=u.threadId,l=u.thread,f=u.screen,d=u.setScreen,p=(u.call,u.groupVideo,u.groupAudio,ew()),h=(0,a.useRef)(),m=(0,a.useRef)();(0,a.useEffect)((function(){return window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}),[]);var v=function(){if(h.current&&m.current){var e=h.current.closest(".chat-header"),t=e.getBoundingClientRect().width,n=Array.from(e.children),r=0;n.map((function(e){e!==h.current&&(r+=e.getBoundingClientRect().width)}));var o=t-r,a=h.current.querySelector(".avatar-group");return a&&(o-=a.getBoundingClientRect().width),o}return null},g=rE(c);if(isNaN(c)||0===c)return a.createElement(a.Fragment,null);var b={},y=v();y&&(b.maxWidth=y);var D=!1;return l&&(l.participantsCount>=3&&(D=!0),l.adminAccess&&(D=!0)),a.createElement(a.Fragment,null,p&&!r&&a.createElement(kC,{showOnMobile:!1,content:C7("Back",'"Back" Button Tooltip',"bp-better-messages")},a.createElement(DM,{to:"/",className:"back"},a.createElement(nT,null))),a.createElement("div",{className:"thread-info",style:b,ref:h},l&&a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,"thread"===l.type&&a.createElement(a.Fragment,null,1===l.participantsCount&&a.createElement(a.Fragment,null,x7("Deleted user","bp-better-messages")),!1===D&&l.participantsCount>1&&a.createElement(a.Fragment,null,a.createElement(zS,{user_id:l.participants[0],size:30}),a.createElement("div",{className:"thread-info-data"},a.createElement(hF,{user_id:l.participants[0]}),a.createElement(ZQ,{typing:g,thread:l}))),!0===D&&a.createElement(a.Fragment,null,a.createElement("div",{className:"avatar-group avatars-count-"+l.participants.length},l.participants.slice(0,4).map((function(e){return a.createElement(zS,{key:"avatar_"+e,user_id:e,size:15})}))),a.createElement("div",{className:"thread-info-data"},""!==l.subject&&a.createElement(a.Fragment,null,a.createElement("div",{className:"name",title:l.title},a.createElement("strong",null,l.subject))),""===l.subject&&a.createElement(a.Fragment,null,S7(k7("%s participant","%s participants",l.participantsCount,"Group Thread Online Count","bp-better-messages"),l.participantsCount)),a.createElement(ZQ,{typing:g,thread:l})))),"group"===l.type&&a.createElement(a.Fragment,null,l.image&&a.createElement("span",{className:"avatar bbpm-avatar"},a.createElement(kC,{showOnMobile:!1,content:S7(C7("Go to <strong>%s</strong>","Links tooltip","bp-better-messages"),l.title)},a.createElement("a",{href:l.url},a.createElement("img",{src:l.image,className:"avatar avatar-30 photo",width:"30",height:"30",alt:l.title})))),a.createElement("div",{className:"thread-info-data"},a.createElement("div",{className:"name"},a.createElement(kC,{showOnMobile:!1,content:S7(C7("Go to <strong>%s</strong>","Links tooltip","bp-better-messages"),l.title)},a.createElement("a",{href:l.url},l.title))),a.createElement(ZQ,{typing:g,thread:l}))),"chat-room"===l.type&&a.createElement(a.Fragment,null,a.createElement("div",{className:"avatar-group"},l.participants.slice(0,4).map((function(e){return a.createElement(zS,{key:"avatar_"+e,user_id:e,size:15})}))),a.createElement("div",{className:"thread-info-data"},a.createElement("div",{className:"name",title:l.title},l.title),a.createElement(ZQ,{typing:g,thread:l})))))),a.createElement("div",{className:"thread-actions",ref:m},!l&&a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"relative",width:"200px",height:"20px",marginRight:"10px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))),"messages"===f&&a.createElement($Q,null),"messages"!==f&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Close",'"Close" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){d("messages")},className:"participants",style:{cursor:"pointer"}},a.createElement(dT,null)))),s&&!r&&a.createElement("span",{className:"bm-close",onClick:function(){document.body.classList.remove("bp-messages-full-screen"),t.unmount(),n.remove()}},a.createElement(aT,{className:"bm-svg"})),o&&"messages"===f&&a.createElement("span",{className:"mobileClose",onClick:function(){mQ(n,i)}},a.createElement(aT,{className:"bm-svg"}))))}function JQ(){var e=(0,a.useContext)(gj),t=e.thread,n=e.groupVideo,r=e.groupAudio,o=[];t&&t.groupCall&&t.permissions&&(t.groupCall.video&&t.permissions.canGroupVideo&&o.push(a.createElement("div",{key:"pinned-item-group-video-call",className:"bpbm-group-call-in-progress bpbm-group-call-type-video"},a.createElement("span",{className:"bpbm-group-call-in-progress-info"},a.createElement(PQ,null),a.createElement("span",{className:"bpbm-group-call-participant-count"},t.groupCall.video)," ",C7("participants are in group video chat","Group Video Chat","bp-better-messages")),a.createElement("span",{className:"bpbm-group-call-in-progress-join"},a.createElement("button",{onClick:function(){n.startCall()}},C7("Join Video Chat","Group Video Chat","bp-better-messages"))))),t.groupCall.audio&&t.permissions.canGroupAudio&&o.push(a.createElement("div",{key:"pinned-item-group-video-call",className:"bpbm-group-call-in-progress bpbm-group-call-type-audio"},a.createElement("span",{className:"bpbm-group-call-in-progress-info"},a.createElement(TQ,null),a.createElement("span",{className:"bpbm-group-call-participant-count"},t.groupCall.audio)," ",C7("participants are in group audio chat","Group Audio Chat","bp-better-messages")),a.createElement("span",{className:"bpbm-group-call-in-progress-join"},a.createElement("button",{onClick:function(){r.startCall()}},C7("Join Audio Chat","Group Audio Chat","bp-better-messages"))))));var i=O7("better_messages_messages_list_before","",t);return a.createElement("div",{className:"bm-before-message-list"},""!==i&&Gb(i),t.threadInfo&&a.createElement("div",{className:"bm-thread-info"},Gb(t.threadInfo)),o.map((function(e){return e})))}function QQ(){return e0.apply(this,arguments)}function e0(){return e0=n(o().mark((function e(){var t,n,r,a,i,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],e.next=3,MA("guest-auth");case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n);case 6:if(!(r=y7.get("bm-guest-auth"))){e.next=11;break}return e.next=10,NA("guest-auth",r);case 10:return e.abrupt("return",r);case 11:if(t){e.next=13;break}return e.abrupt("return",!1);case 13:return e.next=15,Oo().get(window.Better_Messages.restUrl+"guests/register?nocache="+(new Date).getTime());case 15:if(a=e.sent,!(i=a.data)){e.next=24;break}return e.next=20,NA("guest-auth",a.data);case 20:y7.set("bm-guest-auth",a.data),window.Better_Messages.guestAuth=i,j7(window.Better_Messages,!0),ES([structuredClone(a.data.user)]);case 24:return e.abrupt("return",a.data);case 25:case"end":return e.stop()}}),e)}))),e0.apply(this,arguments)}function t0(e){return n0.apply(this,arguments)}function n0(){return(n0=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!AC()){e.next=4;break}return e.next=4,QQ(!0);case 4:return e.next=6,a7.post("/chat/"+t+"/join");case 6:n=e.sent,r=n.data,A7("better_messages_chat_room_join",r.result,t),aM(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Yy(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function r0(e){return o0.apply(this,arguments)}function o0(){return o0=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a7.post(window.Better_Messages.restUrl+"guests/update",t);case 2:if(n=e.sent,!(r=n.data)){e.next=11;break}return e.next=7,NA("guest-auth",n.data);case 7:y7.set("bm-guest-auth",n.data),window.Better_Messages.guestAuth=r,j7(window.Better_Messages),ES([n.data.user]);case 11:return e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)}))),o0.apply(this,arguments)}function a0(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=(0,a.useRef)(),r=k((0,a.useState)(""),2),i=r[0],s=r[1],u=k((0,a.useState)(!1),2),c=u[0],l=u[1];return(0,a.useEffect)((function(){MA("guest-auth",!1).then((function(e){t.current=e,s(e.name)}))}),[]),(0,a.useEffect)((function(){t.current&&t.current.name!==i?l(!0):l(!1)}),[i]),a.createElement("div",{className:"bm-guest-settings-modal"},a.createElement("div",{className:"bm-guest-settings"},a.createElement("div",{className:"bm-guest-settings-form"},a.createElement("div",{className:"bm-guest-settings-form-input"},a.createElement("label",null,x7("Display Name","bp-better-messages")),a.createElement("input",{type:"text",value:i,onChange:function(e){s(e.target.value)}})),a.createElement("div",{className:"bm-guest-settings-form-input"},a.createElement("button",{className:"bm-button",disabled:!c,onClick:n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r0({name:i});case 2:DJ("guest-settings-panel");case 3:case"end":return e.stop()}}),e)})))},x7("Save","bp-better-messages"))))))}function i0(){var e=IA("guest-auth",!1);return e?a.createElement("div",{className:"bm-guest-info"},a.createElement("div",{className:"bm-guest-info-label"},mJ("Chatting as","Not logged-in user","bp-better-messages")," ",a.createElement("strong",null,e.name),a.createElement("span",{className:"bm-open-guest-settings",onClick:function(){yJ("guest-settings-panel",mJ("Guest Settings","Moderation actions","bp-better-messages"),a.createElement(a0,null))}},"(",x7("Change","bp-better-messages"),")")),a.createElement("div",{className:"bm-guest-info-actions"},a.createElement("a",{href:w7.loginUrl},x7("Login","bp-better-messages")),w7.registerUrl&&a.createElement("a",{href:w7.registerUrl},x7("Register","bp-better-messages")))):null}function s0(e){var t=e.thread,r=k((0,a.useState)(!1),2),i=r[0],s=r[1];return a.createElement(ZJ,{label:t.chatRoom.guestButtonText,classes:"bpbm-join-to-chat-button",disabled:i,onClick:n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,t0(t.chatRoom.id);case 3:s(!1);case 4:case"end":return e.stop()}}),e)})))})}const u0=(0,a.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threadId:null,initialAnimation:!0},t=(0,a.useContext)(Dw),r=t.useRouter,i=e.initialAnimation?"100%":"0%",s=null;r&&(s=rw());var u,c=ow();"loading"!==(u=e.threadId?e.threadId:Number(c.threadId))&&(u=Number(u)),"loading"!==u&&isNaN(u)&&(u=0);var l=(0,a.useState)("messages"),f=k(l,2),d=f[0],p=f[1],h=(0,a.useState)(!1),m=k(h,2),v=m[0],g=(m[1],(0,a.useContext)(Dw)),b=g.root,y=g.callActive,D=a.createRef(),w=(0,a.useState)(null),_=k(w,2),E=_[0],x=_[1],C=a.createRef(),S=(0,a.useState)(null),F=k(S,2),O=F[0],A=F[1],T=(0,a.useState)(!1),P=k(T,2),j=P[0],M=P[1],B=(0,a.useState)(!Ho()),N=k(B,2),R=N[0],I=(N[1],(0,a.useState)(null)),L=k(I,2),z=L[0],q=L[1],U=a.createRef();(0,a.useEffect)((function(){q(U.current)}),[U]);var V=(0,a.useState)(null),H=k(V,2),$=H[0],W=H[1],K=a.createRef();(0,a.useEffect)((function(){W(K.current)}),[K]);var G=(0,a.useState)(null),Y=k(G,2),Z=Y[0],X=Y[1],J=a.createRef();(0,a.useEffect)((function(){X(J.current)}),[J]),(0,a.useEffect)((function(){if("loading"!==u&&u>0){var e=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"===u){e.next=3;break}return e.next=3,m7(u,s);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(){setTimeout((function(){return nD(b)}),100)})),p("messages"),f1.add(u),v1(),P2(u)}}),[u]),(0,a.useEffect)((function(){A(C.current)}),[C]),(0,a.useEffect)((function(){x(D.current)}),[D]);var Q=UP(u);"loading"===u&&(Q=!1);var ee={};-1===u&&(ee.display="none");var te="bpbm-chat-content";y&&(te+=" bpbm-call-view",R||(te+=" bpbm-hide-chat"));var ne=[];return a.createElement(gj.Provider,{value:{insideRouter:r,threadId:u,thread:Q,chatMain:O,reply:E,screen:d,setScreen:p,call:z,groupVideo:$,groupAudio:Z,action:j,setAction:M,syncing:v}},a.createElement(a.Fragment,null,a.createElement("div",{style:ee,className:"chat-header"},a.createElement(XQ,null)),a.createElement(vq.div,{style:ee,initial:{x:i},animate:{x:"0%"},transition:{duration:.2},exit:{x:"100%"},className:te,"data-thread-id":u},a.createElement("div",{ref:C,className:"bpbm-chat-main"},Q&&"chat-room"!==Q.type&&("loading"===u||u>0)&&a.createElement(a.Fragment,null,a.createElement(MH,null,"settings"===d&&a.createElement(hQ,null)),a.createElement(JQ,null),a.createElement(LJ,{threadId:u,thread:Q,inRouter:r}),a.createElement(AY,{ref:D})),Q&&"chat-room"===Q.type&&a.createElement(a.Fragment,null,(Q.chatRoom.isJoined||!Q.chatRoom.isJoined&&!Q.chatRoom.onlyJoinedCanRead)&&a.createElement(a.Fragment,null,a.createElement(MH,null,"settings"===d&&a.createElement(hQ,null)),a.createElement(JQ,null),a.createElement(LJ,{threadId:u,thread:Q,inRouter:!0})),!Q.chatRoom.isJoined&&Q.chatRoom.onlyJoinedCanRead&&a.createElement(a.Fragment,null,a.createElement("div",{className:"empty-thread"},a.createElement(CQ,null),a.createElement("span",null,mJ("Only participants can see this chat room messages","Chat Room Screen","bp-better-messages")))),AC()&&a.createElement(i0,null),!Q.chatRoom.isJoined&&a.createElement(a.Fragment,null,0===w7.user_id&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-reply"},a.createElement("ul",{className:"bp-better-messages-restrict-send-message"},a.createElement("li",null,Gb(Q.chatRoom.mustLoginText),a.createElement("br",null),a.createElement("a",{href:w7.loginUrl,className:"bpbm-join-to-chat-button"},Q.chatRoom.loginButtonText),Q.chatRoom.guestAllowed&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement(s0,{thread:Q})))))),w7.user_id>0&&a.createElement(a.Fragment,null,Q.chatRoom.canJoin&&a.createElement("div",{className:"bm-reply"},a.createElement("ul",{className:"bp-better-messages-restrict-send-message"},a.createElement("li",null,Gb(Q.chatRoom.mustJoinMessage),a.createElement("br",null),a.createElement("span",{onClick:function(){t0(Q.chatRoom.id)},className:"bpbm-join-to-chat-button"},Q.chatRoom.joinButtonText)))),!Q.chatRoom.canJoin&&a.createElement("div",{className:"bm-reply"},a.createElement("ul",{className:"bp-better-messages-restrict-send-message"},a.createElement("li",null,Gb(Q.chatRoom.notAllowedText)))))),Q.chatRoom.isJoined&&a.createElement(AY,{ref:D}))),ne.length>0&&a.createElement("div",{className:"bp-messages-call-wrap bp-messages-call-wrap-group"},ne.map((function(e){return e}))))))}));var c0=function(e,t,n){var r=window.innerHeight,o={hideSideThreads:!1,height:"100%"},a=document.querySelector("#wpadminbar");a&&(r-=a.getBoundingClientRect().height),w7.headerHeight>0&&(r-=w7.headerHeight);var i=e.getBoundingClientRect();i.width/2<w7.sideWidth&&(o.hideSideThreads=!0);var s=i.height,u=w7.maxHeight,c=w7.minHeight;return(r<s||r>s)&&(s=r),s<c?s=c:s>u&&(s=u),s-=20,(t||n)&&(s="100%"),o.height=n||t?"100%":s,o};function l0(e){var t=e.height,n=e.setMobileView;return a.createElement("div",{className:"bp-messages-mobile-tap",style:{lineHeight:t+"px",opacity:w7.tapToOpen?"1":"0"},onClick:function(){n(!0)}},a.createElement("span",null,C7("Tap to open messages","Mobile view","bp-better-messages")))}function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f0(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p0(e){e=d0(d0({},{mobileApp:!1,forceMobile:!1,maximized:!1,animated:!1,fullScreened:!1}),e);var t=k((0,a.useState)(null),2),n=t[0],r=t[1],o=k((0,a.useState)(null),2),i=o[0],s=o[1],u=k((0,a.useState)(e.maximized),2),c=u[0],l=u[1],f=k((0,a.useState)(e.forceMobile),2),d=f[0],p=f[1],h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)("messages"),2),b=g[0],y=g[1],D=k(mj(),2),w=D[0],_=D[1],E=Number(e.root.dataset.threadId),x=a.createRef();(0,a.useEffect)((function(){return I2.set("single-thread-"+E,E),function(){I2.delete("single-thread-"+E)}}),[]);var C=k((0,a.useState)(),2),S=C[0],F=C[1];(0,a.useEffect)((function(){s(x.current)}),[x]);var O=k((0,a.useState)(w7.minHeight+"px"),2),A=O[0],T=O[1],P=function(){if(x.current){var e=_7&&Ho()&&d,t=c0(x.current,c,e),n=(t.hideSideThreads,t.height);T(n);var r=x.current.closest(".bp-messages-single-thread-wrap");r&&(r.style.height=null)}};(0,a.useLayoutEffect)((function(){P()})),(0,a.useEffect)((function(){var t=document.createElement("div");t.classList.add("bm-placeholder-anchor"),t.style.display="none",e.root.parentNode.insertBefore(t,e.root),F(t)}),[]),(0,a.useEffect)((function(){return window.addEventListener("resize",P),function(){window.removeEventListener("resize",P)}}),[i]),(0,a.useEffect)((function(){_7&&(d?(document.body.appendChild(e.root),e.root.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),P(),_2()):(S&&S.parentNode.insertBefore(e.root,S),e.root.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),P()))}),[d]),(0,a.useEffect)((function(){c?(document.body.appendChild(e.root),document.querySelector("body").classList.add("bp-messages-full-screen"),P(),_2()):(S&&S.parentNode.insertBefore(e.root,S),document.querySelector("body").classList.remove("bp-messages-full-screen"),P())}),[c]);var j="bp-messages-wrap";return _7&&(j+=" mobile-ready"),d&&(j+=" bp-messages-mobile"),c&&(j+=" bp-messages-full-screen"),m&&(j+=" bpbm-call-view"),a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return _(!1),c7()?setTimeout((function(){return _(!0)}),500):l7().then((function(){_(!0)})),null}},w&&a.createElement(Dw.Provider,{value:{reactRoot:e.reactRoot,root:e.root,header:n,setHeader:r,wrapper:i,setWrapper:s,isMaximized:c,setIsMaximized:l,useRouter:!1,callActive:m,setCallActive:v,mobileView:d,setMobileView:p,sideTab:b,setSideTab:y,sideThreads:!1,singleFullScreen:e.fullScreened}},a.createElement(vq.div,{initial:{scale:e.animated?0:1},animate:{scale:1},exit:{scale:e.animated?0:1},className:j,ref:x,style:{height:A}},a.createElement("div",{className:"bp-messages-threads-wrapper threads-hidden",style:{display:"block",height:A}},a.createElement("div",{className:"bp-messages-column"},a.createElement(u0,{threadId:E,initialAnimation:!1}),a.createElement(l0,{height:A,setMobileView:p}))))),!w&&a.createElement(a.Fragment,null,Gb(e.placeholder)))}function h0(e){return m0.apply(this,arguments)}function m0(){return m0=n(o().mark((function e(t){var n,r,i,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]&&u[1],Ho()?M2(t):((r=document.createElement("div")).className="bp-messages-full-screen-thread-wrap",r.dataset.threadId=String(t),(i=s.s(r)).render(a.createElement(p0,{reactRoot:i,root:r,maximized:!0,fullScreened:!0,animated:!0,placeholder:""})),document.body.append(r),"video"===n?v0(r,".bp-messages-wrap .chat-header .video-call"):"audio"===n&&v0(r,".bp-messages-wrap .chat-header .audio-call"));case 2:case"end":return e.stop()}}),e)}))),m0.apply(this,arguments)}function v0(e,t){var n=e.querySelector(t);n?n.click():setTimeout((function(){v0(e,t)}),250)}var g0,b0=new Map;function y0(e){return D0.apply(this,arguments)}function D0(){return(D0=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z2(t.thread_id),!b0.has(t.thread_id)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,O7("BetterMessagesShowIncomingCall",!0,t);case 5:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:n=$y(a.createElement(a.Fragment,null,a.createElement("div",{className:"bm-toast-site-call-container"},a.createElement("div",{className:"bm-toast-site-call-avatar"},a.createElement(zS,{user_id:t.from,size:45,link:!1})),a.createElement("div",{className:"bm-toast-site-call-info"},a.createElement("div",{className:"bm-toast-site-call-title"},a.createElement(hF,{user_id:t.from,fallback:t.name,link:!1})),a.createElement("div",{className:"bm-toast-site-call-content"},a.createElement("div",{className:"bm-toast-site-call-text"},"video"===t.type&&a.createElement(a.Fragment,null,C7("Incoming Video Call","Private Call - On Site Message","bp-better-messages")),"audio"===t.type&&a.createElement(a.Fragment,null,C7("Incoming Audio Call","Private Call - On Site Message","bp-better-messages"))),a.createElement(kC,{content:C7("Answer","Private Call Screen","bp-better-messages")},a.createElement("div",{className:"bm-toast-site-call-action-answer",onClick:function(){h0(t.thread_id),$y.dismiss(n)}},a.createElement(sF,null))),a.createElement(kC,{content:C7("Reject","Private Call Screen","bp-better-messages")},a.createElement("div",{className:"bm-toast-site-call-action-reject",onClick:function(){E0(t.thread_id,t.from)}},a.createElement(sF,null))))))),{className:"bm-toasts bm-toast-site-call",position:Zy(),draggableDirection:Xy(),draggablePercent:Jy(),autoClose:!1,onClick:function(e){},onOpen:function(){},onClose:function(){},theme:"colored",hideProgressBar:!0,closeOnClick:!1,closeButton:!1,pauseOnHover:!0,draggable:!1,progress:void 0}),b0.set(t.thread_id,{toastId:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w0(e){return _0.apply(this,arguments)}function _0(){return(_0=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b0.has(t)){e.next=7;break}return e.next=3,O7("BetterMessagesHideIncomingCall",!0,t);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:$y.dismiss(b0.get(t).toastId),b0.delete(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E0(e,t){return x0.apply(this,arguments)}function x0(){return(x0=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j0(),J0.emit("mediaEvent",{event:"rejected",to:n,thread_id:t}),J0.emit("mediaEvent",{event:"self_reject",to:w7.user_id,thread_id:t}),dj[n]="1",setTimeout((function(){delete dj[n]}),5e3),e.next=7,w0(t);case 7:if(!g0){e.next=10;break}return e.next=10,g0.endCall();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k0(){J0.on("mediaEvent",function(){var e=n(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.querySelector('.bpbm-chat-content[data-thread-id="'+t.thread_id+'"] .bp-messages-call-wrap-private'),e.t0=t.event,e.next="peer_signal"===e.t0?4:"calling"===e.t0?6:"answered"===e.t0?24:"call_cancelled"===e.t0?28:"rejected"===e.t0?39:"self_reject"===e.t0?44:"user_busy"===e.t0?53:"call_end"===e.t0?58:65;break;case 4:return g0&&g0.peer&&g0.peer.signal(JSON.parse(t.data)),e.abrupt("break",65);case 6:if(!A2||Number(t.thread_id)===O2){e.next=9;break}return J0.emit("mediaEvent",{event:"user_busy",to:t.from,thread_id:t.thread_id}),e.abrupt("return",!1);case 9:if(!dj[t.from]){e.next=11;break}return e.abrupt("return",!1);case 11:if(P0(),!r){e.next=19;break}return e.next=15,g0.showIncomingCall(t.type);case 15:return e.next=17,w0(t.thread_id);case 17:e.next=21;break;case 19:return e.next=21,y0(t);case 21:return void 0!==pj[t.from]&&clearTimeout(pj[t.from]),pj[t.from]=window.setTimeout(n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j0(),g0&&g0.endCall(),e.next=4,w0(t.thread_id);case 4:case"end":return e.stop()}}),e)}))),5e3),e.abrupt("break",65);case 24:if(!g0){e.next=27;break}return e.next=27,g0.callAccepted();case 27:case 38:case 43:case 57:case 64:return e.abrupt("break",65);case 28:if(!F2){e.next=30;break}return e.abrupt("return",!1);case 30:return j0(),e.next=33,w0(t.thread_id);case 33:if(dj[t.from]="1",setTimeout((function(){delete dj[t.from]}),3e3),!g0){e.next=38;break}return e.next=38,g0.endCall();case 39:if(!g0||Number(t.thread_id)===O2){e.next=43;break}return Wy(mJ("User rejected your call","Private Call Screen","bp-better-messages")),e.next=43,g0.endCall();case 44:return j0(),e.next=47,w0(t.thread_id);case 47:if(!g0||Number(t.thread_id)===O2){e.next=50;break}return e.next=50,g0.endCall();case 50:return dj[t.from]="1",setTimeout((function(){delete dj[t.from]}),3e3),e.abrupt("break",65);case 53:if(Wy(mJ("User you are trying to call is already in call. Please try later.","Private Call Screen","bp-better-messages")),!g0){e.next=57;break}return e.next=57,g0.endCall();case 58:if(!g0){e.next=64;break}return dj[t.from]="1",setTimeout((function(){delete dj[t.from]}),5e3),clearTimeout(g0.endCallTimeout),e.next=64,g0.endCall();case 65:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var C0=__webpack_require__(74364).Howl,S0={};function F0(){if(!Ko()&&w7.soundLevels){var e=w7.soundLevels;e.notification&&e.notification>0&&(S0.notification=new C0({src:[w7.sounds+"notification.mp3",w7.assets+"notification.ogg"],loop:!1,volume:e.notification})),e.sent&&e.sent>0&&(S0.sent=new C0({src:[w7.sounds+"sent.mp3",w7.assets+"sent.ogg"],loop:!1,volume:e.sent}))}}function O0(e,t){return A0.apply(this,arguments)}function A0(){return(A0=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w7.enableSound&&"dnd"!==w7.userStatus){e.next=2;break}return e.abrupt("return",!1);case 2:if(void 0===S0.notification){e.next=7;break}return e.next=5,U2();case 5:e.sent.includes(t)||S0.notification.play();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T0(){if(!S0.sent)return!1;S0.sent.play()}function P0(){return!!S0.calling&&("dnd"!==w7.userStatus&&void(S0.calling.playing()||S0.calling.play()))}function j0(){if(!S0.calling)return!1;S0.calling.playing()&&S0.calling.stop()}var M0=!1;function B0(){return(B0=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M0=t;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N0(){return R0.apply(this,arguments)}function R0(){return(R0=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.hidden||!document.hasFocus()){e.next=2;break}return e.abrupt("return",!0);case 2:return M0=!1,e.next=5,X2.postMessage({type:"visible_tab_request"});case 5:return e.next=7,S2(250);case 7:return e.abrupt("return",M0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I0=new Map;function L0(e,t){return z0.apply(this,arguments)}function z0(){return z0=n(o().mark((function e(t,n){var r,a,i,s,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,N0();case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,WC(t);case 9:if(r=e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:if(r.sender_id!==w7.user_id){e.next=14;break}return e.abrupt("return",!1);case 14:return e.next=16,HP(r.thread_id);case 16:if(a=e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:if(!a.isHidden){e.next=21;break}return e.abrupt("return");case 21:if(!a.permissions){e.next=24;break}if(!a.permissions.isMuted){e.next=24;break}return e.abrupt("return");case 24:return i=!1,e.next=27,wS(r.sender_id);case 27:s=e.sent,u=YT(a,0,s),c={body:wC((0,Hk.decode)(r.message)).result,tag:"bm_thread_"+r.thread_id},a.image?c.icon=a.image:s&&(c.icon=s.avatar),n&&(n.title&&(u=n.title),n.body&&(c.body=n.body),i=!0),A7("better_messages_on_local_notification",r),(l=new Notification(u,c)).onclick=function(e){window.focus(),M2(r.thread_id,i)},I0.has(r.thread_id)||I0.set(r.thread_id,[]),(f=I0.get(r.thread_id)).push(l),I0.set(r.thread_id,f);case 39:case"end":return e.stop()}}),e)}))),z0.apply(this,arguments)}function q0(){J0.on("message",function(){var e=n(o().mark((function e(t){var n,r,a,i,s,u,c,l,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t3();case 2:if(n=e.sent,r=t.thread,a=t.message,n&&NA("lastUpdate",t.serverTime),!a.message_id){e.next=16;break}if(!(a&&a.tmpId&&nS.has(a.tmpId))){e.next=13;break}if(i=nS.get(a.tmpId),Y5.statuses.set(a.message_id,i),!n){e.next=13;break}return e.next=13,sS({message_id:a.message_id,status:i});case 13:if(!n){e.next=16;break}return e.next=16,eS([a]);case 16:if(n){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,ES([t.sender]);case 20:return e.next=22,HP(r.thread_id);case 22:if(s=e.sent){e.next=29;break}return u=JT({},r),e.next=27,oj([u]);case 27:e.next=33;break;case 29:return c=JT(s,r),t.updateThread&&t.updateThread.mentions&&(l=[],c.mentions&&Array.isArray(c.mentions)&&(l=c.mentions),t.updateThread.mentions.map((function(e){l.push({message_id:Number(a.message_id),type:e})})),c.mentions=l),e.next=33,oj([c]);case 33:if(a.sender_id===w7.user_id){e.next=41;break}return e.next=36,wS(a.sender_id);case 36:return f=e.sent,e.next=39,HP(r.thread_id);case 39:(d=e.sent)&&(p=d.permissions&&d.permissions.isMuted,d.isHidden&&(p=!0),f.blocked||(!1!==a.showOnSite?(p||(O0(a.thread_id,a.message_id),L0(a.message_id,t.notification)),z2(a.thread_id)&&_.now()?(J0.emit("seen",[a.message_id]),P2(a.thread_id)):(J0.emit("delivered",a.message_id),p||cj(Number(a.message_id),"realtime"))):p||t.notification&&L0(a.message_id,t.notification)));case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("focus",(function(){q2().map((function(e){P2(e)}))})),_.on("wakeup",(function(){q2().map((function(e){P2(e)}))})),J0.on("/v3/fastMsg",function(){var e=n(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!TC.has(t.tempId)){e.next=2;break}return e.abrupt("return");case 2:return(n=t.user).url=FC(n.url),n.name=FC(n.name),n.avatar=FC(n.avatar),e.next=8,wS(n.user_id);case 8:if(e.sent){e.next=11;break}return e.next=11,ES([n]);case 11:t.sender_id!==w7.user_id&&(z2(t.threadId)&&_.now()?J0.emit("fastStatus",t.sender_id,t.tempId,"seen"):(J0.emit("fastStatus",t.sender_id,t.tempId,"delivered"),rS.has(t.threadId)||rS.set(t.threadId,new Map),(r=rS.get(t.threadId)).set(t.tempId,{sender_id:t.sender_id,temp_id:t.tempId}),rS.set(t.threadId,r))),a=wC(FC(t.message),{ignoreTags:n$}),MC(t.threadId,{message_id:t.tempId,thread_id:t.threadId,message:OC(a.result),sender_id:t.sender_id,date_sent:t.time});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J0.on("/v2/abortFastMessage",function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BC(Number(t.thread_id),t.message_id,!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J0.on("message_deleted",(function(e){e.startsWith("tmp_")||(e=Number(e)),GC(e)})),J0.on("v2/messageMetaUpdate",function(){var e=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NA("lastUpdate",t.serverTime),e.next=3,WC(t.message_id);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(n.thread_id===t.thread_id){e.next=8;break}return e.abrupt("return");case 8:JC(n.message_id,{meta:t.meta});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J0.on("fastStatus",function(){var e=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cS(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),J0.on("delivered",function(){var e=n(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(t),e.next=3,aS(t);case 3:r=e.sent,a=!1,(!r||r&&"sent"===r.status)&&(a=!0),a&&sS({message_id:t,status:"delivered"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),J0.on("seen",function(){var e=n(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(t),e.next=3,aS(t);case 3:r=e.sent,a=!1,r&&(!r||"sent"!==r.status&&"delivered"!==r.status)||(a=!0),a&&sS({message_id:t,status:"seen"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}document.addEventListener("better-messages-thread-opened",(function(e){var t=e.detail.threadId,n=I0.get(t);n&&(n.map((function(e){e.close()})),I0.delete(t))}));var U0=__webpack_require__(67852),V0=__webpack_require__.n(U0);function H0(e){return $0.apply(this,arguments)}function $0(){return $0=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HP(t.thread_id);case 2:if(!(n=e.sent)){e.next=9;break}return r=JT(n,t),e.next=7,J5.threads.incrementalUpsert(r);case 7:e.next=11;break;case 9:return e.next=11,J5.threads.incrementalUpsert(t);case 11:case"end":return e.stop()}}),e)}))),$0.apply(this,arguments)}var W0=__webpack_require__(64003).default;function K0(){document.addEventListener("better-messages-thread-opened",(function(e){J0.emit("threadOpen",e.detail.threadId)})),_.on("focus",(function(){q2().map((function(e){P2(e)}))}));var e=new W0({concurrency:1});J0.on("getUnread",function(){var t=n(o().mark((function t(r){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.dispatchEvent(new CustomEvent("better-messages-unread-updated",{detail:{unread:r}})),t.next=3,t3();case 3:if(!t.sent){t.next=6;break}a=[],OP().then(n(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V0()(r.threads,function(){var t=n(o().mark((function t(n,r){var i,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Number(r),s=Number(n),a.push(i),t.next=5,e.add((function(){return ej(i,s)}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t.next=3,e.add((function(){return nj(a)}));case 3:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),J0.on("threadInfoChanged",function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t3();case 2:if(!e.sent){e.next=5;break}NA("lastUpdate",t.serverTime),H0(t.thread);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J0.on("v2/threadEvent",function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t3();case 2:if(!e.sent){e.next=13;break}e.t0=t.type,e.next="thread_cleared"===e.t0?6:"thread_erased"===e.t0?10:12;break;case 6:return J5.messages.find({selector:{thread_id:t.thread_id}}).remove().catch(zC),WP(t.thread_id,{unread:0}),NC(t.thread_id),e.abrupt("break",12);case 10:return ZP(t.thread_id),e.abrupt("break",12);case 12:NA("lastUpdate",t.serverTime);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function G0(){return(G0=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$y(a.createElement("div",{className:"bm-toast-site-notification-container"},a.createElement("div",{className:"bm-toast-site-notification-image"},a.createElement("img",{src:t.image,alt:""})),a.createElement("div",{className:"bm-toast-site-notification-info"},a.createElement("div",{className:"bm-toast-site-notification-title"},t.title),a.createElement("div",{className:"bm-toast-site-notification-content"},t.text))),{className:"bm-toasts bm-toast-site-notification",position:Zy(),draggableDirection:Xy(),draggablePercent:Jy(),autoClose:!1,onClick:function(){N2(t.url)},theme:"colored",hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y0(){J0.on("onSiteNotification",(function(e){e.image=FC(e.image,"ukey"),e.text=FC(e.text,"ukey"),e.url=FC(e.url,"ukey"),e.title=FC(e.title,"ukey"),function(e){G0.apply(this,arguments)}(e)}))}function Z0(){J0.on("groupMediaEvent",(function(e){e1()}))}var X0,J0,Q0=!1;function e1(){return t1.apply(this,arguments)}function t1(){return t1=n(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q0){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,J5.threads.find({selector:{participantsCount:{$gte:3}}}).exec();case 5:t=e.sent,r=t.map((function(e){return e.thread_id})),J0.emit("groupCallStatusesBulk",r,(function(e){Object.keys(e).map((function(t){var r=e[t],a=Number(t);OP().then(n(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HP(a);case 2:t=e.sent,n=!1,t&&t.groupCall&&zk()(t.groupCall,r)&&(n=!0),n||WP(a,{groupCall:r});case 6:case"end":return e.stop()}}),e)}))))}))}));case 8:return e.prev=8,Q0=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])}))),t1.apply(this,arguments)}function n1(){J0.on("userStatus",function(){var e=n(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t3();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:kS(t=Number(t),{status:n});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}function r1(){J0.on("realtimeEvent",(function(e){try{A7("better_messages_realtime_event",JSON.parse(FC(e)))}catch(O9){console.error(O9)}}))}function o1(){J0.on("userUpdated",function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t3();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:ES([t.user]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var a1=[];function i1(){return!(!J0||!J0.connected)}function s1(){return u1.apply(this,arguments)}function u1(){return(u1=n(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w7.socket_server){e.next=2;break}return e.abrupt("return",!1);case 2:if(t=w7.user_id,0!==w7.user_id){e.next=9;break}if(!w7.guestAuth){e.next=8;break}t=-Math.abs(w7.guestAuth.id),e.next=9;break;case 8:return e.abrupt("return");case 9:if(e.prev=9,!J0||!J0.connected){e.next=13;break}return e.next=13,J0.close();case 13:document.dispatchEvent(new CustomEvent("bp-better-messages-before-realtime-connect")),(J0=G_(w7.socket_server,{secure:!0,timeout:7e3,transports:["websocket"],auth:[w7.site_id,t,w7.secret_key]})).on("connect_error",(function(e){console.debug("Error while connecting to WebSocket messaging server. AJAX mode enabled."),console.error(e),w7.realtime="0",clearTimeout(X0),X0=window.setTimeout(c1,1e4)})),J0.on("connect",(function(){console.debug("You was connected to WebSocket messaging server. WebSocket mode enabled."),w7.realtime="1",clearTimeout(X0),d1.clear(),h1(),Q2().then((function(){W2(!0)}))})),(r=function e(){clearTimeout(n),a1.map((function(e){PS(e)})),n=window.setTimeout(e,3e4)})(),J0.on("onlineUsers",(function(e){!0,a1=e.map((function(e){return Number(e)})),a1,r(),document.dispatchEvent(new CustomEvent("bp-better-messages-online-fetched")),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed"))})),J0.on("userOnline",(function(e){var t=Number(e);-1===a1.indexOf(t)&&(a1.push(t),PS(t),document.dispatchEvent(new CustomEvent("bp-better-messages-user-online",{detail:{user_id:t}})),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed")))})),J0.on("userOffline",(function(e){var t=Number(e);a1.indexOf(t)>-1&&(a1.splice(a1.indexOf(t),1),jS(t),a1,document.dispatchEvent(new CustomEvent("bp-better-messages-user-offline",{detail:{user_id:t}})),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed")))})),K0(),q0(),oE(),k0(),Y0(),Z0(),o1(),n1(),r1(),e1(),e.next=41;break;case 34:e.prev=34,e.t0=e.catch(9),console.error(e.t0),console.error("Error connecting to the WebSocket Server. Please contact plugin developer. https://www.wordplus.org/contact/"),w7.realtime="0",clearTimeout(X0),X0=window.setTimeout(c1,1e4);case 41:case"end":return e.stop()}}),e,null,[[9,34]])})))).apply(this,arguments)}function c1(){J0.disconnect(),J0.connect()}var l1,f1=new Set,d1=new Set,p1=!0;function h1(){return m1.apply(this,arguments)}function m1(){return(m1=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(l1),l1=void 0,t=[],!p1){e.next=8;break}return e.next=6,JP();case 6:t=e.sent,p1=!1;case 8:if(f1.forEach((function(e){d1.has(e)||t.push(e)})),!(t.length>0&&J0)){e.next=13;break}return e.next=12,J0.emit("subscribeToThreads",t);case 12:t.map((function(e){d1.add(e)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v1(){l1||(l1=window.setTimeout(h1,1e3))}function g1(e){return b1.apply(this,arguments)}function b1(){return(b1=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i1()){e.next=5;break}return f1.delete(t),e.next=4,J0.emit("unsubscribeThread",t);case 4:d1.delete(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y1(e){var t=e.thread,n=[];t.image||"thread"!==t.type||(t.participants.length<=2?n.push(t.participants[0]):t.participants.length>2&&t.participants.slice(0,4).map((function(e){n.push(e)}))),t.image||"chat-room"!==t.type||t.participants.slice(0,4).map((function(e){n.push(e)}));var r=!1;return"thread"===t.type&&t.participants.length<=1&&(r=!0),a.createElement(a.Fragment,null,t.image&&a.createElement("div",{className:"pic"},a.createElement("img",{src:t.image,alt:"",className:"avatar photo"})),n.length>0&&a.createElement(a.Fragment,null,!r&&1===n.length&&a.createElement("div",{className:"pic"},a.createElement(zS,{link:!Ho(),size:30,user_id:n[0]})),r&&1===n.length&&a.createElement("div",{className:"pic"}),n.length>1&&a.createElement("div",{className:"pic group"},n.map((function(e){return a.createElement(zS,{link:!Ho(),size:15,key:"avatar_"+e,user_id:e})})))))}function D1(e){var t=e.thread;return t?a.createElement(a.Fragment,null,!!t.isPinned&&a.createElement(kC,{content:C7("Pinned conversation","Conversations list item","bp-better-messages")},a.createElement("span",{className:"bm-thread-icon"},a.createElement(QS,null))),t.permissions&&t.permissions.isMuted&&a.createElement(kC,{content:C7("Notifications disabled","Conversations list item","bp-better-messages")},a.createElement("span",{className:"bm-thread-icon"},a.createElement(ZS,null)))):null}function w1(e){var t=e.thread,n=e.lastMessage,r=e.lastUser,o=rE(t.thread_id),i="";if(t.groupCall){var s=[];if(t.groupCall.video&&s.push(C7("Video","Frontend Scripts","bp-better-messages")),t.groupCall.audio&&s.push(C7("Audio","Frontend Scripts","bp-better-messages")),s.length>0){var u=s.join(" &amp; ")+" "+C7("Chat Online","Frontend Scripts","bp-better-messages");i=a.createElement("span",{className:"bm-live-chat-online"},a.createElement("span",{className:"bm-live-chat-online-indicator"}),a.createElement("span",null,u))}}var c=!1;return"thread"===t.type?t.participants.length<=1?c=x7("Deleted user","bp-better-messages"):2===t.participants.length&&(c=a.createElement(hF,{key:"username_"+t.participants[0],user_id:t.participants[0],link:!1,raw:!0})):t.subject=t.title,a.createElement("div",{className:"bm-info"},c&&a.createElement("h4",{className:"name"},c,a.createElement(D1,{thread:t})),w7.subjects&&a.createElement(a.Fragment,null,""!==t.subject&&a.createElement("h4",null,t.subject,!c&&a.createElement(D1,{thread:t}))),!w7.subjects&&a.createElement(a.Fragment,null,a.createElement("h4",null,("chat-room"===t.type||"group"===t.type)&&t.title,"thread"===t.type&&!c&&S7(C7("%s Participants","Thread Title (when subjects are disabled)","bp-better-messages"),t.participantsCount),!c&&a.createElement(D1,{thread:t}))),o.length>0&&t.participantsCount<=2&&a.createElement(GQ,null),o.length>0&&t.participantsCount>2&&a.createElement(GQ,{userIds:o}),0===o.length&&!!n&&r&&a.createElement("div",{key:"thread_item_content_last_message_"+n.message_id,className:"last-message"},t.participantsCount>2&&a.createElement("div",{className:"bm-last-message-avatar"},a.createElement(zS,{user_id:n.sender_id,size:15,link:!1})),a.createElement("div",{className:"bm-last-message-content","data-id":n.message_id},GT(n,r))),i)}const _1=(0,a.createContext)(!1);var E1=function(e){var t=e.useRouter,n=F1(e.thread),r=e.lastMessage,o=e.active,i=e.navigate,s=e.onClick,u="thread",c=(0,a.useContext)(_1),l=pJ();(0,a.useEffect)((function(){return document.addEventListener("better-message-settings-changed",l),function(){document.removeEventListener("better-message-settings-changed",l)}}),[]);var f=HQ(n,!1,!1).filter((function(e){return!0===e.showInList})),d=Ij({id:"thread-context-"+n.thread_id}),p=d.show,h=d.hideAll;o&&(u+=" bp-messages-active-thread");var m=Co.fromFormat(n.lastTime,D7,{zone:"GMT"}),v=function(r){if(s)s();else if(t){var o="/conversation/"+n.thread_id;e.forceMessage&&(o+="?messageId="+e.forceMessage),i(o)}else M2(r)},g=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector("#thread-context-"+n.thread_id)?h():p({event:e})};return a.createElement("div",{key:"thread_item_content_inner"+n.thread_id,className:u,onClick:function(e){document.querySelector(".thread-context-menu")||v(n.thread_id)},onContextMenu:g},a.createElement(y1,{thread:n}),a.createElement(w1,{thread:n,lastUser:e.lastUser,lastMessage:e.lastMessage}),a.createElement("div",{className:"time"},a.createElement(kC,{content:m.toLocal().toLocaleString(Co.DATETIME_MED_WITH_SECONDS)},a.createElement("span",{className:"time-wrapper"},a.createElement(BJ,{time:m}))),w7.listStatus&&!!r&&e.lastUser&&r.sender_id===w7.user_id&&a.createElement(oM,{thread_id:r.thread_id,message_id:r.message_id,detailed:!1}),a.createElement(MH,null,n.unread>0&&a.createElement("div",{className:"bpbm-counter-row"},n.mentions.length>0&&a.createElement(kC,{content:C7("You were mentioned in this conversation","Conversations list item","bp-better-messages")},a.createElement(vq.span,{initial:{scale:0},animate:{scale:1},className:"unread-mention"},a.createElement(cF,null))),n.unread>0&&a.createElement(vq.span,{initial:{scale:0},animate:{scale:1},className:"unread-count"},n.unread)))),!c&&a.createElement("div",{className:"actions"},f.length>0&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("More",'"Additional options" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"bm-more-actions",onClick:g},a.createElement(uF,null))),n&&(0,kE.createPortal)(a.createElement($j,{style:{zIndex:"1000"},animation:!1,id:"thread-context-"+n.thread_id},f.map((function(e){return a.createElement(Wj,{key:e.key,onClick:e.onClick,onAuxClick:e.onAuxClick},e.icon,a.createElement("span",{style:{marginLeft:"5px"}},e.label))})),a.createElement("span",{id:"thread-context-"+n.thread_id,className:"thread-context-menu",style:{display:"none"}})),document.querySelector("body")))))};function x1(e,t){var n=!0;return zk()(e.thread,t.thread)||(n=!1),zk()(e.lastMessage,t.lastMessage)||(n=!1),zk()(e.lastUser,t.lastUser)||(n=!1),Boolean(e.active)!==Boolean(t.active)&&(n=!1),n}const k1=a.memo(E1,x1);function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C1(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F1(e){return S1(S1({},{participants:[],mentions:[],permissions:{isMuted:!1,deleteAllowed:!1,isModerator:!1}}),e)}function O1(e){var t=(0,a.useContext)(Dw).useRouter,n=e.thread,r=!1;e.onClick&&(r=e.onClick);var o=n.lastMessage;e.forceMessage&&(o=e.forceMessage);var i,s=qC(o),u=yS(s&&s.sender_id);(0,a.useEffect)((function(){f1.add(Number(n.thread_id)),v1()}),[n.thread_id]);var c=!1;if(t){i=rw();var l=nw("conversation/:threadId");c=l&&Number(l.params.threadId)===n.thread_id}return a.createElement(k1,{key:"thread_item_content"+n.thread_id,thread:n,lastUser:u,lastMessage:s,useRouter:t,forceMessage:e.forceMessage,active:c,navigate:i,onClick:r})}function A1(){return a.createElement("div",{className:"bm-lds-ellipsis"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null))}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T1(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j1(e){e=P1(P1({},{opacity:.6}),e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"threads-list",style:{paddingTop:0,marginTop:0,opacity:e.opacity,overflow:"hidden"}},V(Array(10)).map((function(e,t){return a.createElement("div",{key:"messages-placeholder-"+t,className:"thread"},a.createElement("div",{className:"pic",style:{top:"0"}},a.createElement("span",{className:"avatar bbpm-avatar"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:30,height:30,borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("div",{className:"bm-info"},a.createElement("h4",{className:"name"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"15px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))),a.createElement("h4",null,a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"80px",height:"10px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))),a.createElement("div",{className:"last-message"},a.createElement("div",{className:"bm-last-message-content"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",minWidth:"150px",maxWidth:"350px",width:"100%",height:"15px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))))),a.createElement("div",{className:"time"},a.createElement("span",{className:"time-wrapper"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"50px",height:"15px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("div",{className:"actions"},a.createElement("span",{className:"delete"})))}))))}const M1=a.memo(j1);function B1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B1(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const R1=(0,a.memo)((function(e){e=N1(N1({},{hidden:!1}),e);var t=k((0,a.useState)(!1),2),r=t[0],i=t[1],s=(0,a.useRef)(!1),u=k((0,a.useState)(!1),2),c=u[0],l=u[1];(0,a.useEffect)((function(){s.current=c}),[c]);var f=(0,a.useRef)(),d=k((0,a.useState)(20),2),p=d[0],h=d[1];(0,a.useEffect)((function(){f.current=p}),[p]);var m=IP(),v=w7.newThread,g={};e.hidden&&(g.display="none");var b=(0,a.useRef)(),y=function(e){var t=k((0,a.useState)(void 0),2),n=t[0],r=t[1],o=k((0,a.useState)(0),2),i=o[0],s=o[1];return(0,a.useEffect)((function(){var e=VP.subscribe({next:function(e){s((function(e){return e+1}))}});return function(){e.unsubscribe()}}),[]),(0,a.useLayoutEffect)((function(){var t=O7("better_messages_threads_list_selector",{isDeleted:0,isHidden:0}),n=J5.threads.find({selector:t,sort:[{isPinned:"desc"},{lastTime:"desc"}],limit:e}).$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),r(t)}));return function(){n.unsubscribe()}}),[e,i]),n}(p);b.current=y;var D=(0,a.useRef)();(0,a.useEffect)((function(){if(D.current){var e=D.current.osTarget();if(e){var t=e.querySelector(".os-viewport");t.addEventListener("scroll",(function(){w(t)}))}}}),[D]);var w=function(e){var t=e.scrollHeight-(e.scrollTop+e.clientHeight);!r&&t<=100&&_()},_=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.current&&!s.current){e.next=2;break}return e.abrupt("return");case 2:if(!r){e.next=4;break}return e.abrupt("return");case 4:return i(!0),e.next=7,GP();case 7:if(!(e.sent>f.current)){e.next=12;break}h(f.current+20),e.next=14;break;case 12:return e.next=14,x();case 14:setTimeout((function(){i(!1)}),100);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(0,a.useRef)(!1),x=function(){var e=n(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.current&&!s.current){e.next=2;break}return e.abrupt("return");case 2:return E.current=!0,e.prev=3,e.next=6,JP();case 6:return t=e.sent,e.next=9,a7.post("threads",{exclude:t});case 9:return n=e.sent,r=n.data,e.next=13,oj(r.threads);case 13:return e.next=15,ES(r.users);case 15:return e.next=17,eS(r.messages);case 17:return n.data.threads.length<20&&l(!0),e.next=20,GP();case 20:a=e.sent,h(a),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),Yy(e.t0);case 27:E.current=!1;case 28:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(){return e.apply(this,arguments)}}(),C=Array.isArray(y)&&(y.length>0||m),S=C&&y&&y.length>0;return a.createElement(RG,{ref:D,style:g,classes:"threads-list-wrapper",role:"application"},!C&&a.createElement(M1,null),C&&a.createElement(a.Fragment,null,S&&y.length>0&&a.createElement("div",{className:"threads-list"},y.map((function(e){return a.createElement(O1,{key:"thread_"+e.thread_id,thread:e})}))),!S&&"select_thread"===e.emptyType&&a.createElement("div",{className:"thread-not-selected empty"},a.createElement("div",{className:"empty"},a.createElement("p",{className:"bpbm-empty-icon"},a.createElement(cT,null)),a.createElement("p",{className:"bpbm-empty-message"},C7("Select conversation to display messages","Starting Messages Screen (No threads selected)","bp-better-messages")),e.inRouter&&v&&a.createElement(a.Fragment,null,a.createElement("p",{className:"bpbm-empty-or"},C7("or","Starting Messages Screen (No threads selected)","bp-better-messages")),a.createElement("p",{className:"bpbm-empty-link"},a.createElement(DM,{to:"new-conversation"},C7("Start a new conversation","Starting Messages Screen (No threads selected)","bp-better-messages")))))),!S&&"no_messages"===e.emptyType&&a.createElement("div",{className:"threads-list empty"},a.createElement("div",{className:"empty"},a.createElement("p",{className:"bpbm-empty-icon"},a.createElement(cT,null)),a.createElement("p",{className:"bpbm-empty-message"},C7("No conversations yet","Empty thread list","bp-better-messages")),e.inRouter&&v&&a.createElement("p",{className:"bpbm-empty-link"},a.createElement(DM,{to:"new-conversation"},C7("Start a new conversation","Empty thread list","bp-better-messages"))))),!c&&S&&p<=y.length&&a.createElement("div",{className:"threads-list-loading-more"},a.createElement(A1,null))))}));var I1=a.createContext({searchText:null,setSearchText:null,searchResults:null,setSearchResults:null}),L1=!1;function z1(){return z1=n(o().mark((function e(){var t,n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],!L1||t){e.next=3;break}return e.abrupt("return");case 3:return L1=!0,e.prev=4,e.next=7,OP();case 7:return e.next=9,a7.get("getFriends");case 9:return n=e.sent,r=n.data,e.next=13,ES(r);case 13:return a=r.map((function(e){return e.user_id})),e.next=16,J5.users.find({selector:{user_id:{$nin:a}}}).update({$set:{isFriend:0}}).catch(zC);case 16:return e.abrupt("return",!0);case 17:return e.prev=17,e.finish(17);case 19:case"end":return e.stop()}}),e,null,[[4,,17,19]])}))),z1.apply(this,arguments)}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q1(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V1(e){e=U1(U1({},{opacity:.3}),e);return a.createElement(a.Fragment,null,a.createElement("div",{className:"threads-list",style:{paddingTop:0,marginTop:0,opacity:e.opacity,overflow:"hidden"}},V(Array(20)).map((function(e,t){return a.createElement("div",{key:"messages-placeholder-"+t,className:"user"},a.createElement("div",{className:"pic",style:{top:"0"}},a.createElement("span",{className:"avatar bbpm-avatar"},a.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:30,height:30,borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("div",{className:"bm-placeholder-wrapper",style:{padding:0,position:"relative",width:"150px",height:"20px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)),a.createElement("div",{className:"actions"}))}))))}const H1=a.memo(V1);var $1=a.createContext(!1);const W1=(0,a.memo)((function(e){var t,r,i,s=k((0,a.useState)(20),2),u=s[0],c=s[1],l=(0,a.useRef)(20),f=(0,a.useRef)(null),d=k((0,a.useState)(),2),p=d[0],h=d[1],m=k((0,a.useState)(""),2),v=m[0],g=m[1],b=(t=k((0,a.useState)(void 0),2),r=t[0],i=t[1],(0,a.useLayoutEffect)((function(){var e=J5.users.count({selector:{isFriend:1}}).$.subscribe((function(e){i(e)}));return function(){e.unsubscribe()}}),[]),r);f.current=b;var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=k((0,a.useState)(void 0),2),r=n[0],o=n[1];return(0,a.useLayoutEffect)((function(){var n={selector:{isFriend:1},limit:e,sort:[{lastActive:"desc"}]};""!==t&&(n={selector:{$and:[{isFriend:{$eq:1}},{name:{$regex:new RegExp(".*"+t+".*","i")}}]},limit:e,sort:[{lastActive:"desc"}]});var r=J5.users.find(n).$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),o(t)}));return function(){r.unsubscribe()}}),[e,t]),r}(u,v);(0,a.useEffect)((function(){p&&(p.addEventListener("scroll",(function(){x(p)})),_(p))}),[p]);var D=(0,a.useRef)(!1),w=(0,a.useRef)(null),_=function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D.current){e.next=2;break}return e.abrupt("return");case 2:if(null!==f.current){e.next=6;break}return e.next=5,S2(200);case 5:return e.abrupt("return",_(t));case 6:if(!(t.clientHeight>=t.scrollHeight&&w.current!==t.scrollHeight)){e.next=15;break}if(!(f.current>l.current)){e.next=13;break}return c((function(e){return l.current=e+20,e+20})),w.current=t.scrollHeight,e.next=12,S2(50);case 12:return e.abrupt("return",_(t));case 13:e.next=16;break;case 15:D.current=!0;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(0,a.useRef)(!1),x=function(e){E.current||e.scrollHeight-(e.scrollTop+e.clientHeight)<=100&&f.current>l.current&&(E.current=!0,c((function(e){return l.current=e+20,e+20})),setTimeout((function(){E.current=!1}),100))};return(0,a.useEffect)((function(){!function(){z1.apply(this,arguments)}()}),[]),y&&(y=y.slice(0,l.current)),a.createElement(a.Fragment,null,a.createElement($1.Provider,{value:!0},a.createElement(RG,{classes:"bp-messages-user-list",events:{initialized:function(e){h(e.elements().scrollEventElement)}}},!y&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bpbm-search-in-list"},a.createElement("input",{type:"text",name:"bpbm-search",disabled:!0,placeholder:C7("Search...","Friends list","bp-better-messages")})),a.createElement(H1,null)),y&&a.createElement(a.Fragment,null,b>0&&a.createElement("div",{className:"bpbm-search-in-list"},a.createElement("input",{type:"text",name:"bpbm-search",onChange:function(e){g(e.target.value.trim())},value:v,placeholder:C7("Search...","Friends list","bp-better-messages")})),0===y.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bp-messages-user-list empty"},a.createElement("div",{className:"bpbm-empty-icon"},a.createElement(Jj,null)),""===v&&a.createElement("div",{className:"bpbm-empty-text"},C7("No friends added yet","Empty friends list","bp-better-messages")),""!==v&&a.createElement("div",{className:"bpbm-empty-text"},C7("No friends found","Empty friends list","bp-better-messages")))),y.length>0&&a.createElement(a.Fragment,null,y.map((function(t){return a.createElement(K1,{key:"friends-list-user-"+t.user_id,user:t,inRouter:e.inRouter})})))))))}));function K1(e){var t=e.user,n=(0,a.useContext)($1);return a.createElement("div",{key:"user_"+t.user_id,className:"user",onClick:function(n){(null==n?void 0:n.target).closest("a")||k2(t.user_id,e.inRouter,!0)}},a.createElement("div",{className:"pic"},a.createElement(zS,{user_id:t.user_id,size:30})),a.createElement(hF,{user_id:t.user_id,raw:n}),a.createElement("div",{className:"actions"},!w7.callRestrict&&!!t.canAudio&&a.createElement(kC,{content:C7("Audio Call","Users List","bp-better-messages")},a.createElement("span",{onClick:function(e){e.stopPropagation(),zJ(t.user_id,"audio")},className:"bpbm-audio-call"},a.createElement(uT,null))),!w7.callRestrict&&!!t.canVideo&&a.createElement(kC,{content:C7("Video Call","Users List","bp-better-messages")},a.createElement("span",{onClick:function(e){e.stopPropagation(),zJ(t.user_id,"video")},className:"bpbm-video-call"},a.createElement(ET,null))),a.createElement(kC,{content:C7("User profile","Users List","bp-better-messages")},a.createElement("a",{href:t.url,className:"open-profile"},a.createElement(WT,null)))))}var G1=a.createContext(!1);function Y1(){var e=(0,a.useContext)(I1).searchResults;return a.createElement(RG,{classes:"bm-search-results"},a.createElement(G1.Provider,{value:!0},e&&a.createElement(a.Fragment,null,"loading"===e&&a.createElement(p$,null),"loading"!==e&&a.createElement(a.Fragment,null,Array.isArray(e)&&0===e.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"empty bpbm-search-empty"},a.createElement("p",{className:"bpbm-empty-icon"},a.createElement(bT,null)),a.createElement("p",{className:"bpbm-empty-message"},C7("Nothing found","Search Results","bp-better-messages")))),e.friends&&a.createElement("div",{className:"bm-search-results-section"},a.createElement("div",{className:"bm-search-results-header"},C7("Friends","Search Results","bp-better-messages")),a.createElement("div",{className:"bp-messages-user-list"},e.friends.map((function(e){return a.createElement(K1,{key:"user_"+e.user_id,user:e,inRouter:!0})})))),e.users&&a.createElement("div",{className:"bm-search-results-section"},a.createElement("div",{className:"bm-search-results-header"},C7("Members","Search Results","bp-better-messages")),a.createElement("div",{className:"bp-messages-user-list"},e.users.map((function(e){return a.createElement(K1,{key:"user_"+e.user_id,user:e,inRouter:!0})})))),e.messages&&a.createElement("div",{className:"bm-search-results-section"},a.createElement("div",{className:"bm-search-results-header"},C7("Conversations","Search Results","bp-better-messages")),a.createElement("div",{className:"threads-list"},e.messages.map((function(t){var n=e.updateData.threads.filter((function(e){return e.thread_id===t.thread_id}));return n.length>0?(n=n.shift(),a.createElement(O1,{key:"search_thread_"+t.message_id,thread:n,forceMessage:t.message_id})):a.createElement(a.Fragment,null)}))))))))}function Z1(e){var t=(0,a.useContext)(I1),n=t.searchText,r=t.setSearchText,o=k((0,a.useState)(!1),2),i=Nk({placement:"bottom-end",open:o[0],onOpenChange:o[1],middleware:[HE(0),VE(),WE({padding:0})],whileElementsMounted:Cx}),s=i.x,u=i.y,c=i.reference,l=i.floating,f=i.strategy,d=i.context,p=Ik([Mk(d,{role:"menu"})]),h=(p.getReferenceProps,p.getFloatingProps);return a.createElement("div",{ref:c,className:"bpbm-search"},a.createElement("form",null,a.createElement("input",{title:"Search",onChange:function(e){r(e.target.value)},placeholder:C7("Search...","Search input field placeholder","bp-better-messages"),type:"text",name:"search",value:n}),e.sideSearch&&a.createElement("span",{className:"close",style:{display:""!==n?"block":"none"},onClick:function(){r("")}},a.createElement(dT,null)),!e.sideSearch&&a.createElement("span",{className:"close",style:{display:"block"},onClick:function(){r(""),e.onClose()}},a.createElement(dT,null))),!e.sideSearch&&""!==n&&a.createElement("div",h({ref:l,className:"bp-messages-wrap bm-search-popup",style:{position:f,top:null!=u?u:0,left:null!=s?s:0}}),a.createElement(Y1,null)))}function X1(){return(X1=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a7.get("markAllRead");case 2:J5.threads.find({selector:{unread:{$gt:0}}}).update({$set:{unread:0}}).catch(zC);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J1(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e2(e){e=Q1(Q1({},{forceThreads:!1}),e);var t=(0,a.useContext)(Dw),n=t.root,r=t.sideThreads,o=t.isMaximized,i=t.setIsMaximized,s=t.mobileView,u=t.setMobileView,c=k((0,a.useState)(!1),2),l=c[0],f=c[1],d=LP();return a.createElement(a.Fragment,null,(!r||e.forceThreads)&&w7.newThread&&a.createElement(kC,{showOnMobile:!1,content:C7("New Conversation",'"New Conversation" Button Tooltip',"bp-better-messages")},a.createElement(DM,{className:"new-message",to:"new-conversation"},a.createElement(nQ,{className:"bm-svg"}))),a.createElement("span",{style:{marginRight:"auto"}}),d>0&&a.createElement(kC,{showOnMobile:!1,content:C7("Mark all as read",'"Mark all as read" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"bm-btn",onClick:function(){!function(){X1.apply(this,arguments)}()}},a.createElement(lT,{className:"bm-svg"}))),w7.favorite&&a.createElement(kC,{showOnMobile:!1,content:C7("Favorited",'"Favorited" Button Tooltip',"bp-better-messages")},a.createElement(DM,{className:"starred-messages",to:"favorited"},a.createElement(VT,{className:"bm-svg"}))),(!r||e.forceThreads)&&w7.search&&a.createElement(a.Fragment,null,!l&&a.createElement(kC,{showOnMobile:!1,content:C7("Search",'"Search" Button Tooltip',"bp-better-messages")},a.createElement("span",{className:"bm-search-btn",onClick:function(){f(!0)}},a.createElement(bT,{className:"bm-svg"}))),l&&a.createElement(Z1,{sideSearch:!1,onClose:function(){f(!1)}})),!s&&w7.fullScreen&&a.createElement(a.Fragment,null,!o&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){i(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),o&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){i(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))),s&&a.createElement(a.Fragment,null,w7.userSettings&&(w7.mobileFriends||w7.mobileGroups)&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Settings",'"User Settings" Button Tooltip',"bp-better-messages")},a.createElement(DM,{className:"settings",to:"settings"},a.createElement(yT,{className:"bm-svg"})))),a.createElement("span",{className:"mobileClose",onClick:function(){mQ(n,u)}},a.createElement(aT,{className:"bm-svg"}))))}function t2(e){switch(e.icon){case"stop":return a.createElement(aF,{style:{color:e.color}});case"moon":return a.createElement(YS,{style:{color:e.color}});default:return a.createElement(JS,{style:{color:e.color}})}}function n2(){return(n2=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a7.post("userSettings/save",{option:"online_status",value:t});case 3:return ES([e.sent.data.message]),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),Ky(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function r2(){var e=k((0,a.useState)(!1),2),t=e[0],n=e[1],r=!1,o=yS(w7.user_id);o&&w7.userStatuses&&o.status&&(r=w7.userStatuses.filter((function(e){return o.status.slug===e.slug})).shift());var i={};return w7.myProfile&&w7.me.url&&(i.myProfile=a.createElement("a",{href:w7.me.url,className:"bpbm-user-me-popup-list-item"},a.createElement("span",{className:"bpbm-user-me-popup-list-item-title"},a.createElement(QA,null)," ",C7("My profile","My profile button","bp-better-messages")))),w7.userStatuses&&(i.userStatuses=a.createElement(a.Fragment,null,a.createElement("span",{className:"bpbm-user-me-popup-list-hr"}),w7.userStatuses.map((function(e){return a.createElement("span",{onClick:function(){!function(e){n2.apply(this,arguments)}(e.slug)},key:"user-status"+e.slug,className:"bpbm-user-me-popup-list-item"},a.createElement("span",{className:"bpbm-user-me-popup-list-item-title"},a.createElement(t2,{icon:e.icon,color:e.color}),e.name),e.desc&&a.createElement("span",{className:"bpbm-user-me-popup-list-item-desc"},e.desc))})))),a.createElement(a.Fragment,null,w7.user_id&&o&&Object.keys(i).length>0&&a.createElement("span",{className:"bpbm-user-me"+(t?" bpbm-open":""),onClick:function(){n(!t)}},a.createElement("span",{className:"bpbm-user-me-avatar"},a.createElement(zS,{user_id:w7.user_id,link:!1,size:30})),a.createElement("span",{className:"bpbm-user-info"},a.createElement("span",{className:"bpbm-user-me-name"},a.createElement(hF,{user_id:w7.user_id,link:!1})),w7.userStatuses&&a.createElement("span",{className:"bpbm-status"},a.createElement("span",{className:"current-status"},r&&a.createElement(a.Fragment,null,a.createElement(t2,{icon:r.icon,color:r.color}),r.name)))),Object.keys(i).length>0&&a.createElement(MH,null,t&&a.createElement(vq.span,{initial:{y:"5px",opacity:0},animate:{y:"0px",opacity:1},transition:{duration:.2},exit:{y:"5px",opacity:0},className:"bpbm-user-me-popup"},a.createElement("span",{className:"bpbm-user-me-popup-list"},Object.keys(i).map((function(e){return a.createElement(a.Fragment,{key:e},i[e])})))))))}function o2(){return a.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fill:"none",strokeWidth:"2",d:"M12,13 C14.209139,13 16,11.209139 16,9 C16,6.790861 14.209139,5 12,5 C9.790861,5 8,6.790861 8,9 C8,11.209139 9.790861,13 12,13 Z M6,22 L6,19 C6,15.6862915 8.6862915,13 12,13 C15.3137085,13 18,15.6862915 18,19 L18,22 M13,5 C13.4037285,3.33566165 15.0151447,2 17,2 C19.172216,2 20.98052,3.790861 21,6 C20.98052,8.209139 19.172216,10 17,10 L16,10 L17,10 C20.287544,10 23,12.6862915 23,16 L23,18 M11,5 C10.5962715,3.33566165 8.98485529,2 7,2 C4.82778404,2 3.01948003,3.790861 3,6 C3.01948003,8.209139 4.82778404,10 7,10 L8,10 L7,10 C3.71245602,10 1,12.6862915 1,16 L1,18"}))}function a2(){var e=(0,a.useContext)(Dw),t=e.mobileView,n=e.sideTab,r=e.setSideTab,o=function(){var e=[];return w7.mobileFriends&&e.push("friends"),w7.mobileGroups&&e.push("groups"),e}();return a.createElement(a.Fragment,null,(!t||0===o.length)&&a.createElement("div",{className:"chat-footer"},w7.userSettings&&a.createElement(kC,{content:C7("Settings",'"User Settings" Button Tooltip',"bp-better-messages")},a.createElement(DM,{className:"settings",to:"settings"},a.createElement(yT,null))),a.createElement(r2,null)),t&&o.length>0&&a.createElement("div",{className:"chat-tabs chat-tabs-border-top bpbm-mobile-only"},a.createElement("div",{key:"mobile-threads-list","data-tab":"threads-list",className:"messages"===n?"active":"",onClick:function(){r("messages")}},a.createElement(RT,null)," ",C7("Messages","Mobile view tabs","bp-better-messages")),o.map((function(e){return"friends"===e?a.createElement("div",{key:"mobile-friends-list",className:"friends"===n?"active":"",onClick:function(){r("friends")},"data-tab":"bm-friends-list"},a.createElement(Jj,null)," ",C7("Friends","Mobile view tabs","bp-better-messages")):"groups"===e?a.createElement("div",{key:"mobile-groups-list",className:"groups"===n?"active":"",onClick:function(){r("groups")},"data-tab":"bm-groups-list"},a.createElement(o2,null)," ",C7("Groups","Mobile view tabs","bp-better-messages")):void 0}))))}function i2(e){return s2.apply(this,arguments)}function s2(){return(s2=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=3;break}return e.next=3,J5.groups.bulkUpsert(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u2=!1;function c2(){return c2=n(o().mark((function e(){var t,n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],!u2||t){e.next=3;break}return e.abrupt("return");case 3:return u2=!0,e.prev=4,e.next=7,OP();case 7:return e.next=9,a7.get("getGroups");case 9:return n=e.sent,r=n.data,e.next=13,i2(r);case 13:if(!((a=r.map((function(e){return e.group_id}))).length>0)){e.next=19;break}return e.next=17,J5.groups.find({selector:{group_id:{$nin:a}}}).remove().catch(zC);case 17:e.next=21;break;case 19:return e.next=21,J5.groups.find().remove().catch(zC);case 21:return e.abrupt("return",!0);case 22:return e.prev=22,e.finish(22);case 24:case"end":return e.stop()}}),e,null,[[4,,22,24]])}))),c2.apply(this,arguments)}function l2(e){return a.createElement("div",{key:"group_"+e.group.group_id,className:"group",onClick:function(t){(null==t?void 0:t.target).closest("a")||(1===e.group.messages&&e.group.thread_id?M2(e.group.thread_id,e.inRouter):N2(e.group.url))}},a.createElement("div",{className:"pic"},a.createElement("img",{src:e.group.image,alt:e.group.name})),a.createElement("div",{className:"name"},e.group.name),a.createElement("div",{className:"actions"},a.createElement(kC,{content:C7("Group Homepage","Groups List","bp-better-messages")},a.createElement("a",{href:e.group.url,className:"open-profile"},a.createElement(qT,null)))))}function f2(e){var t=k((0,a.useState)(20),2),r=t[0],i=t[1],s=(0,a.useRef)(20),u=(0,a.useRef)(null),c=k((0,a.useState)(),2),l=c[0],f=c[1],d=k((0,a.useState)(""),2),p=d[0],h=d[1],m=function(){var e=k((0,a.useState)(void 0),2),t=e[0],n=e[1];return(0,a.useEffect)((function(){var e=J5.groups.count().$.subscribe((function(e){n(e)}));return function(){e.unsubscribe()}}),[]),t}();u.current=m;var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=k((0,a.useState)(void 0),2),r=n[0],o=n[1];return(0,a.useEffect)((function(){var n={limit:e};""!==t&&(n={selector:{$and:[{name:{$regex:new RegExp(".*"+t+".*","i")}}]},limit:e});var r=J5.groups.find(n).$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),o(t)}));return function(){r.unsubscribe()}}),[e,t]),r}(r,p);(0,a.useEffect)((function(){l&&(l.addEventListener("scroll",(function(){w(l)})),y(l))}),[l]);var g=(0,a.useRef)(!1),b=(0,a.useRef)(null),y=function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current){e.next=2;break}return e.abrupt("return");case 2:if(null!==u.current){e.next=6;break}return e.next=5,S2(200);case 5:return e.abrupt("return",y(t));case 6:if(!(t.clientHeight>=t.scrollHeight&&b.current!==t.scrollHeight)){e.next=15;break}if(!(u.current>s.current)){e.next=13;break}return i((function(e){return s.current=e+20,e+20})),b.current=t.scrollHeight,e.next=12,S2(50);case 12:return e.abrupt("return",y(t));case 13:e.next=16;break;case 15:g.current=!0;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=(0,a.useRef)(!1),w=function(e){D.current||e.scrollHeight-(e.scrollTop+e.clientHeight)<=100&&u.current>s.current&&(D.current=!0,i((function(e){return s.current=e+20,e+20})),setTimeout((function(){D.current=!1}),100))};return(0,a.useEffect)((function(){!function(){c2.apply(this,arguments)}()}),[]),a.createElement(a.Fragment,null,a.createElement(RG,{classes:"bp-messages-group-list",events:{initialized:function(e){f(e.elements().scrollEventElement)}}},!v&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bpbm-search-in-list"},a.createElement("input",{type:"text",name:"bpbm-search",disabled:!0,placeholder:C7("Search...","Groups list","bp-better-messages")})),a.createElement(H1,null)),v&&a.createElement(a.Fragment,null,m>0&&a.createElement("div",{className:"bpbm-search-in-list"},a.createElement("input",{type:"text",name:"bpbm-search",onChange:function(e){h(e.target.value.trim())},value:p,placeholder:C7("Search...","Groups list","bp-better-messages")})),0===v.length&&a.createElement("div",{className:"bp-messages-user-list empty"},a.createElement("div",{className:"bpbm-empty-icon"},a.createElement(o2,null)),""===p&&a.createElement("div",{className:"bpbm-empty-text"},C7("No groups added yet","Empty groups list","bp-better-messages")),""!==p&&a.createElement("div",{className:"bpbm-empty-text"},C7("No groups found","Empty groups list","bp-better-messages"))),v.length>0&&a.createElement(a.Fragment,null,v.map((function(t){return a.createElement(l2,{key:"group-list-"+t.group_id,group:t,inRouter:e.inRouter})}))))))}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d2(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h2(e){e=p2(p2({},{forceThreads:!1}),e);var t=(0,a.useContext)(Dw),n=t.sideThreads,r=t.mobileView,o=t.sideTab,i=w7.newThread,s=k((0,a.useState)(1),2),u=s[0],c=s[1],l=k((0,a.useState)("100%"),2),f=l[0],d=l[1],p=(0,a.useRef)(),h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)(!1),2),b=g[0],y=g[1];(0,a.useLayoutEffect)((function(){if(p.current){var e=p.current.getBoundingClientRect();d(e.width+"px")}})),(0,a.useEffect)((function(){r&&("friends"===o?(c(2),v(!0)):"groups"===o?(c(3),y(!0)):c(1))}),[o]);var D=O7("better_messages_header_element",a.createElement(e2,{forceThreads:e.forceThreads}),"index",r);"string"==typeof D&&(D=Gb(D));var w=O7("better_messages_footer_element",a.createElement(a2,null),"index",r);return"string"==typeof w&&(w=Gb(w)),a.createElement(a.Fragment,null,a.createElement("div",{className:"chat-header"},D),r&&a.createElement(a.Fragment,null,a.createElement(vq.div,{ref:p,className:"bm-slide-container",transition:{duration:.2},animate:{left:"-"+(100*u-100)+"%"},style:{height:"calc( 100% - 80px )"}},a.createElement("div",{className:"bm-slide",style:{minWidth:f,width:f}},a.createElement(R1,{emptyType:"no_messages",inRouter:!0})),a.createElement("div",{className:"bm-slide",style:{minWidth:f,width:f}},m&&a.createElement(W1,{inRouter:!0})),a.createElement("div",{className:"bm-slide",style:{minWidth:f,width:f}},b&&a.createElement(f2,{inRouter:!0}))),w),!r&&a.createElement(a.Fragment,null,(!n||e.forceThreads)&&a.createElement(a.Fragment,null,a.createElement(R1,{emptyType:"no_messages",inRouter:!0}),w),n&&!e.forceThreads&&a.createElement(vq.div,{initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:.2},exit:{x:"-100%"},className:"thread-not-selected empty"},a.createElement("div",{className:"empty"},a.createElement("p",{className:"bpbm-empty-icon"},a.createElement(cT,null)),a.createElement("p",{className:"bpbm-empty-message"},C7("Select a conversation to display messages","Starting Messages Screen (No threads selected)","bp-better-messages")),i&&a.createElement(a.Fragment,null,a.createElement("p",{className:"bpbm-empty-or"},C7("or","Starting Messages Screen (No threads selected)","bp-better-messages")),a.createElement("p",{className:"bpbm-empty-link"},a.createElement(DM,{to:"new-conversation"},C7("Start a new conversation","Starting Messages Screen (No threads selected)","bp-better-messages"))))))))}function m2(){var e=(0,a.useContext)(Dw),t=e.isMaximized,n=e.setIsMaximized;return a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Back",'"Back" Button Tooltip',"bp-better-messages")},a.createElement(DM,{to:"/",className:"back"},a.createElement(nT,null))),a.createElement("span",{id:"bm-new-thread-title"},C7("Settings","User settings screen","bp-better-messages")),w7.fullScreen&&a.createElement(a.Fragment,null,!t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},a.createElement(Gj,{className:"bm-svg"})))),t&&a.createElement(a.Fragment,null,a.createElement(kC,{showOnMobile:!1,content:C7("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},a.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},a.createElement(Yj,{className:"bm-svg"}))))))}function v2(){var e=(0,a.useContext)(Dw).mobileView,t=k((0,a.useState)(null),2),n=t[0],r=t[1],o=k((0,a.useState)(null),2);o[0],o[1];(0,a.useEffect)((function(){a7.get("userSettings").then((function(e){r(e.data)}))}),[]);var i=function(e,t){"boolean"==typeof t&&(t=t?"true":"false"),a7.post("userSettings/save",{option:e,value:t}).then((function(e){Wy(e.data.message)})).catch((function(e){return Yy}))};return(0,a.useEffect)((function(){}),[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"chat-header"},a.createElement(m2,null)),a.createElement(RG,{classes:"bm-user-settings"},!n&&a.createElement(p$,null),n&&a.createElement("div",{className:"bpbm-user-options"},n.map((function(e,t){return a.createElement("div",{className:"bpbm-options-group",key:"option-group-"+e.id},a.createElement("h4",{className:"bpbm-user-option-title"},e.title),"mobile_logout"===e.type&&a.createElement("div",{className:"bm-mobile-logout"},a.createElement("button",{onClick:function(e){e.preventDefault(),A7("better_messages_logout_action",e)}},e.title)),"checkboxes_radio"===e.type&&a.createElement("div",{className:"bpbm-user-option"},e.options.map((function(t){return a.createElement("div",{key:e.id+"_"+t.id},a.createElement("input",{onChange:function(t){var n=t.target,r=[],o=n.closest(".bpbm-options-group");if("who_can_start_conversations"===e.id){var a=!1;n.checked&&("everyone"===n.value?(r=["everyone"],a=!0):"nobody"===n.value&&(r=["nobody"],a=!0)),a?o.querySelectorAll("input").forEach((function(e){e!==n&&(e.checked=!1)})):o.querySelectorAll("input").forEach((function(e){"nobody"!==e.value&&"everyone"!==e.value||(e.checked=!1),e.checked&&r.push(e.value)}))}i(e.id,r.join(","))},id:e.id+"_"+t.id,className:"bpbm-checkbox",type:"checkbox",defaultChecked:t.checked,value:t.value}),a.createElement("label",{htmlFor:e.id+"_"+t.id},t.label))}))),"checkboxes"===e.type&&a.createElement(a.Fragment,null,e.options.map((function(t){return a.createElement(a.Fragment,{key:e.id+"_"+t.id},"push_notifications"!==t.id&&a.createElement("div",{className:"bpbm-user-option"},a.createElement("input",{id:e.id+"_"+t.id,onChange:function(e){i(t.id,e.target.checked)},className:"bpbm-checkbox",type:"checkbox",defaultChecked:t.checked,value:t.value}),a.createElement("label",{htmlFor:e.id+"_"+t.id},t.label),t.desc&&a.createElement("div",{className:"bpbm-user-option-description"},t.desc)))}))),"blocked_users"===e.type&&a.createElement("div",{className:"bpbm-user-option"},a.createElement("div",{className:"bpbm-user-option-description"},C7("This is a list of users that you have blocked. You may unblock them from the blocklist below.","User settings screen","bp-better-messages")),a.createElement("div",{className:"bpbm-user-blacklist"},Object.keys(e.users).length>0&&a.createElement("table",null,a.createElement("tbody",null,Object.keys(e.users).map((function(e){return a.createElement("tr",{key:"blocked-user-"+e},a.createElement("td",null,a.createElement(hF,{user_id:Number(e)})),a.createElement("td",null,a.createElement("a",{href:"#",className:"bpbm-unblock-user",onClick:function(n){n.preventDefault(),WJ(Number(e)).then((function(){r((function(n){return delete n[t].users[e],V(n)}))}))}},C7("Unblock user","User settings screen","bp-better-messages"))))})))),0===Object.keys(e.users).length&&a.createElement("div",{className:"bpbm-user-blacklist-empty"},a.createElement(JA,null),C7("You haven’t blocked anyone yet","User settings screen","bp-better-messages")))))})))),e&&a.createElement("div",{className:"chat-footer",style:{marginTop:"auto"}},a.createElement(r2,null)))}function g2(e){var t=e.children;return a.createElement(a.Fragment,null,t)}function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b2(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D2(e){e=y2(y2({},{mobileApp:!1,forceMobile:!1}),e);var t=k((0,a.useState)(null),2),n=t[0],r=t[1],o=k((0,a.useState)(null),2),i=o[0],s=o[1],u=k((0,a.useState)(!1),2),c=u[0],l=u[1],f=k((0,a.useState)(e.forceMobile),2),d=f[0],p=f[1],h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)("messages"),2),b=g[0],y=g[1],D=k(mj(),2),w=D[0],_=D[1],E=pJ();return(0,a.useEffect)((function(){return document.addEventListener("better-message-settings-changed",E),function(){document.removeEventListener("better-message-settings-changed",E)}}),[]),a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return _(!1),c7()?setTimeout((function(){return _(!0)}),500):l7().then((function(){_(!0)})),null}},w&&a.createElement(Dw.Provider,{value:{reactRoot:e.reactRoot,root:e.root,header:n,setHeader:r,wrapper:i,setWrapper:s,isMaximized:c,setIsMaximized:l,useRouter:!0,callActive:m,setCallActive:v,mobileView:d,setMobileView:p,sideTab:b,setSideTab:y,sideThreads:w7.combinedView&&!Ho()}},a.createElement(yM,null,a.createElement(w2,null))),!w&&a.createElement(a.Fragment,null,Gb(e.placeholder)))}function w2(){var e,t=(0,a.useContext)(Dw),r=t.root,i=t.sideThreads,s=t.isMaximized,u=t.setHeader,c=t.setWrapper,l=t.callActive,f=t.mobileView,d=t.setMobileView,p=t.sideTab,h=t.setSideTab,m=a.createRef(),v=a.createRef(),g=a.createRef(),b=k((0,a.useState)(w7.minHeight+"px"),2),y=b[0],D=b[1],w=function(){if(m.current){var e=_7&&Ho()&&f,t=c0(m.current,s,e),n=t.hideSideThreads,r=t.height;D(r),x(n);var o=m.current.closest(".bp-messages-wrap-main");o&&(o.style.height=null)}};(0,a.useLayoutEffect)((function(){w()}));var _=k((0,a.useState)(!1),2),E=_[0],x=_[1],C=k((0,a.useState)(),2),S=C[0],F=C[1],O=k((0,a.useState)(.2),2),A=O[0],T=O[1],P=_7?window.innerWidth:null===(e=r.querySelector(".bp-messages-threads-wrapper"))||void 0===e?void 0:e.getBoundingClientRect().width,j=tw(),M="bp-messages-wrap",B="bp-messages-threads-wrapper",N=k((0,a.useState)("0px"),2),R=N[0],I=N[1],L={height:y};_7&&(M+=" mobile-ready"),f&&(M+=" bp-messages-mobile"),s&&(M+=" bp-messages-full-screen"),l&&(M+=" bpbm-call-view"),(0,a.useEffect)((function(){var e=document.createElement("div");e.classList.add("bm-placeholder-anchor"),e.style.display="none",r.parentNode.insertBefore(e,r),F(e),_7&&w7.autoFullScreen&&!f&&d(!0)}),[]);var z=function(){w(),setTimeout((function(){var e;P=_7?window.innerWidth:null===(e=r.querySelector(".bp-messages-threads-wrapper"))||void 0===e?void 0:e.getBoundingClientRect().width,oe(ne,i)}),300)};(0,a.useEffect)((function(){return window.addEventListener("resize",z),function(){window.removeEventListener("resize",z)}}),[m]),(0,a.useEffect)((function(){_7&&(f?(document.body.appendChild(r),r.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),w(),_2()):(S&&S.parentNode.insertBefore(r,S),r.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),w()))}),[f]),(0,a.useEffect)((function(){s?(document.body.appendChild(r),document.querySelector("body").classList.add("bp-messages-full-screen"),w(),_2()):(S&&S.parentNode.insertBefore(r,S),document.querySelector("body").classList.remove("bp-messages-full-screen"),w())}),[s]),(0,a.useEffect)((function(){u(v.current),c(g.current)}),[v,g]),i&&!E||(B+=" threads-hidden",L.display="block");var q=k((0,a.useState)(""),2),U=q[0],V=q[1],H=k((0,a.useState)(null),2),$=H[0],W=H[1],K=k(g$(U,300),1)[0];(0,a.useEffect)((function(){""===U.trim()?h("messages"):("search"!==p&&W("loading"),h("search"))}),[U]),(0,a.useEffect)((function(){""!==K&&ee(K)}),[K]);var G=k((0,a.useState)(null),2),Y=G[0],Z=G[1],X=k((0,a.useState)(null),2),J=X[0],Q=X[1],ee=function(){var e=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W("loading"),e.next=4,a7.post("search",{search:t});case 4:n=e.sent,(r=n.data).updateData&&aM(r.updateData),W(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),te=nw("conversation/:threadId");j.pathname.startsWith("/")||(j.pathname="/"+j.pathname);var ne="/"===j.pathname,re=0;te&&(re="loading"!==te.params.threadId?Number(te.params.threadId):te.params.threadId),te||ne||(re=-1);var oe=function(e,t){I(e?"0":_7?-Math.abs(P)+"px":t?"0":"-100%")};(0,a.useEffect)((function(){oe(ne,i)}),[ne,i]),(0,a.useEffect)((function(){te?I2.set("mainScreen",re):I2.delete("mainScreen"),document.dispatchEvent(new CustomEvent("better-messages-main-screen-change"))}),[te]);var ae=[];return i&&(w7.friends&&w7.combinedFriends&&ae.push(a.createElement("div",{"data-tab":"bpbm-friends-list",key:"side-tabs-friends",onClick:function(){h("friends")},className:"friends"===p?"active":""},a.createElement(Jj,null)," ",C7("Friends","Combined view tabs","bp-better-messages"))),w7.groups&&w7.combinedGroups&&ae.push(a.createElement("div",{"data-tab":"bpbm-groups-list",key:"side-tabs-groups",onClick:function(){h("groups")},className:"groups"===p?"active":""},a.createElement(o2,null)," ",C7("Groups","Combined view tabs","bp-better-messages")))),!i&&ne&&(M+=" bm-index-page"),a.createElement(I1.Provider,{value:{searchText:U,setSearchText:V,searchResults:$,setSearchResults:W}},a.createElement("div",{className:M,ref:m,style:{height:y}},a.createElement(g2,null,a.createElement(vq.div,{onTouchMove:function(e){var t;if(!ne&&!M.includes("bpbm-call-view")&&_7&&(window.getSelection().isCollapsed&&e.target.closest(".bp-messages-wrap")&&(Q(null),Y?t=e.targetTouches[0].clientX-Y:(Z(e.targetTouches[0].clientX),t=0),t<0&&(t=0),t>20))){var n=-Math.abs(P)+t;T(0),I(n+"px"),Q(e.targetTouches[0].clientX)}},onTouchEnd:function(e){if(!ne&&_7)if(I(-Math.abs(P)+"px"),Y&&J){var t=Y-J,n=t>50;T(.2),t<-70&&!n?document.location.hash="#":I(-Math.abs(P)+"px"),Z(null)}else Z(null)},className:B,transition:{duration:A},animate:{x:R},style:L,ref:g},i&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bp-messages-side-threads"},a.createElement("div",{className:"chat-header side-header"},w7.newThread&&a.createElement(kC,{content:C7("New Conversation",'"New Conversation" Button Tooltip',"bp-better-messages")},a.createElement(DM,{className:"new-message",to:"new-conversation"},a.createElement(nQ,{className:"bm-svg"}))),w7.search&&a.createElement(Z1,{sideSearch:!0})),ae.length>0&&a.createElement("div",{className:"bm-side-tabs bm-side-tabs-border-bottom "},a.createElement("div",{"data-tab":"threads-list",key:"side-tabs-threads",onClick:function(){h("messages")},className:"messages"===p?"active":""},a.createElement(RT,null)," ",C7("Messages","Combined view tabs","bp-better-messages")),ae.map((function(e){return e}))),a.createElement("div",{className:"bm-side-content",style:{display:"messages"===p?"block":"none"}},a.createElement(R1,{emptyType:"no_messages",inRouter:!0})),w7.friends&&w7.combinedFriends&&"friends"===p&&a.createElement("div",{className:"bm-side-content"},a.createElement(W1,{inRouter:!0})),w7.groups&&"groups"===p&&a.createElement("div",{className:"bm-side-content"},a.createElement(f2,{inRouter:!0})),w7.search&&a.createElement("div",{className:"bm-side-content",style:{display:"search"===p?"block":"none"}},a.createElement(Y1,null)),a.createElement(a2,null)),a.createElement("div",{className:"bp-messages-column"},a.createElement(MH,{initial:!1,mode:"wait"},a.createElement(gw,{location:j},a.createElement(mw,{path:"conversation/:threadId",element:a.createElement(u0,{threadId:re})}),w7.newThread&&a.createElement(mw,{path:"new-conversation",element:a.createElement(jZ,{inRouter:!0})}),a.createElement(mw,{path:"send-bulk",element:a.createElement(mY,null)}),w7.userSettings&&a.createElement(mw,{path:"settings",element:a.createElement(v2,null)}),a.createElement(mw,{path:"favorited",element:a.createElement(qZ,null)}),a.createElement(mw,{path:"*",element:a.createElement(h2,{forceThreads:E})}))))),!i&&a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"absolute",height:"100%"},className:"bp-messages-column"},a.createElement(h2,null),a.createElement(l0,{height:y,setMobileView:d})),a.createElement("div",{style:{position:"absolute",height:"100%",transform:"translateX(100%)"},className:"bp-messages-column"},a.createElement(u0,{threadId:re}),a.createElement(gw,{location:j},a.createElement(mw,{path:"/",element:a.createElement(a.Fragment,null)}),a.createElement(mw,{path:"conversation/:threadId",element:a.createElement(a.Fragment,null)}),w7.newThread&&a.createElement(mw,{path:"new-conversation",element:a.createElement(jZ,{inRouter:!0})}),a.createElement(mw,{path:"send-bulk",element:a.createElement(mY,null)}),w7.userSettings&&a.createElement(mw,{path:"settings",element:a.createElement(v2,null)}),a.createElement(mw,{path:"favorited",element:a.createElement(qZ,null)}),a.createElement(mw,{path:"*",element:a.createElement(hw,{to:"/"})})),a.createElement(l0,{height:y,setMobileView:d})))))))}function _2(){if(!w7.hPBE)return!1;Array.from(document.querySelectorAll("*:not(.bp-messages-hide-on-full-screen)")).map((function(e){if("floating-ui-root"!==e.id&&"better-messages-modals-container"!==e.id){var t=e.classList;if(!(t.contains("bp-messages-mobile")||t.contains("bp-messages-wrap")||t.contains("bp-messages-wrap-main")||t.contains("bp-messages-chat-wrap")||t.contains("bp-messages-wrap-group")||t.contains("bm-toasts-container")||t.contains("bp-messages-full-screen-thread-wrap")||e.closest(".uppy")||e.closest(".bp-messages-wrap")||e.closest(".bm-toasts-container"))){var n=getComputedStyle(e).position;"fixed"!==n&&"absolute"!==n&&e.classList.add("bp-messages-hide-on-full-screen")}}}))}function E2(){return x2.apply(this,arguments)}function x2(){return(x2=n(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("bp-better-messages-mini-mobile-container"),n=s.s(t),t.style.display="block",n.render(a.createElement(D2,{reactRoot:n,root:t,forceMobile:!0,placeholder:t.innerHTML}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k2(e){return C2.apply(this,arguments)}function C2(){return C2=n(o().mark((function e(t){var n,r,a,i,s,u,c,l,f,d,p,h,m,v=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>1&&void 0!==v[1]&&v[1],r=v.length>2&&void 0!==v[2]&&v[2],a=v.length>3&&void 0!==v[3]?v[3]:"conversation",i=v.length>4&&void 0!==v[4]?v[4]:"",s=v.length>5&&void 0!==v[5]?v[5]:null,e.prev=5,w7.miniChats||(n=!0),u=!_7&&!n,t=Number(t),u&&Ho()&&!w7.mobileFullScreen&&(u=!1),l=location.hash,!u){e.next=20;break}return e.next=14,oP("loading_"+t,!0,t);case 14:if(f=e.sent,c=f.id){e.next=18;break}return e.abrupt("return",!1);case 18:e.next=27;break;case 20:if(!_7){e.next=26;break}return location.hash="#/conversation/loading",e.next=24,E2();case 24:e.next=27;break;case 26:n=!0;case 27:return e.next=29,a7.post("getPrivateThread",{user_id:t,create:r,subject:i,uniqueKey:s});case 29:if(d=e.sent,"string"!=typeof(p=d.data)||!u){e.next=35;break}return e.next=34,dP(c);case 34:return e.abrupt("return");case 35:if(h=String(p.thread_id),"video"===a&&(h+="?&scrollToContainer&videoCall"),"audio"===a&&(h+="?&scrollToContainer&audioCall"),"thread_found"!==p.result&&"thread_created"!==p.result){e.next=67;break}return e.next=42,aM(p);case 42:if(!n){e.next=47;break}_7?location.hash="#/conversation/"+p.thread_id:location.href=w7.threadUrl+h,nD(),e.next=65;break;case 47:if(!u){e.next=64;break}return e.next=50,iP(p.thread_id);case 50:if(!(m=e.sent)){e.next=60;break}return e.next=54,dP(c);case 54:return e.next=56,lP(m.id,{user_id:t});case 56:return e.next=58,uP(m.id);case 58:e.next=62;break;case 60:return e.next=62,lP(c,{thread_id:p.thread_id});case 62:e.next=65;break;case 64:_7&&(location.hash="#/conversation/"+h,nD());case 65:e.next=68;break;case 67:"not_allowed"===p.result&&(_7&&(location.hash=l),Ky(p.errors),u&&dP(c));case 68:e.next=72;break;case 70:e.prev=70,e.t0=e.catch(5);case 72:case"end":return e.stop()}}),e,null,[[5,70]])}))),C2.apply(this,arguments)}function S2(e){return new Promise((function(t){return setTimeout(t,e)}))}var F2=!1,O2=!1;window.addEventListener("beforeunload",(function(){if(F2)return w7.strings.you_are_in_call}));var A2=!1;var T2=document.title;function P2(e){}function j2(e){$b(document,"better-messages-message-deleted",{messageId:e}),r3.isLeader&&X2.postMessage({type:"message_deleted",message_id:e})}function M2(e){return B2.apply(this,arguments)}function B2(){return B2=n(o().mark((function e(t){var n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]&&n[1],!_7){e.next=7;break}return e.next=4,E2();case 4:location.hash="#/conversation/"+t,e.next=8;break;case 7:location.href=w7.threadUrl+t+"?&scrollToContainer";case 8:case"end":return e.stop()}}),e)}))),B2.apply(this,arguments)}function N2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)return t?(window.open(e,"newWindow"),event.preventDefault()):location.href=e,!0;var n=!1;"undefined"!=typeof event&&2===event.which&&(n=!0),n?(window.open(e,"newWindow"),event.preventDefault()):location.href=e}window.BPBMurlBase64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},window.BPBMOpenUrlOrNewTab=N2,window.BBPMOpenPrivateThread=function(e){k2(e,!1,!0)};var R2,I2=new Map,L2=new Set;function z2(e){return V(I2.values()).includes(e)}function q2(){return V(I2.values())}function U2(){return V2.apply(this,arguments)}function V2(){return(V2=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L2.clear(),e.next=3,X2.postMessage({type:"visible_threads_request"});case 3:return e.next=5,S2(500);case 5:if(!_.now()){e.next=9;break}return e.abrupt("return",V(new Set([].concat(V(I2.values()),V(L2.values())))));case 9:return e.abrupt("return",V(new Set(V(L2.values()))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H2=function(){var e=n(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i1()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,zP();case 5:if(t=e.sent,n=q2(),r=[],t.map((function(e){n.includes(e.thread_id)&&r.push(e.thread_id)})),!(r.length>0)){e.next=19;break}return e.prev=10,e.next=13,a7.post("openThreads",{thread_ids:r});case 13:return e.next=15,J5.threads.find({selector:{thread_id:{$in:r}}}).update({$set:{unread:0}}).catch(zC);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(0);case 23:case"end":return e.stop()}}),e,null,[[0,21],[10,17]])})));return function(){return e.apply(this,arguments)}}();_.on("focus",H2),_.on("wakeup",H2);var $2=!1;function W2(){return K2.apply(this,arguments)}function K2(){return K2=n(o().mark((function e(){var t,r,a,i,s,u,c,l,f,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],e.prev=1,w7&&void 0!==w7.user_id){e.next=4;break}return e.abrupt("return",!1);case 4:if(r=!0,0===w7.user_id&&(w7.guestAuth||(r=!1)),r){e.next=8;break}return e.abrupt("return");case 8:if(window.clearTimeout(R2),t){e.next=12;break}if(!i1()){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Q2();case 14:return e.next=16,t3();case 16:if(e.sent){e.next=18;break}return e.abrupt("return",!1);case 18:return e.next=20,OP();case 20:if(!$2){e.next=22;break}return e.abrupt("return",!1);case 22:return $2=!0,e.prev=23,e.next=26,MA("lastUpdate",!1);case 26:if(!(!1===(a=e.sent)||a>0)){e.next=59;break}return!1===a&&(a=0),e.next=31,U2();case 31:return i=e.sent,s={lastUpdate:a,visibleThreads:i},e.next=36,JP();case 36:(u=e.sent).length>0&&(s.threadIds=u);case 38:return e.next=40,a7.post("checkNew",s);case 40:if(c=e.sent,l=c.data,f=l.currentTime,!(l.users&&l.users.length>0)){e.next=46;break}return e.next=46,ES(l.users);case 46:if(!(l.threads&&l.threads.length>0)){e.next=49;break}return e.next=49,oj(l.threads);case 49:if(!(l.messages&&l.messages.length>0)){e.next=53;break}return e.next=52,eS(l.messages);case 52:l.messages.map(function(){var e=n(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cj(t.message_id),t.sender_id===w7.user_id){e.next=6;break}return e.next=4,HP(t.thread_id);case 4:(n=e.sent)&&(r=n.permissions&&n.permissions.isMuted,n.isHidden&&(r=!0),r||(a=Number(t.createdAt.toString().slice(0,-4)),Co.now().toSeconds()-a<300&&t.createdAt===t.lastUpdate&&O0(t.thread_id,t.message_id)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 53:if(l.deletedMessages&&l.deletedMessages.length>0&&l.deletedMessages.map((function(e){GC(e),j2(e)})),l.deletedThreads&&l.deletedThreads.length>0&&l.deletedThreads.map((function(e){ZP(e)})),l.missedThreads&&l.missedThreads.length>0&&l.missedThreads.map(function(){var e=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HP(t);case 2:(n=e.sent)&&!n.adminAccess&&ZP(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!f){e.next=59;break}return e.next=59,NA("lastUpdate",f);case 59:return e.prev=59,$2=!1,e.finish(59);case 62:e.next=67;break;case 64:e.prev=64,e.t0=e.catch(1),console.error(e.t0);case 67:return e.prev=67,e.t1=window,e.t2=W2,e.next=72,G2();case 72:return e.t3=e.sent,R2=e.t1.setTimeout.call(e.t1,e.t2,e.t3),e.finish(67);case 75:case"end":return e.stop()}}),e,null,[[1,64,67,75],[23,,59,62]])}))),K2.apply(this,arguments)}function G2(){return Y2.apply(this,arguments)}function Y2(){return(Y2=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U2();case 2:if(!(e.sent.length>0)){e.next=7;break}return e.abrupt("return",w7.threadRefresh);case 7:return e.abrupt("return",w7.siteRefresh);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z2=!1,X2=new Tp("better-messages"),J2=Kp(X2);function Q2(){return e3.apply(this,arguments)}function e3(){return(e3=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=J2,!e.t0){e.next=5;break}return e.next=4,J2.hasLeader();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,S2(500);case 9:return e.abrupt("return",Q2());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t3(){return n3.apply(this,arguments)}function n3(){return(n3=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z2){e.next=2;break}return e.abrupt("return",!0);case 2:if(!$o()){e.next=4;break}return e.abrupt("return",!0);case 4:if(e.t0=J2,!e.t0){e.next=9;break}return e.next=8,J2.hasLeader();case 8:e.t0=!e.sent;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",!0);case 11:if(e.t2=J2,!e.t2){e.next=16;break}return e.next=15,J2.hasLeader();case 15:e.t2=e.sent;case 16:if(e.t1=e.t2,!e.t1){e.next=19;break}e.t1=J2.isLeader;case 19:if(!e.t1){e.next=21;break}return e.abrupt("return",!0);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}J2.awaitLeadership().then((function(){W2()}));const r3=J2;function o3(e){Z2=e}X2.addEventListener("message",(function(e){if(e.type)switch(e.type){case"visible_threads_request":_.now()&&X2.postMessage({type:"visible_threads_response",threads:q2()});break;case"visible_threads_response":e.threads.map((function(e){return L2.add(e)}));break;case"visible_tab_request":X2.postMessage({type:"visible_tab_response",visible:!document.hidden&&document.hasFocus()});break;case"visible_tab_response":!0===e.visible&&function(e){B0.apply(this,arguments)}(!0);break;case"on_site_message":cj(e.message_id);break;case"message_deleted":j2(e.message_id);break;case"thread_opened":e.thread_id;break;case"update_settings":j7(e.settings)}}));const a3="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,i3=Object.keys,s3=Array.isArray;function u3(e,t){return"object"!=typeof t||i3(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||a3.Promise||(a3.Promise=Promise);const c3=Object.getPrototypeOf,l3={}.hasOwnProperty;function f3(e,t){return l3.call(e,t)}function d3(e,t){"function"==typeof t&&(t=t(c3(e))),("undefined"==typeof Reflect?i3:Reflect.ownKeys)(t).forEach((n=>{h3(e,n,t[n])}))}const p3=Object.defineProperty;function h3(e,t,n,r){p3(e,t,u3(n&&f3(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function m3(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h3(e.prototype,"constructor",e),{extend:d3.bind(null,e.prototype)}}}}const v3=Object.getOwnPropertyDescriptor;function g3(e,t){let n;return v3(e,t)||(n=c3(e))&&g3(n,t)}const b3=[].slice;function y3(e,t,n){return b3.call(e,t,n)}function D3(e,t){return t(e)}function w3(e){if(!e)throw new Error("Assertion Failed")}function _3(e){a3.setImmediate?setImmediate(e):setTimeout(e,0)}function E3(e,t){return e.reduce(((e,n,r)=>{var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function x3(e,t){if(f3(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var a=x3(e,t[r]);n.push(a)}return n}var i=t.indexOf(".");if(-1!==i){var s=e[t.substr(0,i)];return void 0===s?void 0:x3(s,t.substr(i+1))}}function k3(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){w3("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)k3(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var i=t.substr(0,a),s=t.substr(a+1);if(""===s)void 0===n?s3(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n;else{var u=e[i];u&&f3(e,i)||(u=e[i]={}),k3(u,s,n)}}else void 0===n?s3(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function C3(e){var t={};for(var n in e)f3(e,n)&&(t[n]=e[n]);return t}const S3=[].concat;function F3(e){return S3.apply([],e)}const O3="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F3([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>a3[e])),A3=O3.map((e=>a3[e]));E3(O3,(e=>[e,!0]));let T3=null;function P3(e){T3="undefined"!=typeof WeakMap&&new WeakMap;const t=j3(e);return T3=null,t}function j3(e){if(!e||"object"!=typeof e)return e;let t=T3&&T3.get(e);if(t)return t;if(s3(e)){t=[],T3&&T3.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(j3(e[n]))}else if(A3.indexOf(e.constructor)>=0)t=e;else{const n=c3(e);for(var o in t=n===Object.prototype?{}:Object.create(n),T3&&T3.set(e,t),e)f3(e,o)&&(t[o]=j3(e[o]))}return t}const{toString:M3}={};function B3(e){return M3.call(e).slice(8,-1)}const N3="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",R3="symbol"==typeof N3?function(e){var t;return null!=e&&(t=e[N3])&&t.apply(e)}:function(){return null},I3={};function L3(e){var t,n,r,o;if(1===arguments.length){if(s3(e))return e.slice();if(this===I3&&"string"==typeof e)return[e];if(o=R3(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const z3="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var q3="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function U3(e,t){q3=e,V3=t}var V3=()=>!0;const H3=!new Error("").stack;function $3(){if(H3)try{throw $3.arguments,new Error}catch(O9){return O9}return new Error}function W3(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(V3).map((e=>"\n"+e)).join("")):""}var K3=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],G3=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(K3),Y3={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Z3(e,t){this._e=$3(),this.name=e,this.message=t}function X3(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function J3(e,t,n,r){this._e=$3(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=X3(e,t)}function Q3(e,t){this._e=$3(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=X3(e,t)}m3(Z3).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+W3(this._e,2))}},toString:function(){return this.name+": "+this.message}}),m3(J3).from(Z3),m3(Q3).from(Z3);var e4=G3.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const t4=Z3;var n4=G3.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=$3(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Y3[t]||n,this.inner=null)}return m3(r).from(t4),e[t]=r,e}),{});n4.Syntax=SyntaxError,n4.Type=TypeError,n4.Range=RangeError;var r4=K3.reduce(((e,t)=>(e[t+"Error"]=n4[t],e)),{}),o4=G3.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=n4[t]),e)),{});function a4(){}function i4(e){return e}function s4(e,t){return null==e||e===i4?t:function(n){return t(e(n))}}function u4(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c4(e,t){return e===a4?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?u4(r,this.onsuccess):r),o&&(this.onerror=this.onerror?u4(o,this.onerror):o),void 0!==a?a:n}}function l4(e,t){return e===a4?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?u4(n,this.onsuccess):n),r&&(this.onerror=this.onerror?u4(r,this.onerror):r)}}function f4(e,t){return e===a4?t:function(n){var r=e.apply(this,arguments);u3(n,r);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?u4(o,this.onsuccess):o),a&&(this.onerror=this.onerror?u4(a,this.onerror):a),void 0===r?void 0===i?void 0:i:u3(r,i)}}function d4(e,t){return e===a4?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function p4(e,t){return e===a4?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}o4.ModifyError=J3,o4.DexieError=Z3,o4.BulkError=Q3;var h4={};const[m4,v4,g4]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,c3(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,c3(t),e]})(),b4=v4&&v4.then,y4=m4&&m4.constructor,D4=!!g4;var w4=!1,_4=g4?()=>{g4.then($4)}:a3.setImmediate?setImmediate.bind(null,$4):a3.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{$4(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout($4,0)},E4=function(e,t){P4.push([e,t]),k4&&(_4(),k4=!1)},x4=!0,k4=!0,C4=[],S4=[],F4=null,O4=i4,A4={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:m6,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{m6(e[0],e[1])}catch(e){}}))}},T4=A4,P4=[],j4=0,M4=[];function B4(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=a4,this._lib=!1;var t=this._PSD=T4;if(q3&&(this._stackHolder=$3(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==h4)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&L4(this,this._value))}this._state=null,this._value=null,++t.ref,I4(this,e)}const N4={get:function(){var e=T4,t=t6;function n(n,r){var o=!e.global&&(e!==T4||t!==t6);const a=o&&!a6();var i=new B4(((t,i)=>{q4(this,new R4(p6(n,e,o,a),p6(r,e,o,a),t,i,e))}));return q3&&H4(i,this),i}return n.prototype=h4,n},set:function(e){h3(this,"then",e&&e.prototype===h4?N4:{get:function(){return e},set:N4.set})}};function R4(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function I4(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&W4();t&&"function"==typeof t.then?I4(e,((e,n)=>{t instanceof B4?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,z4(e)),n&&K4()}}),L4.bind(null,e))}catch(t){L4(e,t)}}function L4(e,t){if(S4.push(t),null===e._state){var n=e._lib&&W4();t=O4(t),e._state=!1,e._value=t,q3&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=g3(t,"stack");t._promise=e,h3(t,"stack",{get:()=>w4?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){C4.some((t=>t._value===e._value))||C4.push(e)}(e),z4(e),n&&K4()}}function z4(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)q4(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===j4&&(++j4,E4((()=>{0==--j4&&G4()}),[]))}function q4(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++j4,E4(U4,[n,e,t])}else e._listeners.push(t)}function U4(e,t,n){try{F4=t;var r,o=t._value;t._state?r=e(o):(S4.length&&(S4=[]),r=e(o),-1===S4.indexOf(o)&&function(e){for(var t=C4.length;t;)if(C4[--t]._value===e._value)return void C4.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{F4=null,0==--j4&&G4(),--n.psd.ref||n.psd.finalize()}}function V4(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,a,i=e._value;null!=i?(o=i.name||"Error",a=i.message||i,r=W3(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return q3&&((r=W3(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&V4(e._prev,t,n)),t}function H4(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function $4(){W4()&&K4()}function W4(){var e=x4;return x4=!1,k4=!1,e}function K4(){var e,t,n;do{for(;P4.length>0;)for(e=P4,P4=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(P4.length>0);x4=!0,k4=!0}function G4(){var e=C4;C4=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=M4.slice(0),n=t.length;n;)t[--n]()}function Y4(e){return new B4(h4,!1,e)}function Z4(e,t){var n=T4;return function(){var r=W4(),o=T4;try{return c6(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{c6(o,!1),r&&K4()}}}d3(B4.prototype,{then:N4,_then:function(e,t){q4(this,new R4(null,null,e,t,T4))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Y4(e))):this.then(null,(e=>e&&e.name===t?n(e):Y4(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Y4(t))))},stack:{get:function(){if(this._stack)return this._stack;try{w4=!0;var e=V4(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{w4=!1}}},timeout:function(e,t){return e<1/0?new B4(((n,r)=>{var o=setTimeout((()=>r(new n4.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h3(B4.prototype,Symbol.toStringTag,"Dexie.Promise"),A4.env=l6(),d3(B4,{all:function(){var e=L3.apply(null,arguments).map(i6);return new B4((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((o,a)=>B4.resolve(o).then((n=>{e[a]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof B4)return e;if(e&&"function"==typeof e.then)return new B4(((t,n)=>{e.then(t,n)}));var t=new B4(h4,!0,e);return H4(t,F4),t},reject:Y4,race:function(){var e=L3.apply(null,arguments).map(i6);return new B4(((t,n)=>{e.map((e=>B4.resolve(e).then(t,n)))}))},PSD:{get:()=>T4,set:e=>T4=e},totalEchoes:{get:()=>t6},newPSD:r6,usePSD:f6,scheduler:{get:()=>E4,set:e=>{E4=e}},rejectionMapper:{get:()=>O4,set:e=>{O4=e}},follow:(e,t)=>new B4(((n,r)=>r6(((t,n)=>{var r=T4;r.unhandleds=[],r.onunhandled=n,r.finalize=u4((function(){!function(e){M4.push((function t(){e(),M4.splice(M4.indexOf(t),1)})),++j4,E4((()=>{0==--j4&&G4()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),y4&&(y4.allSettled&&h3(B4,"allSettled",(function(){const e=L3.apply(null,arguments).map(i6);return new B4((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,o)=>B4.resolve(e).then((e=>r[o]={status:"fulfilled",value:e}),(e=>r[o]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),y4.any&&"undefined"!=typeof AggregateError&&h3(B4,"any",(function(){const e=L3.apply(null,arguments).map(i6);return new B4(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach(((e,a)=>B4.resolve(e).then((e=>t(e)),(e=>{o[a]=e,--r||n(new AggregateError(o))}))))}))})));const X4={awaits:0,echoes:0,id:0};var J4=0,Q4=[],e6=0,t6=0,n6=0;function r6(e,t,n,r){var o=T4,a=Object.create(o);a.parent=o,a.ref=0,a.global=!1,a.id=++n6;var i=A4.env;a.env=D4?{Promise:B4,PromiseProp:{value:B4,configurable:!0,writable:!0},all:B4.all,race:B4.race,allSettled:B4.allSettled,any:B4.any,resolve:B4.resolve,reject:B4.reject,nthen:h6(i.nthen,a),gthen:h6(i.gthen,a)}:{},t&&u3(a,t),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=f6(a,e,n,r);return 0===a.ref&&a.finalize(),s}function o6(){return X4.id||(X4.id=++J4),++X4.awaits,X4.echoes+=100,X4.id}function a6(){return!!X4.awaits&&(0==--X4.awaits&&(X4.id=0),X4.echoes=100*X4.awaits,!0)}function i6(e){return X4.echoes&&e&&e.constructor===y4?(o6(),e.then((e=>(a6(),e)),(e=>(a6(),v6(e))))):e}function s6(e){++t6,X4.echoes&&0!=--X4.echoes||(X4.echoes=X4.id=0),Q4.push(T4),c6(e,!0)}function u6(){var e=Q4[Q4.length-1];Q4.pop(),c6(e,!1)}function c6(e,t){var n=T4;if((t?!X4.echoes||e6++&&e===T4:!e6||--e6&&e===T4)||d6(t?s6.bind(null,e):u6),e!==T4&&(T4=e,n===A4&&(A4.env=l6()),D4)){var r=A4.env.Promise,o=e.env;v4.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(a3,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function l6(){var e=a3.Promise;return D4?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a3,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:v4.then,gthen:e.prototype.then}:{}}function f6(e,t,n,r,o){var a=T4;try{return c6(e,!0),t(n,r,o)}finally{c6(a,!1)}}function d6(e){b4.call(m4,e)}function p6(e,t,n,r){return"function"!=typeof e?e:function(){var o=T4;n&&o6(),c6(t,!0);try{return e.apply(this,arguments)}finally{c6(o,!1),r&&d6(a6)}}}function h6(e,t){return function(n,r){return e.call(this,p6(n,t),p6(r,t))}}function m6(e,t){var n;try{n=t.onuncatched(e)}catch(O9){}if(!1!==n)try{var r,o={promise:t,reason:e};if(a3.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),u3(r,o)):a3.CustomEvent&&u3(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&a3.dispatchEvent&&(dispatchEvent(r),!a3.PromiseRejectionEvent&&a3.onunhandledrejection))try{a3.onunhandledrejection(r)}catch(O9){}q3&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(O9){}}-1===(""+b4).indexOf("[native code]")&&(o6=a6=a4);var v6=B4.reject;function g6(e,t,n,r){if(e.idbdb&&(e._state.openComplete||T4.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===e4.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>g6(e,t,n,r)))):v6(o)}return o._promise(t,((e,t)=>r6((()=>(T4.trans=o,r(e,t,o)))))).then((e=>o._completion.then((()=>e))))}if(e._state.openComplete)return v6(new n4.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return v6(new n4.DatabaseClosed);e.open().catch(a4)}return e._state.dbReadyPromise.then((()=>g6(e,t,n,r)))}const b6=String.fromCharCode(65535),y6="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",D6=[],w6="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_6=w6,E6=w6,x6=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function k6(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const C6={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function S6(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=P3(t))[e],t)}function F6(){throw n4.Type()}class O6{_trans(e,t,n){const r=this._tx||T4.trans,o=this.name;function a(e,n,r){if(!r.schema[o])throw new n4.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}const i=W4();try{return r&&r.db===this.db?r===T4.trans?r._promise(e,a,n):r6((()=>r._promise(e,a,n)),{trans:r,transless:T4.transless||T4}):g6(this.db,e,[this.name],a)}finally{i&&K4()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(s3(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=i3(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==b6)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&q3&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function a(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[i,s]=t.reduce((([t,n],o)=>{const i=r[o],s=e[o];return[t||i,t||!i?k6(n,i&&i.multi?e=>{const t=x3(e,o);return s3(t)&&t.some((e=>a(s,e)))}:e=>a(s,x3(e,o))):n]}),[null,null]);return i?this.where(i.name).equals(e[i.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,s3(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){const{db:t,name:n}=this;this.schema.mappedClass=e,e.prototype instanceof F6&&(e=class extends e{get db(){return t}table(){return n}});const r=new Set;for(let a=e.prototype;a;a=c3(a))Object.getOwnPropertyNames(a).forEach((e=>r.add(e)));const o=t=>{if(!t)return t;const n=Object.create(e.prototype);for(let o in t)if(!r.has(o))try{n[o]=t[o]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),e}defineClass(){return this.mapToClass((function(e){u3(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=S6(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]}))).then((e=>e.numFailures?B4.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{k3(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||s3(e))return this.where(":id").equals(e).modify(t);{const n=x3(e,this.schema.primKey.keyPath);if(void 0===n)return v6(new n4.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?i3(t).forEach((n=>{k3(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=S6(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null}))).then((e=>e.numFailures?B4.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{k3(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?B4.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:C6}))).then((e=>e.numFailures?B4.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new n4.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new n4.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let s=a&&n?e.map(S6(a)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new Q3(`${this.name}.bulkAdd(): ${e} of ${i} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new n4.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new n4.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let s=a&&n?e.map(S6(a)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new Q3(`${this.name}.bulkPut(): ${e} of ${i} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new Q3(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function A6(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,a=new Array(o-1);--o;)a[o-1]=arguments[o];return t[n].subscribe.apply(null,a),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var r=1,o=arguments.length;r<o;++r)a(arguments[r]);return n;function a(e,r,o){if("object"==typeof e)return i(e);r||(r=d4),o||(o=a4);var a={subscribers:[],fire:o,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,o)}};return t[e]=n[e]=a,a}function i(e){i3(e).forEach((function(t){var n=e[t];if(s3(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new n4.InvalidArgument("Invalid event config");var r=a(t,i4,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){_3((function(){e.apply(null,t)}))}))}))}}))}}function T6(e,t){return m3(t).from({prototype:e}),t}function P6(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function j6(e,t){e.filter=k6(e.filter,t)}function M6(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>k6(r(),t()):t,e.justLimit=n&&!r}function B6(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new n4.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function N6(e,t,n){const r=B6(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function R6(e,t,n,r){const o=e.replayFilter?k6(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},i=(e,n,r)=>{if(!o||o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var i=n.primaryKey,s=""+i;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(i)),f3(a,s)||(a[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(i,n),I6(N6(e,r,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return I6(N6(e,r,n),k6(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function I6(e,t,n,r){var o=Z4(r?(e,t,o)=>n(r(e),t,o):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=a4}),(t=>{e.fail(t),n=a4}))||o(e.value,e,(e=>n=e)),n()}))}))}function L6(e,t){try{const n=z6(e),r=z6(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let a=0;a<o;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(q6(e),q6(t));case"Array":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let a=0;a<o;++a){const n=L6(e[a],t[a]);if(0!==n)return n}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function z6(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=B3(e);return"ArrayBuffer"===n?"binary":n}function q6(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class U6{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,v6.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,v6.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=k6(t.algorithm,e)}_iterate(e,t){return R6(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&u3(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>R6(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(P6(t,!0))return n.count({trans:e,query:{index:B6(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return R6(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],o=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var i="next"===this._ctx.dir?1:-1;function s(e,t){var n=a(e,o),r=a(t,o);return n<r?-i:n>r?i:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&P6(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=B6(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return R6(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,P6(t)?M6(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):M6(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),M6(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return j6(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return j6(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=k6(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&P6(t,!0)&&t.limit>0)return this._read((e=>{var n=B6(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return j6(this._ctx,(function(e){var t=e.primaryKey.toString(),r=f3(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var o=i3(e),a=o.length;r=function(t){for(var n=!1,r=0;r<a;++r){var i=o[r],s=e[i];x3(t,i)!==s&&(k3(t,i,s),n=!0)}return n}}const i=t.table.core,{outbound:s,extractKey:u}=i.schema.primaryKey,c=this.db._options.modifyChunkSize||200,l=[];let f=0;const d=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let o of i3(n))l.push(n[o])};return this.clone().primaryKeys().then((o=>{const a=l=>{const f=Math.min(c,o.length-l);return i.getMany({trans:n,keys:o.slice(l,l+f),cache:"immutable"}).then((d=>{const h=[],m=[],v=s?[]:null,g=[];for(let e=0;e<f;++e){const t=d[e],n={value:P3(t),primKey:o[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?g.push(o[l+e]):s||0===L6(u(t),u(n.value))?(m.push(n.value),s&&v.push(o[l+e])):(g.push(o[l+e]),h.push(n.value)))}const b=P6(t)&&t.limit===1/0&&("function"!=typeof e||e===V6)&&{index:t.index,range:t.range};return Promise.resolve(h.length>0&&i.mutate({trans:n,type:"add",values:h}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(h.length,e)}))).then((()=>(m.length>0||b&&"object"==typeof e)&&i.mutate({trans:n,type:"put",keys:v,values:m,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(g.length>0||b&&e===V6)&&i.mutate({trans:n,type:"delete",keys:g,criteria:b}).then((e=>p(g.length,e))))).then((()=>o.length>l+f&&a(l+c)))}))};return a(0).then((()=>{if(l.length>0)throw new J3("Error modifying one or more objects",l,f,d);return o.length}))}))}))}delete(){var e=this._ctx,t=e.range;return P6(e)&&(e.isPrimKey&&!E6||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((({failures:e,lastResult:n,results:r,numFailures:o})=>{if(o)throw new J3("Could not delete some values",Object.keys(e).map((t=>e[t])),t-o);return t-o}))))})):this.modify(V6)}}const V6=(e,t)=>t.value=null;function H6(e,t){return e<t?-1:e===t?0:1}function $6(e,t){return e>t?-1:e===t?0:1}function W6(e,t,n){var r=e instanceof J6?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function K6(e){return new e.Collection(e,(()=>X6(""))).limit(0)}function G6(e,t,n,r,o,a){for(var i=Math.min(e.length,r.length),s=-1,u=0;u<i;++u){var c=t[u];if(c!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],c)<0&&(s=u)}return i<r.length&&"next"===a?e+n.substr(e.length):i<e.length&&"prev"===a?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Y6(e,t,n,r){var o,a,i,s,u,c,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return W6(e,"String expected.");function d(e){o=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),a=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),i="next"===e?H6:$6;var t=n.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return i(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}d("next");var p=new e.Collection(e,(()=>Z6(s[0],u[f-1]+r)));p._ondirectionchange=function(e){d(e)};var h=0;return p._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var d=a(o);if(t(d,u,h))return!0;for(var p=null,m=h;m<f;++m){var v=G6(o,d,s[m],u[m],i,c);null===v&&null===p?h=m+1:(null===p||i(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+l)}:r),!1})),p}function Z6(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function X6(e){return{type:1,lower:e,upper:e}}class J6{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?K6(this):new this.Collection(this,(()=>Z6(e,t,!n,!r)))}catch(e){return W6(this,y6)}}equals(e){return null==e?W6(this,y6):new this.Collection(this,(()=>X6(e)))}above(e){return null==e?W6(this,y6):new this.Collection(this,(()=>Z6(e,void 0,!0)))}aboveOrEqual(e){return null==e?W6(this,y6):new this.Collection(this,(()=>Z6(e,void 0,!1)))}below(e){return null==e?W6(this,y6):new this.Collection(this,(()=>Z6(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?W6(this,y6):new this.Collection(this,(()=>Z6(void 0,e)))}startsWith(e){return"string"!=typeof e?W6(this,"String expected."):this.between(e,e+b6,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Y6(this,((e,t)=>0===e.indexOf(t[0])),[e],b6)}equalsIgnoreCase(e){return Y6(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=L3.apply(I3,arguments);return 0===e.length?K6(this):Y6(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=L3.apply(I3,arguments);return 0===e.length?K6(this):Y6(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,b6)}anyOf(){const e=L3.apply(I3,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return W6(this,y6)}if(0===e.length)return K6(this);const n=new this.Collection(this,(()=>Z6(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,o,a)=>{const i=n.key;for(;t(i,e[r])>0;)if(++r,r===e.length)return o(a),!1;return 0===t(i,e[r])||(o((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=L3.apply(I3,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return W6(this,y6)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,o=this._descending,a=this._min,i=this._max;if(0===e.length)return K6(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return W6(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",n4.InvalidArgument);const s=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let c,l=r;function f(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,o=e.length;for(;r<o;++r){const o=e[r];if(n(t[0],o[1])<0&&n(t[1],o[0])>0){o[0]=a(o[0],t[0]),o[1]=i(o[1],t[1]);break}}return r===o&&e.push(t),e}),[]),c.sort(f)}catch(e){return W6(this,y6)}let d=0;const p=u?e=>r(e,c[d][1])>0:e=>r(e,c[d][1])>=0,h=s?e=>o(e,c[d][0])>0:e=>o(e,c[d][0])>=0;let m=p;const v=new this.Collection(this,(()=>Z6(c[0][0],c[c.length-1][1],!s,!u)));return v._ondirectionchange=e=>{"next"===e?(m=p,l=r):(m=h,l=o),c.sort(f)},v._addAlgorithm(((e,t,n)=>{for(var o=e.key;m(o);)if(++d,d===c.length)return t(n),!1;return!!function(e){return!p(e)&&!h(e)}(o)||(0===this._cmp(o,c[d][1])||0===this._cmp(o,c[d][0])||t((()=>{l===r?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),v}startsWithAnyOf(){const e=L3.apply(I3,arguments);return e.every((e=>"string"==typeof e))?0===e.length?K6(this):this.inAnyRange(e.map((e=>[e,e+b6]))):W6(this,"startsWithAnyOf() only works with strings")}}function Q6(e){return Z4((function(t){return e8(t),e(t.target.error),!1}))}function e8(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const t8=A6(null,"storagemutated");class n8{_lock(){return w3(!T4.global),++this._reculock,1!==this._reculock||T4.global||(T4.lockOwnerFor=this),this}_unlock(){if(w3(!T4.global),0==--this._reculock)for(T4.global||(T4.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{f6(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&T4.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(w3(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new n4.DatabaseClosed(n);case"MissingAPIError":throw new n4.MissingAPI(n.message,n);default:throw new n4.OpenFailed(n)}if(!this.active)throw new n4.TransactionInactive;return w3(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Z4((t=>{e8(t),this._reject(e.error)})),e.onabort=Z4((t=>{e8(t),this.active&&this._reject(new n4.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Z4((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&t8.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return v6(new n4.ReadOnly("Transaction is readonly"));if(!this.active)return v6(new n4.TransactionInactive);if(this._locked())return new B4(((r,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,o)},T4])}));if(n)return r6((()=>{var e=new B4(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new B4(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=B4.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new B4(((e,r)=>{n.then((n=>t._waitingQueue.push(Z4(e.bind(null,n)))),(e=>t._waitingQueue.push(Z4(r.bind(null,e))))).finally((()=>{t._waitingFor===o&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new n4.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(f3(t,e))return t[e];const n=this.schema[e];if(!n)throw new n4.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function r8(e,t,n,r,o,a,i){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:a,src:(n&&!i?"&":"")+(r?"*":"")+(o?"++":"")+o8(t)}}function o8(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function a8(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:E3(n,(e=>[e.name,e]))}}let i8=e=>{try{return e.only([[]]),i8=()=>[[]],[[]]}catch(e){return i8=()=>b6,b6}};function s8(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>x3(t,e)}(e):t=>x3(t,e)}function u8(e){return[].slice.call(e)}let c8=0;function l8(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function f8({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},o){const a=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:o,upperOpen:a}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!a)}const{schema:o,hasGetAll:a}=function(e,t){const n=u8(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=s3(t),o=null==t,a={},i={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:s8(t)},indexes:u8(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:o}=e,i={name:t,compound:s3(o),keyPath:o,unique:n,multiEntry:r,extractKey:s8(o)};return a[l8(o)]=i,i})),getIndexByKeyPath:e=>a[l8(e)]};return a[":id"]=i.primaryKey,null!=t&&(a[l8(t)]=i.primaryKey),i}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:o,values:a,range:i}){return new Promise(((s,u)=>{s=Z4(s);const c=e.objectStore(t),l=null==c.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=o||a||{length:1};if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const h=[],m=[];let v=0;const g=e=>{++v,e8(e)};if("deleteRange"===n){if(4===i.type)return s({numFailures:v,failures:m,results:[],lastResult:void 0});3===i.type?h.push(p=c.clear()):h.push(p=c.delete(r(i)))}else{const[e,t]=f?l?[a,o]:[a,null]:[o,null];if(f)for(let r=0;r<d;++r)h.push(p=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),p.onerror=g;else for(let r=0;r<d;++r)h.push(p=c[n](e[r])),p.onerror=g}const b=e=>{const t=e.target.result;h.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),s({numFailures:v,failures:m,results:"delete"===n?o:h.map((e=>e.result)),lastResult:t})};p.onerror=e=>{g(e),b(e)},p.onsuccess=b}))},getMany:({trans:e,keys:n})=>new Promise(((r,o)=>{r=Z4(r);const a=e.objectStore(t),i=n.length,s=new Array(i);let u,c=0,l=0;const f=e=>{const t=e.target;s[t._pos]=t.result,++l===c&&r(s)},d=Q6(o);for(let e=0;e<i;++e)null!=n[e]&&(u=a.get(n[e]),u._pos=e,u.onsuccess=f,u.onerror=d,++c);0===c&&r(s)})),get:({trans:e,key:n})=>new Promise(((r,o)=>{r=Z4(r);const a=e.objectStore(t).get(n);a.onsuccess=e=>r(e.target.result),a.onerror=Q6(o)})),query:function(e){return n=>new Promise(((o,a)=>{o=Z4(o);const{trans:i,values:s,limit:u,query:c}=n,l=u===1/0?void 0:u,{index:f,range:d}=c,p=i.objectStore(t),h=f.isPrimaryKey?p:p.index(f.name),m=r(d);if(0===u)return o({result:[]});if(e){const e=s?h.getAll(m,l):h.getAllKeys(m,l);e.onsuccess=e=>o({result:e.target.result}),e.onerror=Q6(a)}else{let e=0;const t=s||!("openKeyCursor"in h)?h.openCursor(m):h.openKeyCursor(m),n=[];t.onsuccess=r=>{const a=t.result;return a?(n.push(s?a.value:a.primaryKey),++e===u?o({result:n}):void a.continue()):o({result:n})},t.onerror=Q6(a)}}))}(a),openCursor:function({trans:e,values:n,query:o,reverse:a,unique:i}){return new Promise(((s,u)=>{s=Z4(s);const{index:c,range:l}=o,f=e.objectStore(t),d=c.isPrimaryKey?f:f.index(c.name),p=a?i?"prevunique":"prev":i?"nextunique":"next",h=n||!("openKeyCursor"in d)?d.openCursor(r(l),p):d.openKeyCursor(r(l),p);h.onerror=Q6(u),h.onsuccess=Z4((t=>{const n=h.result;if(!n)return void s(null);n.___id=++c8,n.done=!1;const r=n.continue.bind(n);let o=n.continuePrimaryKey;o&&(o=o.bind(n));const a=n.advance.bind(n),i=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Z4(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Z4(e),h.onerror=Q6(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=i,e(t)}})),s=()=>{if(h.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return h.onsuccess=Z4((e=>{h.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=o,n.advance=a,s(),t},s(n)}),u)}))},count({query:e,trans:n}){const{index:o,range:a}=e;return new Promise(((e,i)=>{const s=n.objectStore(t),u=o.isPrimaryKey?s:s.index(o.name),c=r(a),l=c?u.count(c):u.count();l.onsuccess=Z4((t=>e(t.target.result))),l.onerror=Q6(i)}))}}}(e))),s={};return i.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:i8(t),schema:o}}(t,n,o),e.dbcore);return{dbcore:a}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function d8({_novip:e},t,n,r){n.forEach((n=>{const o=r[n];t.forEach((t=>{const r=g3(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h3(t,n,{get(){return this.table(n)},set(e){p3(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function p8({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function h8(e,t){return e._cfg.version-t._cfg.version}function m8(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],a=t[r];if(o){const e={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||o.primKey.auto!==a.primKey.auto&&!w6)e.recreate=!0,n.change.push(e);else{const t=o.idxByName,r=a.idxByName;let i;for(i in t)r[i]||e.del.push(i);for(i in r){const n=t[i],o=r[i];n?n.src!==o.src&&e.change.push(o):e.add.push(o)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,a])}return n}function v8(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>g8(o,e))),o}function g8(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function b8(e,t,n){const r={};return y3(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let o=t.keyPath;const a=r8(o8(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),i=[];for(let n=0;n<t.indexNames.length;++n){const e=t.index(t.indexNames[n]);o=e.keyPath;var s=r8(e.name,o,!!e.unique,!!e.multiEntry,!1,o&&"string"!=typeof o,!1);i.push(s)}r[e]=a8(e,a,i)})),r}function y8({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const a=r[o],i=n.objectStore(a);e._hasGetAll="getAll"in i;for(let e=0;e<i.indexNames.length;++e){const n=i.indexNames[e],r=i.index(n).keyPath,o="string"==typeof r?r:"["+y3(r).join("+")+"]";if(t[a]){const e=t[a].idxByName[o];e&&(e.name=n,delete t[a].idxByName[o],t[a].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a3.WorkerGlobalScope&&a3 instanceof a3.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class D8{_parseStoresSpec(e,t){i3(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return r8(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),s3(r),0===t)})),o=r.shift();if(o.multi)throw new n4.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new n4.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new n4.Schema("Index must have a name and cannot be an empty string")})),t[n]=a8(n,o,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?u3(this._cfg.storesSource,e):e;const n=t._versions,r={};let o={};return n.forEach((e=>{u3(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,p8(t,[t._allTables,t,t.Transaction.prototype]),d8(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i3(o),o),t._storeNames=i3(o),this}upgrade(e){return this._cfg.contentUpgrade=p4(this._cfg.contentUpgrade||a4,e),this}}function w8(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new V8("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function _8(e){return e&&"function"==typeof e.databases}function E8(e){return r6((function(){return T4.letThrough=!0,e()}))}function x8(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function k8(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?v6(t.dbOpenError):e));q3&&(t.openCanceller._stackHolder=$3()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new n4.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,i=null,s=!1;return B4.race([r,("undefined"==typeof navigator?B4.resolve():x8()).then((()=>new B4(((r,a)=>{if(o(),!n)throw new n4.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new n4.MissingAPI;c.onerror=Q6(a),c.onblocked=Z4(e._fireOnBlocked),c.onupgradeneeded=Z4((r=>{if(i=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=e8,i.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=Z4((()=>{a(new n4.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else{i.onerror=Q6(a);var o=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=o<1,e._novip.idbdb=c.result,function(e,t,n,r){const o=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);const i=a._reject.bind(a),s=T4.transless||T4;r6((()=>{T4.trans=a,T4.transless=s,0===t?(i3(o).forEach((e=>{v8(n,e,o[e].primKey,o[e].indexes)})),f8(e,n),B4.follow((()=>e.on.populate.fire(a))).catch(i)):function({_novip:e},t,n,r){const o=[],a=e._versions;let i=e._dbSchema=b8(0,e.idbdb,r),s=!1;return a.filter((e=>e._cfg.version>=t)).forEach((a=>{o.push((()=>{const o=i,u=a._cfg.dbschema;y8(e,o,r),y8(e,u,r),i=e._dbSchema=u;const c=m8(o,u);c.add.forEach((e=>{v8(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new n4.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>g8(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),g8(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=a._cfg.contentUpgrade;if(l&&a._cfg.version>t){f8(e,r),n._memoizedTables={},s=!0;let t=C3(u);c.del.forEach((e=>{t[e]=o[e]})),p8(e,[e.Transaction.prototype]),d8(e,[e.Transaction.prototype],i3(t),t),n.schema=t;const a=z3(l);let i;a&&o6();const f=B4.follow((()=>{if(i=l(n),i&&a){var e=a6.bind(null,null);i.then(e,e)}}));return i&&"function"==typeof i.then?B4.resolve(i):f.then((()=>i))}})),o.push((t=>{s&&_6||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(a._cfg.dbschema,t),p8(e,[e.Transaction.prototype]),d8(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?B4.resolve(o.shift()(n.idbtrans)).then(e):B4.resolve()}().then((()=>{var e,t;t=r,i3(e=i).forEach((n=>{t.db.objectStoreNames.contains(n)||v8(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(i)}))}(e,o/10,i,a)}}),a),c.onsuccess=Z4((()=>{i=null;const n=e._novip.idbdb=c.result,o=y3(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(a=o).length?a[0]:a,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=b8(0,t,n);e._storeNames=y3(t.objectStoreNames,0),d8(e,[e._allTables],i3(r),r)}(e,n,r):(y8(e,e._dbSchema,r),function(e,t){const n=m8(b8(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),f8(e,r)}catch(e){}var a;D6.push(e),n.onversionchange=Z4((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Z4((t=>{e.on("close").fire(t)})),s&&function({indexedDB:e,IDBKeyRange:t},n){!_8(e)&&"__dbnames"!==n&&w8(e,t).put({name:n}).catch(a4)}(e._deps,u),r()}),a)}))))]).then((()=>(o(),t.onReadyBeingFired=[],B4.resolve(E8((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(p4,a4);return t.onReadyBeingFired=[],B4.resolve(E8((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{i&&i.abort()}catch(e){}return r===t.openCanceller&&e._close(),v6(n)})).finally((()=>{t.openComplete=!0,a()}))}function C8(e){var t=t=>e.next(t),n=o(t),r=o((t=>e.throw(t)));function o(e){return t=>{var o=e(t),a=o.value;return o.done?a:a&&"function"==typeof a.then?a.then(n,r):s3(a)?Promise.all(a).then(n,r):n(a)}}return o(t)()}function S8(e,t,n){var r=arguments.length;if(r<2)throw new n4.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var a=F3(o);return[e,a,n]}function F8(e,t,n,r,o){return B4.resolve().then((()=>{const a=T4.transless||T4,i=e._createTransaction(t,n,e._dbSchema,r),s={trans:i,transless:a};if(r)i.idbtrans=r.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===e4.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>F8(e,t,n,null,o)))):v6(r)}const u=z3(o);let c;u&&o6();const l=B4.follow((()=>{if(c=o.call(i,i),c)if(u){var e=a6.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=C8(c))}),s);return(c&&"function"==typeof c.then?B4.resolve(c).then((e=>i.active?e:v6(new n4.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&i._resolve(),i._completion.then((()=>e))))).catch((e=>(i._reject(e),v6(e))))}))}function O8(e,t,n){const r=s3(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const A8={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},a=[];function i(e,t,n){const r=l8(e),s=o[r]=o[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,isVirtual:c,keyTail:t,keyLength:u,extractKey:s8(e),unique:!c&&n.unique};return s.push(l),l.isPrimaryKey||a.push(l),u>1&&i(2===u?e[0]:e.slice(0,u-1),t+1,n),s.sort(((e,t)=>e.keyTail-t.keyTail)),l}const s=i(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const e of r.indexes)i(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,o=n.keyTail,{type:1===r.type?2:r.type,lower:O8(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:O8(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}:t;var r,o}const c={...n,schema:{...r,primaryKey:s,indexes:a,getIndexByKeyPath:function(e){const t=o[l8(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:o,keyLength:a}=t.query.index;return o?n.openCursor(u(t)).then((n=>n&&function(n){const o=Object.create(n,{continue:{value:function(o){null!=o?n.continue(O8(o,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,o){n.continuePrimaryKey(O8(t,e.MAX_KEY,r),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:()=>n.value}});return o}(n))):n.openCursor(t)}};return c}}}};function T8(e,t,n,r){return n=n||{},r=r||"",i3(e).forEach((o=>{if(f3(t,o)){var a=e[o],i=t[o];if("object"==typeof a&&"object"==typeof i&&a&&i){const e=B3(a);e!==B3(i)?n[r+o]=t[o]:"Object"===e?T8(a,i,n,r+o+"."):a!==i&&(n[r+o]=t[o])}else a!==i&&(n[r+o]=t[o])}else n[r+o]=void 0})),i3(t).forEach((o=>{f3(e,o)||(n[r+o]=t[o])})),n}const P8={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,o={...n,mutate(e){const o=T4.trans,{deleting:a,creating:i,updating:s}=o.table(t).hook;switch(e.type){case"add":if(i.fire===a4)break;return o._promise("readwrite",(()=>u(e)),!0);case"put":if(i.fire===a4&&s.fire===a4)break;return o._promise("readwrite",(()=>u(e)),!0);case"delete":if(a.fire===a4)break;return o._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(a.fire===a4)break;return o._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=T4.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((u=>{const c=o.map(((n,o)=>{const c=u[o],l={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){const a=i.fire.call(l,n,e.values[o],t);null==n&&null!=a&&(n=a,e.keys[o]=n,r.outbound||k3(e.values[o],r.keyPath,n))}else{const r=T8(c,e.values[o]),a=s.fire.call(l,r,n,c,t);if(a){const t=e.values[o];Object.keys(a).forEach((e=>{f3(t,e)?t[e]=a[e]:k3(t,e,a[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:a})=>{for(let i=0;i<o.length;++i){const r=n?n[i]:o[i],a=c[i];null==r?a.onerror&&a.onerror(t[i]):a.onsuccess&&a.onsuccess("put"===e.type&&u[i]?e.values[i]:r)}return{failures:t,results:n,numFailures:r,lastResult:a}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},o)))))}}};return o}})};function j8(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let o=0,a=0;o<t.keys.length&&a<e.length;++o)0===L6(t.keys[o],e[a])&&(r.push(n?P3(t.values[o]):t.values[o]),++a);return r.length===e.length?r:null}catch(e){return null}}const M8={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=j8(e.keys,e.trans._cache,"clone"===e.cache);return t?B4.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?P3(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function B8(e){return!("from"in e)}const N8=function(e,t){if(!this){const t=new N8;return e&&"d"in e&&u3(t,e),t}u3(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function R8(e,t,n){const r=L6(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(B8(e))return u3(e,{from:t,to:n,d:1});const o=e.l,a=e.r;if(L6(n,e.from)<0)return o?R8(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},z8(e);if(L6(t,e.to)>0)return a?R8(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},z8(e);L6(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),L6(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const i=!e.r;o&&!e.l&&I8(e,o),a&&i&&I8(e,a)}function I8(e,t){B8(t)||function e(t,{from:n,to:r,l:o,r:a}){R8(t,n,r),o&&e(t,o),a&&e(t,a)}(e,t)}function L8(e){let t=B8(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&L6(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||L6(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function z8(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const t="r"===o?"l":"r",n={...e},r=e[o];e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],e[t]=n,n.d=q8(n)}e.d=q8(e)}function q8({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}d3(N8.prototype,{add(e){return I8(this,e),this},addKey(e){return R8(this,e,e),this},addKeys(e){return e.forEach((e=>R8(this,e,e))),this},[N3](){return L8(this)}});const U8={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new N8(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:a}=o,{primaryKey:i}=a,{extractKey:s,outbound:u}=i,c={...o,mutate:e=>{const i=e.trans,s=i.mutatedParts||(i.mutatedParts={}),u=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new N8)},c=u(""),l=u(":dels"),{type:f}=e;let[d,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const h=e.trans._cache;return o.mutate(e).then((e=>{if(s3(d)){"delete"!==f&&(d=e.results),c.addKeys(d);const t=j8(d,h);t||"add"===f||l.addKeys(d),(t||p)&&function(e,t,n,r){t.indexes.forEach((function(t){const o=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}const i=e=>t.multiEntry&&s3(e)?e.forEach((e=>o.addKey(e))):o.addKey(e);(n||r).forEach(((e,t)=>{const o=n&&a(n[t]),s=r&&a(r[t]);0!==L6(o,s)&&(null!=o&&i(o),null!=s&&i(s))}))}))}(u,a,t,p)}else if(d){const e={from:d.lower,to:d.upper};l.add(e),c.add(e)}else c.add(n),l.add(n),a.indexes.forEach((e=>u(e.name).add(n)));return e}))}},l=({query:{index:t,range:n}})=>{var r,o;return[t,new N8(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(o=n.upper)&&void 0!==o?o:e.MAX_KEY)]},f={get:e=>[i,new N8(e.key)],getMany:e=>[i,(new N8).addKeys(e.keys)],count:l,query:l,openCursor:l};return i3(f).forEach((e=>{c[e]=function(a){const{subscr:i}=T4;if(i){const c=e=>{const n=`idb://${t}/${r}/${e}`;return i[n]||(i[n]=new N8)},l=c(""),d=c(":dels"),[p,h]=f[e](a);if(c(p.name||"").add(h),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&u&&a.values&&o.query({...a,values:!1});return o[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&a.values)return t.then((({result:e})=>(l.addKeys(e),n)));const e=a.values?n.result.map(s):n.result;a.values?l.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=a.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}d.add(n)}}return o[e].apply(this,arguments)}})),c}}}};class V8{constructor(e,t){this._middlewares={},this.verno=0;const n=V8.dependencies;this._options=t={addons:V8.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:a4,dbReadyPromise:null,cancelOpen:a4,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new B4((e=>{o.dbReadyResolve=e})),o.openCanceller=new B4(((e,t)=>{o.cancelOpen=t})),this._state=o,this.name=e,this.on=A6(this,"populate","blocked","versionchange","close",{ready:[p4,a4]}),this.on.ready.subscribe=D3(this.on.ready.subscribe,(e=>(t,n)=>{V8.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||B4.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(a=this,T6(U6.prototype,(function(e,t){this.db=a;let n=C6,r=null;if(t)try{n=t()}catch(e){r=e}const o=e._ctx,i=o.table,s=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:s!==i4?s:null}}))),this.Table=function(e){return T6(O6.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:A6(null,{creating:[c4,a4],reading:[s4,i4],updating:[f4,a4],deleting:[l4,a4]})}))}(this),this.Transaction=function(e){return T6(n8.prototype,(function(t,n,r,o,a){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=A6(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B4(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),v6(e)}))}))}(this),this.Version=function(e){return T6(D8.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return T6(J6.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const o=e._deps.indexedDB;if(!o)throw new n4.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(e,t)=>o.cmp(t,e),this._max=(e,t)=>o.cmp(e,t)>0?e:t,this._min=(e,t)=>o.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=i8(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),D6.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(A8),this.use(P8),this.use(U8),this.use(M8),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new n4.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new n4.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(h8),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||T4.letThrough||this._vip)?e():new B4(((e,t)=>{if(this._state.openComplete)return t(new n4.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new n4.DatabaseClosed);this.open().catch(a4)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:null==n?10:n,name:r}),o.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return k8(this)}_close(){const e=this._state,t=D6.indexOf(this);if(t>=0&&D6.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new B4((t=>{e.dbReadyResolve=t})),e.openCanceller=new B4(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new n4.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new B4(((n,r)=>{const o=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Z4((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!_8(e)&&"__dbnames"!==n&&w8(e,t).delete(n).catch(a4)}(this._deps,this.name),n()})),e.onerror=Q6(r),e.onblocked=this._fireOnBlocked};if(e)throw new n4.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i3(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=S8.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=T4.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const o=-1!==e.indexOf("?");let a,i;e=e.replace("!","").replace("?","");try{if(i=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)a="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new n4.InvalidArgument("Invalid transaction mode: "+e);a="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===a){if(!o)throw new n4.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new n4.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):v6(e)}const s=F8.bind(null,this,a,i,r,n);return r?r._promise(a,s,"lock"):T4.trans?f6(T4.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!f3(this._allTables,e))throw new n4.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const H8="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class $8{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[H8](){return this}}function W8(e,t){return i3(t).forEach((n=>{I8(e[n]||(e[n]=new N8),t[n])})),e}let K8;try{K8={indexedDB:a3.indexedDB||a3.mozIndexedDB||a3.webkitIndexedDB||a3.msIndexedDB,IDBKeyRange:a3.IDBKeyRange||a3.webkitIDBKeyRange}}catch(O9){K8={indexedDB:null,IDBKeyRange:null}}const G8=V8;function Y8(e){let t=Z8;try{Z8=!0,t8.storagemutated.fire(e)}finally{Z8=t}}d3(G8,{...o4,delete:e=>new G8(e,{addons:[]}).delete(),exists:e=>new G8(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return _8(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):w8(e,t).toCollection().primaryKeys()}(G8.dependencies).then(e)}catch(e){return v6(new n4.MissingAPI)}},defineClass:()=>function(e){u3(this,e)},ignoreTransaction:e=>T4.trans?f6(T4.transless,e):e(),vip:E8,async:function(e){return function(){try{var t=C8(e.apply(this,arguments));return t&&"function"==typeof t.then?t:B4.resolve(t)}catch(e){return v6(e)}}},spawn:function(e,t,n){try{var r=C8(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:B4.resolve(r)}catch(e){return v6(e)}},currentTransaction:{get:()=>T4.trans||null},waitFor:function(e,t){const n=B4.resolve("function"==typeof e?G8.ignoreTransaction(e):e).timeout(t||6e4);return T4.trans?T4.trans.waitFor(n):n},Promise:B4,debug:{get:()=>q3,set:e=>{U3(e,"dexie"===e?()=>!0:x6)}},derive:m3,extend:u3,props:d3,override:D3,Events:A6,on:t8,liveQuery:function(e){return new $8((t=>{const n=z3(e);let r=!1,o={},a={};const i={get closed(){return r},unsubscribe:()=>{r=!0,t8.storagemutated.unsubscribe(l)}};t.start&&t.start(i);let s=!1,u=!1;function c(){return i3(a).some((e=>o[e]&&function(e,t){const n=L8(t);let r=n.next();if(r.done)return!1;let o=r.value;const a=L8(e);let i=a.next(o.from),s=i.value;for(;!r.done&&!i.done;){if(L6(s.from,o.to)<=0&&L6(s.to,o.from)>=0)return!0;L6(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(i=a.next(o.from)).value}return!1}(o[e],a[e])))}const l=e=>{W8(o,e),c()&&f()},f=()=>{if(s||r)return;o={};const d={},p=function(t){n&&o6();const r=()=>r6(e,{subscr:t,trans:null}),o=T4.trans?f6(T4.transless,r):r();return n&&o.then(a6,a6),o}(d);u||(t8("storagemutated",l),u=!0),s=!0,Promise.resolve(p).then((e=>{s=!1,r||(c()?f():(o={},a=d,t.next&&t.next(e)))}),(e=>{["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||(s=!1,t.error&&t.error(e),i.unsubscribe())}))};return f(),i}))},extendObservabilitySet:W8,getByKeyPath:x3,setByKeyPath:k3,delByKeyPath:function(e,t){"string"==typeof t?k3(e,t,void 0):"length"in t&&[].map.call(t,(function(t){k3(e,t,void 0)}))},shallowClone:C3,deepClone:P3,getObjectDiff:T8,cmp:L6,asap:_3,minKey:-1/0,addons:[],connections:D6,errnames:e4,dependencies:K8,semVer:"4.0.0-alpha.4",version:"4.0.0-alpha.4".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),G8.maxKey=i8(G8.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(t8("storagemutated",(e=>{if(!Z8){let t;w6?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Z8=!0,dispatchEvent(t),Z8=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Z8||Y8(e)})));let Z8=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");"function"==typeof e.unref&&e.unref(),t8("storagemutated",(t=>{Z8||e.postMessage(t)})),e.onmessage=e=>{e.data&&Y8(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){t8("storagemutated",(e=>{try{Z8||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Y8(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Y8(e.changedParts)}))}B4.rejectionMapper=function(e,t){if(!e||e instanceof Z3||e instanceof TypeError||e instanceof SyntaxError||!e.name||!r4[e.name])return e;var n=new r4[e.name](t||e.message,e);return"stack"in e&&h3(n,"stack",{get:function(){return this.inner.stack}}),n},U3(q3,x6);var X8={prepareQuery:function(e,t){if(!t.sort)throw Aa("SNH",{query:t});return{query:t,queryPlan:mc(e,t)}},checkpointSchema:{type:"object",properties:{id:{type:"string"},lwt:{type:"number"}},required:["id","lwt"],additionalProperties:!1}},J8="docs",Q8="deleted-docs",e5="dexie",t5=X8,n5=new Map,r5=new Map;function o5(){return(o5=ca(fa().mark((function e(t){var n,r,o;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:n=e.sent,r=r5.get(t),0===(o=r-1)?(n.dexieDb.close(),r5.delete(t)):r5.set(t,o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a5="__";function i5(e){var t=e.split(".");if(t.length>1)return t.map((function(e){return i5(e)})).join(".");if(e.startsWith("|")){var n=e.substring(1);return a5+n}return e}function s5(e){var t=e.split(".");return t.length>1?t.map((function(e){return s5(e)})).join("."):e.startsWith(a5)?"|"+e.substring(a5.length):e}function u5(e){if(!e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return u5(e)}));if("object"===Zo(e)){var t={};return Object.entries(e).forEach((function(e){var n=Yo(e,2),r=n[0],o=n[1];"object"===Zo(o)&&(o=u5(o)),t[i5(r)]=o})),t}}function c5(e){if(!e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return c5(e)}));if("object"===Zo(e)){var t={};return Object.entries(e).forEach((function(n){var r=Yo(n,2),o=r[0],a=r[1];("object"===Zo(a)||Array.isArray(e))&&(a=c5(a)),t[s5(o)]=a})),t}}function l5(e){var t=[],n=Bs(e.primaryKey);return t.push([n]),e.indexes&&e.indexes.forEach((function(e){var n=ma(e);t.push(n)})),t.push(["_meta.lwt",n]),(t=t.map((function(e){return e.map((function(e){return i5(e)}))}))).map((function(e){return 1===e.length?e[0]:"["+e.join("+")+"]"})).join(", ")}function f5(e,t){return d5.apply(this,arguments)}function d5(){return(d5=ca(fa().mark((function e(t,n){var r,o,a,i,s,u;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,e.next=5,Promise.all([r.dexieTable.bulkGet(n),r.dexieDeletedTable.bulkGet(n)]);case 5:return o=e.sent,a=Yo(o,2),i=a[0],s=a[1],u=s.slice(0),i.forEach((function(e,t){e&&(u[t]=e)})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p5(e){return e===hc?-1/0:e}function h5(e,t){if(!t){if("undefined"==typeof window)throw new Error("IDBKeyRange missing");t=window.IDBKeyRange}var n,r=e.startKeys.map(p5),o=e.endKeys.map(p5);if(1===e.index.length){var a=r[0]===o[0];n=t.bound(r[0],o[0],!a&&e.inclusiveStart,!a&&e.inclusiveEnd)}else n=t.bound(r,o,e.inclusiveStart,e.inclusiveEnd);return n}function m5(){return m5=ca(fa().mark((function e(t,n){var r,o,a,i,s,u,c,l,f,d,p;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.internals;case 2:return r=e.sent,o=n.query,a=o.skip?o.skip:0,i=o.limit?o.limit:1/0,s=a+i,u=n.queryPlan,c=!1,u.selectorSatisfiedByIndex||(c=Nf(t.schema,n.query)),l=h5(u,r.dexieDb._options.IDBKeyRange),f=u.index,d=[],e.next=15,r.dexieDb.transaction("r",r.dexieTable,function(){var e=ca(fa().mark((function e(n){var r,o,a,i,p;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.idbtrans,o=r.objectStore(J8),1===f.length&&f[0]===t.primaryPath?a=o:(i=1===f.length?i5(f[0]):"["+f.map((function(e){return i5(e)})).join("+")+"]",a=o.index(i)),p=a.openCursor(l),e.next=6,new Promise((function(e){p.onsuccess=function(t){var n=t.target.result;if(n){var r=c5(n.value);r._deleted||c&&!c(r)||d.push(r),u.sortFieldsSameAsIndexFields&&d.length===s?e():n.continue()}else e()}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:return u.sortFieldsSameAsIndexFields||(p=Bf(t.schema,n.query),d=d.sort(p)),d=d.slice(a,s),e.abrupt("return",{documents:d});case 18:case"end":return e.stop()}}),e)}))),m5.apply(this,arguments)}function v5(e,t){return g5.apply(this,arguments)}function g5(){return g5=ca(fa().mark((function e(t,n){var r,o,a,i,s;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.internals;case 2:return r=e.sent,o=n.queryPlan,a=o.index,i=h5(o,r.dexieDb._options.IDBKeyRange),s=-1,e.next=9,r.dexieDb.transaction("r",r.dexieTable,function(){var e=ca(fa().mark((function e(n){var r,o,u,c,l;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.idbtrans,o=r.objectStore(J8),1===a.length&&a[0]===t.primaryPath?u=o:(c=1===a.length?i5(a[0]):"["+a.map((function(e){return i5(e)})).join("+")+"]",u=o.index(c)),l=u.count(i),e.next=6,new Promise((function(e,t){l.onsuccess=function(){e(l.result)},l.onerror=function(e){return t(e)}}));case 6:s=e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),g5.apply(this,arguments)}var b5=Us(),y5=function(){function e(e,t,n,r,o,a,i){this.changes$=new ns,this.instanceId=b5++,this.closed=!1,this.storage=e,this.databaseName=t,this.collectionName=n,this.schema=r,this.internals=o,this.options=a,this.settings=i,this.primaryPath=Bs(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(){var e=ca(fa().mark((function e(t,n){var r,o,a,i,s,u,c=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w5(this),t.forEach((function(e){if(!e.document._rev||e.previous&&!e.previous._rev)throw Aa("SNH",{args:{row:e}})})),e.next=4,this.internals;case 4:return r=e.sent,o={success:{},error:{}},a=t.map((function(e){return e.document[c.primaryPath]})),e.next=9,r.dexieDb.transaction("rw",r.dexieTable,r.dexieDeletedTable,ca(fa().mark((function e(){var s,u,l,f,d;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Map,e.next=3,f5(c.internals,a);case 3:return e.sent.forEach((function(e){var t=e?c5(e):e;return t&&s.set(t[c.primaryPath],t),t})),i=iu(c,c.primaryPath,s,t,n),o.error=i.errors,u=[],l=[],f=[],d=[],i.bulkInsertDocs.forEach((function(e){var t=e.document[c.primaryPath];o.success[t]=e.document,u.push(e.document)})),i.bulkUpdateDocs.forEach((function(e){var t=e.document[c.primaryPath];if(o.success[t]=e.document,e.document._deleted&&e.previous&&!e.previous._deleted)l.push(t),f.push(e.document);else if(e.document._deleted&&e.previous&&e.previous._deleted)f.push(e.document);else{if(e.document._deleted)throw Aa("SNH",{args:{row:e}});u.push(e.document)}})),e.next=15,Promise.all([u.length>0?r.dexieTable.bulkPut(u.map((function(e){return u5(e)}))):_s,l.length>0?r.dexieTable.bulkDelete(l):_s,f.length>0?r.dexieDeletedTable.bulkPut(f.map((function(e){return u5(e)}))):_s,d.length>0?r.dexieDeletedTable.bulkDelete(d):_s]);case 15:case"end":return e.stop()}}),e)}))));case 9:return(i=us(i)).eventBulk.events.length>0&&(s=us(i.newestRow).document,i.eventBulk.checkpoint={id:s[this.primaryPath],lwt:s._meta.lwt},u=Us(),i.eventBulk.events.forEach((function(e){return e.endTime=u})),this.changes$.next(i.eventBulk)),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=ca(fa().mark((function e(t,n){var r,o,a=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w5(this),e.next=3,this.internals;case 3:return r=e.sent,o={},e.next=7,r.dexieDb.transaction("r",r.dexieTable,r.dexieDeletedTable,ca(fa().mark((function e(){var i;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,f5(a.internals,t);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,r.dexieTable.bulkGet(t);case 8:i=e.sent;case 9:t.forEach((function(e,t){var r=i[t];!r||r._deleted&&!n||(o[e]=c5(r))}));case 10:case"end":return e.stop()}}),e)}))));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.query=function(e){return w5(this),function(e,t){return m5.apply(this,arguments)}(this,e)},t.count=function(){var e=ca(fa().mark((function e(t){var n;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v5(this,t);case 2:return n=e.sent,e.abrupt("return",{count:n,mode:"fast"});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getChangedDocumentsSince=function(){var e=ca(fa().mark((function e(t,n){var r,o,a,i,s,u,c,l,f,d=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w5(this),r=n?n.lwt:1,o=n?n.id:"",e.next=5,this.internals;case 5:return a=e.sent,e.next=8,Promise.all([a.dexieTable,a.dexieDeletedTable].map(function(){var e=ca(fa().mark((function e(n){var a,i;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.where("[_meta.lwt+"+d.primaryPath+"]").above([r,o]).limit(t),e.next=3,a.toArray();case 3:return i=e.sent,e.abrupt("return",i.map((function(e){return c5(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return i=e.sent,s=Yo(i,2),u=s[0],c=s[1],ya(l=u.slice(0),c),p=this.primaryPath,l=l.sort(function(e){return function(t,n){return t._meta.lwt===n._meta.lwt?n[e]<t[e]?1:-1:t._meta.lwt-n._meta.lwt}}(p)),l=l.slice(0,t),f=ha(l),e.abrupt("return",{documents:l,checkpoint:f?{id:f[this.primaryPath],lwt:f._meta.lwt}:n||{id:"",lwt:0}});case 18:case"end":return e.stop()}var p}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.remove=function(){var e=ca(fa().mark((function e(){var t;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w5(this),e.next=3,this.internals;case 3:return t=e.sent,e.next=6,Promise.all([t.dexieDeletedTable.clear(),t.dexieTable.clear()]);case 6:return e.abrupt("return",this.close());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.changeStream=function(){return w5(this),this.changes$.asObservable()},t.cleanup=function(){var e=ca(fa().mark((function e(t){var n,r=this;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w5(this),e.next=3,this.internals;case 3:return n=e.sent,e.next=6,n.dexieDb.transaction("rw",n.dexieDeletedTable,ca(fa().mark((function e(){var o,a,i;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Us()-t,e.next=3,n.dexieDeletedTable.where("_meta.lwt").below(o).toArray();case 3:return a=e.sent,i=a.map((function(e){return e[r.primaryPath]})),e.next=7,n.dexieDeletedTable.bulkDelete(i);case 7:case"end":return e.stop()}}),e)}))));case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getAttachmentData=function(e,t,n){throw w5(this),new Error("Attachments are not implemented in the dexie RxStorage. Make a pull request.")},t.close=function(){return w5(this),this.closed=!0,this.changes$.complete(),function(e){o5.apply(this,arguments)}(this.internals),_s},t.conflictResultionTasks=function(){return new ns},t.resolveConflictResultionTask=function(){var e=ca(fa().mark((function e(t){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}();function D5(e,t,n){var r=function(e,t,n,r){var o=Bs(r.primaryKey),a="rxdb-dexie-"+e+"--"+r.version+"--"+t,i=hu(n5,a,(function(){var e=ca(fa().mark((function e(){var t,i,s,u;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=ra(n)).autoOpen=!1,s=new V8(a,i),Os(t={},J8,l5(r)),Os(t,"changes","++sequence, id"),Os(t,Q8,o+",_meta.lwt,[_meta.lwt+"+o+"]"),u=t,s.version(1).stores(u),e.next=7,s.open();case 7:return e.abrupt("return",{dexieDb:s,dexieTable:s.docs,dexieDeletedTable:s["deleted-docs"]});case 8:case"end":return e.stop()}}),e)})))();return n5.set(a,i),r5.set(i,0),e}));return i}(t.databaseName,t.collectionName,n,t.schema),o=new y5(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return eh(e5,t,o),Promise.resolve(o)}function w5(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var _5=function(){function e(e){this.name=e5,this.statics=t5,this.settings=e}return e.prototype.createStorageInstance=function(e){return du(e),function(e){if(e.indexes){var t=new Set;e.indexes.forEach((function(n){ma(n).forEach((function(r){if(!t.has(r)&&(t.add(r),"boolean"===js(e,r).type))throw Aa("DXE1",{schema:e,index:n,field:r})}))}))}}(e.schema),D5(this,e,this.settings)},e}();function E5(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new _5(e);return t}__webpack_require__(66528);function x5(e,t){var n=t.map((function(t){var n=js(e,t);if(!n)throw new Error("not in schema: "+t);var r,o=n.type;"number"!==o&&"integer"!==o||(r=C5(n));var a,i=ta(t),s=n.maxLength?n.maxLength:0;return a="string"===o?function(e){var t=i(e);return t||(t=""),t.padEnd(s," ")}:"boolean"===o?function(e){return i(e)?"1":"0"}:function(e){var t=i(e);return S5(r,t)},{fieldName:t,schemaPart:n,parsedLengths:r,getValue:i,getIndexStringPart:a}}));return n}function k5(e,t){var n=x5(e,t),r=n.length,o=n.map((function(e){return e.getIndexStringPart}));return function(e){for(var t="",n=0;n<r;++n)t+=o[n](e);return t}}function C5(e){var t=Math.floor(e.minimum),n=Math.ceil(e.maximum),r=e.multipleOf,o=(n-t).toString().length,a=r.toString().split("."),i=0;return a.length>1&&(i=a[1].length),{minimum:t,maximum:n,nonDecimals:o,decimals:i,roundedMinimum:t}}function S5(e,t){void 0===t&&(t=0),t<e.minimum&&(t=e.minimum),t>e.maximum&&(t=e.maximum);var n=(Math.floor(t)-e.roundedMinimum).toString().padStart(e.nonDecimals,"0");if(e.decimals>0){var r=t.toString().split(".");n+=(r.length>1?r[1]:"0").padEnd(e.decimals,"0")}return n}function F5(e,t,n,r){var o="";return t.forEach((function(t,a){var i=js(e,t),s=n[a],u=i.type;switch(u){case"string":var c=us(i.maxLength);o+="string"==typeof s?s.padEnd(c," "):"".padEnd(c," ");break;case"boolean":if(null===s)o+=r?"0":pc;else o+=s?"1":"0";break;case"number":case"integer":var l=C5(i);if(null===s||s===hc)o+=(r?"0":pc).repeat(l.nonDecimals+l.decimals);else o+=S5(l,s);break;default:throw new Error("unknown index type "+u)}})),o}function O5(e,t,n,r,o){for(var a=o+1;r<=o;){var i=r+o>>>1,s=e[i];(void 0!==n?n(s,t):s-t)>=0?(a=i,o=i-1):r=i+1}return a}function A5(e,t,n,r,o){for(var a=o+1;r<=o;){var i=r+o>>>1,s=e[i];(void 0!==n?n(s,t):s-t)>0?(a=i,o=i-1):r=i+1}return a}function T5(e,t,n,r,o){for(var a=r-1;r<=o;){var i=r+o>>>1,s=e[i];(void 0!==n?n(s,t):s-t)<=0?(a=i,r=i+1):o=i-1}return a}function P5(e,t,n,r,o){for(;r<=o;){var a=r+o>>>1,i=e[a],s=void 0!==n?n(i,t):i-t;if(0===s)return a;s<=0?r=a+1:o=a-1}return-1}function j5(e,t,n,r,o,a){return"function"==typeof n?a(e,t,n,void 0===r?0:0|r,void 0===o?e.length-1:0|o):a(e,t,void 0,void 0===n?0:0|n,void 0===r?e.length-1:0|r)}function M5(e,t,n,r,o){return j5(e,t,n,r,o,A5)}function B5(e,t,n,r,o){return j5(e,t,n,r,o,P5)}function N5(e,t,n,r){var o,a=e.length,i=a-1,s=0;if(0===a)return e.push(t),0;for(;r<=i;)n(o=e[s=r+(i-r>>1)],t)<=0?r=s+1:i=s-1;return n(o,t)<=0&&s++,e.splice(s,0,t),s}function R5(e,t,n){return[e,t,n].join("--memory--")}function I5(e){if(e.internals.removed)throw new Error("removed")}function L5(e,t){return e+"||"+t}function z5(e,t){return e.indexString<t.indexString?-1:1}function q5(e,t,n,r,o){t.documents.set(e,r.document);for(var a=0;a<n.length;++a){var i=n[a],s=i.docsWithIndex,u=i.getIndexableString(r.document),c=N5(s,{id:e,doc:r.document,indexString:u},z5,0);if(o){var l=i.getIndexableString(o);if(l===u){var f=s[c-1];if(f&&f.id===e)s.splice(c-1,1);else{if(s[c+1].id!==e)throw Aa("SNH",{args:{row:r,byIndex:i}});s.splice(c+1,1)}}else{var d=B5(s,{indexString:l},V5);s.splice(d,1)}}}}function U5(e,t,n,r){var o=r[e];n.documents.delete(o),Object.values(n.byIndex).forEach((function(e){var t=e.docsWithIndex,n=B5(t,{indexString:e.getIndexableString(r)},V5);t.splice(n,1)}))}function V5(e,t){return e.indexString<t.indexString?-1:e.indexString===t.indexString?0:1}function H5(e){return e.join(",")}var $5=function(){function e(e,t,n,r,o,a,i){this.closed=!1,this.storage=e,this.databaseName=t,this.collectionName=n,this.schema=r,this.internals=o,this.options=a,this.settings=i,this.primaryPath=Bs(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(e,t){I5(this);var n=this.primaryPath,r={success:{},error:{}},o=iu(this,n,this.internals.documents,e,t);r.error=o.errors;for(var a=Object.values(this.internals.byIndex),i=o.bulkInsertDocs,s=0;s<i.length;++s){var u=i[s],c=u.document[n];q5(c,this.internals,a,u,void 0),r.success[c]=u.document}for(var l=o.bulkUpdateDocs,f=0;f<l.length;++f){var d=l[f],p=d.document[n];q5(p,this.internals,a,d,this.internals.documents.get(p)),r.success[p]=d.document}if(this.schema.attachments){var h=this.internals.attachments;o.attachmentsAdd.forEach((function(e){h.set(L5(e.documentId,e.attachmentId),{writeData:e.attachmentData,digest:e.digest})})),this.schema.attachments&&(o.attachmentsUpdate.forEach((function(e){h.set(L5(e.documentId,e.attachmentId),{writeData:e.attachmentData,digest:e.digest})})),o.attachmentsRemove.forEach((function(e){h.delete(L5(e.documentId,e.attachmentId))})))}if(o.eventBulk.events.length>0){var m=us(o.newestRow).document;o.eventBulk.checkpoint={id:m[n],lwt:m._meta.lwt},this.internals.changes$.next(o.eventBulk)}return Promise.resolve(r)},t.findDocumentsById=function(e,t){for(var n={},r=0;r<e.length;++r){var o=e[r],a=this.internals.documents.get(o);!a||a._deleted&&!t||(n[o]=a)}return Promise.resolve(n)},t.query=function(e){var t=e.queryPlan,n=e.query,r=n.skip?n.skip:0,o=r+(n.limit?n.limit:1/0),a=!1;t.selectorSatisfiedByIndex||(a=Nf(this.schema,e.query));var i=t.index,s=!t.sortFieldsSameAsIndexFields,u=["_deleted"].concat(i),c=t.startKeys;c=[!1].concat(c);var l=F5(this.schema,u,c,t.inclusiveStart),f=t.endKeys;f=[!1].concat(f);for(var d=function(e,t,n,r){var o="";return t.forEach((function(t,a){var i=js(e,t),s=n[a],u=i.type;switch(u){case"string":var c=us(i.maxLength);o+="string"==typeof s?s.padEnd(c,r?pc:" "):"".padEnd(c,r?pc:" ");break;case"boolean":o+=null===s?r?"0":"1":s?"1":"0";break;case"number":case"integer":var l=C5(i);o+=null===s||s===pc?(r?"9":"0").repeat(l.nonDecimals+l.decimals):S5(l,s);break;default:throw new Error("unknown index type "+u)}})),o}(this.schema,u,f,t.inclusiveEnd),p=H5(u),h=this.internals.byIndex[p].docsWithIndex,m=function(e,t,n,r,o){return j5(e,t,n,r,o,O5)}(h,{indexString:l},V5),v=function(e,t,n,r,o){return j5(e,t,n,r,o,T5)}(h,{indexString:d},V5),g=[],b=!1;!b;){var y=h[m];if(!y||m>v)break;a&&!a(y.doc)||g.push(y.doc),(g.length>=o&&!s||m>=h.length)&&(b=!0),m++}if(s){var D=Bf(this.schema,e.query);g=g.sort(D)}return g=g.slice(r,o),Promise.resolve({documents:g})},t.count=function(){var e=ca(fa().mark((function e(t){var n;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(t);case 2:return n=e.sent,e.abrupt("return",{count:n.documents.length,mode:"fast"});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getChangedDocumentsSince=function(e,t){for(var n=t?t.lwt:1,r=t?t.id:"",o=H5(["_meta.lwt",this.primaryPath]),a=F5(this.schema,["_meta.lwt",this.primaryPath],[n,r],!1),i=this.internals.byIndex[o].docsWithIndex,s=M5(i,{indexString:a},V5),u=[];u.length<e&&s<i.length;){var c=i[s];u.push(c.doc),s++}var l=ha(u);return Promise.resolve({documents:u,checkpoint:l?{id:l[this.primaryPath],lwt:l._meta.lwt}:t||{id:"",lwt:0}})},t.cleanup=function(e){for(var t=Us()-e,n=["_deleted","_meta.lwt",this.primaryPath],r=H5(n),o=this.internals.byIndex[r].docsWithIndex,a=M5(o,{indexString:F5(this.schema,n,[!0,0,""],!1)},V5),i=!1;!i;){var s=o[a];!s||s.doc._meta.lwt>t?i=!0:(U5(this.primaryPath,this.schema,this.internals,s.doc),a++)}return ys},t.getAttachmentData=function(e,t,n){I5(this);var r=pu(this.internals.attachments,L5(e,t));if(!n||r.digest!==n)throw new Error("attachment does not exist");return Promise.resolve(r.writeData.data)},t.changeStream=function(){return I5(this),this.internals.changes$.asObservable()},t.remove=function(){var e=ca(fa().mark((function e(){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I5(this),this.internals.removed=!0,this.storage.collectionStates.delete(R5(this.databaseName,this.collectionName,this.schema.version)),e.next=5,this.close();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.close=function(){return this.closed?Promise.reject(new Error("already closed")):(this.closed=!0,this.internals.refCount=this.internals.refCount-1,_s)},t.conflictResultionTasks=function(){return this.internals.conflictResultionTasks$.asObservable()},t.resolveConflictResultionTask=function(e){return _s},e}();function W5(e,t,n){var r=R5(t.databaseName,t.collectionName,t.schema.version),o=e.collectionStates.get(r);o?o.refCount=o.refCount+1:(function(e,t){var n=Bs(t.primaryKey),r=t.indexes?t.indexes.map((function(e){return ma(e)})):[];r.push([n]),r.push(["_meta.lwt",n]),r.forEach((function(n){n.unshift("_deleted"),e.byIndex[H5(n)]={index:n,docsWithIndex:[],getIndexableString:k5(t,n)}}));var o=["_meta.lwt",n],a=H5(o);e.byIndex[a]={index:o,docsWithIndex:[],getIndexableString:k5(t,o)}}(o={removed:!1,refCount:1,documents:new Map,attachments:t.schema.attachments?new Map:void 0,byIndex:{},conflictResultionTasks$:new ns,changes$:new ns},t.schema),e.collectionStates.set(r,o));var a=new $5(e,t.databaseName,t.collectionName,t.schema,o,t.options,n);return Promise.resolve(a)}var K5=new Map;function G5(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={name:"memory",statics:X8,collectionStates:K5,createStorageInstance:function(t){return du(t),W5(this,t,Object.assign({},e,t.options))}};return t}Yd(tp),Yd(sh),Yd(Hb);var Y5={users:new Map,online:new Map,threads:new Map,messages:new Map,statuses:new Map,threadsList:void 0},Z5="bettermessages",X5={threads:{schema:{title:"Threads",version:2,primaryKey:{key:"id",fields:["thread_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:20},thread_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},isDeleted:{type:"number",minimum:0,maximum:1,multipleOf:1},isHidden:{type:"number",minimum:0,maximum:1,multipleOf:1},isPinned:{type:"number",minimum:0,maximum:1,multipleOf:1},unread:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},participantsCount:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},type:{type:"string",maxLength:20},lastTime:{type:"string",maxLength:20}},indexes:["thread_id","unread","participantsCount",["isDeleted","isHidden"],["isPinned","lastTime"]]},migrationStrategies:{1:function(e){return e},2:function(e){return e.isPinned=0,e}}},messages:{schema:{title:"Messages",version:0,primaryKey:{key:"id",fields:["thread_id","message_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:100},message_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},thread_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},sender_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},favorited:{type:"number",minimum:0,maximum:1,multipleOf:1},date_sent:{type:"string",maxLength:20},tmpId:{type:"string",maxLength:50}},indexes:["message_id","thread_id","sender_id","favorited"]}},users:{schema:{title:"Users",version:0,primaryKey:{key:"id",fields:["user_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:20},user_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},name:{type:"string",maxLength:255},isFriend:{type:"integer",minimum:0,maximum:1,multipleOf:1},lastActive:{type:"string",maxLength:20}},indexes:["user_id","name","isFriend","lastActive"]}},groups:{schema:{title:"Groups",version:0,primaryKey:{key:"id",fields:["group_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:20},group_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},name:{type:"string",maxLength:255}},indexes:["name"]}},statuses:{schema:{title:"Statuses",version:0,primaryKey:{key:"id",fields:["message_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:20},message_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},status:{type:"string",maxLength:10}},indexes:["status"]}},settings:{schema:{title:"Settings",version:0,primaryKey:"key",type:"object",properties:{key:{type:"string",maxLength:20}},indexes:[]}},mini_chats:{schema:{title:"MiniChats",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:20},thread_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1},user_id:{type:"number",minimum:0,maximum:Number.POSITIVE_INFINITY,multipleOf:1}},indexes:["thread_id","user_id"]}}},J5=null,Q5=new ku(!1);function e7(){return new Promise(function(){var e=n(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,!0,!Ko()){e.next=6;break}r=!1,e.next=12;break;case 6:if(!navigator.storage||!navigator.storage.estimate){e.next=12;break}return e.next=9,navigator.storage.estimate();case 9:a=e.sent,a.quota-a.usage<1e6&&(!1,r=!1);case 12:if(!r){e.next=28;break}return e.prev=13,e.next=16,t7();case 16:(J5=e.sent).addCollections(X5).then((function(){Q5.next(!0),t(!0)})).catch(function(){var e=n(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(r),e.prev=1,e.next=4,J5.remove();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.next=10,t7();case 10:(J5=e.sent).addCollections(X5).then((function(){Q5.next(!0),t(!0)})).catch(function(){var e=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(n),e.next=3,r7();case 3:t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(13),console.error(e.t0),e.next=25,r7();case 25:t(!0);case 26:e.next=31;break;case 28:return e.next=30,r7();case 30:t(!0);case 31:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}())}function t7(){return n7.apply(this,arguments)}function n7(){return(n7=n(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E5(),e.next=3,Ud({name:Z5,storage:t,eventReduce:!0});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r7(){return o7.apply(this,arguments)}function o7(){return(o7=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.warn("Better Messages using fallback storage, this means its not possible to use browser persistent storage for some reason"),o3(!0),!(t=Q5.getValue())){e.next=7;break}return Q5.next(!1),e.next=7,J5.destroy();case 7:return e.next=9,Ud({name:"bettermessagesram",storage:G5()});case 9:return J5=e.sent,e.next=12,J5.addCollections(X5);case 12:if(!t){e.next=15;break}return e.next=15,SP();case 15:Q5.next(!0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("unhandledrejection",(function(e){try{if(e.reason){if(console.log(e.reason),e.reason.name&&"NotFoundError"===e.reason.name.trim())if(Q5.getValue())return s7();if(e.reason.message&&"QuotaExceededError"===e.reason.message.trim())return r7()}}catch(O9){}}));var a7,i7=!1;function s7(){return u7.apply(this,arguments)}function u7(){return(u7=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i7){e.next=2;break}return e.abrupt("return");case 2:return i7=!0,Q5.next(!1),CP(!1),e.next=7,J5.remove();case 7:return e.next=9,e7();case 9:return e.next=11,SP(!0);case 11:return i7=!1,e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c7(){return Q5.getValue()}function l7(){return f7.apply(this,arguments)}function f7(){return(f7=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s7();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d7=!1;function p7(e){(a7=Oo().create(e)).interceptors.request.use((function(e){if(e.baseURL.includes("rest_route=")){var t=e.url.replace(/\?/g,"&");t+="&nocache="+(new Date).getTime(),e.url=t}else{var n=e.url;n.includes("?")?n+="&nocache="+(new Date).getTime():n+="?nocache="+(new Date).getTime(),e.url=n}return e}),(function(e){return Promise.reject(e)})),a7.interceptors.response.use(void 0,function(){var e=n(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,t.message,r=t.response,n&&r){e.next=3;break}return e.abrupt("return",Oo()(n));case 3:if(!r.data||"rest_cookie_invalid_nonce"!==r.data.code){e.next=30;break}if(d7){e.next=27;break}return d7=!0,setTimeout((function(){d7=!1}),36e5),e.prev=7,e.next=10,N7();case 10:if(a=e.sent,Number(w7.user_id)!==Number(a.user_id)){e.next=17;break}n.headers["X-WP-Nonce"]=a.nonce,w7.nonce=a.nonce,p7({baseURL:w7.restUrl,headers:{"X-WP-Nonce":w7.nonce,"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),e.next=19;break;case 17:return w7.user_id=0,e.abrupt("return",Promise.reject(t));case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(7),w7.user_id=0,e.abrupt("return",Promise.reject(t));case 25:e.next=28;break;case 27:w7.user_id=0;case 28:e.next=31;break;case 30:return e.abrupt("return",Promise.reject(t));case 31:return e.abrupt("return",Oo()(n));case 32:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(t){return e.apply(this,arguments)}}())}var h7=new Set;function m7(e){return v7.apply(this,arguments)}function v7(){return v7=n(o().mark((function e(t){var n,r,a,i,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:null,!h7.has(t)){e.next=3;break}return e.abrupt("return");case 3:if(!1===jP.has(t)){e.next=10;break}return e.next=7,HP(t);case 7:if(!((r=e.sent)&&r.permissions&&r.permissions.canReply)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.prev=10,a=[],h7.add(t),e.prev=13,e.next=16,HC(t);case 16:a=e.sent,e.next=21;break;case 19:e.prev=19,e.t0=e.catch(13);case 21:return e.next=23,a7.post("thread/"+t,{messages:a});case 23:return i=e.sent,e.next=26,Promise.all([oj(i.data.threads,!1),ES(i.data.users),eS(i.data.messages)]);case 26:return i.data.deleted_messages&&i.data.deleted_messages.map((function(e){GC(e)})),jP.add(t),MP.next(t),AC()&&(s=i.data.threads.shift()).chatRoom&&!s.chatRoom.isJoined&&s.chatRoom.autoJoin&&s.chatRoom.guestAllowed&&t0(s.chatRoom.id),e.abrupt("return",!0);case 33:e.prev=33,e.t1=e.catch(10),Yy(e.t1),g7(e.t1,t,n);case 37:return e.prev=37,h7.delete(t),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[10,33,37,40],[13,19]])}))),v7.apply(this,arguments)}function g7(e,t){return b7.apply(this,arguments)}function b7(){return b7=n(o().mark((function e(t,n){var r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:null,!t.response){e.next=8;break}if(!t.response.status){e.next=8;break}if(403!==t.response.status){e.next=8;break}return"rest_thread_forbidden"!==t.response.data.code&&"rest_thread_not_exists"!==t.response.data.code||J5.threads.findOne({selector:{thread_id:n}}).remove().catch(zC),null!==r&&r("/"),e.next=8,gP(n);case 8:case"end":return e.stop()}}),e)}))),b7.apply(this,arguments)}var y7=__webpack_require__(38421),D7="yyyy-MM-dd HH:mm:ss",w7={};_.setIdleDuration(10),_.setThrottleDuration(100);window.jQuery.noConflict();var _7=Ho()&&w7.mobileFullScreen,E7=window.wp.i18n,x7=E7.__,k7=(E7._n,E7._nx),C7=E7._x,S7=E7.sprintf,F7=window.wp.hooks,O7=(F7.addAction,F7.addFilter,F7.removeAction,F7.removeFilter,F7.applyFilters),A7=F7.doAction,T7="en-us",P7=T7;void 0!==window.Better_Messages?P7=window.Better_Messages.locale:"undefined"!=typeof Better_Messages&&(P7=Better_Messages.locale);try{Intl.DateTimeFormat(P7)}catch(O9){console.warn("Invalid time format provided");try{P7=document.documentElement.lang}catch(O9){console.warn("Document missing lang attribute"),P7=T7}}function j7(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===e)return!1;if(void 0!==e.me){var n=Object.keys(e.me);for(var r in n){var o=n[r];try{e.me[o]=I7(e.me[o])}catch(O9){}}}if(e.user_id&&(e.user_id=Number(e.user_id)),wY()(e,(function(t,n,r){if("total_unread"!==n)if("userStatuses"===n){var o=[];X_()(t,(function(e,t){e.slug=t,o.push(e)})),e[n]=o}else"1"===t?e[n]=!0:"0"===t&&(e[n]=!1)})),t||w7.restUrl!==e.restUrl||w7.nonce!==e.nonce){var a={"X-WP-Nonce":e.nonce,"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"};e.guestAuth&&(a["BM-Guest-ID"]=e.guestAuth.id,a["BM-Guest-Secret"]=e.guestAuth.secret),p7({baseURL:e.restUrl,headers:a})}var i=!1;(t||w7.user_id!==e.user_id)&&(i=!0),w7=e,_7=Ho()&&w7.mobileFullScreen,F0(),i&&s1()}jt.defaultLocale=P7,document.addEventListener("better-messages-update-setting",(function(e){try{var t=e.detail.key,n=e.detail.value;window.Better_Messages[t]=n,j7(window.Better_Messages),$b(document,"better-message-settings-changed")}catch(O9){console.error(O9)}}));var M7=!1,B7=null;function N7(){return R7.apply(this,arguments)}function R7(){return R7=n(o().mark((function e(){var t,n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,!B7){e.next=4;break}return e.abrupt("return",B7);case 4:if(!M7&&!t){e.next=8;break}return e.next=7,S2(50);case 7:return e.abrupt("return",N7(!0));case 8:return M7=!0,e.next=11,Oo().request({method:"get",url:w7.ajaxUrl,params:{action:"better_messages_new_nonce_token",nocache:(new Date).getTime()},withCredentials:!0});case 11:return n=e.sent,B7=n.data,e.abrupt("return",n.data);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return e.prev=19,M7=!1,setTimeout((function(){B7=null}),1e3),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[1,16,19,23]])}))),R7.apply(this,arguments)}function I7(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function L7(){return a.createElement("div",{className:"chat-footer"},w7.newThread&&a.createElement(kC,{content:C7("Start a new conversation","Mini Widgets","bp-better-messages")},a.createElement("span",{className:"new-message",onClick:function(){nP()}},a.createElement(nQ,{className:"bm-svg"}))),a.createElement(r2,null))}function z7(e){var t=k(mj(),2),n=t[0];t[1];return a.createElement(a.Fragment,null," ",n&&a.createElement(q7,{root:e.root})," ")}function q7(e){var t=k(mj(),2),n=(t[0],t[1]),r=IA("miniChatsTab",!1),o=LP();(0,a.useEffect)((function(){r?e.root.classList.add("bm-opened"):e.root.classList.remove("bm-opened")}),[r]);var i=[];return w7.miniMessages&&i.push(a.createElement("div",{key:"mini-messages",onClick:function(){NA("miniChatsTab","messages"!==r&&"messages")},className:"messages-tab "+("messages"===r?"active":"")},o>0&&a.createElement("span",{className:"unread-count"},o),0===o&&a.createElement(RT,null),C7("Messages","Mini Widgets - Head","bp-better-messages"))),w7.friends&&w7.miniFriends&&i.push(a.createElement("div",{key:"mini-friends",onClick:function(){NA("miniChatsTab","friends"!==r&&"friends")},className:"friends"===r?"active":""},a.createElement(Jj,null)," ",C7("Friends","Mini Widgets - Head","bp-better-messages"))),w7.groups&&w7.miniGroups&&i.push(a.createElement("div",{key:"mini-groups",onClick:function(){NA("miniChatsTab","groups"!==r&&"groups")},className:"groups"===r?"active":""},a.createElement(o2,null)," ",C7("Groups","Mini Widgets - Head","bp-better-messages"))),0===i.length?null:a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return n(!1),c7()?setTimeout((function(){return n(!0)}),500):l7().then((function(){n(!0)})),null}},a.createElement("div",{className:"tabs"},a.createElement(a.Fragment,null,i.map((function(e){return e})),w7.miniClose&&a.createElement("div",{"data-tab":"bpbm-close",onClick:function(){NA("miniChatsTab",!1)},style:{display:r?"inline-flex":"none"}},a.createElement(jQ,null)))),a.createElement("div",{className:"tabs-content"},a.createElement("div",{className:"messages "+("messages"===r?"active":"")},a.createElement(R1,{emptyType:"no_messages",inRouter:!1})),"friends"===r&&a.createElement("div",{className:"friends active"},a.createElement(W1,{inRouter:!1})),"groups"===r&&a.createElement("div",{className:"friends active"},a.createElement(f2,{inRouter:!1}))),r&&a.createElement(L7,null))}function U7(e){return KS({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M3 3H9V5H6.46173L11.3047 9.84298L9.8905 11.2572L5 6.3667V9H3V3Z",fill:"currentColor"}},{tag:"path",attr:{d:"M3 21H9V19H6.3764L11.3046 14.0718L9.89038 12.6576L5 17.548V15H3V21Z",fill:"currentColor"}},{tag:"path",attr:{d:"M15 21H21V15H19V17.5244L14.1332 12.6576L12.719 14.0718L17.6472 19H15V21Z",fill:"currentColor"}},{tag:"path",attr:{d:"M21 3H15V5H17.5619L12.7189 9.84301L14.1331 11.2572L19 6.39032V9H21V3Z",fill:"currentColor"}}]})(e)}function V7(){var e=(0,a.useContext)(gj).thread,t=(0,a.useContext)(W7),n=t.open,r=t.chatId,o=(0,a.useRef)(),i=(0,a.useRef)();(0,a.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]);var s=rE(e.thread_id),u=DS(e),c=function(){if(o.current&&i.current){var e=o.current.closest(".head"),t=0;return Array.from(e.children).map((function(e){e!==o.current&&(t+=e.getBoundingClientRect().width)})),t}},l={},f=c();f&&(l.maxWidth="calc(100% - "+f+"px)");var d=Ij({id:"mini-chat-head-"+r}),p=d.show,h=d.hideAll,m=HQ(e,u,!0).filter((function(e){return!0===e.showInThread}));return a.createElement("div",{className:"head"},!!e.unread&&a.createElement("span",{className:"unread-count count-"+e.unread},e.unread),a.createElement("div",{ref:o,style:l,className:"thread-info"+(e?" thread-info-loaded":"")+(n?"":" thread-info-hover-disabled"),onClick:function(t){e&&(n?document.querySelector("#mini-chat-head-"+r)?h():p({event:t}):mP(r))}},!e&&a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"relative",width:"100px",height:"30px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))),e&&a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,"thread"===e.type&&2===e.participantsCount&&a.createElement(a.Fragment,null,a.createElement(zS,{key:"avatar_"+e.participants[0],user_id:e.participants[0],link:!1,size:30}),a.createElement("div",{className:"thread-info-data"},a.createElement("div",{className:"name bm-name"},a.createElement(hF,{user_id:e.participants[0],raw:!0})),n&&a.createElement(ZQ,{typing:s,thread:e})),n&&a.createElement(jQ,{className:"thread-info-arrow-down"})),"thread"===e.type&&e.participantsCount>=3&&a.createElement(a.Fragment,null,a.createElement("div",{className:"avatar-group avatars-count-"+e.participants.length},e.participants.slice(0,4).map((function(e){return a.createElement(zS,{link:!1,key:"avatar_"+e,user_id:e,size:15})}))),a.createElement("div",{className:"thread-info-data",style:l},""!==e.subject&&a.createElement(a.Fragment,null,a.createElement("div",{className:"name"},a.createElement("strong",null,e.subject))),""===e.subject&&a.createElement(a.Fragment,null,a.createElement(hF,{user_id:e.participants[0]})),n&&a.createElement(ZQ,{typing:s,thread:e})),n&&a.createElement(jQ,{className:"thread-info-arrow-down"})),"group"===e.type&&a.createElement(a.Fragment,null,a.createElement("span",{className:"avatar bbpm-avatar"},a.createElement(kC,{content:S7(C7("Go to <strong>%s</strong>","Links tooltip","bp-better-messages"),e.title)},a.createElement("a",{href:e.url},a.createElement("img",{src:e.image,className:"avatar avatar-30 photo",width:"30",height:"30",alt:e.title})))),a.createElement("div",{className:"thread-info-data",style:l},a.createElement("div",{className:"name"},a.createElement(kC,{content:S7(C7("Go to <strong>%s</strong>","Links tooltip","bp-better-messages"),e.title)},a.createElement("a",{href:e.url},e.title))),n&&a.createElement(ZQ,{typing:s,thread:e})),n&&a.createElement(jQ,{className:"thread-info-arrow-down"})),"chat-room"===e.type&&a.createElement(a.Fragment,null,a.createElement("div",{className:"avatar-group"},e.participants.slice(0,4).map((function(e){return a.createElement(zS,{key:"avatar_"+e,link:!1,user_id:e,size:15})}))),a.createElement("div",{className:"thread-info-data",style:l},a.createElement("div",{className:"name"},e.title),n&&a.createElement(ZQ,{typing:s,thread:e})),n&&a.createElement(jQ,{className:"thread-info-arrow-down"}))))),e&&(0,kE.createPortal)(a.createElement($j,{style:{zIndex:"1000"},animation:!1,id:"mini-chat-head-"+r},a.createElement(Wj,{onClick:function(){location.href=w7.threadUrl+e.thread_id+"?&scrollToContainer"}},a.createElement(U7,null),a.createElement("span",{style:{marginLeft:"5px"}},C7("Open in Messages","Mini Chat","bp-better-messages"))),m.map((function(e){return a.createElement(Wj,{key:e.key,onClick:e.onClick,onAuxClick:e.onAuxClick},e.icon,a.createElement("span",{style:{marginLeft:"5px"}},e.label))})),a.createElement("span",{id:"mini-chat-head-"+r,style:{display:"none"}})),document.querySelector("body")),a.createElement("div",{ref:i,className:"controls"},!e&&a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null))),e&&a.createElement(a.Fragment,null,n&&a.createElement(a.Fragment,null,e&&"thread"===e.type&&2===e.participantsCount&&a.createElement(a.Fragment,null,!!w7.miniVideo&&e.permissions&&e.permissions.canVideoCall&&a.createElement(kC,{content:C7("Start a video call","Mini Chats","bp-better-messages")},a.createElement("span",{onClick:function(){h0(e.thread_id,"video")},className:"video-call"},a.createElement(oT,null))),!!w7.miniAudio&&e.permissions&&e.permissions.canAudioCall&&a.createElement(kC,{content:C7("Start a voice call","Mini Chats","bp-better-messages")},a.createElement("span",{onClick:function(){h0(e.thread_id,"audio")},className:"audio-call"},a.createElement(rT,null)))),a.createElement(kC,{content:C7("Minimize","Mini Chats","bp-better-messages")},a.createElement("span",{onClick:function(){!function(e){hP.apply(this,arguments)}(r)},className:"minimize"},a.createElement(xT,null))),a.createElement(kC,{content:C7("Close","Mini Chats","bp-better-messages")},a.createElement("span",{className:"close",onClick:function(){dP(r)}},a.createElement(dT,null)))),!n&&a.createElement(a.Fragment,null,a.createElement(kC,{content:C7("Open","Mini Chats","bp-better-messages")},a.createElement("span",{onClick:function(){mP(r)},className:"maximize"},a.createElement(MQ,null))),a.createElement(kC,{content:C7("Close","Mini Chats","bp-better-messages")},a.createElement("span",{className:"close",onClick:function(){dP(r)}},a.createElement(dT,null)))))))}function H7(e){return a.createElement(vq.div,{className:"chat"+(e.open?" open":"")},a.createElement("div",{className:"head"},a.createElement("div",{className:"thread-info"},a.createElement("div",{style:{position:"relative",width:"100px",height:"30px",borderRadius:"4px",overflow:"hidden"}},a.createElement(aE,null)))),a.createElement("div",{className:"chat-content"},a.createElement("div",{className:"bm-messages-list",style:{padding:"0 10px"}},a.createElement(LZ,{opacity:.5}))))}var $7=__webpack_require__(74255),W7=a.createContext({chatId:null,open:null});function K7(e){var t=e.threadId,r=!1;String(t).startsWith("loading_")?r=!0:t=Number(t);var i=a.createRef(),s=k((0,a.useState)(null),2),u=s[0],c=s[1];(0,a.useEffect)((function(){c(i.current)}),[i]);var l=a.createRef(),f=k((0,a.useState)(null),2),d=f[0],p=f[1],h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=e.open,b=(0,a.useRef)(),y=k((0,a.useState)(!1),2),D=y[0],w=y[1];(0,a.useEffect)((function(){var t=document.querySelector(".bp-better-messages-mini");return t.addEventListener("better-messages-highlight-chat-"+e.chatId,_),function(){t.removeEventListener("better-messages-highlight-chat-"+e.chatId,_),I2.delete("mini-chat-"+e.chatId)}}),[]),(0,a.useEffect)((function(){p(l.current)}),[l]),(0,a.useEffect)((function(){g&&!r?I2.set("mini-chat-"+e.chatId,t):I2.delete("mini-chat-"+e.chatId)}),[g]),(0,a.useEffect)((function(){if(!r){var e=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m7(t,null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),f1.add(t),v1()}}),[t,r]);var _=function(){window.clearTimeout(b.current),w(!0),b.current=window.setTimeout((function(){w(!1)}),500)},E=UP(t);if(r&&(E=null),!E||r)return a.createElement(H7,{open:g});var x=O7("better_messages_messages_list_before","",E);return a.createElement(gj.Provider,{value:{threadId:t,thread:E,reply:d,insideRouter:!1,screen:null,setScreen:null,call:null,action:m,setAction:v,chatMain:u}},a.createElement(W7.Provider,{value:{chatId:e.chatId,open:g}},a.createElement($7.x_,{className:"chat"+(g?" open":""),h:5,v:0,r:0,dur:300,int:10,max:100,active:D,fixed:!0,fixedStop:!1,freez:!0},a.createElement(a.Fragment,null,a.createElement(V7,null),a.createElement("div",{className:"chat-content",ref:i},E.threadInfo&&a.createElement("div",{className:"bm-thread-info"},Gb(E.threadInfo)),""!==x&&Gb(x),a.createElement(LJ,{threadId:t,thread:E}),a.createElement(AY,{ref:l}))))))}function G7(e){var t=k(mj(),2),n=t[0];t[1];return a.createElement(a.Fragment,null," ",n&&a.createElement(X7,null)," ")}var Y7=a.createContext({}),Z7=!1;function X7(e){var t,n,r,o=(0,a.createRef)(),i=(0,a.useRef)([]),s=pJ(),u=(t=k((0,a.useState)(void 0),2),n=t[0],r=t[1],(0,a.useEffect)((function(){if(w7.miniSync){var e=J5.mini_chats.find().$.subscribe((function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),r(t)}));return function(){e.unsubscribe()}}r(Array.from(QT.values())),eP.subscribe((function(){r(Array.from(QT.values()))}))}),[]),n);(0,a.useEffect)((function(){return i.current=u,window.addEventListener("resize",f),document.addEventListener("better-messages-main-screen-change",l),function(){window.removeEventListener("resize",f),document.removeEventListener("better-messages-main-screen-change",l)}}),[u]),(0,a.useEffect)((function(){u&&(Z7||(u.map((function(e){"string"==typeof e.thread_id&&String(e.thread_id).startsWith("loading_")&&dP(e.id)})),Z7=!0),f())}),[u]);var c=k(mj(),1)[0],l=function(){s()},f=function(){if(i.current&&i.current.length>1){var e=document.querySelector(".bp-better-messages-list"),t=document.querySelector(".bp-better-messages-mini"),n=0;e&&(n+=e.getBoundingClientRect().width),t&&(n+=t.getBoundingClientRect().width),n>window.innerWidth&&dP(i.current.shift().id)}};return u?a.createElement(Y7.Provider,{value:{}},c&&a.createElement("div",{ref:o,className:"chats"},a.createElement(a.Fragment,null,u.map((function(e){return I2.get("mainScreen")===e.thread_id?null:0===Number(e.thread_id)?a.createElement(BZ,{key:"chat_"+e.id,chatId:e.id,threadId:0}):a.createElement(K7,{key:"chat_"+e.id,chatId:e.id,open:e.open,threadId:e.thread_id})}))))):a.createElement(a.Fragment,null)}var J7=a.createContext(null);function Q7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q7(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function t9(e){e=e9(e9({},{mobileApp:!1,forceMobile:!1}),e);var t=k((0,a.useState)(null),2),n=t[0],r=t[1],o=k((0,a.useState)(null),2),i=o[0],s=o[1],u=k((0,a.useState)(!1),2),c=u[0],l=u[1],f=k((0,a.useState)(e.forceMobile),2),d=f[0],p=f[1],h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)("messages"),2),b=g[0],y=g[1],D=k(mj(),2),w=D[0],_=D[1],E=Number(e.root.dataset.threadId),x=Number(e.root.dataset.chatId),C=a.createRef();(0,a.useEffect)((function(){return I2.set("chat-"+x,E),function(){I2.delete("chat-"+x)}}),[]);var S=k((0,a.useState)(),2),F=S[0],O=S[1];(0,a.useEffect)((function(){s(C.current)}),[C]);var A=k((0,a.useState)(w7.minHeight+"px"),2),T=A[0],P=A[1],j=function(){if(C.current){var e=_7&&Ho()&&d,t=c0(C.current,c,e).height;P(t);var n=C.current.closest(".bp-messages-chat-wrap");n&&(n.style.height=null)}};(0,a.useLayoutEffect)((function(){j()})),(0,a.useEffect)((function(){var t=document.createElement("div");t.classList.add("bm-placeholder-anchor"),t.style.display="none",e.root.parentNode.insertBefore(t,e.root),O(t)}),[]),(0,a.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[i]),(0,a.useEffect)((function(){_7&&(d?(document.body.appendChild(e.root),e.root.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),j(),_2()):(F&&F.parentNode.insertBefore(e.root,F),e.root.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),j()))}),[d]),(0,a.useEffect)((function(){c?(document.body.appendChild(e.root),document.querySelector("body").classList.add("bp-messages-full-screen"),j(),_2()):(F&&F.parentNode.insertBefore(e.root,F),document.querySelector("body").classList.remove("bp-messages-full-screen"),j())}),[c]);var M="bp-messages-wrap";return _7&&(M+=" mobile-ready"),d&&(M+=" bp-messages-mobile"),c&&(M+=" bp-messages-full-screen"),m&&(M+=" bpbm-call-view"),a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return _(!1),c7()?setTimeout((function(){return _(!0)}),500):l7().then((function(){_(!0)})),null}},w&&a.createElement(Dw.Provider,{value:{reactRoot:e.reactRoot,root:e.root,header:n,setHeader:r,wrapper:i,setWrapper:s,isMaximized:c,setIsMaximized:l,useRouter:!1,callActive:m,setCallActive:v,mobileView:d,setMobileView:p,sideTab:b,setSideTab:y,sideThreads:!1}},a.createElement(J7.Provider,{value:x},a.createElement("div",{className:M,ref:C,style:{height:T}},a.createElement("div",{className:"bp-messages-threads-wrapper threads-hidden",style:{display:"block",height:T}},a.createElement("div",{className:"bp-messages-column"},a.createElement(u0,{threadId:E,initialAnimation:!1}),a.createElement(l0,{height:T,setMobileView:p})))))),!w&&a.createElement(a.Fragment,null,Gb(e.placeholder)))}function n9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o9(e){e=r9(r9({},{mobileApp:!1,forceMobile:!1}),e);var t=k((0,a.useState)(null),2),n=t[0],r=t[1],o=k((0,a.useState)(null),2),i=o[0],s=o[1],u=k((0,a.useState)(!1),2),c=u[0],l=u[1],f=k((0,a.useState)(e.forceMobile),2),d=f[0],p=f[1],h=k((0,a.useState)(!1),2),m=h[0],v=h[1],g=k((0,a.useState)("messages"),2),b=g[0],y=g[1],D=k(mj(),2),w=D[0],_=D[1],E=Number(e.root.dataset.threadId),x=(0,a.createRef)(),C=k((0,a.useState)(),2),S=C[0],F=C[1];(0,a.useEffect)((function(){return I2.set("group-chat-"+E,E),function(){I2.delete("group-chat-"+E)}}),[]),(0,a.useEffect)((function(){s(x.current)}),[x]);var O=k((0,a.useState)(w7.minHeight+"px"),2),A=O[0],T=O[1],P=function(){if(x.current){var e=_7&&Ho()&&d,t=c0(x.current,c,e),n=(t.hideSideThreads,t.height);T(n);var r=x.current.closest(".bp-messages-wrap-group");r&&(r.style.height=null)}};(0,a.useLayoutEffect)((function(){P()})),(0,a.useEffect)((function(){var t=document.createElement("div");t.classList.add("bm-placeholder-anchor"),t.style.display="none",e.root.parentNode.insertBefore(t,e.root),F(t)}),[]),(0,a.useEffect)((function(){return window.addEventListener("resize",P),function(){window.removeEventListener("resize",P)}}),[i]),(0,a.useEffect)((function(){_7&&(d?(document.body.appendChild(e.root),e.root.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),P(),_2()):(S&&S.parentNode.insertBefore(e.root,S),e.root.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),P()))}),[d]),(0,a.useEffect)((function(){c?(document.body.appendChild(e.root),document.querySelector("body").classList.add("bp-messages-full-screen"),P(),_2()):(S&&S.parentNode.insertBefore(e.root,S),document.querySelector("body").classList.remove("bp-messages-full-screen"),P())}),[c]);var j="bp-messages-wrap";return _7&&(j+=" mobile-ready"),d&&(j+=" bp-messages-mobile"),c&&(j+=" bp-messages-full-screen"),m&&(j+=" bpbm-call-view"),a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return _(!1),c7()?setTimeout((function(){return _(!0)}),500):l7().then((function(){_(!0)})),null}},w&&a.createElement(Dw.Provider,{value:{reactRoot:e.reactRoot,root:e.root,header:n,setHeader:r,wrapper:i,setWrapper:s,isMaximized:c,setIsMaximized:l,useRouter:!1,callActive:m,setCallActive:v,mobileView:d,setMobileView:p,sideTab:b,setSideTab:y,sideThreads:!1}},a.createElement("div",{className:j,ref:x,style:{height:A}},a.createElement("div",{className:"bp-messages-threads-wrapper threads-hidden",style:{display:"block",height:A}},a.createElement("div",{className:"bp-messages-column"},a.createElement(u0,{threadId:E,initialAnimation:!1}),a.createElement(l0,{height:A,setMobileView:p}))))),!w&&a.createElement(a.Fragment,null,Gb(e.placeholder)))}function a9(){var e=k(mj(),2),t=e[0],n=e[1];return a.createElement(vj.ErrorBoundary,{FallbackComponent:function(){return n(!1),c7()?setTimeout((function(){return n(!0)}),500):l7().then((function(){n(!0)})),null}},t&&a.createElement(R1,{inRouter:!1,emptyType:"no_messages"}))}function i9(){return s9.apply(this,arguments)}function s9(){return(s9=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u9=__webpack_require__(76405);function c9(e){return l9.apply(this,arguments)}function l9(){return(l9=n(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a7.post("getUniqueConversation",{key:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.ResizeObserver||(0,u9.N9)(),function(){d9.apply(this,arguments)}();var f9=!1;function d9(){return(d9=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e7();case 2:if(!AC()){e.next=7;break}return e.next=5,QQ(!1);case 5:(t=e.sent)&&(window.Better_Messages.guestAuth=t);case 7:return j7(window.Better_Messages),f9=!0,m9(),Qy(),e.next=13,SP();case 13:i9();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",m9),void 0!==window.jQuery&&window.jQuery(document).on("bp-better-messages-init-scrollers",m9);var p9=!1,h9=!1;function m9(){if(f9)if(document.body){if(Ho()&&(document.body.classList.add("bm-mobile-device"),Uo.name.includes("Android")&&document.body.classList.add("bm-mobile-device-android"),$o()&&document.body.classList.add("bm-mobile-device-ios"),n=!1,(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(n=!0),n&&document.body.classList.add("bm-mobile-device-pwa")),Ko()&&document.body.classList.add("bm-mobile-device-ios-old"),!p9){var e=document.createElement("div");e.className="bm-toasts-container",document.body.appendChild(e),s.s(e).render(a.createElement(Py,null)),p9=!0}if(!h9){var t=document.createElement("div");t.id="better-messages-modals-container",document.body.appendChild(t),s.s(t).render(a.createElement(bJ,null)),h9=!0}var n,r=document.querySelectorAll(".bp-messages-wrap-main");r&&r.forEach((function(e){if(!e.classList.contains("bm-initialized")){e.classList.add("bm-initialized");var t=s.s(e);t.render(a.createElement(D2,{reactRoot:t,root:e,placeholder:e.innerHTML}))}}));var o=document.querySelectorAll(".bp-messages-wrap-group");o&&o.forEach((function(e){if(!e.classList.contains("bm-initialized")){e.classList.add("bm-initialized");var t=s.s(e);t.render(a.createElement(o9,{reactRoot:t,root:e,placeholder:e.innerHTML}))}}));var i=document.querySelectorAll(".bp-messages-chat-wrap");i&&i.forEach((function(e){if(!e.classList.contains("bm-initialized")){e.classList.add("bm-initialized");var t=s.s(e);t.render(a.createElement(t9,{reactRoot:t,root:e,placeholder:e.innerHTML}))}}));var u=document.querySelectorAll(".bp-messages-single-thread-wrap");u&&u.forEach((function(e){if(!e.classList.contains("bm-initialized")){e.classList.add("bm-initialized");var t=s.s(e);t.render(a.createElement(p0,{reactRoot:t,root:e,placeholder:e.innerHTML}))}}));var c=document.querySelectorAll(".bp-messages-wrap.bm-threads-list");c&&c.forEach((function(e){e.classList.contains("bm-initialized")||(e.classList.add("bm-initialized"),s.s(e).render(a.createElement(a9,null)))}));var l=document.querySelector(".bp-messages-wrap.bp-better-messages-list");if(l)if(!l.classList.contains("bm-initialized")&&"none"!==window.getComputedStyle(l).display)l.classList.add("bm-initialized"),s.s(l).render(a.createElement(z7,{root:l}));if(w7.miniChats){var f=document.querySelector(".bp-messages-wrap.bp-better-messages-mini");if(f)if(!f.classList.contains("bm-initialized"))f.classList.add("bm-initialized"),s.s(f).render(a.createElement(G7,null))}var d=document.querySelector("#bp-better-messages-mini-mobile-open");d&&(d.classList.contains("bm-initialized")||(d.classList.add("bm-initialized"),d.querySelector(".bp-better-messages-mini-mobile-open-icon").innerHTML='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"></path></svg>',d.addEventListener("click",(function(){E2()}))))}else window.setTimeout(m9,50)}function v9(){return g9.apply(this,arguments)}function g9(){return(g9=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nP();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b9(){}function y9(e){return D9.apply(this,arguments)}function D9(){return(D9=n(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!AC()){e.next=4;break}return e.next=4,QQ(!0);case 4:return e.next=6,c9(t);case 6:if(!(n=e.sent)){e.next=11;break}return e.next=10,aM(n);case 10:AC()||E9(n.thread_id);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w9(){return _9.apply(this,arguments)}function _9(){return(_9=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VP.next(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E9(e){return x9.apply(this,arguments)}function x9(){return x9=n(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,oP(Number(t),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),x9.apply(this,arguments)}function k9(e){return C9.apply(this,arguments)}function C9(){return(C9=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gP(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S9(e){return F9.apply(this,arguments)}function F9(){return(F9=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k2(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})(),__webpack_exports__})()));
(function($){"use strict";var playerIds=[];var isSeeked=!1;var percentage=0;$(document.body).on('player_timeupdate',function(e){var player=e.detail.player;var setup=$.parseJSON(player.getAttribute('data-setup'));var settings=setup.jplugins.mycred_watch_video;var playerId=player.id_;var postId=player.tagAttributes['data-parent-post-id'];var currentTime=Math.ceil(player.currentTime(),0);var totalTime=Math.ceil(player.duration(),0);var percentage=Math.ceil(currentTime*100/totalTime);player.on('seeked',function(e){isSeeked=!0});$.each(settings,function(i){var hookInstance=settings[i];if(isSeeked==!0&&hookInstance.prevent_seeking){percentage=0}
if(percentage>=parseInt(hookInstance.percentage)&&jQuery.inArray(playerId+'_'+hookInstance.ctype,playerIds)===-1){playerIds.push(playerId+'_'+hookInstance.ctype);$.post(streamtube.ajaxUrl,{action:'streamtube/mycred/hook/watch_video',player_id:playerId,post_id:postId,total_time:totalTime,current_time:currentTime,_wpnonce:hookInstance._wpnonce,ctype:hookInstance.ctype},function(response){percentage=0;isSeeked=!1;if(response.success==!0&&hookInstance.success_message&&!hookInstance.is_embed){$.showToast(response.data.message,'success',5000,settings.success_icon)}
if(response.success==!1&&hookInstance.warning_message&&!hookInstance.is_embed){$.showToast(response.data[0].message,'danger',5000)}
$(document.body).trigger('streamtube_mycred_points_sent',[postId,player,response,playerId,playerIds,hookInstance])});$(document.body).trigger('streamtube_mycred_watch_video',[postId,player,playerId,hookInstance])}})})})(jQuery);
